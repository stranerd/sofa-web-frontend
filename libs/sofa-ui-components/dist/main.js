/*! For license information please see main.js.LICENSE.txt */
(()=>{var e={9888:e=>{window,e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i(i.s=6)}([function(e,t,i){var n=i(1);"string"==typeof n&&(n=[[e.i,n,""]]);i(3)(n,{hmr:!0,transform:void 0,insertInto:void 0}),n.locals&&(e.exports=n.locals)},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".cdx-checklist {\n    gap: 6px;\n    display: flex;\n    flex-direction: column;\n}\n\n    .cdx-checklist__item {\n        display: flex;\n        box-sizing: content-box;\n        align-items: flex-start;\n    }\n\n    .cdx-checklist__item-text {\n            outline: none;\n            flex-grow: 1;\n            line-height: 1.57em;\n        }\n\n    .cdx-checklist__item-checkbox {\n            width: 22px;\n            height: 22px;\n            display: flex;\n            align-items: center;\n            margin-right: 8px;\n            margin-top: calc(1.57em/2 - 22px/2);\n            cursor: pointer;\n        }\n\n    .cdx-checklist__item-checkbox svg {\n                opacity: 0;\n                height: 20px;\n                width: 20px;\n                position: absolute;\n                left: -1px;\n                top: -1px;\n                max-height: 20px;\n            }\n\n    @media (hover: hover) {\n                        .cdx-checklist__item-checkbox:not(.cdx-checklist__item-checkbox--no-hover):hover .cdx-checklist__item-checkbox-check svg {\n                            opacity: 1;\n                        }\n            }\n\n    .cdx-checklist__item-checkbox-check {\n                cursor: pointer;\n                display: inline-block;\n                flex-shrink: 0;\n                position: relative;\n                width: 20px;\n                height: 20px;\n                box-sizing: border-box;\n                margin-left: 0;\n                border-radius: 5px;\n                border: 1px solid #C9C9C9;\n                background: #fff;\n            }\n\n    .cdx-checklist__item-checkbox-check::before {\n                    content: '';\n                    position: absolute;\n                    top: 0;\n                    right: 0;\n                    bottom: 0;\n                    left: 0;\n                    border-radius: 100%;\n                    background-color: #369FFF;\n                    visibility: hidden;\n                    pointer-events: none;\n                    transform: scale(1);\n                    transition: transform 400ms ease-out, opacity 400ms;\n                }\n\n    @media (hover: hover) {\n                        .cdx-checklist__item--checked .cdx-checklist__item-checkbox:not(.cdx-checklist__item--checked .cdx-checklist__item-checkbox--no-hover):hover .cdx-checklist__item-checkbox-check {\n                            background: #0059AB;\n                            border-color: #0059AB;\n                        }\n                }\n\n    .cdx-checklist__item--checked .cdx-checklist__item-checkbox-check {\n                    background: #369FFF;\n                    border-color: #369FFF;\n                }\n\n    .cdx-checklist__item--checked .cdx-checklist__item-checkbox-check svg {\n                        opacity: 1;\n                    }\n\n    .cdx-checklist__item--checked .cdx-checklist__item-checkbox-check svg path {\n                            stroke: #fff;\n                        }\n\n    .cdx-checklist__item--checked .cdx-checklist__item-checkbox-check::before {\n                        opacity: 0;\n                        visibility: visible;\n                        transform: scale(2.5);\n                    }\n",""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i,n=e[1]||"",s=e[3];if(!s)return n;if(t&&"function"==typeof btoa){var o=(i=s,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),r=s.sources.map((function(e){return"/*# sourceURL="+s.sourceRoot+e+" */"}));return[n].concat(r).concat([o]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i})).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},s=0;s<this.length;s++){var o=this[s][0];"number"==typeof o&&(n[o]=!0)}for(s=0;s<e.length;s++){var r=e[s];"number"==typeof r[0]&&n[r[0]]||(i&&!r[2]?r[2]=i:i&&(r[2]="("+r[2]+") and ("+i+")"),t.push(r))}},t}},function(e,t,i){var n,s,o={},r=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===s&&(s=n.apply(this,arguments)),s}),a=function(e){return document.querySelector(e)},l=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var i=a.call(this,e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}}(),c=null,d=0,u=[],h=i(4);function p(e,t){for(var i=0;i<e.length;i++){var n=e[i],s=o[n.id];if(s){s.refs++;for(var r=0;r<s.parts.length;r++)s.parts[r](n.parts[r]);for(;r<n.parts.length;r++)s.parts.push(b(n.parts[r],t))}else{var a=[];for(r=0;r<n.parts.length;r++)a.push(b(n.parts[r],t));o[n.id]={id:n.id,refs:1,parts:a}}}}function f(e,t){for(var i=[],n={},s=0;s<e.length;s++){var o=e[s],r=t.base?o[0]+t.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};n[r]?n[r].parts.push(a):i.push(n[r]={id:r,parts:[a]})}return i}function m(e,t){var i=l(e.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=u[u.length-1];if("top"===e.insertAt)n?n.nextSibling?i.insertBefore(t,n.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),u.push(t);else if("bottom"===e.insertAt)i.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var s=l(e.insertInto+" "+e.insertAt.before);i.insertBefore(t,s)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function v(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),y(t,e.attrs),m(e,t),t}function y(e,t){Object.keys(t).forEach((function(i){e.setAttribute(i,t[i])}))}function b(e,t){var i,n,s,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var r=d++;i=c||(c=v(t)),n=w.bind(null,i,r,!1),s=w.bind(null,i,r,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",y(t,e.attrs),m(e,t),t}(t),n=S.bind(null,i,t),s=function(){g(i),i.href&&URL.revokeObjectURL(i.href)}):(i=v(t),n=k.bind(null,i),s=function(){g(i)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else s()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=r()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var i=f(e,t);return p(i,t),function(e){for(var n=[],s=0;s<i.length;s++){var r=i[s];(a=o[r.id]).refs--,n.push(a)}for(e&&p(f(e,t),t),s=0;s<n.length;s++){var a;if(0===(a=n[s]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete o[a.id]}}}};var _,x=(_=[],function(e,t){return _[e]=t,_.filter(Boolean).join("\n")});function w(e,t,i,n){var s=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=x(t,s);else{var o=document.createTextNode(s),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(o,r[t]):e.appendChild(o)}}function k(e,t){var i=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}function S(e,t,i){var n=i.css,s=i.sourceMap,o=void 0===t.convertToAbsoluteUrls&&s;(t.convertToAbsoluteUrls||o)&&(n=h(n)),s&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */");var r=new Blob([n],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(r),a&&URL.revokeObjectURL(a)}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var i=t.protocol+"//"+t.host,n=i+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var s,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(s=0===o.indexOf("//")?o:0===o.indexOf("/")?i+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(s)+")")}))}},function(e,t,i){"use strict";Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null})},function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return u})),i(0);function n(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?s(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function o(){var e=document.activeElement,t=window.getSelection().getRangeAt(0),i=t.cloneRange();return i.selectNodeContents(e),i.setStart(t.endContainer,t.endOffset),i.extractContents()}function r(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=document.createElement(e);for(var r in Array.isArray(i)?(t=o.classList).add.apply(t,n(i)):i&&o.classList.add(i),s)o[r]=s[r];return o}function a(e){return e.innerHTML.replace("<br>"," ").trim()}function l(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=document.createRange(),s=window.getSelection();n.selectNodeContents(e),void 0!==i&&(n.setStart(e,i),n.setEnd(e,i)),n.collapse(t),s.removeAllRanges(),s.addRange(n)}function c(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,i){return t&&c(e.prototype,t),i&&c(e,i),e}i(5);var u=function(){function e(t){var i=t.data,n=(t.config,t.api),s=t.readOnly;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._elements={wrapper:null,items:[]},this.readOnly=s,this.api=n,this.data=i||{}}return d(e,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.2 12L11.0586 13.8586C11.1367 13.9367 11.2633 13.9367 11.3414 13.8586L14.7 10.5"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',title:"Checklist"}}},{key:"conversionConfig",get:function(){return{export:function(e){return e.items.map((function(e){return e.text})).join(". ")},import:function(e){return{items:[{text:e,checked:!1}]}}}}}]),d(e,[{key:"render",value:function(){var e=this;return this._elements.wrapper=r("div",[this.CSS.baseBlock,this.CSS.wrapper]),this.data.items||(this.data.items=[{text:"",checked:!1}]),this.data.items.forEach((function(t){var i=e.createChecklistItem(t);e._elements.wrapper.appendChild(i)})),this.readOnly||(this._elements.wrapper.addEventListener("keydown",(function(t){switch(t.keyCode){case 13:e.enterPressed(t);break;case 8:e.backspace(t)}}),!1),this._elements.wrapper.addEventListener("click",(function(t){e.toggleCheckbox(t)}))),this._elements.wrapper}},{key:"save",value:function(){var e=this,t=this.items.map((function(t){return{text:a(e.getItemInput(t)),checked:t.classList.contains(e.CSS.itemChecked)}}));return{items:t=t.filter((function(e){return 0!==e.text.trim().length}))}}},{key:"validate",value:function(e){return!!e.items.length}},{key:"toggleCheckbox",value:function(e){var t=this,i=e.target.closest(".".concat(this.CSS.item)),n=i.querySelector(".".concat(this.CSS.checkboxContainer));n.contains(e.target)&&(i.classList.toggle(this.CSS.itemChecked),n.classList.add(this.CSS.noHover),n.addEventListener("mouseleave",(function(){return t.removeSpecialHoverBehavior(n)}),{once:!0}))}},{key:"createChecklistItem",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r("div",this.CSS.item),i=r("span",this.CSS.checkbox),n=r("div",this.CSS.checkboxContainer),s=r("div",this.CSS.textField,{innerHTML:e.text?e.text:"",contentEditable:!this.readOnly});return e.checked&&t.classList.add(this.CSS.itemChecked),i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 12L10.4884 15.8372C10.5677 15.9245 10.705 15.9245 10.7844 15.8372L17 9"/></svg>',n.appendChild(i),t.appendChild(n),t.appendChild(s),t}},{key:"enterPressed",value:function(e){e.preventDefault();var t=this.items,i=document.activeElement.closest(".".concat(this.CSS.item));if(t.indexOf(i)===t.length-1&&0===a(this.getItemInput(i)).length){var n=this.api.blocks.getCurrentBlockIndex();return i.remove(),this.api.blocks.insert(),void this.api.caret.setToBlock(n+1)}var s,r,c=(s=o(),(r=document.createElement("div")).appendChild(s),r.innerHTML),d=this.createChecklistItem({text:c,checked:!1});this._elements.wrapper.insertBefore(d,i.nextSibling),l(this.getItemInput(d),!0)}},{key:"backspace",value:function(e){var t=e.target.closest(".".concat(this.CSS.item)),i=this.items.indexOf(t),n=this.items[i-1];if(n&&0===window.getSelection().focusOffset){e.preventDefault();var s=o(),r=this.getItemInput(n),a=r.childNodes.length;r.appendChild(s),l(r,void 0,a),t.remove()}}},{key:"removeSpecialHoverBehavior",value:function(e){e.classList.remove(this.CSS.noHover)}},{key:"getItemInput",value:function(e){return e.querySelector(".".concat(this.CSS.textField))}},{key:"CSS",get:function(){return{baseBlock:this.api.styles.block,wrapper:"cdx-checklist",item:"cdx-checklist__item",itemChecked:"cdx-checklist__item--checked",noHover:"cdx-checklist__item-checkbox--no-hover",checkbox:"cdx-checklist__item-checkbox-check",textField:"cdx-checklist__item-text",checkboxContainer:"cdx-checklist__item-checkbox"}}},{key:"items",get:function(){return Array.from(this._elements.wrapper.querySelectorAll(".".concat(this.CSS.item)))}}]),e}()}]).default},9095:e=>{window,e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i(i.s=14)}([function(e,t,i){var n=i(5),s=i(6),o=i(7),r=i(9);e.exports=function(e,t){return n(e)||s(e,t)||o(e,t)||r()}},function(e,t){function i(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=i=function(e){return typeof e}:e.exports=i=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(t)}e.exports=i},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}},function(e,t){function i(e,t,i){var n,s,o,r,a;function l(){var c=Date.now()-r;c<t&&c>=0?n=setTimeout(l,t-c):(n=null,i||(a=e.apply(o,s),o=s=null))}null==t&&(t=100);var c=function(){o=this,s=arguments,r=Date.now();var c=i&&!n;return n||(n=setTimeout(l,t)),c&&(a=e.apply(o,s),o=s=null),a};return c.clear=function(){n&&(clearTimeout(n),n=null)},c.flush=function(){n&&(a=e.apply(o,s),o=s=null,clearTimeout(n),n=null)},c}i.debounce=i,e.exports=i},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var i=[],n=!0,s=!1,o=void 0;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done)&&(i.push(r.value),!t||i.length!==t);n=!0);}catch(e){s=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(s)throw o}}return i}}},function(e,t,i){var n=i(8);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,i){var n=i(11),s=i(12);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]),n(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,i){"use strict";var n,s=function(){var e={};return function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}e[t]=i}return e[t]}}(),o=[];function r(e){for(var t=-1,i=0;i<o.length;i++)if(o[i].identifier===e){t=i;break}return t}function a(e,t){for(var i={},n=[],s=0;s<e.length;s++){var a=e[s],l=t.base?a[0]+t.base:a[0],c=i[l]||0,d="".concat(l," ").concat(c);i[l]=c+1;var u=r(d),h={css:a[1],media:a[2],sourceMap:a[3]};-1!==u?(o[u].references++,o[u].updater(h)):o.push({identifier:d,updater:m(h,t),references:1}),n.push(d)}return n}function l(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var o=i.nc;o&&(n.nonce=o)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var r=s(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}return t}var c,d=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function u(e,t,i,n){var s=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=d(t,s);else{var o=document.createTextNode(s),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(o,r[t]):e.appendChild(o)}}function h(e,t,i){var n=i.css,s=i.media,o=i.sourceMap;if(s?e.setAttribute("media",s):e.removeAttribute("media"),o&&btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var p=null,f=0;function m(e,t){var i,n,s;if(t.singleton){var o=f++;i=p||(p=l(t)),n=u.bind(null,i,o,!1),s=u.bind(null,i,o,!0)}else i=l(t),n=h.bind(null,i,t),s=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(i)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else s()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var i=a(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<i.length;n++){var s=r(i[n]);o[s].references--}for(var l=a(e,t),c=0;c<i.length;c++){var d=r(i[c]);0===o[d].references&&(o[d].updater(),o.splice(d,1))}i=l}}}},function(e,t,i){(t=i(13)(!1)).push([e.i,".embed-tool--loading .embed-tool__caption {\n      display: none;\n    }\n\n    .embed-tool--loading .embed-tool__preloader {\n      display: block;\n    }\n\n    .embed-tool--loading .embed-tool__content {\n      display: none;\n    }\n  .embed-tool__preloader {\n    display: none;\n    position: relative;\n    height: 200px;\n    box-sizing: border-box;\n    border-radius: 5px;\n    border: 1px solid #e6e9eb;\n  }\n  .embed-tool__preloader::before {\n      content: '';\n      position: absolute;\n      z-index: 3;\n      left: 50%;\n      top: 50%;\n      width: 30px;\n      height: 30px;\n      margin-top: -25px;\n      margin-left: -15px;\n      border-radius: 50%;\n      border: 2px solid #cdd1e0;\n      border-top-color: #388ae5;\n      box-sizing: border-box;\n      animation: embed-preloader-spin 2s infinite linear;\n    }\n  .embed-tool__url {\n    position: absolute;\n    bottom: 20px;\n    left: 50%;\n    transform: translateX(-50%);\n    max-width: 250px;\n    color: #7b7e89;\n    font-size: 11px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n  .embed-tool__content {\n    width: 100%;\n  }\n  .embed-tool__caption {\n    margin-top: 7px;\n  }\n  .embed-tool__caption[contentEditable=true][data-placeholder]::before{\n      position: absolute;\n      content: attr(data-placeholder);\n      color: #707684;\n      font-weight: normal;\n      opacity: 0;\n    }\n  .embed-tool__caption[contentEditable=true][data-placeholder]:empty::before {\n         opacity: 1;\n      }\n  .embed-tool__caption[contentEditable=true][data-placeholder]:empty:focus::before {\n        opacity: 0;\n      }\n\n@keyframes embed-preloader-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n",""]),e.exports=t},function(e,t,i){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i,n,s,o=e[1]||"",r=e[3];if(!r)return o;if(t&&"function"==typeof btoa){var a=(i=r,n=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),"/*# ".concat(s," */")),l=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[o].concat(l).concat([a]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(i,"}"):i})).join("")},t.i=function(e,i,n){"string"==typeof e&&(e=[[null,e,""]]);var s={};if(n)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(s[r]=!0)}for(var a=0;a<e.length;a++){var l=[].concat(e[a]);n&&s[l[0]]||(i&&(l[2]?l[2]="".concat(i," and ").concat(l[2]):l[2]=i),t.push(l))}},t}},function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return p}));var n=i(1),s=i.n(n),o=i(0),r=i.n(o),a=i(2),l=i.n(a),c=i(3),d=i.n(c),u={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:function(e){var t=r()(e,2),i=t[0],n=t[1];if(!n&&i)return i;var s={start:"start",end:"end",t:"start",time_continue:"start",list:"list"};return n=n.slice(1).split("&").map((function(e){var t=e.split("="),n=r()(t,2),o=n[0],a=n[1];return i||"v"!==o?s[o]?"LL"===a||a.startsWith("RDMM")||a.startsWith("FL")?null:"".concat(s[o],"=").concat(a):null:(i=a,null)})).filter((function(e){return!!e})),i+"?"+n.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:"<iframe frameborder='0' scrolling='no' style=\"width:100%;\" height='436' allowfullscreen ></iframe>",height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:function(e){return e.join("/")}},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:function(e){return e.join("/")}},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:function(e){return e.join("/embed/")}},instagram:{regex:/https?:\/\/www\.instagram\.com\/p\/([^\/\?\&]+)\/?.*/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400},twitter:{regex:/^https?:\/\/twitter\.com\/(?:#!\/)?(\w+)\/status(?:es)?\/(\d+?.*)?$/,embedUrl:"https://twitframe.com/show?url=https://twitter.com/<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:function(e){return e.join("/status/")}},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:function(e){return e[1]}},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:function(e){return e.join("/")}},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600},miro:{regex:/https:\/\/miro.com\/\S+(\S{12})\/(\S+)?/,embedUrl:"https://miro.com/app/live-embed/<%= remote_id %>",html:'<iframe width="700" height="500" style="margin: 0 auto;" allowFullScreen frameBorder="0" scrolling="no"></iframe>'}},h=(i(10),i(4)),p=function(){function e(t){var i=t.data,n=t.api,s=t.readOnly;l()(this,e),this.api=n,this._data={},this.element=null,this.readOnly=s,this.data=i}return d()(e,[{key:"render",value:function(){var t=this;if(!this.data.service){var i=document.createElement("div");return this.element=i,i}var n=e.services[this.data.service].html,s=document.createElement("div"),o=document.createElement("div"),r=document.createElement("template"),a=this.createPreloader();s.classList.add(this.CSS.baseClass,this.CSS.container,this.CSS.containerLoading),o.classList.add(this.CSS.input,this.CSS.caption),s.appendChild(a),o.contentEditable=!this.readOnly,o.dataset.placeholder=this.api.i18n.t("Enter a caption"),o.innerHTML=this.data.caption||"",r.innerHTML=n,r.content.firstChild.setAttribute("src",this.data.embed),r.content.firstChild.classList.add(this.CSS.content);var l=this.embedIsReady(s);return s.appendChild(r.content.firstChild),s.appendChild(o),l.then((function(){s.classList.remove(t.CSS.containerLoading)})),this.element=s,s}},{key:"createPreloader",value:function(){var e=document.createElement("preloader"),t=document.createElement("div");return t.textContent=this.data.source,e.classList.add(this.CSS.preloader),t.classList.add(this.CSS.url),e.appendChild(t),e}},{key:"save",value:function(){return this.data}},{key:"onPaste",value:function(t){var i=t.detail,n=i.key,s=i.data,o=e.services[n],r=o.regex,a=o.embedUrl,l=o.width,c=o.height,d=o.id,u=void 0===d?function(e){return e.shift()}:d,h=r.exec(s).slice(1),p=a.replace(/<%= remote_id %>/g,u(h));this.data={service:n,source:s,embed:p,width:l,height:c}}},{key:"embedIsReady",value:function(e){var t=null;return new Promise((function(i,n){(t=new MutationObserver(Object(h.debounce)(i,450))).observe(e,{childList:!0,subtree:!0})})).then((function(){t.disconnect()}))}},{key:"data",set:function(e){if(!(e instanceof Object))throw Error("Embed Tool data should be object");var t=e.service,i=e.source,n=e.embed,s=e.width,o=e.height,r=e.caption,a=void 0===r?"":r;this._data={service:t||this.data.service,source:i||this.data.source,embed:n||this.data.embed,width:s||this.data.width,height:o||this.data.height,caption:a||this.data.caption||""};var l=this.element;l&&l.parentNode.replaceChild(this.render(),l)},get:function(){if(this.element){var e=this.element.querySelector(".".concat(this.api.styles.input));this._data.caption=e?e.innerHTML:""}return this._data}},{key:"CSS",get:function(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"embed-tool",containerLoading:"embed-tool--loading",preloader:"embed-tool__preloader",caption:"embed-tool__caption",url:"embed-tool__url",content:"embed-tool__content"}}}],[{key:"prepare",value:function(t){var i=t.config,n=(void 0===i?{}:i).services,o=void 0===n?{}:n,a=Object.entries(u),l=Object.entries(o).filter((function(e){var t=r()(e,2),i=(t[0],t[1]);return"boolean"==typeof i&&!0===i})).map((function(e){return r()(e,1)[0]})),c=Object.entries(o).filter((function(e){var t=r()(e,2),i=(t[0],t[1]);return"object"===s()(i)})).filter((function(t){var i=r()(t,2),n=(i[0],i[1]);return e.checkServiceConfig(n)})).map((function(e){var t=r()(e,2),i=t[0],n=t[1];return[i,{regex:n.regex,embedUrl:n.embedUrl,html:n.html,height:n.height,width:n.width,id:n.id}]}));l.length&&(a=a.filter((function(e){var t=r()(e,1)[0];return l.includes(t)}))),a=a.concat(c),e.services=a.reduce((function(e,t){var i=r()(t,2),n=i[0],s=i[1];return n in e?(e[n]=Object.assign({},e[n],s),e):(e[n]=s,e)}),{}),e.patterns=a.reduce((function(e,t){var i=r()(t,2),n=i[0],s=i[1];return e[n]=s.regex,e}),{})}},{key:"checkServiceConfig",value:function(e){var t=e.regex,i=e.embedUrl,n=e.html,s=e.height,o=e.width,r=e.id,a=t&&t instanceof RegExp&&i&&"string"==typeof i&&n&&"string"==typeof n;return(a=(a=a&&(void 0===r||r instanceof Function))&&(void 0===s||Number.isFinite(s)))&&(void 0===o||Number.isFinite(o))}},{key:"pasteConfig",get:function(){return{patterns:e.patterns}}},{key:"isReadOnlySupported",get:function(){return!0}}]),e}()}]).default},1786:e=>{window,e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i(i.s=5)}([function(e,t,i){var n=i(1);"string"==typeof n&&(n=[[e.i,n,""]]);i(3)(n,{hmr:!0,transform:void 0,insertInto:void 0}),n.locals&&(e.exports=n.locals)},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,"/**\n * Plugin styles\n */\n.ce-header {\n  padding: 0.6em 0 3px;\n  margin: 0;\n  line-height: 1.25em;\n  outline: none;\n}\n\n.ce-header p,\n.ce-header div{\n  padding: 0 !important;\n  margin: 0 !important;\n}\n\n/**\n * Styles for Plugin icon in Toolbar\n */\n.ce-header__icon {}\n\n.ce-header[contentEditable=true][data-placeholder]::before{\n  position: absolute;\n  content: attr(data-placeholder);\n  color: #707684;\n  font-weight: normal;\n  display: none;\n  cursor: text;\n}\n\n.ce-header[contentEditable=true][data-placeholder]:empty::before {\n  display: block;\n}\n\n.ce-header[contentEditable=true][data-placeholder]:empty:focus::before {\n  display: none;\n}\n",""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i,n=e[1]||"",s=e[3];if(!s)return n;if(t&&"function"==typeof btoa){var o=(i=s,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),r=s.sources.map((function(e){return"/*# sourceURL="+s.sourceRoot+e+" */"}));return[n].concat(r).concat([o]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i})).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},s=0;s<this.length;s++){var o=this[s][0];"number"==typeof o&&(n[o]=!0)}for(s=0;s<e.length;s++){var r=e[s];"number"==typeof r[0]&&n[r[0]]||(i&&!r[2]?r[2]=i:i&&(r[2]="("+r[2]+") and ("+i+")"),t.push(r))}},t}},function(e,t,i){var n,s,o={},r=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===s&&(s=n.apply(this,arguments)),s}),a=function(e){return document.querySelector(e)},l=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var i=a.call(this,e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}}(),c=null,d=0,u=[],h=i(4);function p(e,t){for(var i=0;i<e.length;i++){var n=e[i],s=o[n.id];if(s){s.refs++;for(var r=0;r<s.parts.length;r++)s.parts[r](n.parts[r]);for(;r<n.parts.length;r++)s.parts.push(b(n.parts[r],t))}else{var a=[];for(r=0;r<n.parts.length;r++)a.push(b(n.parts[r],t));o[n.id]={id:n.id,refs:1,parts:a}}}}function f(e,t){for(var i=[],n={},s=0;s<e.length;s++){var o=e[s],r=t.base?o[0]+t.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};n[r]?n[r].parts.push(a):i.push(n[r]={id:r,parts:[a]})}return i}function m(e,t){var i=l(e.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=u[u.length-1];if("top"===e.insertAt)n?n.nextSibling?i.insertBefore(t,n.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),u.push(t);else if("bottom"===e.insertAt)i.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var s=l(e.insertInto+" "+e.insertAt.before);i.insertBefore(t,s)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function v(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),y(t,e.attrs),m(e,t),t}function y(e,t){Object.keys(t).forEach((function(i){e.setAttribute(i,t[i])}))}function b(e,t){var i,n,s,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var r=d++;i=c||(c=v(t)),n=w.bind(null,i,r,!1),s=w.bind(null,i,r,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",y(t,e.attrs),m(e,t),t}(t),n=S.bind(null,i,t),s=function(){g(i),i.href&&URL.revokeObjectURL(i.href)}):(i=v(t),n=k.bind(null,i),s=function(){g(i)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else s()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=r()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var i=f(e,t);return p(i,t),function(e){for(var n=[],s=0;s<i.length;s++){var r=i[s];(a=o[r.id]).refs--,n.push(a)}for(e&&p(f(e,t),t),s=0;s<n.length;s++){var a;if(0===(a=n[s]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete o[a.id]}}}};var _,x=(_=[],function(e,t){return _[e]=t,_.filter(Boolean).join("\n")});function w(e,t,i,n){var s=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=x(t,s);else{var o=document.createTextNode(s),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(o,r[t]):e.appendChild(o)}}function k(e,t){var i=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}function S(e,t,i){var n=i.css,s=i.sourceMap,o=void 0===t.convertToAbsoluteUrls&&s;(t.convertToAbsoluteUrls||o)&&(n=h(n)),s&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */");var r=new Blob([n],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(r),a&&URL.revokeObjectURL(a)}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var i=t.protocol+"//"+t.host,n=i+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var s,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(s=0===o.indexOf("//")?o:0===o.indexOf("/")?i+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(s)+")")}))}},function(e,t,i){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}i.r(t),i.d(t,"default",(function(){return o})),i(0);var o=function(){function e(t){var i=t.data,n=t.config,s=t.api,o=t.readOnly;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=s,this.readOnly=o,this._CSS={block:this.api.styles.block,wrapper:"ce-header"},this._settings=n,this._data=this.normalizeData(i),this._element=this.getTag()}var t,i,o;return t=e,o=[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{level:!1,text:{}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["H1","H2","H3","H4","H5","H6"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>',title:"Heading"}}}],(i=[{key:"normalizeData",value:function(e){var t={};return"object"!==n(e)&&(e={}),t.text=e.text||"",t.level=parseInt(e.level)||this.defaultLevel.number,t}},{key:"render",value:function(){return this._element}},{key:"renderSettings",value:function(){var e=this;return this.levels.map((function(t){return{icon:t.svg,label:e.api.i18n.t("Heading ".concat(t.number)),onActivate:function(){return e.setLevel(t.number)},closeOnActivate:!0,isActive:e.currentLevel.number===t.number}}))}},{key:"setLevel",value:function(e){this.data={level:e,text:this.data.text}}},{key:"merge",value:function(e){var t={text:this.data.text+e.text,level:this.data.level};this.data=t}},{key:"validate",value:function(e){return""!==e.text.trim()}},{key:"save",value:function(e){return{text:e.innerHTML,level:this.currentLevel.number}}},{key:"getTag",value:function(){var e=document.createElement(this.currentLevel.tag);return e.innerHTML=this._data.text||"",e.classList.add(this._CSS.wrapper),e.contentEditable=this.readOnly?"false":"true",e.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),e}},{key:"onPaste",value:function(e){var t=e.detail.data,i=this.defaultLevel.number;switch(t.tagName){case"H1":i=1;break;case"H2":i=2;break;case"H3":i=3;break;case"H4":i=4;break;case"H5":i=5;break;case"H6":i=6}this._settings.levels&&(i=this._settings.levels.reduce((function(e,t){return Math.abs(t-i)<Math.abs(e-i)?t:e}))),this.data={level:i,text:t.innerHTML}}},{key:"data",get:function(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data},set:function(e){if(this._data=this.normalizeData(e),void 0!==e.level&&this._element.parentNode){var t=this.getTag();t.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(t,this._element),this._element=t}void 0!==e.text&&(this._element.innerHTML=this._data.text||"")}},{key:"currentLevel",get:function(){var e=this,t=this.levels.find((function(t){return t.number===e._data.level}));return t||(t=this.defaultLevel),t}},{key:"defaultLevel",get:function(){var e=this;if(this._settings.defaultLevel){var t=this.levels.find((function(t){return t.number===e._settings.defaultLevel}));if(t)return t;console.warn("(ง'̀-'́)ง Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}},{key:"levels",get:function(){var e=this,t=[{number:1,tag:"H1",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>'},{number:2,tag:"H2",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>'},{number:3,tag:"H3",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>'},{number:4,tag:"H4",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>'},{number:5,tag:"H5",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>'},{number:6,tag:"H6",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>'}];return this._settings.levels?t.filter((function(t){return e._settings.levels.includes(t.number)})):t}}])&&s(t.prototype,i),o&&s(t,o),e}()}]).default},1083:e=>{window,e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i(i.s=4)}([function(e,t,i){var n=i(1),s=i(2);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]),n(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,i){"use strict";var n,s=function(){var e={};return function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}e[t]=i}return e[t]}}(),o=[];function r(e){for(var t=-1,i=0;i<o.length;i++)if(o[i].identifier===e){t=i;break}return t}function a(e,t){for(var i={},n=[],s=0;s<e.length;s++){var a=e[s],l=t.base?a[0]+t.base:a[0],c=i[l]||0,d="".concat(l," ").concat(c);i[l]=c+1;var u=r(d),h={css:a[1],media:a[2],sourceMap:a[3]};-1!==u?(o[u].references++,o[u].updater(h)):o.push({identifier:d,updater:m(h,t),references:1}),n.push(d)}return n}function l(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var o=i.nc;o&&(n.nonce=o)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var r=s(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}return t}var c,d=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function u(e,t,i,n){var s=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=d(t,s);else{var o=document.createTextNode(s),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(o,r[t]):e.appendChild(o)}}function h(e,t,i){var n=i.css,s=i.media,o=i.sourceMap;if(s?e.setAttribute("media",s):e.removeAttribute("media"),o&&btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var p=null,f=0;function m(e,t){var i,n,s;if(t.singleton){var o=f++;i=p||(p=l(t)),n=u.bind(null,i,o,!1),s=u.bind(null,i,o,!0)}else i=l(t),n=h.bind(null,i,t),s=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(i)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else s()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var i=a(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<i.length;n++){var s=r(i[n]);o[s].references--}for(var l=a(e,t),c=0;c<i.length;c++){var d=r(i[c]);0===o[d].references&&(o[d].updater(),o.splice(d,1))}i=l}}}},function(e,t,i){(t=i(3)(!1)).push([e.i,".cdx-list {\n    margin: 0;\n    padding-left: 40px;\n    outline: none;\n}\n\n    .cdx-list__item {\n        padding: 5.5px 0 5.5px 3px;\n        line-height: 1.6em;\n    }\n\n    .cdx-list--unordered {\n        list-style: disc;\n    }\n\n    .cdx-list--ordered {\n        list-style: decimal;\n    }\n\n    .cdx-list-settings {\n        display: flex;\n    }\n\n    .cdx-list-settings .cdx-settings-button {\n            width: 50%;\n        }\n",""]),e.exports=t},function(e,t,i){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i,n,s,o=e[1]||"",r=e[3];if(!r)return o;if(t&&"function"==typeof btoa){var a=(i=r,n=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),"/*# ".concat(s," */")),l=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[o].concat(l).concat([a]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(i,"}"):i})).join("")},t.i=function(e,i,n){"string"==typeof e&&(e=[[null,e,""]]);var s={};if(n)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(s[r]=!0)}for(var a=0;a<e.length;a++){var l=[].concat(e[a]);n&&s[l[0]]||(i&&(l[2]?l[2]="".concat(i," and ").concat(l[2]):l[2]=i),t.push(l))}},t}},function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return u})),i(0);const n='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>';function s(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){l(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function c(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,i){return t&&c(e.prototype,t),i&&c(e,i),e}var u=function(){function e(t){var i=t.data,s=t.config,o=t.api,r=t.readOnly;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._elements={wrapper:null},this.api=o,this.readOnly=r,this.settings=[{name:"unordered",label:this.api.i18n.t("Unordered"),icon:n,default:"unordered"===s.defaultStyle||!1},{name:"ordered",label:this.api.i18n.t("Ordered"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>',default:"ordered"===s.defaultStyle||!0}],this._data={style:this.settings.find((function(e){return!0===e.default})).name,items:[]},this.data=i}return d(e,null,[{key:"isReadOnlySupported",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:n,title:"List"}}}]),d(e,[{key:"render",value:function(){var e=this;return this._elements.wrapper=this.makeMainTag(this._data.style),this._data.items.length?this._data.items.forEach((function(t){e._elements.wrapper.appendChild(e._make("li",e.CSS.item,{innerHTML:t}))})):this._elements.wrapper.appendChild(this._make("li",this.CSS.item)),this.readOnly||this._elements.wrapper.addEventListener("keydown",(function(t){switch(t.keyCode){case 13:e.getOutofList(t);break;case 8:e.backspace(t)}}),!1),this._elements.wrapper}},{key:"save",value:function(){return this.data}},{key:"renderSettings",value:function(){var e=this;return this.settings.map((function(t){return a(a({},t),{},{isActive:e._data.style===t.name,closeOnActivate:!0,onActivate:function(){return e.toggleTune(t.name)}})}))}},{key:"onPaste",value:function(e){var t=e.detail.data;this.data=this.pasteHandler(t)}},{key:"makeMainTag",value:function(e){var t="ordered"===e?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered,i="ordered"===e?"ol":"ul";return this._make(i,[this.CSS.baseBlock,this.CSS.wrapper,t],{contentEditable:!this.readOnly})}},{key:"toggleTune",value:function(e){for(var t=this.makeMainTag(e);this._elements.wrapper.hasChildNodes();)t.appendChild(this._elements.wrapper.firstChild);this._elements.wrapper.replaceWith(t),this._elements.wrapper=t,this._data.style=e}},{key:"_make",value:function(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=document.createElement(e);for(var r in Array.isArray(i)?(t=o.classList).add.apply(t,s(i)):i&&o.classList.add(i),n)o[r]=n[r];return o}},{key:"getOutofList",value:function(e){var t=this._elements.wrapper.querySelectorAll("."+this.CSS.item);if(!(t.length<2)){var i=t[t.length-1],n=this.currentItem;n!==i||i.textContent.trim().length||(n.parentElement.removeChild(n),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()),e.preventDefault(),e.stopPropagation())}}},{key:"backspace",value:function(e){var t=this._elements.wrapper.querySelectorAll("."+this.CSS.item),i=t[0];i&&t.length<2&&!i.innerHTML.replace("<br>"," ").trim()&&e.preventDefault()}},{key:"selectItem",value:function(e){e.preventDefault();var t=window.getSelection(),i=t.anchorNode.parentNode.closest("."+this.CSS.item),n=new Range;n.selectNodeContents(i),t.removeAllRanges(),t.addRange(n)}},{key:"pasteHandler",value:function(e){var t,i=e.tagName;switch(i){case"OL":t="ordered";break;case"UL":case"LI":t="unordered"}var n={style:t,items:[]};if("LI"===i)n.items=[e.innerHTML];else{var s=Array.from(e.querySelectorAll("LI"));n.items=s.map((function(e){return e.innerHTML})).filter((function(e){return!!e.trim()}))}return n}},{key:"CSS",get:function(){return{baseBlock:this.api.styles.block,wrapper:"cdx-list",wrapperOrdered:"cdx-list--ordered",wrapperUnordered:"cdx-list--unordered",item:"cdx-list__item"}}},{key:"data",set:function(e){e||(e={}),this._data.style=e.style||this.settings.find((function(e){return!0===e.default})).name,this._data.items=e.items||[];var t=this._elements.wrapper;t&&t.parentNode.replaceChild(this.render(),t)},get:function(){this._data.items=[];for(var e=this._elements.wrapper.querySelectorAll(".".concat(this.CSS.item)),t=0;t<e.length;t++)e[t].innerHTML.replace("<br>"," ").trim()&&this._data.items.push(e[t].innerHTML);return this._data}},{key:"currentItem",get:function(){var e=window.getSelection().anchorNode;return e.nodeType!==Node.ELEMENT_NODE&&(e=e.parentNode),e.closest(".".concat(this.CSS.item))}}],[{key:"conversionConfig",get:function(){return{export:function(e){return e.items.join(". ")},import:function(e){return{items:[e],style:"unordered"}}}}},{key:"sanitize",get:function(){return{style:{},items:{br:!0}}}},{key:"pasteConfig",get:function(){return{tags:["OL","UL","LI"]}}}]),e}()}]).default},4459:e=>{window,e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i(i.s=5)}([function(e,t,i){var n=i(1);"string"==typeof n&&(n=[[e.i,n,""]]);i(3)(n,{hmr:!0,transform:void 0,insertInto:void 0}),n.locals&&(e.exports=n.locals)},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".cdx-quote-icon svg {\n  transform: rotate(180deg);\n}\n\n.cdx-quote {\n  margin: 0;\n}\n\n.cdx-quote__text {\n  min-height: 158px;\n  margin-bottom: 10px;\n}\n\n.cdx-quote__caption {}\n\n.cdx-quote [contentEditable=true][data-placeholder]::before{\n  position: absolute;\n  content: attr(data-placeholder);\n  color: #707684;\n  font-weight: normal;\n  opacity: 0;\n}\n\n.cdx-quote [contentEditable=true][data-placeholder]:empty::before {\n  opacity: 1;\n}\n\n.cdx-quote [contentEditable=true][data-placeholder]:empty:focus::before {\n  opacity: 0;\n}\n\n\n.cdx-quote-settings {\n  display: flex;\n}\n\n.cdx-quote-settings .cdx-settings-button {\n  width: 50%;\n}\n",""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i,n=e[1]||"",s=e[3];if(!s)return n;if(t&&"function"==typeof btoa){var o=(i=s,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),r=s.sources.map((function(e){return"/*# sourceURL="+s.sourceRoot+e+" */"}));return[n].concat(r).concat([o]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i})).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},s=0;s<this.length;s++){var o=this[s][0];"number"==typeof o&&(n[o]=!0)}for(s=0;s<e.length;s++){var r=e[s];"number"==typeof r[0]&&n[r[0]]||(i&&!r[2]?r[2]=i:i&&(r[2]="("+r[2]+") and ("+i+")"),t.push(r))}},t}},function(e,t,i){var n,s,o={},r=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===s&&(s=n.apply(this,arguments)),s}),a=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var i=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}}(),l=null,c=0,d=[],u=i(4);function h(e,t){for(var i=0;i<e.length;i++){var n=e[i],s=o[n.id];if(s){s.refs++;for(var r=0;r<s.parts.length;r++)s.parts[r](n.parts[r]);for(;r<n.parts.length;r++)s.parts.push(y(n.parts[r],t))}else{var a=[];for(r=0;r<n.parts.length;r++)a.push(y(n.parts[r],t));o[n.id]={id:n.id,refs:1,parts:a}}}}function p(e,t){for(var i=[],n={},s=0;s<e.length;s++){var o=e[s],r=t.base?o[0]+t.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};n[r]?n[r].parts.push(a):i.push(n[r]={id:r,parts:[a]})}return i}function f(e,t){var i=a(e.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=d[d.length-1];if("top"===e.insertAt)n?n.nextSibling?i.insertBefore(t,n.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),d.push(t);else if("bottom"===e.insertAt)i.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var s=a(e.insertInto+" "+e.insertAt.before);i.insertBefore(t,s)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function g(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),v(t,e.attrs),f(e,t),t}function v(e,t){Object.keys(t).forEach((function(i){e.setAttribute(i,t[i])}))}function y(e,t){var i,n,s,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var r=c++;i=l||(l=g(t)),n=x.bind(null,i,r,!1),s=x.bind(null,i,r,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(t,e.attrs),f(e,t),t}(t),n=function(e,t,i){var n=i.css,s=i.sourceMap,o=void 0===t.convertToAbsoluteUrls&&s;(t.convertToAbsoluteUrls||o)&&(n=u(n)),s&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */");var r=new Blob([n],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(r),a&&URL.revokeObjectURL(a)}.bind(null,i,t),s=function(){m(i),i.href&&URL.revokeObjectURL(i.href)}):(i=g(t),n=function(e,t){var i=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}.bind(null,i),s=function(){m(i)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else s()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=r()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var i=p(e,t);return h(i,t),function(e){for(var n=[],s=0;s<i.length;s++){var r=i[s];(a=o[r.id]).refs--,n.push(a)}for(e&&h(p(e,t),t),s=0;s<n.length;s++){var a;if(0===(a=n[s]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete o[a.id]}}}};var b,_=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function x(e,t,i,n){var s=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=_(t,s);else{var o=document.createTextNode(s),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(o,r[t]):e.appendChild(o)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var i=t.protocol+"//"+t.host,n=i+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var s,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(s=0===o.indexOf("//")?o:0===o.indexOf("/")?i+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(s)+")")}))}},function(e,t,i){"use strict";function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}i.r(t),i(0),i.d(t,"default",(function(){return o}));var o=function(){function e(t){var i=t.data,n=t.config,s=t.api,o=t.readOnly;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=e.ALIGNMENTS,a=e.DEFAULT_ALIGNMENT;this.api=s,this.readOnly=o,this.quotePlaceholder=n.quotePlaceholder||e.DEFAULT_QUOTE_PLACEHOLDER,this.captionPlaceholder=n.captionPlaceholder||e.DEFAULT_CAPTION_PLACEHOLDER,this.data={text:i.text||"",caption:i.caption||"",alignment:Object.values(r).includes(i.alignment)&&i.alignment||n.defaultAlignment||a}}return s(e,[{key:"CSS",get:function(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"}}},{key:"settings",get:function(){return[{name:"left",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>'},{name:"center",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>'}]}}],[{key:"isReadOnlySupported",get:function(){return!0}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>',title:"Quote"}}},{key:"contentless",get:function(){return!0}},{key:"enableLineBreaks",get:function(){return!0}},{key:"DEFAULT_QUOTE_PLACEHOLDER",get:function(){return"Enter a quote"}},{key:"DEFAULT_CAPTION_PLACEHOLDER",get:function(){return"Enter a caption"}},{key:"ALIGNMENTS",get:function(){return{left:"left",center:"center"}}},{key:"DEFAULT_ALIGNMENT",get:function(){return e.ALIGNMENTS.left}},{key:"conversionConfig",get:function(){return{import:"text",export:function(e){return e.caption?"".concat(e.text," — ").concat(e.caption):e.text}}}}]),s(e,[{key:"render",value:function(){var e=this._make("blockquote",[this.CSS.baseClass,this.CSS.wrapper]),t=this._make("div",[this.CSS.input,this.CSS.text],{contentEditable:!this.readOnly,innerHTML:this.data.text}),i=this._make("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption});return t.dataset.placeholder=this.quotePlaceholder,i.dataset.placeholder=this.captionPlaceholder,e.appendChild(t),e.appendChild(i),e}},{key:"save",value:function(e){var t=e.querySelector(".".concat(this.CSS.text)),i=e.querySelector(".".concat(this.CSS.caption));return Object.assign(this.data,{text:t.innerHTML,caption:i.innerHTML})}},{key:"renderSettings",value:function(){var e=this;return this.settings.map((function(t){return{icon:t.icon,label:e.api.i18n.t("Align ".concat((i=t.name,i[0].toUpperCase()+i.substr(1)))),onActivate:function(){return e._toggleTune(t.name)},isActive:e.data.alignment===t.name,closeOnActivate:!0};var i}))}},{key:"_toggleTune",value:function(e){this.data.alignment=e}},{key:"_make",value:function(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=document.createElement(e);for(var o in Array.isArray(i)?(t=s.classList).add.apply(t,function(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(i)):i&&s.classList.add(i),n)s[o]=n[o];return s}}],[{key:"sanitize",get:function(){return{text:{br:!0},caption:{br:!0},alignment:{}}}}]),e}()}]).default},1218:e=>{window,e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i(i.s=5)}([function(e,t,i){var n=i(1);"string"==typeof n&&(n=[[e.i,n,""]]);i(3)(n,{hmr:!0,transform:void 0,insertInto:void 0}),n.locals&&(e.exports=n.locals)},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".cdx-simple-image {}\n\n.cdx-simple-image .cdx-loader {\n  min-height: 200px;\n}\n\n.cdx-simple-image .cdx-input {\n  margin-top: 10px;\n}\n\n.cdx-simple-image img {\n  max-width: 100%;\n  vertical-align: bottom;\n}\n\n.cdx-simple-image__caption[contentEditable=true][data-placeholder]:empty::before {\n  position: absolute;\n  content: attr(data-placeholder);\n  color: #707684;\n  font-weight: normal;\n  opacity: 0;\n }\n\n.cdx-simple-image__caption[contentEditable=true][data-placeholder]:empty::before {\n  opacity: 1;\n}\n\n.cdx-simple-image__caption[contentEditable=true][data-placeholder]:empty:focus::before {\n  opacity: 0;\n}\n\n\n.cdx-simple-image__picture--with-background {\n  background: #eff2f5;\n  padding: 10px;\n}\n\n.cdx-simple-image__picture--with-background img {\n  display: block;\n  max-width: 60%;\n  margin: 0 auto;\n}\n\n.cdx-simple-image__picture--with-border {\n  border: 1px solid #e8e8eb;\n  padding: 1px;\n}\n\n.cdx-simple-image__picture--stretched img {\n  max-width: none;\n  width: 100%;\n}\n",""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i,n=e[1]||"",s=e[3];if(!s)return n;if(t&&"function"==typeof btoa){var o=(i=s,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),r=s.sources.map((function(e){return"/*# sourceURL="+s.sourceRoot+e+" */"}));return[n].concat(r).concat([o]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i})).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},s=0;s<this.length;s++){var o=this[s][0];"number"==typeof o&&(n[o]=!0)}for(s=0;s<e.length;s++){var r=e[s];"number"==typeof r[0]&&n[r[0]]||(i&&!r[2]?r[2]=i:i&&(r[2]="("+r[2]+") and ("+i+")"),t.push(r))}},t}},function(e,t,i){var n,s,o={},r=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===s&&(s=n.apply(this,arguments)),s}),a=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var i=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}}(),l=null,c=0,d=[],u=i(4);function h(e,t){for(var i=0;i<e.length;i++){var n=e[i],s=o[n.id];if(s){s.refs++;for(var r=0;r<s.parts.length;r++)s.parts[r](n.parts[r]);for(;r<n.parts.length;r++)s.parts.push(y(n.parts[r],t))}else{var a=[];for(r=0;r<n.parts.length;r++)a.push(y(n.parts[r],t));o[n.id]={id:n.id,refs:1,parts:a}}}}function p(e,t){for(var i=[],n={},s=0;s<e.length;s++){var o=e[s],r=t.base?o[0]+t.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};n[r]?n[r].parts.push(a):i.push(n[r]={id:r,parts:[a]})}return i}function f(e,t){var i=a(e.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=d[d.length-1];if("top"===e.insertAt)n?n.nextSibling?i.insertBefore(t,n.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),d.push(t);else if("bottom"===e.insertAt)i.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var s=a(e.insertInto+" "+e.insertAt.before);i.insertBefore(t,s)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function g(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),v(t,e.attrs),f(e,t),t}function v(e,t){Object.keys(t).forEach((function(i){e.setAttribute(i,t[i])}))}function y(e,t){var i,n,s,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var r=c++;i=l||(l=g(t)),n=x.bind(null,i,r,!1),s=x.bind(null,i,r,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(t,e.attrs),f(e,t),t}(t),n=function(e,t,i){var n=i.css,s=i.sourceMap,o=void 0===t.convertToAbsoluteUrls&&s;(t.convertToAbsoluteUrls||o)&&(n=u(n)),s&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */");var r=new Blob([n],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(r),a&&URL.revokeObjectURL(a)}.bind(null,i,t),s=function(){m(i),i.href&&URL.revokeObjectURL(i.href)}):(i=g(t),n=function(e,t){var i=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}.bind(null,i),s=function(){m(i)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else s()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=r()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var i=p(e,t);return h(i,t),function(e){for(var n=[],s=0;s<i.length;s++){var r=i[s];(a=o[r.id]).refs--,n.push(a)}for(e&&h(p(e,t),t),s=0;s<n.length;s++){var a;if(0===(a=n[s]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete o[a.id]}}}};var b,_=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function x(e,t,i,n){var s=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=_(t,s);else{var o=document.createTextNode(s),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(o,r[t]):e.appendChild(o)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var i=t.protocol+"//"+t.host,n=i+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var s,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(s=0===o.indexOf("//")?o:0===o.indexOf("/")?i+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(s)+")")}))}},function(e,t,i){"use strict";i.r(t),i(0);function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}i.d(t,"default",(function(){return o}));var o=function(){function e(t){var i=t.data,n=(t.config,t.api),s=t.readOnly;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api=n,this.readOnly=s,this.blockIndex=this.api.blocks.getCurrentBlockIndex()+1,this.CSS={baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,wrapper:"cdx-simple-image",imageHolder:"cdx-simple-image__picture",caption:"cdx-simple-image__caption"},this.nodes={wrapper:null,imageHolder:null,image:null,caption:null},this.data={url:i.url||"",caption:i.caption||"",withBorder:void 0!==i.withBorder&&i.withBorder,withBackground:void 0!==i.withBackground&&i.withBackground,stretched:void 0!==i.stretched&&i.stretched},this.tunes=[{name:"withBorder",label:"Add Border",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>'},{name:"stretched",label:"Stretch Image",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>'},{name:"withBackground",label:"Add Background",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>'}]}var t,i,o;return t=e,o=[{key:"sanitize",get:function(){return{url:{},withBorder:{},withBackground:{},stretched:{},caption:{br:!0}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|webp)$/i},tags:[{img:{src:!0}}],files:{mimeTypes:["image/*"]}}}}],(i=[{key:"render",value:function(){var e=this,t=this._make("div",[this.CSS.baseClass,this.CSS.wrapper]),i=this._make("div",this.CSS.loading),n=this._make("div",this.CSS.imageHolder),s=this._make("img"),o=this._make("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption||""});return o.dataset.placeholder="Enter a caption",t.appendChild(i),this.data.url&&(s.src=this.data.url),s.onload=function(){t.classList.remove(e.CSS.loading),n.appendChild(s),t.appendChild(n),t.appendChild(o),i.remove(),e._acceptTuneView()},s.onerror=function(e){console.log("Failed to load an image",e)},this.nodes.imageHolder=n,this.nodes.wrapper=t,this.nodes.image=s,this.nodes.caption=o,t}},{key:"save",value:function(e){var t=e.querySelector("img"),i=e.querySelector("."+this.CSS.input);return t?Object.assign(this.data,{url:t.src,caption:i.innerHTML}):this.data}},{key:"onDropHandler",value:function(e){var t=new FileReader;return t.readAsDataURL(e),new Promise((function(i){t.onload=function(t){i({url:t.target.result,caption:e.name})}}))}},{key:"onPaste",value:function(e){var t=this;switch(e.type){case"tag":var i=e.detail.data;this.data={url:i.src};break;case"pattern":var n=e.detail.data;this.data={url:n};break;case"file":var s=e.detail.file;this.onDropHandler(s).then((function(e){t.data=e}))}}},{key:"renderSettings",value:function(){var e=this;return this.tunes.map((function(t){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),s.forEach((function(t){n(e,t,i[t])}))}return e}({},t,{label:e.api.i18n.t(t.label),toggle:!0,onActivate:function(){return e._toggleTune(t.name)},isActive:!!e.data[t.name]})}))}},{key:"_make",value:function(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=document.createElement(e);for(var o in Array.isArray(i)?(t=s.classList).add.apply(t,function(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(i)):i&&s.classList.add(i),n)s[o]=n[o];return s}},{key:"_toggleTune",value:function(e){this.data[e]=!this.data[e],this._acceptTuneView()}},{key:"_acceptTuneView",value:function(){var e=this;this.tunes.forEach((function(t){e.nodes.imageHolder.classList.toggle(e.CSS.imageHolder+"--"+t.name.replace(/([A-Z])/g,(function(e){return"-".concat(e[0].toLowerCase())})),!!e.data[t.name]),"stretched"===t.name&&e.api.blocks.stretchBlock(e.blockIndex,!!e.data.stretched)}))}},{key:"data",get:function(){return this._data},set:function(e){this._data=Object.assign({},this.data,e),this.nodes.image&&(this.nodes.image.src=this.data.url),this.nodes.caption&&(this.nodes.caption.innerHTML=this.data.caption)}}])&&s(t.prototype,i),o&&s(t,o),e}()}]).default},7439:(e,t,i)=>{"use strict";var n=i(4560);e.exports=function(e,t){return void 0===t&&(t=!1),function(i,s,o){if(i)e(i);else if(s.statusCode>=400&&s.statusCode<=599){var r=o;if(t)if(n.TextDecoder){var a=(void 0===(l=s.headers&&s.headers["content-type"])&&(l=""),l.toLowerCase().split(";").reduce((function(e,t){var i=t.split("="),n=i[0],s=i[1];return"charset"===n.trim()?s.trim():e}),"utf-8"));try{r=new TextDecoder(a).decode(o)}catch(e){}}else r=String.fromCharCode.apply(null,new Uint8Array(o));e({cause:r})}else e(null,o);var l}}},129:(e,t,i)=>{"use strict";var n=i(4560),s=i(2754),o=i(8125);l.httpHandler=i(7439);var r=function(e){var t={};return e?(e.trim().split("\n").forEach((function(e){var i=e.indexOf(":"),n=e.slice(0,i).trim().toLowerCase(),s=e.slice(i+1).trim();void 0===t[n]?t[n]=s:Array.isArray(t[n])?t[n].push(s):t[n]=[t[n],s]})),t):t};function a(e,t,i){var n=e;return o(t)?(i=t,"string"==typeof e&&(n={uri:e})):n=s({},t,{uri:e}),n.callback=i,n}function l(e,t,i){return c(t=a(e,t,i))}function c(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,i=function(i,n,s){t||(t=!0,e.callback(i,n,s))};function n(){var e=void 0;if(e=d.response?d.response:d.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}(d),v)try{e=JSON.parse(e)}catch(e){}return e}function s(e){return clearTimeout(u),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,i(e,y)}function o(){if(!c){var t;clearTimeout(u),t=e.useXDR&&void 0===d.status?200:1223===d.status?204:d.status;var s=y,o=null;return 0!==t?(s={body:n(),statusCode:t,method:p,headers:{},url:h,rawRequest:d},d.getAllResponseHeaders&&(s.headers=r(d.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),i(o,s,s.body)}}var a,c,d=e.xhr||null;d||(d=e.cors||e.useXDR?new l.XDomainRequest:new l.XMLHttpRequest);var u,h=d.url=e.uri||e.url,p=d.method=e.method||"GET",f=e.body||e.data,m=d.headers=e.headers||{},g=!!e.sync,v=!1,y={body:void 0,headers:{},statusCode:0,method:p,url:h,rawRequest:d};if("json"in e&&!1!==e.json&&(v=!0,m.accept||m.Accept||(m.Accept="application/json"),"GET"!==p&&"HEAD"!==p&&(m["content-type"]||m["Content-Type"]||(m["Content-Type"]="application/json"),f=JSON.stringify(!0===e.json?f:e.json))),d.onreadystatechange=function(){4===d.readyState&&setTimeout(o,0)},d.onload=o,d.onerror=s,d.onprogress=function(){},d.onabort=function(){c=!0},d.ontimeout=s,d.open(p,h,!g,e.username,e.password),g||(d.withCredentials=!!e.withCredentials),!g&&e.timeout>0&&(u=setTimeout((function(){if(!c){c=!0,d.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",s(e)}}),e.timeout)),d.setRequestHeader)for(a in m)m.hasOwnProperty(a)&&d.setRequestHeader(a,m[a]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(d.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(d),d.send(f||null),d}e.exports=l,e.exports.default=l,l.XMLHttpRequest=n.XMLHttpRequest||function(){},l.XDomainRequest="withCredentials"in new l.XMLHttpRequest?l.XMLHttpRequest:n.XDomainRequest,function(e,t){for(var i=0;i<e.length;i++)t(e[i])}(["get","put","post","patch","head","delete"],(function(e){l["delete"===e?"del":e]=function(t,i,n){return(i=a(t,i,n)).method=e.toUpperCase(),c(i)}}))},739:(e,t,i)=>{"use strict";i.r(t),i.d(t,{BASE_TRANSITION:()=>u,CAMELIZE:()=>j,CAPITALIZE:()=>B,CREATE_BLOCK:()=>p,CREATE_COMMENT:()=>v,CREATE_ELEMENT_BLOCK:()=>f,CREATE_ELEMENT_VNODE:()=>g,CREATE_SLOTS:()=>E,CREATE_STATIC:()=>b,CREATE_TEXT:()=>y,CREATE_VNODE:()=>m,DOMDirectiveTransforms:()=>En,DOMNodeTransforms:()=>Cn,FRAGMENT:()=>a,GUARD_REACTIVE_PROPS:()=>P,IS_MEMO_SAME:()=>$,IS_REF:()=>V,KEEP_ALIVE:()=>d,MERGE_PROPS:()=>I,NORMALIZE_CLASS:()=>M,NORMALIZE_PROPS:()=>D,NORMALIZE_STYLE:()=>O,OPEN_BLOCK:()=>h,POP_SCOPE_ID:()=>F,PUSH_SCOPE_ID:()=>U,RENDER_LIST:()=>T,RENDER_SLOT:()=>C,RESOLVE_COMPONENT:()=>_,RESOLVE_DIRECTIVE:()=>w,RESOLVE_DYNAMIC_COMPONENT:()=>x,RESOLVE_FILTER:()=>k,SET_BLOCK_TRACKING:()=>N,SUSPENSE:()=>c,TELEPORT:()=>l,TO_DISPLAY_STRING:()=>A,TO_HANDLERS:()=>L,TO_HANDLER_KEY:()=>R,TRANSITION:()=>hn,TRANSITION_GROUP:()=>pn,TS_NODE_TYPES:()=>ni,UNREF:()=>H,V_MODEL_CHECKBOX:()=>on,V_MODEL_DYNAMIC:()=>ln,V_MODEL_RADIO:()=>sn,V_MODEL_SELECT:()=>an,V_MODEL_TEXT:()=>rn,V_ON_WITH_KEYS:()=>dn,V_ON_WITH_MODIFIERS:()=>cn,V_SHOW:()=>un,WITH_CTX:()=>z,WITH_DIRECTIVES:()=>S,WITH_MEMO:()=>q,advancePositionWithClone:()=>Ae,advancePositionWithMutation:()=>Ie,assert:()=>Me,baseCompile:()=>tn,baseParse:()=>et,buildDirectiveArgs:()=>Li,buildProps:()=>Oi,buildSlots:()=>Si,checkCompatEnabled:()=>Xe,compile:()=>An,convertToBlock:()=>me,createArrayExpression:()=>Q,createAssignmentExpression:()=>de,createBlockStatement:()=>ae,createCacheExpression:()=>re,createCallExpression:()=>ne,createCompilerError:()=>r,createCompoundExpression:()=>ie,createConditionalExpression:()=>oe,createDOMCompilerError:()=>bn,createForLoopParams:()=>bi,createFunctionExpression:()=>se,createIfStatement:()=>ce,createInterpolation:()=>te,createObjectExpression:()=>Z,createObjectProperty:()=>J,createReturnStatement:()=>he,createRoot:()=>X,createSequenceExpression:()=>ue,createSimpleExpression:()=>ee,createStructuralDirectiveTransform:()=>Rt,createTemplateLiteral:()=>le,createTransformContext:()=>Lt,createVNodeCall:()=>K,extractIdentifiers:()=>Jt,findDir:()=>Oe,findProp:()=>De,generate:()=>Ft,generateCodeFrame:()=>n.generateCodeFrame,getBaseTransformPreset:()=>en,getConstantType:()=>At,getInnerRange:()=>Ee,getMemoedVNodeCall:()=>$e,getVNodeBlockHelper:()=>fe,getVNodeHelper:()=>pe,hasDynamicKeyVBind:()=>Le,hasScopeRef:()=>qe,helperNameMap:()=>W,injectProp:()=>ze,isBuiltInType:()=>ve,isCoreComponent:()=>ye,isFunctionType:()=>ei,isInDestructureAssignment:()=>Kt,isMemberExpression:()=>Ce,isMemberExpressionBrowser:()=>Se,isMemberExpressionNode:()=>Te,isReferencedIdentifier:()=>Xt,isSimpleIdentifier:()=>_e,isSlotOutlet:()=>Ne,isStaticArgOf:()=>Pe,isStaticExp:()=>ge,isStaticProperty:()=>ti,isStaticPropertyKey:()=>ii,isTemplateNode:()=>Re,isText:()=>je,isVSlot:()=>Be,locStub:()=>Y,noopDirectiveTransform:()=>nn,parse:()=>In,parserOptions:()=>gn,processExpression:()=>oi,processFor:()=>pi,processIf:()=>li,processSlotOutlet:()=>Ri,registerRuntimeHelpers:()=>G,resolveComponentType:()=>Mi,stringifyExpression:()=>ri,toValidAssetId:()=>Ve,trackSlotScopes:()=>xi,trackVForSlotScopes:()=>wi,transform:()=>jt,transformBind:()=>Fi,transformElement:()=>Ii,transformExpression:()=>si,transformModel:()=>$i,transformOn:()=>Ui,transformStyle:()=>vn,traverseNode:()=>Bt,walkBlockDeclarations:()=>Zt,walkFunctionParams:()=>Qt,walkIdentifiers:()=>Yt,warnDeprecation:()=>Ke});var n=i(171);function s(e){throw e}function o(e){}function r(e,t,i,n){const s=new SyntaxError(String(e));return s.code=e,s.loc=t,s}const a=Symbol(""),l=Symbol(""),c=Symbol(""),d=Symbol(""),u=Symbol(""),h=Symbol(""),p=Symbol(""),f=Symbol(""),m=Symbol(""),g=Symbol(""),v=Symbol(""),y=Symbol(""),b=Symbol(""),_=Symbol(""),x=Symbol(""),w=Symbol(""),k=Symbol(""),S=Symbol(""),T=Symbol(""),C=Symbol(""),E=Symbol(""),A=Symbol(""),I=Symbol(""),M=Symbol(""),O=Symbol(""),D=Symbol(""),P=Symbol(""),L=Symbol(""),j=Symbol(""),B=Symbol(""),R=Symbol(""),N=Symbol(""),U=Symbol(""),F=Symbol(""),z=Symbol(""),H=Symbol(""),V=Symbol(""),q=Symbol(""),$=Symbol(""),W={[a]:"Fragment",[l]:"Teleport",[c]:"Suspense",[d]:"KeepAlive",[u]:"BaseTransition",[h]:"openBlock",[p]:"createBlock",[f]:"createElementBlock",[m]:"createVNode",[g]:"createElementVNode",[v]:"createCommentVNode",[y]:"createTextVNode",[b]:"createStaticVNode",[_]:"resolveComponent",[x]:"resolveDynamicComponent",[w]:"resolveDirective",[k]:"resolveFilter",[S]:"withDirectives",[T]:"renderList",[C]:"renderSlot",[E]:"createSlots",[A]:"toDisplayString",[I]:"mergeProps",[M]:"normalizeClass",[O]:"normalizeStyle",[D]:"normalizeProps",[P]:"guardReactiveProps",[L]:"toHandlers",[j]:"camelize",[B]:"capitalize",[R]:"toHandlerKey",[N]:"setBlockTracking",[U]:"pushScopeId",[F]:"popScopeId",[z]:"withCtx",[H]:"unref",[V]:"isRef",[q]:"withMemo",[$]:"isMemoSame"};function G(e){Object.getOwnPropertySymbols(e).forEach((t=>{W[t]=e[t]}))}const Y={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function X(e,t=Y){return{type:0,children:e,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:t}}function K(e,t,i,n,s,o,r,a=!1,l=!1,c=!1,d=Y){return e&&(a?(e.helper(h),e.helper(fe(e.inSSR,c))):e.helper(pe(e.inSSR,c)),r&&e.helper(S)),{type:13,tag:t,props:i,children:n,patchFlag:s,dynamicProps:o,directives:r,isBlock:a,disableTracking:l,isComponent:c,loc:d}}function Q(e,t=Y){return{type:17,loc:t,elements:e}}function Z(e,t=Y){return{type:15,loc:t,properties:e}}function J(e,t){return{type:16,loc:Y,key:(0,n.isString)(e)?ee(e,!0):e,value:t}}function ee(e,t=!1,i=Y,n=0){return{type:4,loc:i,content:e,isStatic:t,constType:t?3:n}}function te(e,t){return{type:5,loc:t,content:(0,n.isString)(e)?ee(e,!1,t):e}}function ie(e,t=Y){return{type:8,loc:t,children:e}}function ne(e,t=[],i=Y){return{type:14,loc:i,callee:e,arguments:t}}function se(e,t=void 0,i=!1,n=!1,s=Y){return{type:18,params:e,returns:t,newline:i,isSlot:n,loc:s}}function oe(e,t,i,n=!0){return{type:19,test:e,consequent:t,alternate:i,newline:n,loc:Y}}function re(e,t,i=!1){return{type:20,index:e,value:t,isVNode:i,loc:Y}}function ae(e){return{type:21,body:e,loc:Y}}function le(e){return{type:22,elements:e,loc:Y}}function ce(e,t,i){return{type:23,test:e,consequent:t,alternate:i,loc:Y}}function de(e,t){return{type:24,left:e,right:t,loc:Y}}function ue(e){return{type:25,expressions:e,loc:Y}}function he(e){return{type:26,returns:e,loc:Y}}function pe(e,t){return e||t?m:g}function fe(e,t){return e||t?p:f}function me(e,{helper:t,removeHelper:i,inSSR:n}){e.isBlock||(e.isBlock=!0,i(pe(n,e.isComponent)),t(h),t(fe(n,e.isComponent)))}const ge=e=>4===e.type&&e.isStatic,ve=(e,t)=>e===t||e===(0,n.hyphenate)(t);function ye(e){return ve(e,"Teleport")?l:ve(e,"Suspense")?c:ve(e,"KeepAlive")?d:ve(e,"BaseTransition")?u:void 0}const be=/^\d|[^\$\w]/,_e=e=>!be.test(e),xe=/[A-Za-z_$\xA0-\uFFFF]/,we=/[\.\?\w$\xA0-\uFFFF]/,ke=/\s+[.[]\s*|\s*[.[]\s+/g,Se=e=>{e=e.trim().replace(ke,(e=>e.trim()));let t=0,i=[],n=0,s=0,o=null;for(let r=0;r<e.length;r++){const a=e.charAt(r);switch(t){case 0:if("["===a)i.push(t),t=1,n++;else if("("===a)i.push(t),t=2,s++;else if(!(0===r?xe:we).test(a))return!1;break;case 1:"'"===a||'"'===a||"`"===a?(i.push(t),t=3,o=a):"["===a?n++:"]"===a&&(--n||(t=i.pop()));break;case 2:if("'"===a||'"'===a||"`"===a)i.push(t),t=3,o=a;else if("("===a)s++;else if(")"===a){if(r===e.length-1)return!1;--s||(t=i.pop())}break;case 3:a===o&&(t=i.pop(),o=null)}}return!n&&!s},Te=n.NOOP,Ce=Se;function Ee(e,t,i){const n={source:e.source.slice(t,t+i),start:Ae(e.start,e.source,t),end:e.end};return null!=i&&(n.end=Ae(e.start,e.source,t+i)),n}function Ae(e,t,i=t.length){return Ie((0,n.extend)({},e),t,i)}function Ie(e,t,i=t.length){let n=0,s=-1;for(let e=0;e<i;e++)10===t.charCodeAt(e)&&(n++,s=e);return e.offset+=i,e.line+=n,e.column=-1===s?e.column+i:i-s,e}function Me(e,t){if(!e)throw new Error(t||"unexpected compiler condition")}function Oe(e,t,i=!1){for(let s=0;s<e.props.length;s++){const o=e.props[s];if(7===o.type&&(i||o.exp)&&((0,n.isString)(t)?o.name===t:t.test(o.name)))return o}}function De(e,t,i=!1,n=!1){for(let s=0;s<e.props.length;s++){const o=e.props[s];if(6===o.type){if(i)continue;if(o.name===t&&(o.value||n))return o}else if("bind"===o.name&&(o.exp||n)&&Pe(o.arg,t))return o}}function Pe(e,t){return!(!e||!ge(e)||e.content!==t)}function Le(e){return e.props.some((e=>!(7!==e.type||"bind"!==e.name||e.arg&&4===e.arg.type&&e.arg.isStatic)))}function je(e){return 5===e.type||2===e.type}function Be(e){return 7===e.type&&"slot"===e.name}function Re(e){return 1===e.type&&3===e.tagType}function Ne(e){return 1===e.type&&2===e.tagType}const Ue=new Set([D,P]);function Fe(e,t=[]){if(e&&!(0,n.isString)(e)&&14===e.type){const i=e.callee;if(!(0,n.isString)(i)&&Ue.has(i))return Fe(e.arguments[0],t.concat(e))}return[e,t]}function ze(e,t,i){let s,o,r=13===e.type?e.props:e.arguments[2],a=[];if(r&&!(0,n.isString)(r)&&14===r.type){const e=Fe(r);r=e[0],a=e[1],o=a[a.length-1]}if(null==r||(0,n.isString)(r))s=Z([t]);else if(14===r.type){const e=r.arguments[0];(0,n.isString)(e)||15!==e.type?r.callee===L?s=ne(i.helper(I),[Z([t]),r]):r.arguments.unshift(Z([t])):He(t,e)||e.properties.unshift(t),!s&&(s=r)}else 15===r.type?(He(t,r)||r.properties.unshift(t),s=r):(s=ne(i.helper(I),[Z([t]),r]),o&&o.callee===P&&(o=a[a.length-2]));13===e.type?o?o.arguments[0]=s:e.props=s:o?o.arguments[0]=s:e.arguments[2]=s}function He(e,t){let i=!1;if(4===e.key.type){const n=e.key.content;i=t.properties.some((e=>4===e.key.type&&e.key.content===n))}return i}function Ve(e,t){return`_${t}_${e.replace(/[^\w]/g,((t,i)=>"-"===t?"_":e.charCodeAt(i).toString()))}`}function qe(e,t){if(!e||0===Object.keys(t).length)return!1;switch(e.type){case 1:for(let i=0;i<e.props.length;i++){const n=e.props[i];if(7===n.type&&(qe(n.arg,t)||qe(n.exp,t)))return!0}return e.children.some((e=>qe(e,t)));case 11:return!!qe(e.source,t)||e.children.some((e=>qe(e,t)));case 9:return e.branches.some((e=>qe(e,t)));case 10:return!!qe(e.condition,t)||e.children.some((e=>qe(e,t)));case 4:return!e.isStatic&&_e(e.content)&&!!t[e.content];case 8:return e.children.some((e=>(0,n.isObject)(e)&&qe(e,t)));case 5:case 12:return qe(e.content,t);default:return!1}}function $e(e){return 14===e.type&&e.callee===q?e.arguments[1].returns:e}const We={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:e=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${e}.sync\` should be changed to \`v-model:${e}\`.`,link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},COMPILER_V_BIND_PROP:{message:".prop modifier for v-bind has been removed and no longer necessary. Vue 3 will automatically set a binding as DOM property when appropriate."},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3-migration.vuejs.org/breaking-changes/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html"},COMPILER_FILTER:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"}};function Ge(e,t){const i=t.options?t.options.compatConfig:t.compatConfig,n=i&&i[e];return"MODE"===e?n||3:n}function Ye(e,t){const i=Ge("MODE",t),n=Ge(e,t);return 3===i?!0===n:!1!==n}function Xe(e,t,i,...n){return Ye(e,t)}function Ke(e,t,i,...n){if("suppress-warning"===Ge(e,t))return;const{message:s,link:o}=We[e],r=`(deprecation ${e}) ${"function"==typeof s?s(...n):s}${o?`\n  Details: ${o}`:""}`,a=new SyntaxError(r);a.code=e,i&&(a.loc=i),t.onWarn(a)}const Qe=/&(gt|lt|amp|apos|quot);/g,Ze={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},Je={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:n.NO,isPreTag:n.NO,isCustomElement:n.NO,decodeEntities:e=>e.replace(Qe,((e,t)=>Ze[t])),onError:s,onWarn:o,comments:!1};function et(e,t={}){const i=function(e,t){const i=(0,n.extend)({},Je);let s;for(s in t)i[s]=void 0===t[s]?Je[s]:t[s];return{options:i,column:1,line:1,offset:0,originalSource:e,source:e,inPre:!1,inVPre:!1,onWarn:i.onWarn}}(e,t),s=mt(i);return X(tt(i,0,[]),gt(i,s))}function tt(e,t,i){const s=vt(i),o=s?s.ns:0,r=[];for(;!kt(e,t,i);){const a=e.source;let l;if(0===t||1===t)if(!e.inVPre&&yt(a,e.options.delimiters[0]))l=ht(e,t);else if(0===t&&"<"===a[0])if(1===a.length)wt(e,5,1);else if("!"===a[1])yt(a,"\x3c!--")?l=st(e):yt(a,"<!DOCTYPE")?l=ot(e):yt(a,"<![CDATA[")?0!==o?l=nt(e,i):(wt(e,1),l=ot(e)):(wt(e,11),l=ot(e));else if("/"===a[1])if(2===a.length)wt(e,5,2);else{if(">"===a[2]){wt(e,14,2),bt(e,3);continue}if(/[a-z]/i.test(a[2])){wt(e,23),ct(e,at.End,s);continue}wt(e,12,2),l=ot(e)}else/[a-z]/i.test(a[1])?(l=rt(e,i),Ye("COMPILER_NATIVE_TEMPLATE",e)&&l&&"template"===l.tag&&!l.props.some((e=>7===e.type&&lt(e.name)))&&(l=l.children)):"?"===a[1]?(wt(e,21,1),l=ot(e)):wt(e,12,1);if(l||(l=pt(e,t)),(0,n.isArray)(l))for(let e=0;e<l.length;e++)it(r,l[e]);else it(r,l)}let a=!1;if(2!==t&&1!==t){const t="preserve"!==e.options.whitespace;for(let i=0;i<r.length;i++){const n=r[i];if(2===n.type)if(e.inPre)n.content=n.content.replace(/\r\n/g,"\n");else if(/[^\t\r\n\f ]/.test(n.content))t&&(n.content=n.content.replace(/[\t\r\n\f ]+/g," "));else{const e=r[i-1],s=r[i+1];!e||!s||t&&(3===e.type&&3===s.type||3===e.type&&1===s.type||1===e.type&&3===s.type||1===e.type&&1===s.type&&/[\r\n]/.test(n.content))?(a=!0,r[i]=null):n.content=" "}else 3!==n.type||e.options.comments||(a=!0,r[i]=null)}if(e.inPre&&s&&e.options.isPreTag(s.tag)){const e=r[0];e&&2===e.type&&(e.content=e.content.replace(/^\r?\n/,""))}}return a?r.filter(Boolean):r}function it(e,t){if(2===t.type){const i=vt(e);if(i&&2===i.type&&i.loc.end.offset===t.loc.start.offset)return i.content+=t.content,i.loc.end=t.loc.end,void(i.loc.source+=t.loc.source)}e.push(t)}function nt(e,t){bt(e,9);const i=tt(e,3,t);return 0===e.source.length?wt(e,6):bt(e,3),i}function st(e){const t=mt(e);let i;const n=/--(\!)?>/.exec(e.source);if(n){n.index<=3&&wt(e,0),n[1]&&wt(e,10),i=e.source.slice(4,n.index);const t=e.source.slice(0,n.index);let s=1,o=0;for(;-1!==(o=t.indexOf("\x3c!--",s));)bt(e,o-s+1),o+4<t.length&&wt(e,16),s=o+1;bt(e,n.index+n[0].length-s+1)}else i=e.source.slice(4),bt(e,e.source.length),wt(e,7);return{type:3,content:i,loc:gt(e,t)}}function ot(e){const t=mt(e),i="?"===e.source[1]?1:2;let n;const s=e.source.indexOf(">");return-1===s?(n=e.source.slice(i),bt(e,e.source.length)):(n=e.source.slice(i,s),bt(e,s+1)),{type:3,content:n,loc:gt(e,t)}}function rt(e,t){const i=e.inPre,n=e.inVPre,s=vt(t),o=ct(e,at.Start,s),r=e.inPre&&!i,a=e.inVPre&&!n;if(o.isSelfClosing||e.options.isVoidTag(o.tag))return r&&(e.inPre=!1),a&&(e.inVPre=!1),o;t.push(o);const l=e.options.getTextMode(o,s),c=tt(e,l,t);t.pop();{const t=o.props.find((e=>6===e.type&&"inline-template"===e.name));if(t&&Xe("COMPILER_INLINE_TEMPLATE",e,t.loc)){const i=gt(e,o.loc.end);t.value={type:2,content:i.source,loc:i}}}if(o.children=c,St(e.source,o.tag))ct(e,at.End,s);else if(wt(e,24,0,o.loc.start),0===e.source.length&&"script"===o.tag.toLowerCase()){const t=c[0];t&&yt(t.loc.source,"\x3c!--")&&wt(e,8)}return o.loc=gt(e,o.loc.start),r&&(e.inPre=!1),a&&(e.inVPre=!1),o}var at=(e=>(e[e.Start=0]="Start",e[e.End=1]="End",e))(at||{});const lt=(0,n.makeMap)("if,else,else-if,for,slot");function ct(e,t,i){const s=mt(e),o=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(e.source),r=o[1],a=e.options.getNamespace(r,i);bt(e,o[0].length),_t(e);const l=mt(e),c=e.source;e.options.isPreTag(r)&&(e.inPre=!0);let d=dt(e,t);0===t&&!e.inVPre&&d.some((e=>7===e.type&&"pre"===e.name))&&(e.inVPre=!0,(0,n.extend)(e,l),e.source=c,d=dt(e,t).filter((e=>"v-pre"!==e.name)));let u=!1;if(0===e.source.length?wt(e,9):(u=yt(e.source,"/>"),1===t&&u&&wt(e,4),bt(e,u?2:1)),1===t)return;let h=0;return e.inVPre||("slot"===r?h=2:"template"===r?d.some((e=>7===e.type&&lt(e.name)))&&(h=3):function(e,t,i){const n=i.options;if(n.isCustomElement(e))return!1;if("component"===e||/^[A-Z]/.test(e)||ye(e)||n.isBuiltInComponent&&n.isBuiltInComponent(e)||n.isNativeTag&&!n.isNativeTag(e))return!0;for(let e=0;e<t.length;e++){const n=t[e];if(6===n.type){if("is"===n.name&&n.value){if(n.value.content.startsWith("vue:"))return!0;if(Xe("COMPILER_IS_ON_ELEMENT",i,n.loc))return!0}}else{if("is"===n.name)return!0;if("bind"===n.name&&Pe(n.arg,"is")&&Xe("COMPILER_IS_ON_ELEMENT",i,n.loc))return!0}}}(r,d,e)&&(h=1)),{type:1,ns:a,tag:r,tagType:h,props:d,isSelfClosing:u,children:[],loc:gt(e,s),codegenNode:void 0}}function dt(e,t){const i=[],n=new Set;for(;e.source.length>0&&!yt(e.source,">")&&!yt(e.source,"/>");){if(yt(e.source,"/")){wt(e,22),bt(e,1),_t(e);continue}1===t&&wt(e,3);const s=ut(e,n);6===s.type&&s.value&&"class"===s.name&&(s.value.content=s.value.content.replace(/\s+/g," ").trim()),0===t&&i.push(s),/^[^\t\r\n\f />]/.test(e.source)&&wt(e,15),_t(e)}return i}function ut(e,t){var i;const n=mt(e),s=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(e.source)[0];t.has(s)&&wt(e,2),t.add(s),"="===s[0]&&wt(e,19);{const t=/["'<]/g;let i;for(;i=t.exec(s);)wt(e,17,i.index)}let o;bt(e,s.length),/^[\t\r\n\f ]*=/.test(e.source)&&(_t(e),bt(e,1),_t(e),o=function(e){const t=mt(e);let i;const n=e.source[0],s='"'===n||"'"===n;if(s){bt(e,1);const t=e.source.indexOf(n);-1===t?i=ft(e,e.source.length,4):(i=ft(e,t,4),bt(e,1))}else{const t=/^[^\t\r\n\f >]+/.exec(e.source);if(!t)return;const n=/["'<=`]/g;let s;for(;s=n.exec(t[0]);)wt(e,18,s.index);i=ft(e,t[0].length,4)}return{content:i,isQuoted:s,loc:gt(e,t)}}(e),o||wt(e,13));const r=gt(e,n);if(!e.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(s)){const t=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(s);let a,l=yt(s,"."),c=t[1]||(l||yt(s,":")?"bind":yt(s,"@")?"on":"slot");if(t[2]){const o="slot"===c,r=s.lastIndexOf(t[2],s.length-((null==(i=t[3])?void 0:i.length)||0)),l=gt(e,xt(e,n,r),xt(e,n,r+t[2].length+(o&&t[3]||"").length));let d=t[2],u=!0;d.startsWith("[")?(u=!1,d.endsWith("]")?d=d.slice(1,d.length-1):(wt(e,27),d=d.slice(1))):o&&(d+=t[3]||""),a={type:4,content:d,isStatic:u,constType:u?3:0,loc:l}}if(o&&o.isQuoted){const e=o.loc;e.start.offset++,e.start.column++,e.end=Ae(e.start,o.content),e.source=e.source.slice(1,-1)}const d=t[3]?t[3].slice(1).split("."):[];return l&&d.push("prop"),"bind"===c&&a&&d.includes("sync")&&Xe("COMPILER_V_BIND_SYNC",e,0,a.loc.source)&&(c="model",d.splice(d.indexOf("sync"),1)),{type:7,name:c,exp:o&&{type:4,content:o.content,isStatic:!1,constType:0,loc:o.loc},arg:a,modifiers:d,loc:r}}return!e.inVPre&&yt(s,"v-")&&wt(e,26),{type:6,name:s,value:o&&{type:2,content:o.content,loc:o.loc},loc:r}}function ht(e,t){const[i,n]=e.options.delimiters,s=e.source.indexOf(n,i.length);if(-1===s)return void wt(e,25);const o=mt(e);bt(e,i.length);const r=mt(e),a=mt(e),l=s-i.length,c=e.source.slice(0,l),d=ft(e,l,t),u=d.trim(),h=d.indexOf(u);return h>0&&Ie(r,c,h),Ie(a,c,l-(d.length-u.length-h)),bt(e,n.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:u,loc:gt(e,r,a)},loc:gt(e,o)}}function pt(e,t){const i=3===t?["]]>"]:["<",e.options.delimiters[0]];let n=e.source.length;for(let t=0;t<i.length;t++){const s=e.source.indexOf(i[t],1);-1!==s&&n>s&&(n=s)}const s=mt(e);return{type:2,content:ft(e,n,t),loc:gt(e,s)}}function ft(e,t,i){const n=e.source.slice(0,t);return bt(e,t),2!==i&&3!==i&&n.includes("&")?e.options.decodeEntities(n,4===i):n}function mt(e){const{column:t,line:i,offset:n}=e;return{column:t,line:i,offset:n}}function gt(e,t,i){return{start:t,end:i=i||mt(e),source:e.originalSource.slice(t.offset,i.offset)}}function vt(e){return e[e.length-1]}function yt(e,t){return e.startsWith(t)}function bt(e,t){const{source:i}=e;Ie(e,i,t),e.source=i.slice(t)}function _t(e){const t=/^[\t\r\n\f ]+/.exec(e.source);t&&bt(e,t[0].length)}function xt(e,t,i){return Ae(t,e.originalSource.slice(t.offset,i),i)}function wt(e,t,i,n=mt(e)){i&&(n.offset+=i,n.column+=i),e.options.onError(r(t,{start:n,end:n,source:""}))}function kt(e,t,i){const n=e.source;switch(t){case 0:if(yt(n,"</"))for(let e=i.length-1;e>=0;--e)if(St(n,i[e].tag))return!0;break;case 1:case 2:{const e=vt(i);if(e&&St(n,e.tag))return!0;break}case 3:if(yt(n,"]]>"))return!0}return!n}function St(e,t){return yt(e,"</")&&e.slice(2,2+t.length).toLowerCase()===t.toLowerCase()&&/[\t\r\n\f />]/.test(e[2+t.length]||">")}function Tt(e,t){Et(e,t,Ct(e,e.children[0]))}function Ct(e,t){const{children:i}=e;return 1===i.length&&1===t.type&&!Ne(t)}function Et(e,t,i=!1){const{children:s}=e,o=s.length;let r=0;for(let e=0;e<s.length;e++){const n=s[e];if(1===n.type&&0===n.tagType){const e=i?0:At(n,t);if(e>0){if(e>=2){n.codegenNode.patchFlag="-1",n.codegenNode=t.hoist(n.codegenNode),r++;continue}}else{const e=n.codegenNode;if(13===e.type){const i=Pt(e);if((!i||512===i||1===i)&&Ot(n,t)>=2){const i=Dt(n);i&&(e.props=t.hoist(i))}e.dynamicProps&&(e.dynamicProps=t.hoist(e.dynamicProps))}}}if(1===n.type){const e=1===n.tagType;e&&t.scopes.vSlot++,Et(n,t),e&&t.scopes.vSlot--}else if(11===n.type)Et(n,t,1===n.children.length);else if(9===n.type)for(let e=0;e<n.branches.length;e++)Et(n.branches[e],t,1===n.branches[e].children.length)}r&&t.transformHoist&&t.transformHoist(s,t,e),r&&r===o&&1===e.type&&0===e.tagType&&e.codegenNode&&13===e.codegenNode.type&&(0,n.isArray)(e.codegenNode.children)&&(e.codegenNode.children=t.hoist(Q(e.codegenNode.children)))}function At(e,t){const{constantCache:i}=t;switch(e.type){case 1:if(0!==e.tagType)return 0;const s=i.get(e);if(void 0!==s)return s;const o=e.codegenNode;if(13!==o.type)return 0;if(o.isBlock&&"svg"!==e.tag&&"foreignObject"!==e.tag)return 0;if(Pt(o))return i.set(e,0),0;{let n=3;const s=Ot(e,t);if(0===s)return i.set(e,0),0;s<n&&(n=s);for(let s=0;s<e.children.length;s++){const o=At(e.children[s],t);if(0===o)return i.set(e,0),0;o<n&&(n=o)}if(n>1)for(let s=0;s<e.props.length;s++){const o=e.props[s];if(7===o.type&&"bind"===o.name&&o.exp){const s=At(o.exp,t);if(0===s)return i.set(e,0),0;s<n&&(n=s)}}if(o.isBlock){for(let t=0;t<e.props.length;t++)if(7===e.props[t].type)return i.set(e,0),0;t.removeHelper(h),t.removeHelper(fe(t.inSSR,o.isComponent)),o.isBlock=!1,t.helper(pe(t.inSSR,o.isComponent))}return i.set(e,n),n}case 2:case 3:return 3;case 9:case 11:case 10:default:return 0;case 5:case 12:return At(e.content,t);case 4:return e.constType;case 8:let r=3;for(let i=0;i<e.children.length;i++){const s=e.children[i];if((0,n.isString)(s)||(0,n.isSymbol)(s))continue;const o=At(s,t);if(0===o)return 0;o<r&&(r=o)}return r}}const It=new Set([M,O,D,P]);function Mt(e,t){if(14===e.type&&!(0,n.isString)(e.callee)&&It.has(e.callee)){const i=e.arguments[0];if(4===i.type)return At(i,t);if(14===i.type)return Mt(i,t)}return 0}function Ot(e,t){let i=3;const n=Dt(e);if(n&&15===n.type){const{properties:e}=n;for(let n=0;n<e.length;n++){const{key:s,value:o}=e[n],r=At(s,t);if(0===r)return r;let a;if(r<i&&(i=r),a=4===o.type?At(o,t):14===o.type?Mt(o,t):0,0===a)return a;a<i&&(i=a)}}return i}function Dt(e){const t=e.codegenNode;if(13===t.type)return t.props}function Pt(e){const t=e.patchFlag;return t?parseInt(t,10):void 0}function Lt(e,{filename:t="",prefixIdentifiers:i=!1,hoistStatic:r=!1,cacheHandlers:a=!1,nodeTransforms:l=[],directiveTransforms:c={},transformHoist:d=null,isBuiltInComponent:u=n.NOOP,isCustomElement:h=n.NOOP,expressionPlugins:p=[],scopeId:f=null,slotted:m=!0,ssr:g=!1,inSSR:v=!1,ssrCssVars:y="",bindingMetadata:b=n.EMPTY_OBJ,inline:_=!1,isTS:x=!1,onError:w=s,onWarn:k=o,compatConfig:S}){const T=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),C={selfName:T&&(0,n.capitalize)((0,n.camelize)(T[1])),prefixIdentifiers:i,hoistStatic:r,cacheHandlers:a,nodeTransforms:l,directiveTransforms:c,transformHoist:d,isBuiltInComponent:u,isCustomElement:h,expressionPlugins:p,scopeId:f,slotted:m,ssr:g,inSSR:v,ssrCssVars:y,bindingMetadata:b,inline:_,isTS:x,onError:w,onWarn:k,compatConfig:S,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(e){const t=C.helpers.get(e)||0;return C.helpers.set(e,t+1),e},removeHelper(e){const t=C.helpers.get(e);if(t){const i=t-1;i?C.helpers.set(e,i):C.helpers.delete(e)}},helperString:e=>`_${W[C.helper(e)]}`,replaceNode(e){C.parent.children[C.childIndex]=C.currentNode=e},removeNode(e){const t=C.parent.children,i=e?t.indexOf(e):C.currentNode?C.childIndex:-1;e&&e!==C.currentNode?C.childIndex>i&&(C.childIndex--,C.onNodeRemoved()):(C.currentNode=null,C.onNodeRemoved()),C.parent.children.splice(i,1)},onNodeRemoved:()=>{},addIdentifiers(e){},removeIdentifiers(e){},hoist(e){(0,n.isString)(e)&&(e=ee(e)),C.hoists.push(e);const t=ee(`_hoisted_${C.hoists.length}`,!1,e.loc,2);return t.hoisted=e,t},cache:(e,t=!1)=>re(C.cached++,e,t)};return C.filters=new Set,C}function jt(e,t){const i=Lt(e,t);Bt(e,i),t.hoistStatic&&Tt(e,i),t.ssr||function(e,t){const{helper:i}=t,{children:s}=e;if(1===s.length){const i=s[0];if(Ct(e,i)&&i.codegenNode){const n=i.codegenNode;13===n.type&&me(n,t),e.codegenNode=n}else e.codegenNode=i}else if(s.length>1){let s=64;n.PatchFlagNames[64],e.codegenNode=K(t,i(a),void 0,e.children,s+"",void 0,void 0,!0,void 0,!1)}}(e,i),e.helpers=new Set([...i.helpers.keys()]),e.components=[...i.components],e.directives=[...i.directives],e.imports=i.imports,e.hoists=i.hoists,e.temps=i.temps,e.cached=i.cached,e.filters=[...i.filters]}function Bt(e,t){t.currentNode=e;const{nodeTransforms:i}=t,s=[];for(let o=0;o<i.length;o++){const r=i[o](e,t);if(r&&((0,n.isArray)(r)?s.push(...r):s.push(r)),!t.currentNode)return;e=t.currentNode}switch(e.type){case 3:t.ssr||t.helper(v);break;case 5:t.ssr||t.helper(A);break;case 9:for(let i=0;i<e.branches.length;i++)Bt(e.branches[i],t);break;case 10:case 11:case 1:case 0:!function(e,t){let i=0;const s=()=>{i--};for(;i<e.children.length;i++){const o=e.children[i];(0,n.isString)(o)||(t.parent=e,t.childIndex=i,t.onNodeRemoved=s,Bt(o,t))}}(e,t)}t.currentNode=e;let o=s.length;for(;o--;)s[o]()}function Rt(e,t){const i=(0,n.isString)(e)?t=>t===e:t=>e.test(t);return(e,n)=>{if(1===e.type){const{props:s}=e;if(3===e.tagType&&s.some(Be))return;const o=[];for(let r=0;r<s.length;r++){const a=s[r];if(7===a.type&&i(a.name)){s.splice(r,1),r--;const i=t(e,a,n);i&&o.push(i)}}return o}}}const Nt="/*#__PURE__*/",Ut=e=>`${W[e]}: _${W[e]}`;function Ft(e,t={}){const i=function(e,{mode:t="function",prefixIdentifiers:i="module"===t,sourceMap:n=!1,filename:s="template.vue.html",scopeId:o=null,optimizeImports:r=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:d=!1,isTS:u=!1,inSSR:h=!1}){const p={mode:t,prefixIdentifiers:i,sourceMap:n,filename:s,scopeId:o,optimizeImports:r,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:d,isTS:u,inSSR:h,source:e.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper:e=>`_${W[e]}`,push(e,t){p.code+=e},indent(){f(++p.indentLevel)},deindent(e=!1){e?--p.indentLevel:f(--p.indentLevel)},newline(){f(p.indentLevel)}};function f(e){p.push("\n"+"  ".repeat(e))}return p}(e,t);t.onContextCreated&&t.onContextCreated(i);const{mode:n,push:s,prefixIdentifiers:o,indent:r,deindent:a,newline:l,scopeId:c,ssr:d}=i,u=Array.from(e.helpers),h=u.length>0,p=!o&&"module"!==n;if(function(e,t){const{ssr:i,prefixIdentifiers:n,push:s,newline:o,runtimeModuleName:r,runtimeGlobalName:a,ssrRuntimeModuleName:l}=t,c=a,d=Array.from(e.helpers);d.length>0&&(s(`const _Vue = ${c}\n`),e.hoists.length)&&s(`const { ${[m,g,v,y,b].filter((e=>d.includes(e))).map(Ut).join(", ")} } = _Vue\n`),function(e,t){if(!e.length)return;t.pure=!0;const{push:i,newline:n,helper:s,scopeId:o,mode:r}=t;n();for(let s=0;s<e.length;s++){const o=e[s];o&&(i(`const _hoisted_${s+1} = `),qt(o,t),n())}t.pure=!1}(e.hoists,t),o(),s("return ")}(e,i),s(`function ${d?"ssrRender":"render"}(${(d?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ")}) {`),r(),p&&(s("with (_ctx) {"),r(),h&&(s(`const { ${u.map(Ut).join(", ")} } = _Vue`),s("\n"),l())),e.components.length&&(zt(e.components,"component",i),(e.directives.length||e.temps>0)&&l()),e.directives.length&&(zt(e.directives,"directive",i),e.temps>0&&l()),e.filters&&e.filters.length&&(l(),zt(e.filters,"filter",i),l()),e.temps>0){s("let ");for(let t=0;t<e.temps;t++)s(`${t>0?", ":""}_temp${t}`)}return(e.components.length||e.directives.length||e.temps)&&(s("\n"),l()),d||s("return "),e.codegenNode?qt(e.codegenNode,i):s("null"),p&&(a(),s("}")),a(),s("}"),{ast:e,code:i.code,preamble:"",map:i.map?i.map.toJSON():void 0}}function zt(e,t,{helper:i,push:n,newline:s,isTS:o}){const r=i("filter"===t?k:"component"===t?_:w);for(let i=0;i<e.length;i++){let a=e[i];const l=a.endsWith("__self");l&&(a=a.slice(0,-6)),n(`const ${Ve(a,t)} = ${r}(${JSON.stringify(a)}${l?", true":""})${o?"!":""}`),i<e.length-1&&s()}}function Ht(e,t){const i=e.length>3||!1;t.push("["),i&&t.indent(),Vt(e,t,i),i&&t.deindent(),t.push("]")}function Vt(e,t,i=!1,s=!0){const{push:o,newline:r}=t;for(let a=0;a<e.length;a++){const l=e[a];(0,n.isString)(l)?o(l):(0,n.isArray)(l)?Ht(l,t):qt(l,t),a<e.length-1&&(i?(s&&o(","),r()):s&&o(", "))}}function qt(e,t){if((0,n.isString)(e))t.push(e);else if((0,n.isSymbol)(e))t.push(t.helper(e));else switch(e.type){case 1:case 9:case 11:case 12:qt(e.codegenNode,t);break;case 2:!function(e,t){t.push(JSON.stringify(e.content),e)}(e,t);break;case 4:$t(e,t);break;case 5:!function(e,t){const{push:i,helper:n,pure:s}=t;s&&i(Nt),i(`${n(A)}(`),qt(e.content,t),i(")")}(e,t);break;case 8:Wt(e,t);break;case 3:!function(e,t){const{push:i,helper:n,pure:s}=t;s&&i(Nt),i(`${n(v)}(${JSON.stringify(e.content)})`,e)}(e,t);break;case 13:!function(e,t){const{push:i,helper:n,pure:s}=t,{tag:o,props:r,children:a,patchFlag:l,dynamicProps:c,directives:d,isBlock:u,disableTracking:p,isComponent:f}=e;d&&i(n(S)+"("),u&&i(`(${n(h)}(${p?"true":""}), `),s&&i(Nt);i(n(u?fe(t.inSSR,f):pe(t.inSSR,f))+"(",e),Vt(function(e){let t=e.length;for(;t--&&null==e[t];);return e.slice(0,t+1).map((e=>e||"null"))}([o,r,a,l,c]),t),i(")"),u&&i(")"),d&&(i(", "),qt(d,t),i(")"))}(e,t);break;case 14:!function(e,t){const{push:i,helper:s,pure:o}=t,r=(0,n.isString)(e.callee)?e.callee:s(e.callee);o&&i(Nt),i(r+"(",e),Vt(e.arguments,t),i(")")}(e,t);break;case 15:!function(e,t){const{push:i,indent:n,deindent:s,newline:o}=t,{properties:r}=e;if(!r.length)return void i("{}",e);const a=r.length>1||!1;i(a?"{":"{ "),a&&n();for(let e=0;e<r.length;e++){const{key:n,value:s}=r[e];Gt(n,t),i(": "),qt(s,t),e<r.length-1&&(i(","),o())}a&&s(),i(a?"}":" }")}(e,t);break;case 17:!function(e,t){Ht(e.elements,t)}(e,t);break;case 18:!function(e,t){const{push:i,indent:s,deindent:o}=t,{params:r,returns:a,body:l,newline:c,isSlot:d}=e;d&&i(`_${W[z]}(`),i("(",e),(0,n.isArray)(r)?Vt(r,t):r&&qt(r,t),i(") => "),(c||l)&&(i("{"),s()),a?(c&&i("return "),(0,n.isArray)(a)?Ht(a,t):qt(a,t)):l&&qt(l,t),(c||l)&&(o(),i("}")),d&&(e.isNonScopedSlot&&i(", undefined, true"),i(")"))}(e,t);break;case 19:!function(e,t){const{test:i,consequent:n,alternate:s,newline:o}=e,{push:r,indent:a,deindent:l,newline:c}=t;if(4===i.type){const e=!_e(i.content);e&&r("("),$t(i,t),e&&r(")")}else r("("),qt(i,t),r(")");o&&a(),t.indentLevel++,o||r(" "),r("? "),qt(n,t),t.indentLevel--,o&&c(),o||r(" "),r(": ");const d=19===s.type;d||t.indentLevel++,qt(s,t),d||t.indentLevel--,o&&l(!0)}(e,t);break;case 20:!function(e,t){const{push:i,helper:n,indent:s,deindent:o,newline:r}=t;i(`_cache[${e.index}] || (`),e.isVNode&&(s(),i(`${n(N)}(-1),`),r()),i(`_cache[${e.index}] = `),qt(e.value,t),e.isVNode&&(i(","),r(),i(`${n(N)}(1),`),r(),i(`_cache[${e.index}]`),o()),i(")")}(e,t);break;case 21:Vt(e.body,t,!0,!1)}}function $t(e,t){const{content:i,isStatic:n}=e;t.push(n?JSON.stringify(i):i,e)}function Wt(e,t){for(let i=0;i<e.children.length;i++){const s=e.children[i];(0,n.isString)(s)?t.push(s):qt(s,t)}}function Gt(e,t){const{push:i}=t;8===e.type?(i("["),Wt(e,t),i("]")):e.isStatic?i(_e(e.content)?e.content:JSON.stringify(e.content),e):i(`[${e.content}]`,e)}function Yt(e,t,i=!1,n=[],s=Object.create(null)){}function Xt(e,t,i){return!1}function Kt(e,t){if(e&&("ObjectProperty"===e.type||"ArrayPattern"===e.type)){let e=t.length;for(;e--;){const i=t[e];if("AssignmentExpression"===i.type)return!0;if("ObjectProperty"!==i.type&&!i.type.endsWith("Pattern"))break}}return!1}function Qt(e,t){for(const i of e.params)for(const e of Jt(i))t(e)}function Zt(e,t){for(const i of e.body)if("VariableDeclaration"===i.type){if(i.declare)continue;for(const e of i.declarations)for(const i of Jt(e.id))t(i)}else if("FunctionDeclaration"===i.type||"ClassDeclaration"===i.type){if(i.declare||!i.id)continue;t(i.id)}}function Jt(e,t=[]){switch(e.type){case"Identifier":t.push(e);break;case"MemberExpression":let i=e;for(;"MemberExpression"===i.type;)i=i.object;t.push(i);break;case"ObjectPattern":for(const i of e.properties)"RestElement"===i.type?Jt(i.argument,t):Jt(i.value,t);break;case"ArrayPattern":e.elements.forEach((e=>{e&&Jt(e,t)}));break;case"RestElement":Jt(e.argument,t);break;case"AssignmentPattern":Jt(e.left,t)}return t}const ei=e=>/Function(?:Expression|Declaration)$|Method$/.test(e.type),ti=e=>e&&("ObjectProperty"===e.type||"ObjectMethod"===e.type)&&!e.computed,ii=(e,t)=>ti(t)&&t.key===e,ni=["TSAsExpression","TSTypeAssertion","TSNonNullExpression","TSInstantiationExpression","TSSatisfiesExpression"];new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const si=(e,t)=>{if(5===e.type)e.content=oi(e.content,t);else if(1===e.type)for(let i=0;i<e.props.length;i++){const n=e.props[i];if(7===n.type&&"for"!==n.name){const e=n.exp,i=n.arg;!e||4!==e.type||"on"===n.name&&i||(n.exp=oi(e,t,"slot"===n.name)),i&&4===i.type&&!i.isStatic&&(n.arg=oi(i,t))}}};function oi(e,t,i=!1,n=!1,s=Object.create(t.identifiers)){return e}function ri(e){return(0,n.isString)(e)?e:4===e.type?e.content:e.children.map(ri).join("")}const ai=Rt(/^(if|else|else-if)$/,((e,t,i)=>li(e,t,i,((e,t,n)=>{const s=i.parent.children;let o=s.indexOf(e),r=0;for(;o-- >=0;){const e=s[o];e&&9===e.type&&(r+=e.branches.length)}return()=>{if(n)e.codegenNode=di(t,r,i);else{const n=function(e){for(;;)if(19===e.type){if(19!==e.alternate.type)return e;e=e.alternate}else 20===e.type&&(e=e.value)}(e.codegenNode);n.alternate=di(t,r+e.branches.length-1,i)}}}))));function li(e,t,i,n){if(!("else"===t.name||t.exp&&t.exp.content.trim())){const n=t.exp?t.exp.loc:e.loc;i.onError(r(28,t.loc)),t.exp=ee("true",!1,n)}if("if"===t.name){const s=ci(e,t),o={type:9,loc:e.loc,branches:[s]};if(i.replaceNode(o),n)return n(o,s,!0)}else{const s=i.parent.children;let o=s.indexOf(e);for(;o-- >=-1;){const a=s[o];if(a&&3===a.type)i.removeNode(a);else{if(!a||2!==a.type||a.content.trim().length){if(a&&9===a.type){"else-if"===t.name&&void 0===a.branches[a.branches.length-1].condition&&i.onError(r(30,e.loc)),i.removeNode();const s=ci(e,t);a.branches.push(s);const o=n&&n(a,s,!1);Bt(s,i),o&&o(),i.currentNode=null}else i.onError(r(30,e.loc));break}i.removeNode(a)}}}}function ci(e,t){const i=3===e.tagType;return{type:10,loc:e.loc,condition:"else"===t.name?void 0:t.exp,children:i&&!Oe(e,"for")?e.children:[e],userKey:De(e,"key"),isTemplateIf:i}}function di(e,t,i){return e.condition?oe(e.condition,ui(e,t,i),ne(i.helper(v),['""',"true"])):ui(e,t,i)}function ui(e,t,i){const{helper:s}=i,o=J("key",ee(`${t}`,!1,Y,2)),{children:r}=e,l=r[0];if(1!==r.length||1!==l.type){if(1===r.length&&11===l.type){const e=l.codegenNode;return ze(e,o,i),e}{let t=64;return n.PatchFlagNames[64],K(i,s(a),Z([o]),r,t+"",void 0,void 0,!0,!1,!1,e.loc)}}{const e=l.codegenNode,t=$e(e);return 13===t.type&&me(t,i),ze(t,o,i),e}}const hi=Rt("for",((e,t,i)=>{const{helper:n,removeHelper:s}=i;return pi(e,t,i,(t=>{const o=ne(n(T),[t.source]),r=Re(e),l=Oe(e,"memo"),c=De(e,"key"),d=c&&(6===c.type?ee(c.value.content,!0):c.exp),u=c?J("key",d):null,p=4===t.source.type&&t.source.constType>0,f=p?64:c?128:256;return t.codegenNode=K(i,n(a),void 0,o,f+"",void 0,void 0,!0,!p,!1,e.loc),()=>{let c;const{children:f}=t,m=1!==f.length||1!==f[0].type,g=Ne(e)?e:r&&1===e.children.length&&Ne(e.children[0])?e.children[0]:null;if(g?(c=g.codegenNode,r&&u&&ze(c,u,i)):m?c=K(i,n(a),u?Z([u]):void 0,e.children,"64",void 0,void 0,!0,void 0,!1):(c=f[0].codegenNode,r&&u&&ze(c,u,i),c.isBlock!==!p&&(c.isBlock?(s(h),s(fe(i.inSSR,c.isComponent))):s(pe(i.inSSR,c.isComponent))),c.isBlock=!p,c.isBlock?(n(h),n(fe(i.inSSR,c.isComponent))):n(pe(i.inSSR,c.isComponent))),l){const e=se(bi(t.parseResult,[ee("_cached")]));e.body=ae([ie(["const _memo = (",l.exp,")"]),ie(["if (_cached",...d?[" && _cached.key === ",d]:[],` && ${i.helperString($)}(_cached, _memo)) return _cached`]),ie(["const _item = ",c]),ee("_item.memo = _memo"),ee("return _item")]),o.arguments.push(e,ee("_cache"),ee(String(i.cached++)))}else o.arguments.push(se(bi(t.parseResult),c,!0))}}))}));function pi(e,t,i,n){if(!t.exp)return void i.onError(r(31,t.loc));const s=vi(t.exp);if(!s)return void i.onError(r(32,t.loc));const{addIdentifiers:o,removeIdentifiers:a,scopes:l}=i,{source:c,value:d,key:u,index:h}=s,p={type:11,loc:t.loc,source:c,valueAlias:d,keyAlias:u,objectIndexAlias:h,parseResult:s,children:Re(e)?e.children:[e]};i.replaceNode(p),l.vFor++;const f=n&&n(p);return()=>{l.vFor--,f&&f()}}const fi=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,mi=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,gi=/^\(|\)$/g;function vi(e,t){const i=e.loc,n=e.content,s=n.match(fi);if(!s)return;const[,o,r]=s,a={source:yi(i,r.trim(),n.indexOf(r,o.length)),value:void 0,key:void 0,index:void 0};let l=o.trim().replace(gi,"").trim();const c=o.indexOf(l),d=l.match(mi);if(d){l=l.replace(mi,"").trim();const e=d[1].trim();let t;if(e&&(t=n.indexOf(e,c+l.length),a.key=yi(i,e,t)),d[2]){const s=d[2].trim();s&&(a.index=yi(i,s,n.indexOf(s,a.key?t+e.length:c+l.length)))}}return l&&(a.value=yi(i,l,c)),a}function yi(e,t,i){return ee(t,!1,Ee(e,i,t.length))}function bi({value:e,key:t,index:i},n=[]){return function(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map(((e,t)=>e||ee("_".repeat(t+1),!1)))}([e,t,i,...n])}const _i=ee("undefined",!1),xi=(e,t)=>{if(1===e.type&&(1===e.tagType||3===e.tagType)){const i=Oe(e,"slot");if(i)return i.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},wi=(e,t)=>{let i;if(Re(e)&&e.props.some(Be)&&(i=Oe(e,"for"))){const e=i.parseResult=vi(i.exp);if(e){const{value:i,key:n,index:s}=e,{addIdentifiers:o,removeIdentifiers:r}=t;return i&&o(i),n&&o(n),s&&o(s),()=>{i&&r(i),n&&r(n),s&&r(s)}}}},ki=(e,t,i)=>se(e,t,!1,!0,t.length?t[0].loc:i);function Si(e,t,i=ki){t.helper(z);const{children:n,loc:s}=e,o=[],a=[];let l=t.scopes.vSlot>0||t.scopes.vFor>0;const c=Oe(e,"slot",!0);if(c){const{arg:e,exp:t}=c;e&&!ge(e)&&(l=!0),o.push(J(e||ee("default",!0),i(t,n,s)))}let d=!1,u=!1;const h=[],p=new Set;let f=0;for(let e=0;e<n.length;e++){const s=n[e];let m;if(!Re(s)||!(m=Oe(s,"slot",!0))){3!==s.type&&h.push(s);continue}if(c){t.onError(r(37,m.loc));break}d=!0;const{children:g,loc:v}=s,{arg:y=ee("default",!0),exp:b,loc:_}=m;let x;ge(y)?x=y?y.content:"default":l=!0;const w=i(b,g,v);let k,S,C;if(k=Oe(s,"if"))l=!0,a.push(oe(k.exp,Ti(y,w,f++),_i));else if(S=Oe(s,/^else(-if)?$/,!0)){let i,s=e;for(;s--&&(i=n[s],3===i.type););if(i&&Re(i)&&Oe(i,"if")){n.splice(e,1),e--;let t=a[a.length-1];for(;19===t.alternate.type;)t=t.alternate;t.alternate=S.exp?oe(S.exp,Ti(y,w,f++),_i):Ti(y,w,f++)}else t.onError(r(30,S.loc))}else if(C=Oe(s,"for")){l=!0;const e=C.parseResult||vi(C.exp);e?a.push(ne(t.helper(T),[e.source,se(bi(e),Ti(y,w),!0)])):t.onError(r(32,C.loc))}else{if(x){if(p.has(x)){t.onError(r(38,_));continue}p.add(x),"default"===x&&(u=!0)}o.push(J(y,w))}}if(!c){const e=(e,n)=>{const o=i(e,n,s);return t.compatConfig&&(o.isNonScopedSlot=!0),J("default",o)};d?h.length&&h.some((e=>Ei(e)))&&(u?t.onError(r(39,h[0].loc)):o.push(e(void 0,h))):o.push(e(void 0,n))}const m=l?2:Ci(e.children)?3:1;let g=Z(o.concat(J("_",ee(m+"",!1))),s);return a.length&&(g=ne(t.helper(E),[g,Q(a)])),{slots:g,hasDynamicSlots:l}}function Ti(e,t,i){const n=[J("name",e),J("fn",t)];return null!=i&&n.push(J("key",ee(String(i),!0))),Z(n)}function Ci(e){for(let t=0;t<e.length;t++){const i=e[t];switch(i.type){case 1:if(2===i.tagType||Ci(i.children))return!0;break;case 9:if(Ci(i.branches))return!0;break;case 10:case 11:if(Ci(i.children))return!0}}return!1}function Ei(e){return 2!==e.type&&12!==e.type||(2===e.type?!!e.content.trim():Ei(e.content))}const Ai=new WeakMap,Ii=(e,t)=>function(){if(1!==(e=t.currentNode).type||0!==e.tagType&&1!==e.tagType)return;const{tag:i,props:s}=e,o=1===e.tagType;let r=o?Mi(e,t):`"${i}"`;const a=(0,n.isObject)(r)&&r.callee===x;let u,h,p,f,m,g,v=0,y=a||r===l||r===c||!o&&("svg"===i||"foreignObject"===i);if(s.length>0){const i=Oi(e,t,void 0,o,a);u=i.props,v=i.patchFlag,m=i.dynamicPropNames;const n=i.directives;g=n&&n.length?Q(n.map((e=>Li(e,t)))):void 0,i.shouldUseBlock&&(y=!0)}if(e.children.length>0)if(r===d&&(y=!0,v|=1024),o&&r!==l&&r!==d){const{slots:i,hasDynamicSlots:n}=Si(e,t);h=i,n&&(v|=1024)}else if(1===e.children.length&&r!==l){const i=e.children[0],n=i.type,s=5===n||8===n;s&&0===At(i,t)&&(v|=1),h=s||2===n?i:e.children}else h=e.children;0!==v&&(p=String(v),m&&m.length&&(f=function(e){let t="[";for(let i=0,n=e.length;i<n;i++)t+=JSON.stringify(e[i]),i<n-1&&(t+=", ");return t+"]"}(m))),e.codegenNode=K(t,r,u,h,p,f,g,!!y,!1,o,e.loc)};function Mi(e,t,i=!1){let{tag:n}=e;const s=ji(n),o=De(e,"is");if(o)if(s||Ye("COMPILER_IS_ON_ELEMENT",t)){const e=6===o.type?o.value&&ee(o.value.content,!0):o.exp;if(e)return ne(t.helper(x),[e])}else 6===o.type&&o.value.content.startsWith("vue:")&&(n=o.value.content.slice(4));const r=!s&&Oe(e,"is");if(r&&r.exp)return ne(t.helper(x),[r.exp]);const a=ye(n)||t.isBuiltInComponent(n);return a?(i||t.helper(a),a):(t.helper(_),t.components.add(n),Ve(n,"component"))}function Oi(e,t,i=e.props,s,o,a=!1){const{tag:l,loc:c,children:d}=e;let u=[];const h=[],p=[],f=d.length>0;let m=!1,g=0,v=!1,y=!1,b=!1,_=!1,x=!1,w=!1;const k=[],S=e=>{u.length&&(h.push(Z(Di(u),c)),u=[]),e&&h.push(e)},T=({key:e,value:i})=>{if(ge(e)){const r=e.content,a=(0,n.isOn)(r);if(!a||s&&!o||"onclick"===r.toLowerCase()||"onUpdate:modelValue"===r||(0,n.isReservedProp)(r)||(_=!0),a&&(0,n.isReservedProp)(r)&&(w=!0),20===i.type||(4===i.type||8===i.type)&&At(i,t)>0)return;"ref"===r?v=!0:"class"===r?y=!0:"style"===r?b=!0:"key"===r||k.includes(r)||k.push(r),!s||"class"!==r&&"style"!==r||k.includes(r)||k.push(r)}else x=!0};for(let o=0;o<i.length;o++){const d=i[o];if(6===d.type){const{loc:e,name:i,value:n}=d;let s=!0;if("ref"===i&&(v=!0,t.scopes.vFor>0&&u.push(J(ee("ref_for",!0),ee("true")))),"is"===i&&(ji(l)||n&&n.content.startsWith("vue:")||Ye("COMPILER_IS_ON_ELEMENT",t)))continue;u.push(J(ee(i,!0,Ee(e,0,i.length)),ee(n?n.content:"",s,n?n.loc:e)))}else{const{name:i,arg:o,exp:g,loc:v}=d,y="bind"===i,b="on"===i;if("slot"===i){s||t.onError(r(40,v));continue}if("once"===i||"memo"===i)continue;if("is"===i||y&&Pe(o,"is")&&(ji(l)||Ye("COMPILER_IS_ON_ELEMENT",t)))continue;if(b&&a)continue;if((y&&Pe(o,"key")||b&&f&&Pe(o,"vue:before-update"))&&(m=!0),y&&Pe(o,"ref")&&t.scopes.vFor>0&&u.push(J(ee("ref_for",!0),ee("true"))),!o&&(y||b)){if(x=!0,g)if(y){if(S(),Ye("COMPILER_V_BIND_OBJECT_ORDER",t)){h.unshift(g);continue}h.push(g)}else S({type:14,loc:v,callee:t.helper(L),arguments:s?[g]:[g,"true"]});else t.onError(r(y?34:35,v));continue}const _=t.directiveTransforms[i];if(_){const{props:i,needRuntime:s}=_(d,e,t);!a&&i.forEach(T),b&&o&&!ge(o)?S(Z(i,c)):u.push(...i),s&&(p.push(d),(0,n.isSymbol)(s)&&Ai.set(d,s))}else(0,n.isBuiltInDirective)(i)||(p.push(d),f&&(m=!0))}}let C;if(h.length?(S(),C=h.length>1?ne(t.helper(I),h,c):h[0]):u.length&&(C=Z(Di(u),c)),x?g|=16:(y&&!s&&(g|=2),b&&!s&&(g|=4),k.length&&(g|=8),_&&(g|=32)),m||0!==g&&32!==g||!(v||w||p.length>0)||(g|=512),!t.inSSR&&C)switch(C.type){case 15:let e=-1,i=-1,n=!1;for(let t=0;t<C.properties.length;t++){const s=C.properties[t].key;ge(s)?"class"===s.content?e=t:"style"===s.content&&(i=t):s.isHandlerKey||(n=!0)}const s=C.properties[e],o=C.properties[i];n?C=ne(t.helper(D),[C]):(s&&!ge(s.value)&&(s.value=ne(t.helper(M),[s.value])),o&&(b||4===o.value.type&&"["===o.value.content.trim()[0]||17===o.value.type)&&(o.value=ne(t.helper(O),[o.value])));break;case 14:break;default:C=ne(t.helper(D),[ne(t.helper(P),[C])])}return{props:C,directives:p,patchFlag:g,dynamicPropNames:k,shouldUseBlock:m}}function Di(e){const t=new Map,i=[];for(let s=0;s<e.length;s++){const o=e[s];if(8===o.key.type||!o.key.isStatic){i.push(o);continue}const r=o.key.content,a=t.get(r);a?("style"===r||"class"===r||(0,n.isOn)(r))&&Pi(a,o):(t.set(r,o),i.push(o))}return i}function Pi(e,t){17===e.value.type?e.value.elements.push(t.value):e.value=Q([e.value,t.value],e.loc)}function Li(e,t){const i=[],n=Ai.get(e);n?i.push(t.helperString(n)):(t.helper(w),t.directives.add(e.name),i.push(Ve(e.name,"directive")));const{loc:s}=e;if(e.exp&&i.push(e.exp),e.arg&&(e.exp||i.push("void 0"),i.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||i.push("void 0"),i.push("void 0"));const t=ee("true",!1,s);i.push(Z(e.modifiers.map((e=>J(e,t))),s))}return Q(i,e.loc)}function ji(e){return"component"===e||"Component"===e}const Bi=(e,t)=>{if(Ne(e)){const{children:i,loc:n}=e,{slotName:s,slotProps:o}=Ri(e,t),r=[t.prefixIdentifiers?"_ctx.$slots":"$slots",s,"{}","undefined","true"];let a=2;o&&(r[2]=o,a=3),i.length&&(r[3]=se([],i,!1,!1,n),a=4),t.scopeId&&!t.slotted&&(a=5),r.splice(a),e.codegenNode=ne(t.helper(C),r,n)}};function Ri(e,t){let i,s='"default"';const o=[];for(let t=0;t<e.props.length;t++){const i=e.props[t];6===i.type?i.value&&("name"===i.name?s=JSON.stringify(i.value.content):(i.name=(0,n.camelize)(i.name),o.push(i))):"bind"===i.name&&Pe(i.arg,"name")?i.exp&&(s=i.exp):("bind"===i.name&&i.arg&&ge(i.arg)&&(i.arg.content=(0,n.camelize)(i.arg.content)),o.push(i))}if(o.length>0){const{props:n,directives:s}=Oi(e,t,o,!1,!1);i=n,s.length&&t.onError(r(36,s[0].loc))}return{slotName:s,slotProps:i}}const Ni=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,Ui=(e,t,i,s)=>{const{loc:o,modifiers:a,arg:l}=e;let c;if(e.exp||a.length||i.onError(r(35,o)),4===l.type)if(l.isStatic){let e=l.content;e.startsWith("vue:")&&(e=`vnode-${e.slice(4)}`),c=ee(0!==t.tagType||e.startsWith("vnode")||!/[A-Z]/.test(e)?(0,n.toHandlerKey)((0,n.camelize)(e)):`on:${e}`,!0,l.loc)}else c=ie([`${i.helperString(R)}(`,l,")"]);else c=l,c.children.unshift(`${i.helperString(R)}(`),c.children.push(")");let d=e.exp;d&&!d.content.trim()&&(d=void 0);let u=i.cacheHandlers&&!d&&!i.inVOnce;if(d){const e=Ce(d.content),t=!(e||Ni.test(d.content)),i=d.content.includes(";");(t||u&&e)&&(d=ie([`${t?"$event":"(...args)"} => ${i?"{":"("}`,d,i?"}":")"]))}let h={props:[J(c,d||ee("() => {}",!1,o))]};return s&&(h=s(h)),u&&(h.props[0].value=i.cache(h.props[0].value)),h.props.forEach((e=>e.key.isHandlerKey=!0)),h},Fi=(e,t,i)=>{const{exp:s,modifiers:o,loc:a}=e,l=e.arg;return 4!==l.type?(l.children.unshift("("),l.children.push(') || ""')):l.isStatic||(l.content=`${l.content} || ""`),o.includes("camel")&&(4===l.type?l.isStatic?l.content=(0,n.camelize)(l.content):l.content=`${i.helperString(j)}(${l.content})`:(l.children.unshift(`${i.helperString(j)}(`),l.children.push(")"))),i.inSSR||(o.includes("prop")&&zi(l,"."),o.includes("attr")&&zi(l,"^")),!s||4===s.type&&!s.content.trim()?(i.onError(r(34,a)),{props:[J(l,ee("",!0,a))]}):{props:[J(l,s)]}},zi=(e,t)=>{4===e.type?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},Hi=(e,t)=>{if(0===e.type||1===e.type||11===e.type||10===e.type)return()=>{const i=e.children;let n,s=!1;for(let e=0;e<i.length;e++){const t=i[e];if(je(t)){s=!0;for(let s=e+1;s<i.length;s++){const o=i[s];if(!je(o)){n=void 0;break}n||(n=i[e]=ie([t],t.loc)),n.children.push(" + ",o),i.splice(s,1),s--}}}if(s&&(1!==i.length||0!==e.type&&(1!==e.type||0!==e.tagType||e.props.find((e=>7===e.type&&!t.directiveTransforms[e.name]))||"template"===e.tag)))for(let e=0;e<i.length;e++){const n=i[e];if(je(n)||8===n.type){const s=[];2===n.type&&" "===n.content||s.push(n),t.ssr||0!==At(n,t)||s.push("1"),i[e]={type:12,content:n,loc:n.loc,codegenNode:ne(t.helper(y),s)}}}}},Vi=new WeakSet,qi=(e,t)=>{if(1===e.type&&Oe(e,"once",!0)){if(Vi.has(e)||t.inVOnce||t.inSSR)return;return Vi.add(e),t.inVOnce=!0,t.helper(N),()=>{t.inVOnce=!1;const e=t.currentNode;e.codegenNode&&(e.codegenNode=t.cache(e.codegenNode,!0))}}},$i=(e,t,i)=>{const{exp:s,arg:o}=e;if(!s)return i.onError(r(41,e.loc)),Wi();const a=s.loc.source,l=4===s.type?s.content:a,c=i.bindingMetadata[a];if("props"===c||"props-aliased"===c)return i.onError(r(44,s.loc)),Wi();if(!l.trim()||!Ce(l))return i.onError(r(42,s.loc)),Wi();const d=o||ee("modelValue",!0),u=o?ge(o)?`onUpdate:${(0,n.camelize)(o.content)}`:ie(['"onUpdate:" + ',o]):"onUpdate:modelValue";let h;h=ie([(i.isTS?"($event: any)":"$event")+" => ((",s,") = $event)"]);const p=[J(d,e.exp),J(u,h)];if(e.modifiers.length&&1===t.tagType){const t=e.modifiers.map((e=>(_e(e)?e:JSON.stringify(e))+": true")).join(", "),i=o?ge(o)?`${o.content}Modifiers`:ie([o,' + "Modifiers"']):"modelModifiers";p.push(J(i,ee(`{ ${t} }`,!1,e.loc,2)))}return Wi(p)};function Wi(e=[]){return{props:e}}const Gi=/[\w).+\-_$\]]/,Yi=(e,t)=>{Ye("COMPILER_FILTER",t)&&(5===e.type&&Xi(e.content,t),1===e.type&&e.props.forEach((e=>{7===e.type&&"for"!==e.name&&e.exp&&Xi(e.exp,t)})))};function Xi(e,t){if(4===e.type)Ki(e,t);else for(let i=0;i<e.children.length;i++){const n=e.children[i];"object"==typeof n&&(4===n.type?Ki(n,t):8===n.type?Xi(e,t):5===n.type&&Xi(n.content,t))}}function Ki(e,t){const i=e.content;let n,s,o,r,a=!1,l=!1,c=!1,d=!1,u=0,h=0,p=0,f=0,m=[];for(o=0;o<i.length;o++)if(s=n,n=i.charCodeAt(o),a)39===n&&92!==s&&(a=!1);else if(l)34===n&&92!==s&&(l=!1);else if(c)96===n&&92!==s&&(c=!1);else if(d)47===n&&92!==s&&(d=!1);else if(124!==n||124===i.charCodeAt(o+1)||124===i.charCodeAt(o-1)||u||h||p){switch(n){case 34:l=!0;break;case 39:a=!0;break;case 96:c=!0;break;case 40:p++;break;case 41:p--;break;case 91:h++;break;case 93:h--;break;case 123:u++;break;case 125:u--}if(47===n){let e,t=o-1;for(;t>=0&&(e=i.charAt(t)," "===e);t--);e&&Gi.test(e)||(d=!0)}}else void 0===r?(f=o+1,r=i.slice(0,o).trim()):g();function g(){m.push(i.slice(f,o).trim()),f=o+1}if(void 0===r?r=i.slice(0,o).trim():0!==f&&g(),m.length){for(o=0;o<m.length;o++)r=Qi(r,m[o],t);e.content=r}}function Qi(e,t,i){i.helper(k);const n=t.indexOf("(");if(n<0)return i.filters.add(t),`${Ve(t,"filter")}(${e})`;{const s=t.slice(0,n),o=t.slice(n+1);return i.filters.add(s),`${Ve(s,"filter")}(${e}${")"!==o?","+o:o}`}}const Zi=new WeakSet,Ji=(e,t)=>{if(1===e.type){const i=Oe(e,"memo");if(!i||Zi.has(e))return;return Zi.add(e),()=>{const n=e.codegenNode||t.currentNode.codegenNode;n&&13===n.type&&(1!==e.tagType&&me(n,t),e.codegenNode=ne(t.helper(q),[i.exp,se(void 0,n),"_cache",String(t.cached++)]))}}};function en(e){return[[qi,ai,Ji,hi,Yi,Bi,Ii,xi,Hi],{on:Ui,bind:Fi,model:$i}]}function tn(e,t={}){const i=t.onError||s,o="module"===t.mode;!0===t.prefixIdentifiers?i(r(47)):o&&i(r(48)),t.cacheHandlers&&i(r(49)),t.scopeId&&!o&&i(r(50));const a=(0,n.isString)(e)?et(e,t):e,[l,c]=en();return jt(a,(0,n.extend)({},t,{prefixIdentifiers:!1,nodeTransforms:[...l,...t.nodeTransforms||[]],directiveTransforms:(0,n.extend)({},c,t.directiveTransforms||{})})),Ft(a,(0,n.extend)({},t,{prefixIdentifiers:!1}))}const nn=()=>({props:[]}),sn=Symbol(""),on=Symbol(""),rn=Symbol(""),an=Symbol(""),ln=Symbol(""),cn=Symbol(""),dn=Symbol(""),un=Symbol(""),hn=Symbol(""),pn=Symbol("");let fn;G({[sn]:"vModelRadio",[on]:"vModelCheckbox",[rn]:"vModelText",[an]:"vModelSelect",[ln]:"vModelDynamic",[cn]:"withModifiers",[dn]:"withKeys",[un]:"vShow",[hn]:"Transition",[pn]:"TransitionGroup"});const mn=(0,n.makeMap)("style,iframe,script,noscript",!0),gn={isVoidTag:n.isVoidTag,isNativeTag:e=>(0,n.isHTMLTag)(e)||(0,n.isSVGTag)(e),isPreTag:e=>"pre"===e,decodeEntities:function(e,t=!1){return fn||(fn=document.createElement("div")),t?(fn.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,fn.children[0].getAttribute("foo")):(fn.innerHTML=e,fn.textContent)},isBuiltInComponent:e=>ve(e,"Transition")?hn:ve(e,"TransitionGroup")?pn:void 0,getNamespace(e,t){let i=t?t.ns:0;if(t&&2===i)if("annotation-xml"===t.tag){if("svg"===e)return 1;t.props.some((e=>6===e.type&&"encoding"===e.name&&null!=e.value&&("text/html"===e.value.content||"application/xhtml+xml"===e.value.content)))&&(i=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&"mglyph"!==e&&"malignmark"!==e&&(i=0);else t&&1===i&&("foreignObject"!==t.tag&&"desc"!==t.tag&&"title"!==t.tag||(i=0));if(0===i){if("svg"===e)return 1;if("math"===e)return 2}return i},getTextMode({tag:e,ns:t}){if(0===t){if("textarea"===e||"title"===e)return 1;if(mn(e))return 2}return 0}},vn=e=>{1===e.type&&e.props.forEach(((t,i)=>{6===t.type&&"style"===t.name&&t.value&&(e.props[i]={type:7,name:"bind",arg:ee("style",!0,t.loc),exp:yn(t.value.content,t.loc),modifiers:[],loc:t.loc})}))},yn=(e,t)=>{const i=(0,n.parseStringStyle)(e);return ee(JSON.stringify(i),!1,t,3)};function bn(e,t){return r(e,t)}const _n=(0,n.makeMap)("passive,once,capture"),xn=(0,n.makeMap)("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),wn=(0,n.makeMap)("left,right"),kn=(0,n.makeMap)("onkeyup,onkeydown,onkeypress",!0),Sn=(e,t)=>ge(e)&&"onclick"===e.content.toLowerCase()?ee(t,!0):4!==e.type?ie(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,Tn=(e,t)=>{1!==e.type||0!==e.tagType||"script"!==e.tag&&"style"!==e.tag||t.removeNode()},Cn=[vn],En={cloak:nn,html:(e,t,i)=>{const{exp:n,loc:s}=e;return n||i.onError(bn(53,s)),t.children.length&&(i.onError(bn(54,s)),t.children.length=0),{props:[J(ee("innerHTML",!0,s),n||ee("",!0))]}},text:(e,t,i)=>{const{exp:n,loc:s}=e;return n||i.onError(bn(55,s)),t.children.length&&(i.onError(bn(56,s)),t.children.length=0),{props:[J(ee("textContent",!0),n?At(n,i)>0?n:ne(i.helperString(A),[n],s):ee("",!0))]}},model:(e,t,i)=>{const n=$i(e,t,i);if(!n.props.length||1===t.tagType)return n;e.arg&&i.onError(bn(58,e.arg.loc));const{tag:s}=t,o=i.isCustomElement(s);if("input"===s||"textarea"===s||"select"===s||o){let r=rn,a=!1;if("input"===s||o){const n=De(t,"type");if(n){if(7===n.type)r=ln;else if(n.value)switch(n.value.content){case"radio":r=sn;break;case"checkbox":r=on;break;case"file":a=!0,i.onError(bn(59,e.loc))}}else Le(t)&&(r=ln)}else"select"===s&&(r=an);a||(n.needRuntime=i.helper(r))}else i.onError(bn(57,e.loc));return n.props=n.props.filter((e=>!(4===e.key.type&&"modelValue"===e.key.content))),n},on:(e,t,i)=>Ui(e,t,i,(t=>{const{modifiers:s}=e;if(!s.length)return t;let{key:o,value:r}=t.props[0];const{keyModifiers:a,nonKeyModifiers:l,eventOptionModifiers:c}=((e,t,i,n)=>{const s=[],o=[],r=[];for(let n=0;n<t.length;n++){const a=t[n];"native"===a&&Xe("COMPILER_V_ON_NATIVE",i)||_n(a)?r.push(a):wn(a)?ge(e)?kn(e.content)?s.push(a):o.push(a):(s.push(a),o.push(a)):xn(a)?o.push(a):s.push(a)}return{keyModifiers:s,nonKeyModifiers:o,eventOptionModifiers:r}})(o,s,i,e.loc);if(l.includes("right")&&(o=Sn(o,"onContextmenu")),l.includes("middle")&&(o=Sn(o,"onMouseup")),l.length&&(r=ne(i.helper(cn),[r,JSON.stringify(l)])),!a.length||ge(o)&&!kn(o.content)||(r=ne(i.helper(dn),[r,JSON.stringify(a)])),c.length){const e=c.map(n.capitalize).join("");o=ge(o)?ee(`${o.content}${e}`,!0):ie(["(",o,`) + "${e}"`])}return{props:[J(o,r)]}})),show:(e,t,i)=>{const{exp:n,loc:s}=e;return n||i.onError(bn(61,s)),{props:[],needRuntime:i.helper(un)}}};function An(e,t={}){return tn(e,(0,n.extend)({},gn,t,{nodeTransforms:[Tn,...Cn,...t.nodeTransforms||[]],directiveTransforms:(0,n.extend)({},En,t.directiveTransforms||{}),transformHoist:null}))}function In(e,t={}){return et(e,(0,n.extend)({},gn,t))}},3355:(e,t,i)=>{"use strict";i.d(t,{$y:()=>Ae,B:()=>r,BK:()=>Xe,Bj:()=>o,EB:()=>c,Fl:()=>tt,IU:()=>Oe,Jd:()=>C,OT:()=>Se,PG:()=>Ee,SU:()=>Ve,Tn:()=>qe,Um:()=>ke,Vh:()=>Ze,WL:()=>We,X$:()=>M,X3:()=>Me,XI:()=>Ue,Xl:()=>De,YS:()=>Te,ZM:()=>Ye,cE:()=>w,dq:()=>Re,iH:()=>Ne,j:()=>A,lk:()=>E,nZ:()=>l,oR:()=>He,qj:()=>we,qq:()=>_,sT:()=>k,yT:()=>Ie});var n=i(171);let s;class o{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=s,!e&&s&&(this.index=(s.scopes||(s.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=s;try{return s=this,e()}finally{s=t}}}on(){s=this}off(){s=this.parent}stop(e){if(this._active){let t,i;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].stop();for(t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0,this._active=!1}}}function r(e){return new o(e)}function a(e,t=s){t&&t.active&&t.effects.push(e)}function l(){return s}function c(e){s&&s.cleanups.push(e)}const d=e=>{const t=new Set(e);return t.w=0,t.n=0,t},u=e=>(e.w&m)>0,h=e=>(e.n&m)>0,p=new WeakMap;let f=0,m=1;const g=30;let v;const y=Symbol(""),b=Symbol("");class _{constructor(e,t=null,i){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,a(this,i)}run(){if(!this.active)return this.fn();let e=v,t=S;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=v,v=this,S=!0,m=1<<++f,f<=g?(({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=m})(this):x(this),this.fn()}finally{f<=g&&(e=>{const{deps:t}=e;if(t.length){let i=0;for(let n=0;n<t.length;n++){const s=t[n];u(s)&&!h(s)?s.delete(e):t[i++]=s,s.w&=~m,s.n&=~m}t.length=i}})(this),m=1<<--f,v=this.parent,S=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){v===this?this.deferStop=!0:this.active&&(x(this),this.onStop&&this.onStop(),this.active=!1)}}function x(e){const{deps:t}=e;if(t.length){for(let i=0;i<t.length;i++)t[i].delete(e);t.length=0}}function w(e,t){e.effect&&(e=e.effect.fn);const i=new _(e);t&&((0,n.extend)(i,t),t.scope&&a(i,t.scope)),t&&t.lazy||i.run();const s=i.run.bind(i);return s.effect=i,s}function k(e){e.effect.stop()}let S=!0;const T=[];function C(){T.push(S),S=!1}function E(){const e=T.pop();S=void 0===e||e}function A(e,t,i){if(S&&v){let t=p.get(e);t||p.set(e,t=new Map);let n=t.get(i);n||t.set(i,n=d()),I(n)}}function I(e,t){let i=!1;f<=g?h(e)||(e.n|=m,i=!u(e)):i=!e.has(v),i&&(e.add(v),v.deps.push(e))}function M(e,t,i,s,o,r){const a=p.get(e);if(!a)return;let l=[];if("clear"===t)l=[...a.values()];else if("length"===i&&(0,n.isArray)(e)){const e=Number(s);a.forEach(((t,i)=>{("length"===i||i>=e)&&l.push(t)}))}else switch(void 0!==i&&l.push(a.get(i)),t){case"add":(0,n.isArray)(e)?(0,n.isIntegerKey)(i)&&l.push(a.get("length")):(l.push(a.get(y)),(0,n.isMap)(e)&&l.push(a.get(b)));break;case"delete":(0,n.isArray)(e)||(l.push(a.get(y)),(0,n.isMap)(e)&&l.push(a.get(b)));break;case"set":(0,n.isMap)(e)&&l.push(a.get(y))}if(1===l.length)l[0]&&O(l[0]);else{const e=[];for(const t of l)t&&e.push(...t);O(d(e))}}function O(e,t){const i=(0,n.isArray)(e)?e:[...e];for(const e of i)e.computed&&D(e);for(const e of i)e.computed||D(e)}function D(e,t){(e!==v||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const P=(0,n.makeMap)("__proto__,__v_isRef,__isVue"),L=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(n.isSymbol)),j=H(),B=H(!1,!0),R=H(!0),N=H(!0,!0),U=F();function F(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const i=Oe(this);for(let e=0,t=this.length;e<t;e++)A(i,0,e+"");const n=i[t](...e);return-1===n||!1===n?i[t](...e.map(Oe)):n}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){C();const i=Oe(this)[t].apply(this,e);return E(),i}})),e}function z(e){const t=Oe(this);return A(t,0,e),t.hasOwnProperty(e)}function H(e=!1,t=!1){return function(i,s,o){if("__v_isReactive"===s)return!e;if("__v_isReadonly"===s)return e;if("__v_isShallow"===s)return t;if("__v_raw"===s&&o===(e?t?xe:_e:t?be:ye).get(i))return i;const r=(0,n.isArray)(i);if(!e){if(r&&(0,n.hasOwn)(U,s))return Reflect.get(U,s,o);if("hasOwnProperty"===s)return z}const a=Reflect.get(i,s,o);return((0,n.isSymbol)(s)?L.has(s):P(s))?a:(e||A(i,0,s),t?a:Re(a)?r&&(0,n.isIntegerKey)(s)?a:a.value:(0,n.isObject)(a)?e?Se(a):we(a):a)}}const V=$(),q=$(!0);function $(e=!1){return function(t,i,s,o){let r=t[i];if(Ae(r)&&Re(r)&&!Re(s))return!1;if(!e&&(Ie(s)||Ae(s)||(r=Oe(r),s=Oe(s)),!(0,n.isArray)(t)&&Re(r)&&!Re(s)))return r.value=s,!0;const a=(0,n.isArray)(t)&&(0,n.isIntegerKey)(i)?Number(i)<t.length:(0,n.hasOwn)(t,i),l=Reflect.set(t,i,s,o);return t===Oe(o)&&(a?(0,n.hasChanged)(s,r)&&M(t,"set",i,s):M(t,"add",i,s)),l}}const W={get:j,set:V,deleteProperty:function(e,t){const i=(0,n.hasOwn)(e,t),s=(e[t],Reflect.deleteProperty(e,t));return s&&i&&M(e,"delete",t,void 0),s},has:function(e,t){const i=Reflect.has(e,t);return(0,n.isSymbol)(t)&&L.has(t)||A(e,0,t),i},ownKeys:function(e){return A(e,0,(0,n.isArray)(e)?"length":y),Reflect.ownKeys(e)}},G={get:R,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},Y=(0,n.extend)({},W,{get:B,set:q}),X=(0,n.extend)({},G,{get:N}),K=e=>e,Q=e=>Reflect.getPrototypeOf(e);function Z(e,t,i=!1,n=!1){const s=Oe(e=e.__v_raw),o=Oe(t);i||(t!==o&&A(s,0,t),A(s,0,o));const{has:r}=Q(s),a=n?K:i?Le:Pe;return r.call(s,t)?a(e.get(t)):r.call(s,o)?a(e.get(o)):void(e!==s&&e.get(t))}function J(e,t=!1){const i=this.__v_raw,n=Oe(i),s=Oe(e);return t||(e!==s&&A(n,0,e),A(n,0,s)),e===s?i.has(e):i.has(e)||i.has(s)}function ee(e,t=!1){return e=e.__v_raw,!t&&A(Oe(e),0,y),Reflect.get(e,"size",e)}function te(e){e=Oe(e);const t=Oe(this);return Q(t).has.call(t,e)||(t.add(e),M(t,"add",e,e)),this}function ie(e,t){t=Oe(t);const i=Oe(this),{has:s,get:o}=Q(i);let r=s.call(i,e);r||(e=Oe(e),r=s.call(i,e));const a=o.call(i,e);return i.set(e,t),r?(0,n.hasChanged)(t,a)&&M(i,"set",e,t):M(i,"add",e,t),this}function ne(e){const t=Oe(this),{has:i,get:n}=Q(t);let s=i.call(t,e);s||(e=Oe(e),s=i.call(t,e)),n&&n.call(t,e);const o=t.delete(e);return s&&M(t,"delete",e,void 0),o}function se(){const e=Oe(this),t=0!==e.size,i=e.clear();return t&&M(e,"clear",void 0,void 0),i}function oe(e,t){return function(i,n){const s=this,o=s.__v_raw,r=Oe(o),a=t?K:e?Le:Pe;return!e&&A(r,0,y),o.forEach(((e,t)=>i.call(n,a(e),a(t),s)))}}function re(e,t,i){return function(...s){const o=this.__v_raw,r=Oe(o),a=(0,n.isMap)(r),l="entries"===e||e===Symbol.iterator&&a,c="keys"===e&&a,d=o[e](...s),u=i?K:t?Le:Pe;return!t&&A(r,0,c?b:y),{next(){const{value:e,done:t}=d.next();return t?{value:e,done:t}:{value:l?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}function ae(e){return function(...t){return"delete"!==e&&this}}function le(){const e={get(e){return Z(this,e)},get size(){return ee(this)},has:J,add:te,set:ie,delete:ne,clear:se,forEach:oe(!1,!1)},t={get(e){return Z(this,e,!1,!0)},get size(){return ee(this)},has:J,add:te,set:ie,delete:ne,clear:se,forEach:oe(!1,!0)},i={get(e){return Z(this,e,!0)},get size(){return ee(this,!0)},has(e){return J.call(this,e,!0)},add:ae("add"),set:ae("set"),delete:ae("delete"),clear:ae("clear"),forEach:oe(!0,!1)},n={get(e){return Z(this,e,!0,!0)},get size(){return ee(this,!0)},has(e){return J.call(this,e,!0)},add:ae("add"),set:ae("set"),delete:ae("delete"),clear:ae("clear"),forEach:oe(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((s=>{e[s]=re(s,!1,!1),i[s]=re(s,!0,!1),t[s]=re(s,!1,!0),n[s]=re(s,!0,!0)})),[e,i,t,n]}const[ce,de,ue,he]=le();function pe(e,t){const i=t?e?he:ue:e?de:ce;return(t,s,o)=>"__v_isReactive"===s?!e:"__v_isReadonly"===s?e:"__v_raw"===s?t:Reflect.get((0,n.hasOwn)(i,s)&&s in t?i:t,s,o)}const fe={get:pe(!1,!1)},me={get:pe(!1,!0)},ge={get:pe(!0,!1)},ve={get:pe(!0,!0)},ye=new WeakMap,be=new WeakMap,_e=new WeakMap,xe=new WeakMap;function we(e){return Ae(e)?e:Ce(e,!1,W,fe,ye)}function ke(e){return Ce(e,!1,Y,me,be)}function Se(e){return Ce(e,!0,G,ge,_e)}function Te(e){return Ce(e,!0,X,ve,xe)}function Ce(e,t,i,s,o){if(!(0,n.isObject)(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const r=o.get(e);if(r)return r;const a=(l=e).__v_skip||!Object.isExtensible(l)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((0,n.toRawType)(l));var l;if(0===a)return e;const c=new Proxy(e,2===a?s:i);return o.set(e,c),c}function Ee(e){return Ae(e)?Ee(e.__v_raw):!(!e||!e.__v_isReactive)}function Ae(e){return!(!e||!e.__v_isReadonly)}function Ie(e){return!(!e||!e.__v_isShallow)}function Me(e){return Ee(e)||Ae(e)}function Oe(e){const t=e&&e.__v_raw;return t?Oe(t):e}function De(e){return(0,n.def)(e,"__v_skip",!0),e}const Pe=e=>(0,n.isObject)(e)?we(e):e,Le=e=>(0,n.isObject)(e)?Se(e):e;function je(e){S&&v&&I((e=Oe(e)).dep||(e.dep=d()))}function Be(e,t){const i=(e=Oe(e)).dep;i&&O(i)}function Re(e){return!(!e||!0!==e.__v_isRef)}function Ne(e){return Fe(e,!1)}function Ue(e){return Fe(e,!0)}function Fe(e,t){return Re(e)?e:new ze(e,t)}class ze{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Oe(e),this._value=t?e:Pe(e)}get value(){return je(this),this._value}set value(e){const t=this.__v_isShallow||Ie(e)||Ae(e);e=t?e:Oe(e),(0,n.hasChanged)(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:Pe(e),Be(this))}}function He(e){Be(e)}function Ve(e){return Re(e)?e.value:e}function qe(e){return(0,n.isFunction)(e)?e():Ve(e)}const $e={get:(e,t,i)=>Ve(Reflect.get(e,t,i)),set:(e,t,i,n)=>{const s=e[t];return Re(s)&&!Re(i)?(s.value=i,!0):Reflect.set(e,t,i,n)}};function We(e){return Ee(e)?e:new Proxy(e,$e)}class Ge{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:t,set:i}=e((()=>je(this)),(()=>Be(this)));this._get=t,this._set=i}get value(){return this._get()}set value(e){this._set(e)}}function Ye(e){return new Ge(e)}function Xe(e){const t=(0,n.isArray)(e)?new Array(e.length):{};for(const i in e)t[i]=Je(e,i);return t}class Ke{constructor(e,t,i){this._object=e,this._key=t,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return e=Oe(this._object),t=this._key,null==(i=p.get(e))?void 0:i.get(t);var e,t,i}}class Qe{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Ze(e,t,i){return Re(e)?e:(0,n.isFunction)(e)?new Qe(e):(0,n.isObject)(e)&&arguments.length>1?Je(e,t,i):Ne(e)}function Je(e,t,i){const n=e[t];return Re(n)?n:new Ke(e,t,i)}class et{constructor(e,t,i,n){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new _(e,(()=>{this._dirty||(this._dirty=!0,Be(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=i}get value(){const e=Oe(this);return je(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function tt(e,t,i=!1){let s,o;const r=(0,n.isFunction)(e);return r?(s=e,o=n.NOOP):(s=e.get,o=e.set),new et(s,o,r||!o,i)}},5138:(e,t,i)=>{"use strict";i.d(t,{$d:()=>l,$y:()=>n.$y,Ah:()=>Ge,B:()=>n.B,BK:()=>n.BK,Bj:()=>n.Bj,Bz:()=>vt,C3:()=>Vi,C_:()=>s.normalizeClass,Cn:()=>$,EB:()=>n.EB,EM:()=>Xt,Eo:()=>vi,F4:()=>Xi,FN:()=>dn,Fl:()=>An,G:()=>Bn,Gn:()=>xt,HX:()=>W,HY:()=>Ei,Ho:()=>Ki,IU:()=>n.IU,JJ:()=>Gt,Jd:()=>We,KU:()=>a,Ko:()=>rt,LL:()=>it,MW:()=>gt,MX:()=>Pn,Mr:()=>Dn,Nv:()=>at,OT:()=>n.OT,Ob:()=>De,P$:()=>_e,PG:()=>n.PG,Q2:()=>nt,Q6:()=>Ce,RC:()=>Ie,Rh:()=>ae,Rr:()=>kt,S3:()=>c,SU:()=>n.SU,Tn:()=>n.Tn,U2:()=>we,Uc:()=>Mn,Uk:()=>Qi,Um:()=>n.Um,Us:()=>gi,Vf:()=>It,Vh:()=>n.Vh,WI:()=>lt,WL:()=>n.WL,WY:()=>yt,Wl:()=>_t,Wm:()=>Yi,Wu:()=>r,X3:()=>n.X3,XI:()=>n.XI,Xl:()=>n.Xl,Xn:()=>qe,Y1:()=>wn,Y3:()=>b,Y8:()=>ve,YP:()=>de,YS:()=>n.YS,Yq:()=>Xe,Yu:()=>bt,ZK:()=>o,ZM:()=>n.ZM,Zq:()=>On,_:()=>Gi,_A:()=>s.camelize,aZ:()=>Ee,b9:()=>wt,bT:()=>Ke,bv:()=>Ve,cE:()=>n.cE,d1:()=>Qe,dD:()=>q,dG:()=>sn,dl:()=>Le,dq:()=>n.dq,ec:()=>D,eq:()=>Rn,f3:()=>Yt,h:()=>In,hR:()=>s.toHandlerKey,i8:()=>jn,iD:()=>Ui,iH:()=>n.iH,ic:()=>$e,j4:()=>Fi,j5:()=>s.normalizeStyle,kC:()=>s.capitalize,kq:()=>Ji,l1:()=>St,lA:()=>zi,lR:()=>Ti,m0:()=>re,mW:()=>A,mv:()=>Ot,mx:()=>dt,n4:()=>ee,nJ:()=>be,nK:()=>Te,nQ:()=>Ln,nZ:()=>n.nZ,oR:()=>n.oR,of:()=>kn,p1:()=>Mt,qG:()=>Mi,qZ:()=>Ri,qb:()=>w,qj:()=>n.qj,qq:()=>n.qq,ry:()=>Nn,sT:()=>n.sT,se:()=>je,sv:()=>Ii,tT:()=>Tt,uE:()=>Zi,u_:()=>At,up:()=>et,vl:()=>Ye,vs:()=>s.normalizeProps,w5:()=>G,wF:()=>He,wg:()=>Pi,wy:()=>me,xv:()=>Ai,yT:()=>n.yT,yX:()=>le,zw:()=>s.toDisplayString});var n=i(3355),s=i(171);function o(e,...t){}function r(e,t){}function a(e,t,i,n){let s;try{s=n?e(...n):e()}catch(e){c(e,t,i)}return s}function l(e,t,i,n){if((0,s.isFunction)(e)){const o=a(e,t,i,n);return o&&(0,s.isPromise)(o)&&o.catch((e=>{c(e,t,i)})),o}const o=[];for(let s=0;s<e.length;s++)o.push(l(e[s],t,i,n));return o}function c(e,t,i,n=!0){if(t&&t.vnode,t){let n=t.parent;const s=t.proxy,o=i;for(;n;){const t=n.ec;if(t)for(let i=0;i<t.length;i++)if(!1===t[i](e,s,o))return;n=n.parent}const r=t.appContext.config.errorHandler;if(r)return void a(r,null,10,[e,s,o])}!function(e,t,i,n=!0){console.error(e)}(e,0,0,n)}let d=!1,u=!1;const h=[];let p=0;const f=[];let m=null,g=0;const v=Promise.resolve();let y=null;function b(e){const t=y||v;return e?t.then(this?e.bind(this):e):t}function _(e){h.length&&h.includes(e,d&&e.allowRecurse?p+1:p)||(null==e.id?h.push(e):h.splice(function(e){let t=p+1,i=h.length;for(;t<i;){const n=t+i>>>1;T(h[n])<e?t=n+1:i=n}return t}(e.id),0,e),x())}function x(){d||u||(u=!0,y=v.then(E))}function w(e){(0,s.isArray)(e)?f.push(...e):m&&m.includes(e,e.allowRecurse?g+1:g)||f.push(e),x()}function k(e,t=(d?p+1:0)){for(;t<h.length;t++){const e=h[t];e&&e.pre&&(h.splice(t,1),t--,e())}}function S(e){if(f.length){const e=[...new Set(f)];if(f.length=0,m)return void m.push(...e);for(m=e,m.sort(((e,t)=>T(e)-T(t))),g=0;g<m.length;g++)m[g]();m=null,g=0}}const T=e=>null==e.id?1/0:e.id,C=(e,t)=>{const i=T(e)-T(t);if(0===i){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return i};function E(e){u=!1,d=!0,h.sort(C),s.NOOP;try{for(p=0;p<h.length;p++){const e=h[p];e&&!1!==e.active&&a(e,null,14)}}finally{p=0,h.length=0,S(),d=!1,y=null,(h.length||f.length)&&E(e)}}let A,I=[],M=!1;function O(e,...t){A?A.emit(e,...t):M||I.push({event:e,args:t})}function D(e,t){var i,n;A=e,A?(A.enabled=!0,I.forEach((({event:e,args:t})=>A.emit(e,...t))),I=[]):"undefined"!=typeof window&&window.HTMLElement&&!(null==(n=null==(i=window.navigator)?void 0:i.userAgent)?void 0:n.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push((e=>{D(e,t)})),setTimeout((()=>{A||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,M=!0,I=[])}),3e3)):(M=!0,I=[])}const P=R("component:added"),L=R("component:updated"),j=R("component:removed"),B=e=>{A&&"function"==typeof A.cleanupBuffer&&!A.cleanupBuffer(e)&&j(e)};function R(e){return t=>{O(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}function N(e,t,...i){if(e.isUnmounted)return;const n=e.vnode.props||s.EMPTY_OBJ;let o=i;const r=t.startsWith("update:"),a=r&&t.slice(7);if(a&&a in n){const e=`${"modelValue"===a?"model":a}Modifiers`,{number:t,trim:r}=n[e]||s.EMPTY_OBJ;r&&(o=i.map((e=>(0,s.isString)(e)?e.trim():e))),t&&(o=i.map(s.looseToNumber))}let c;__VUE_PROD_DEVTOOLS__&&function(e,t,i){O("component:emit",e.appContext.app,e,t,i)}(e,t,o);let d=n[c=(0,s.toHandlerKey)(t)]||n[c=(0,s.toHandlerKey)((0,s.camelize)(t))];!d&&r&&(d=n[c=(0,s.toHandlerKey)((0,s.hyphenate)(t))]),d&&l(d,e,6,o);const u=n[c+"Once"];if(u){if(e.emitted){if(e.emitted[c])return}else e.emitted={};e.emitted[c]=!0,l(u,e,6,o)}}function U(e,t,i=!1){const n=t.emitsCache,o=n.get(e);if(void 0!==o)return o;const r=e.emits;let a={},l=!1;if(__VUE_OPTIONS_API__&&!(0,s.isFunction)(e)){const n=e=>{const i=U(e,t,!0);i&&(l=!0,(0,s.extend)(a,i))};!i&&t.mixins.length&&t.mixins.forEach(n),e.extends&&n(e.extends),e.mixins&&e.mixins.forEach(n)}return r||l?((0,s.isArray)(r)?r.forEach((e=>a[e]=null)):(0,s.extend)(a,r),(0,s.isObject)(e)&&n.set(e,a),a):((0,s.isObject)(e)&&n.set(e,null),null)}function F(e,t){return!(!e||!(0,s.isOn)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,s.hasOwn)(e,t[0].toLowerCase()+t.slice(1))||(0,s.hasOwn)(e,(0,s.hyphenate)(t))||(0,s.hasOwn)(e,t))}let z=null,H=null;function V(e){const t=z;return z=e,H=e&&e.type.__scopeId||null,t}function q(e){H=e}function $(){H=null}const W=e=>G;function G(e,t=z,i){if(!t)return e;if(e._n)return e;const n=(...i)=>{n._d&&Ri(-1);const s=V(t);let o;try{o=e(...i)}finally{V(s),n._d&&Ri(1)}return __VUE_PROD_DEVTOOLS__&&L(t),o};return n._n=!0,n._c=!0,n._d=!0,n}function Y(e){const{type:t,vnode:i,proxy:n,withProxy:o,props:r,propsOptions:[a],slots:l,attrs:d,emit:u,render:h,renderCache:p,data:f,setupState:m,ctx:g,inheritAttrs:v}=e;let y,b;const _=V(e);try{if(4&i.shapeFlag){const e=o||n;y=en(h.call(e,e,p,r,m,f,g)),b=d}else{const e=t;y=en(e.length>1?e(r,{attrs:d,slots:l,emit:u}):e(r,null)),b=t.props?d:X(d)}}catch(t){Oi.length=0,c(t,e,1),y=Yi(Ii)}let x=y;if(b&&!1!==v){const e=Object.keys(b),{shapeFlag:t}=x;e.length&&7&t&&(a&&e.some(s.isModelListener)&&(b=K(b,a)),x=Ki(x,b))}return i.dirs&&(x=Ki(x),x.dirs=x.dirs?x.dirs.concat(i.dirs):i.dirs),i.transition&&(x.transition=i.transition),y=x,V(_),y}const X=e=>{let t;for(const i in e)("class"===i||"style"===i||(0,s.isOn)(i))&&((t||(t={}))[i]=e[i]);return t},K=(e,t)=>{const i={};for(const n in e)(0,s.isModelListener)(n)&&n.slice(9)in t||(i[n]=e[n]);return i};function Q(e,t,i){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let s=0;s<n.length;s++){const o=n[s];if(t[o]!==e[o]&&!F(i,o))return!0}return!1}function Z({vnode:e,parent:t},i){for(;t&&t.subTree===e;)(e=t.vnode).el=i,t=t.parent}const J=e=>e.__isSuspense,ee={name:"Suspense",__isSuspense:!0,process(e,t,i,n,s,o,r,a,l,c){null==e?function(e,t,i,n,s,o,r,a,l){const{p:c,o:{createElement:d}}=l,u=d("div"),h=e.suspense=ie(e,s,n,t,u,i,o,r,a,l);c(null,h.pendingBranch=e.ssContent,u,null,n,h,o,r),h.deps>0?(te(e,"onPending"),te(e,"onFallback"),c(null,e.ssFallback,t,i,n,null,o,r),oe(h,e.ssFallback)):h.resolve(!1,!0)}(t,i,n,s,o,r,a,l,c):function(e,t,i,n,s,o,r,a,{p:l,um:c,o:{createElement:d}}){const u=t.suspense=e.suspense;u.vnode=t,t.el=e.el;const h=t.ssContent,p=t.ssFallback,{activeBranch:f,pendingBranch:m,isInFallback:g,isHydrating:v}=u;if(m)u.pendingBranch=h,Hi(h,m)?(l(m,h,u.hiddenContainer,null,s,u,o,r,a),u.deps<=0?u.resolve():g&&(l(f,p,i,n,s,null,o,r,a),oe(u,p))):(u.pendingId++,v?(u.isHydrating=!1,u.activeBranch=m):c(m,s,u),u.deps=0,u.effects.length=0,u.hiddenContainer=d("div"),g?(l(null,h,u.hiddenContainer,null,s,u,o,r,a),u.deps<=0?u.resolve():(l(f,p,i,n,s,null,o,r,a),oe(u,p))):f&&Hi(h,f)?(l(f,h,i,n,s,u,o,r,a),u.resolve(!0)):(l(null,h,u.hiddenContainer,null,s,u,o,r,a),u.deps<=0&&u.resolve()));else if(f&&Hi(h,f))l(f,h,i,n,s,u,o,r,a),oe(u,h);else if(te(t,"onPending"),u.pendingBranch=h,u.pendingId++,l(null,h,u.hiddenContainer,null,s,u,o,r,a),u.deps<=0)u.resolve();else{const{timeout:e,pendingId:t}=u;e>0?setTimeout((()=>{u.pendingId===t&&u.fallback(p)}),e):0===e&&u.fallback(p)}}(e,t,i,n,s,r,a,l,c)},hydrate:function(e,t,i,n,s,o,r,a,l){const c=t.suspense=ie(t,n,i,e.parentNode,document.createElement("div"),null,s,o,r,a,!0),d=l(e,c.pendingBranch=t.ssContent,i,c,o,r);return 0===c.deps&&c.resolve(!1,!0),d},create:ie,normalize:function(e){const{shapeFlag:t,children:i}=e,n=32&t;e.ssContent=ne(n?i.default:i),e.ssFallback=n?ne(i.fallback):Yi(Ii)}};function te(e,t){const i=e.props&&e.props[t];(0,s.isFunction)(i)&&i()}function ie(e,t,i,n,o,r,a,l,d,u,h=!1){const{p,m:f,um:m,n:g,o:{parentNode:v,remove:y}}=u;let b;const _=function(e){var t;return null!=(null==(t=e.props)?void 0:t.suspensible)&&!1!==e.props.suspensible}(e);_&&(null==t?void 0:t.pendingBranch)&&(b=t.pendingId,t.deps++);const x=e.props?(0,s.toNumber)(e.props.timeout):void 0,k={vnode:e,parent:t,parentComponent:i,isSVG:a,container:n,hiddenContainer:o,anchor:r,deps:0,pendingId:0,timeout:"number"==typeof x?x:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:h,isUnmounted:!1,effects:[],resolve(e=!1,i=!1){const{vnode:n,activeBranch:s,pendingBranch:o,pendingId:r,effects:a,parentComponent:l,container:c}=k;if(k.isHydrating)k.isHydrating=!1;else if(!e){const e=s&&o.transition&&"out-in"===o.transition.mode;e&&(s.transition.afterLeave=()=>{r===k.pendingId&&f(o,c,t,0)});let{anchor:t}=k;s&&(t=g(s),m(s,l,k,!0)),e||f(o,c,t,0)}oe(k,o),k.pendingBranch=null,k.isInFallback=!1;let d=k.parent,u=!1;for(;d;){if(d.pendingBranch){d.effects.push(...a),u=!0;break}d=d.parent}u||w(a),k.effects=[],_&&t&&t.pendingBranch&&b===t.pendingId&&(t.deps--,0!==t.deps||i||t.resolve()),te(n,"onResolve")},fallback(e){if(!k.pendingBranch)return;const{vnode:t,activeBranch:i,parentComponent:n,container:s,isSVG:o}=k;te(t,"onFallback");const r=g(i),a=()=>{k.isInFallback&&(p(null,e,s,r,n,null,o,l,d),oe(k,e))},c=e.transition&&"out-in"===e.transition.mode;c&&(i.transition.afterLeave=a),k.isInFallback=!0,m(i,n,null,!0),c||a()},move(e,t,i){k.activeBranch&&f(k.activeBranch,e,t,i),k.container=e},next:()=>k.activeBranch&&g(k.activeBranch),registerDep(e,t){const i=!!k.pendingBranch;i&&k.deps++;const n=e.vnode.el;e.asyncDep.catch((t=>{c(t,e,0)})).then((s=>{if(e.isUnmounted||k.isUnmounted||k.pendingId!==e.suspenseId)return;e.asyncResolved=!0;const{vnode:o}=e;xn(e,s,!1),n&&(o.el=n);const r=!n&&e.subTree.el;t(e,o,v(n||e.subTree.el),n?null:g(e.subTree),k,a,d),r&&y(r),Z(e,o.el),i&&0==--k.deps&&k.resolve()}))},unmount(e,t){k.isUnmounted=!0,k.activeBranch&&m(k.activeBranch,i,e,t),k.pendingBranch&&m(k.pendingBranch,i,e,t)}};return k}function ne(e){let t;if((0,s.isFunction)(e)){const i=Bi&&e._c;i&&(e._d=!1,Pi()),e=e(),i&&(e._d=!0,t=Di,Li())}if((0,s.isArray)(e)){const t=function(e){let t;for(let i=0;i<e.length;i++){const n=e[i];if(!zi(n))return;if(n.type!==Ii||"v-if"===n.children){if(t)return;t=n}}return t}(e);e=t}return e=en(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter((t=>t!==e))),e}function se(e,t){t&&t.pendingBranch?(0,s.isArray)(e)?t.effects.push(...e):t.effects.push(e):w(e)}function oe(e,t){e.activeBranch=t;const{vnode:i,parentComponent:n}=e,s=i.el=t.el;n&&n.subTree===i&&(n.vnode.el=s,Z(n,s))}function re(e,t){return ue(e,null,t)}function ae(e,t){return ue(e,null,{flush:"post"})}function le(e,t){return ue(e,null,{flush:"sync"})}const ce={};function de(e,t,i){return ue(e,t,i)}function ue(e,t,{immediate:i,deep:o,flush:r,onTrack:c,onTrigger:d}=s.EMPTY_OBJ){var u;const h=(0,n.nZ)()===(null==(u=cn)?void 0:u.scope)?cn:null;let p,f,m=!1,g=!1;if((0,n.dq)(e)?(p=()=>e.value,m=(0,n.yT)(e)):(0,n.PG)(e)?(p=()=>e,o=!0):(0,s.isArray)(e)?(g=!0,m=e.some((e=>(0,n.PG)(e)||(0,n.yT)(e))),p=()=>e.map((e=>(0,n.dq)(e)?e.value:(0,n.PG)(e)?fe(e):(0,s.isFunction)(e)?a(e,h,2):void 0))):p=(0,s.isFunction)(e)?t?()=>a(e,h,2):()=>{if(!h||!h.isUnmounted)return f&&f(),l(e,h,3,[y])}:s.NOOP,t&&o){const e=p;p=()=>fe(e())}let v,y=e=>{f=k.onStop=()=>{a(e,h,4)}};if(bn){if(y=s.NOOP,t?i&&l(t,h,3,[p(),g?[]:void 0,y]):p(),"sync"!==r)return s.NOOP;{const e=On();v=e.__watcherHandles||(e.__watcherHandles=[])}}let b=g?new Array(e.length).fill(ce):ce;const x=()=>{if(k.active)if(t){const e=k.run();(o||m||(g?e.some(((e,t)=>(0,s.hasChanged)(e,b[t]))):(0,s.hasChanged)(e,b)))&&(f&&f(),l(t,h,3,[e,b===ce?void 0:g&&b[0]===ce?[]:b,y]),b=e)}else k.run()};let w;x.allowRecurse=!!t,"sync"===r?w=x:"post"===r?w=()=>mi(x,h&&h.suspense):(x.pre=!0,h&&(x.id=h.uid),w=()=>_(x));const k=new n.qq(p,w);t?i?x():b=k.run():"post"===r?mi(k.run.bind(k),h&&h.suspense):k.run();const S=()=>{k.stop(),h&&h.scope&&(0,s.remove)(h.scope.effects,k)};return v&&v.push(S),S}function he(e,t,i){const n=this.proxy,o=(0,s.isString)(e)?e.includes(".")?pe(n,e):()=>n[e]:e.bind(n,n);let r;(0,s.isFunction)(t)?r=t:(r=t.handler,i=t);const a=cn;fn(this);const l=ue(o,r.bind(n),i);return a?fn(a):mn(),l}function pe(e,t){const i=t.split(".");return()=>{let t=e;for(let e=0;e<i.length&&t;e++)t=t[i[e]];return t}}function fe(e,t){if(!(0,s.isObject)(e)||e.__v_skip)return e;if((t=t||new Set).has(e))return e;if(t.add(e),(0,n.dq)(e))fe(e.value,t);else if((0,s.isArray)(e))for(let i=0;i<e.length;i++)fe(e[i],t);else if((0,s.isSet)(e)||(0,s.isMap)(e))e.forEach((e=>{fe(e,t)}));else if((0,s.isPlainObject)(e))for(const i in e)fe(e[i],t);return e}function me(e,t){const i=z;if(null===i)return e;const n=Cn(i)||i.proxy,o=e.dirs||(e.dirs=[]);for(let e=0;e<t.length;e++){let[i,r,a,l=s.EMPTY_OBJ]=t[e];i&&((0,s.isFunction)(i)&&(i={mounted:i,updated:i}),i.deep&&fe(r),o.push({dir:i,instance:n,value:r,oldValue:void 0,arg:a,modifiers:l}))}return e}function ge(e,t,i,s){const o=e.dirs,r=t&&t.dirs;for(let a=0;a<o.length;a++){const c=o[a];r&&(c.oldValue=r[a].value);let d=c.dir[s];d&&((0,n.Jd)(),l(d,i,8,[e.el,c,e,t]),(0,n.lk)())}}function ve(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ve((()=>{e.isMounted=!0})),We((()=>{e.isUnmounting=!0})),e}const ye=[Function,Array],be={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ye,onEnter:ye,onAfterEnter:ye,onEnterCancelled:ye,onBeforeLeave:ye,onLeave:ye,onAfterLeave:ye,onLeaveCancelled:ye,onBeforeAppear:ye,onAppear:ye,onAfterAppear:ye,onAppearCancelled:ye},_e={name:"BaseTransition",props:be,setup(e,{slots:t}){const i=dn(),s=ve();let o;return()=>{const r=t.default&&Ce(t.default(),!0);if(!r||!r.length)return;let a=r[0];if(r.length>1){let e=!1;for(const t of r)if(t.type!==Ii){a=t,e=!0;break}}const l=(0,n.IU)(e),{mode:c}=l;if(s.isLeaving)return ke(a);const d=Se(a);if(!d)return ke(a);const u=we(d,l,s,i);Te(d,u);const h=i.subTree,p=h&&Se(h);let f=!1;const{getTransitionKey:m}=d.type;if(m){const e=m();void 0===o?o=e:e!==o&&(o=e,f=!0)}if(p&&p.type!==Ii&&(!Hi(d,p)||f)){const e=we(p,l,s,i);if(Te(p,e),"out-in"===c)return s.isLeaving=!0,e.afterLeave=()=>{s.isLeaving=!1,!1!==i.update.active&&i.update()},ke(a);"in-out"===c&&d.type!==Ii&&(e.delayLeave=(e,t,i)=>{xe(s,p)[String(p.key)]=p,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=i})}return a}}};function xe(e,t){const{leavingVNodes:i}=e;let n=i.get(t.type);return n||(n=Object.create(null),i.set(t.type,n)),n}function we(e,t,i,n){const{appear:o,mode:r,persisted:a=!1,onBeforeEnter:c,onEnter:d,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:p,onLeave:f,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:v,onAppear:y,onAfterAppear:b,onAppearCancelled:_}=t,x=String(e.key),w=xe(i,e),k=(e,t)=>{e&&l(e,n,9,t)},S=(e,t)=>{const i=t[1];k(e,t),(0,s.isArray)(e)?e.every((e=>e.length<=1))&&i():e.length<=1&&i()},T={mode:r,persisted:a,beforeEnter(t){let n=c;if(!i.isMounted){if(!o)return;n=v||c}t._leaveCb&&t._leaveCb(!0);const s=w[x];s&&Hi(e,s)&&s.el._leaveCb&&s.el._leaveCb(),k(n,[t])},enter(e){let t=d,n=u,s=h;if(!i.isMounted){if(!o)return;t=y||d,n=b||u,s=_||h}let r=!1;const a=e._enterCb=t=>{r||(r=!0,k(t?s:n,[e]),T.delayedLeave&&T.delayedLeave(),e._enterCb=void 0)};t?S(t,[e,a]):a()},leave(t,n){const s=String(e.key);if(t._enterCb&&t._enterCb(!0),i.isUnmounting)return n();k(p,[t]);let o=!1;const r=t._leaveCb=i=>{o||(o=!0,n(),k(i?g:m,[t]),t._leaveCb=void 0,w[s]===e&&delete w[s])};w[s]=e,f?S(f,[t,r]):r()},clone:e=>we(e,t,i,n)};return T}function ke(e){if(Oe(e))return(e=Ki(e)).children=null,e}function Se(e){return Oe(e)?e.children?e.children[0]:void 0:e}function Te(e,t){6&e.shapeFlag&&e.component?Te(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ce(e,t=!1,i){let n=[],s=0;for(let o=0;o<e.length;o++){let r=e[o];const a=null==i?r.key:String(i)+String(null!=r.key?r.key:o);r.type===Ei?(128&r.patchFlag&&s++,n=n.concat(Ce(r.children,t,a))):(t||r.type!==Ii)&&n.push(null!=a?Ki(r,{key:a}):r)}if(s>1)for(let e=0;e<n.length;e++)n[e].patchFlag=-2;return n}function Ee(e,t){return(0,s.isFunction)(e)?(()=>(0,s.extend)({name:e.name},t,{setup:e}))():e}const Ae=e=>!!e.type.__asyncLoader;function Ie(e){(0,s.isFunction)(e)&&(e={loader:e});const{loader:t,loadingComponent:i,errorComponent:o,delay:r=200,timeout:a,suspensible:l=!0,onError:d}=e;let u,h=null,p=0;const f=()=>{let e;return h||(e=h=t().catch((e=>{if(e=e instanceof Error?e:new Error(String(e)),d)return new Promise(((t,i)=>{d(e,(()=>t((p++,h=null,f()))),(()=>i(e)),p+1)}));throw e})).then((t=>e!==h&&h?h:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),u=t,t))))};return Ee({name:"AsyncComponentWrapper",__asyncLoader:f,get __asyncResolved(){return u},setup(){const e=cn;if(u)return()=>Me(u,e);const t=t=>{h=null,c(t,e,13,!o)};if(l&&e.suspense||bn)return f().then((t=>()=>Me(t,e))).catch((e=>(t(e),()=>o?Yi(o,{error:e}):null)));const s=(0,n.iH)(!1),d=(0,n.iH)(),p=(0,n.iH)(!!r);return r&&setTimeout((()=>{p.value=!1}),r),null!=a&&setTimeout((()=>{if(!s.value&&!d.value){const e=new Error(`Async component timed out after ${a}ms.`);t(e),d.value=e}}),a),f().then((()=>{s.value=!0,e.parent&&Oe(e.parent.vnode)&&_(e.parent.update)})).catch((e=>{t(e),d.value=e})),()=>s.value&&u?Me(u,e):d.value&&o?Yi(o,{error:d.value}):i&&!p.value?Yi(i):void 0}})}function Me(e,t){const{ref:i,props:n,children:s,ce:o}=t.vnode,r=Yi(e,n,s);return r.ref=i,r.ce=o,delete t.vnode.ce,r}const Oe=e=>e.type.__isKeepAlive,De={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const i=dn(),n=i.ctx;if(!n.renderer)return()=>{const e=t.default&&t.default();return e&&1===e.length?e[0]:e};const o=new Map,r=new Set;let a=null;__VUE_PROD_DEVTOOLS__&&(i.__v_cache=o);const l=i.suspense,{renderer:{p:c,m:d,um:u,o:{createElement:h}}}=n,p=h("div");function f(e){Ne(e),u(e,i,l,!0)}function m(e){o.forEach(((t,i)=>{const n=En(t.type);!n||e&&e(n)||g(i)}))}function g(e){const t=o.get(e);a&&Hi(t,a)?a&&Ne(a):f(t),o.delete(e),r.delete(e)}n.activate=(e,t,i,n,o)=>{const r=e.component;d(e,t,i,0,l),c(r.vnode,e,t,i,r,l,n,e.slotScopeIds,o),mi((()=>{r.isDeactivated=!1,r.a&&(0,s.invokeArrayFns)(r.a);const t=e.props&&e.props.onVnodeMounted;t&&on(t,r.parent,e)}),l),__VUE_PROD_DEVTOOLS__&&P(r)},n.deactivate=e=>{const t=e.component;d(e,p,null,1,l),mi((()=>{t.da&&(0,s.invokeArrayFns)(t.da);const i=e.props&&e.props.onVnodeUnmounted;i&&on(i,t.parent,e),t.isDeactivated=!0}),l),__VUE_PROD_DEVTOOLS__&&P(t)},de((()=>[e.include,e.exclude]),(([e,t])=>{e&&m((t=>Pe(e,t))),t&&m((e=>!Pe(t,e)))}),{flush:"post",deep:!0});let v=null;const y=()=>{null!=v&&o.set(v,Ue(i.subTree))};return Ve(y),$e(y),We((()=>{o.forEach((e=>{const{subTree:t,suspense:n}=i,s=Ue(t);if(e.type!==s.type||e.key!==s.key)f(e);else{Ne(s);const e=s.component.da;e&&mi(e,n)}}))})),()=>{if(v=null,!t.default)return null;const i=t.default(),n=i[0];if(i.length>1)return a=null,i;if(!zi(n)||!(4&n.shapeFlag||128&n.shapeFlag))return a=null,n;let s=Ue(n);const l=s.type,c=En(Ae(s)?s.type.__asyncResolved||{}:l),{include:d,exclude:u,max:h}=e;if(d&&(!c||!Pe(d,c))||u&&c&&Pe(u,c))return a=s,n;const p=null==s.key?l:s.key,f=o.get(p);return s.el&&(s=Ki(s),128&n.shapeFlag&&(n.ssContent=s)),v=p,f?(s.el=f.el,s.component=f.component,s.transition&&Te(s,s.transition),s.shapeFlag|=512,r.delete(p),r.add(p)):(r.add(p),h&&r.size>parseInt(h,10)&&g(r.values().next().value)),s.shapeFlag|=256,a=s,J(n.type)?n:s}}};function Pe(e,t){return(0,s.isArray)(e)?e.some((e=>Pe(e,t))):(0,s.isString)(e)?e.split(",").includes(t):!!(0,s.isRegExp)(e)&&e.test(t)}function Le(e,t){Be(e,"a",t)}function je(e,t){Be(e,"da",t)}function Be(e,t,i=cn){const n=e.__wdc||(e.__wdc=()=>{let t=i;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(Fe(t,n,i),i){let e=i.parent;for(;e&&e.parent;)Oe(e.parent.vnode)&&Re(n,t,i,e),e=e.parent}}function Re(e,t,i,n){const o=Fe(t,e,n,!0);Ge((()=>{(0,s.remove)(n[t],o)}),i)}function Ne(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Ue(e){return 128&e.shapeFlag?e.ssContent:e}function Fe(e,t,i=cn,s=!1){if(i){const o=i[e]||(i[e]=[]),r=t.__weh||(t.__weh=(...s)=>{if(i.isUnmounted)return;(0,n.Jd)(),fn(i);const o=l(t,i,e,s);return mn(),(0,n.lk)(),o});return s?o.unshift(r):o.push(r),r}}const ze=e=>(t,i=cn)=>(!bn||"sp"===e)&&Fe(e,((...e)=>t(...e)),i),He=ze("bm"),Ve=ze("m"),qe=ze("bu"),$e=ze("u"),We=ze("bum"),Ge=ze("um"),Ye=ze("sp"),Xe=ze("rtg"),Ke=ze("rtc");function Qe(e,t=cn){Fe("ec",e,t)}const Ze="components",Je="directives";function et(e,t){return st(Ze,e,!0,t)||e}const tt=Symbol.for("v-ndc");function it(e){return(0,s.isString)(e)?st(Ze,e,!1)||e:e||tt}function nt(e){return st(Je,e)}function st(e,t,i=!0,n=!1){const o=z||cn;if(o){const i=o.type;if(e===Ze){const e=En(i,!1);if(e&&(e===t||e===(0,s.camelize)(t)||e===(0,s.capitalize)((0,s.camelize)(t))))return i}const r=ot(o[e]||i[e],t)||ot(o.appContext[e],t);return!r&&n?i:r}}function ot(e,t){return e&&(e[t]||e[(0,s.camelize)(t)]||e[(0,s.capitalize)((0,s.camelize)(t))])}function rt(e,t,i,n){let o;const r=i&&i[n];if((0,s.isArray)(e)||(0,s.isString)(e)){o=new Array(e.length);for(let i=0,n=e.length;i<n;i++)o[i]=t(e[i],i,void 0,r&&r[i])}else if("number"==typeof e){o=new Array(e);for(let i=0;i<e;i++)o[i]=t(i+1,i,void 0,r&&r[i])}else if((0,s.isObject)(e))if(e[Symbol.iterator])o=Array.from(e,((e,i)=>t(e,i,void 0,r&&r[i])));else{const i=Object.keys(e);o=new Array(i.length);for(let n=0,s=i.length;n<s;n++){const s=i[n];o[n]=t(e[s],s,n,r&&r[n])}}else o=[];return i&&(i[n]=o),o}function at(e,t){for(let i=0;i<t.length;i++){const n=t[i];if((0,s.isArray)(n))for(let t=0;t<n.length;t++)e[n[t].name]=n[t].fn;else n&&(e[n.name]=n.key?(...e)=>{const t=n.fn(...e);return t&&(t.key=n.key),t}:n.fn)}return e}function lt(e,t,i={},n,s){if(z.isCE||z.parent&&Ae(z.parent)&&z.parent.isCE)return"default"!==t&&(i.name=t),Yi("slot",i,n&&n());let o=e[t];o&&o._c&&(o._d=!1),Pi();const r=o&&ct(o(i)),a=Fi(Ei,{key:i.key||r&&r.key||`_${t}`},r||(n?n():[]),r&&1===e._?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function ct(e){return e.some((e=>!zi(e)||e.type!==Ii&&!(e.type===Ei&&!ct(e.children))))?e:null}function dt(e,t){const i={};for(const n in e)i[t&&/[A-Z]/.test(n)?`on:${n}`:(0,s.toHandlerKey)(n)]=e[n];return i}const ut=e=>e?gn(e)?Cn(e)||e.proxy:ut(e.parent):null,ht=(0,s.extend)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ut(e.parent),$root:e=>ut(e.root),$emit:e=>e.emit,$options:e=>__VUE_OPTIONS_API__?jt(e):e.type,$forceUpdate:e=>e.f||(e.f=()=>_(e.update)),$nextTick:e=>e.n||(e.n=b.bind(e.proxy)),$watch:e=>__VUE_OPTIONS_API__?he.bind(e):s.NOOP}),pt=(e,t)=>e!==s.EMPTY_OBJ&&!e.__isScriptSetup&&(0,s.hasOwn)(e,t),ft={get({_:e},t){const{ctx:i,setupState:o,data:r,props:a,accessCache:l,type:c,appContext:d}=e;let u;if("$"!==t[0]){const n=l[t];if(void 0!==n)switch(n){case 1:return o[t];case 2:return r[t];case 4:return i[t];case 3:return a[t]}else{if(pt(o,t))return l[t]=1,o[t];if(r!==s.EMPTY_OBJ&&(0,s.hasOwn)(r,t))return l[t]=2,r[t];if((u=e.propsOptions[0])&&(0,s.hasOwn)(u,t))return l[t]=3,a[t];if(i!==s.EMPTY_OBJ&&(0,s.hasOwn)(i,t))return l[t]=4,i[t];__VUE_OPTIONS_API__&&!Dt||(l[t]=0)}}const h=ht[t];let p,f;return h?("$attrs"===t&&(0,n.j)(e,"get",t),h(e)):(p=c.__cssModules)&&(p=p[t])?p:i!==s.EMPTY_OBJ&&(0,s.hasOwn)(i,t)?(l[t]=4,i[t]):(f=d.config.globalProperties,(0,s.hasOwn)(f,t)?f[t]:void 0)},set({_:e},t,i){const{data:n,setupState:o,ctx:r}=e;return pt(o,t)?(o[t]=i,!0):n!==s.EMPTY_OBJ&&(0,s.hasOwn)(n,t)?(n[t]=i,!0):!((0,s.hasOwn)(e.props,t)||"$"===t[0]&&t.slice(1)in e||(r[t]=i,0))},has({_:{data:e,setupState:t,accessCache:i,ctx:n,appContext:o,propsOptions:r}},a){let l;return!!i[a]||e!==s.EMPTY_OBJ&&(0,s.hasOwn)(e,a)||pt(t,a)||(l=r[0])&&(0,s.hasOwn)(l,a)||(0,s.hasOwn)(n,a)||(0,s.hasOwn)(ht,a)||(0,s.hasOwn)(o.config.globalProperties,a)},defineProperty(e,t,i){return null!=i.get?e._.accessCache[t]=0:(0,s.hasOwn)(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}},mt=(0,s.extend)({},ft,{get(e,t){if(t!==Symbol.unscopables)return ft.get(e,t,e)},has:(e,t)=>"_"!==t[0]&&!(0,s.isGloballyWhitelisted)(t)});function gt(){return null}function vt(){return null}function yt(e){}function bt(e){}function _t(){return null}function xt(){}function wt(e,t){return null}function kt(){return Ct().slots}function St(){return Ct().attrs}function Tt(e,t,i){const s=dn();if(i&&i.local){const i=(0,n.iH)(e[t]);return de((()=>e[t]),(e=>i.value=e)),de(i,(i=>{i!==e[t]&&s.emit(`update:${t}`,i)})),i}return{__v_isRef:!0,get value(){return e[t]},set value(e){s.emit(`update:${t}`,e)}}}function Ct(){const e=dn();return e.setupContext||(e.setupContext=Tn(e))}function Et(e){return(0,s.isArray)(e)?e.reduce(((e,t)=>(e[t]=null,e)),{}):e}function At(e,t){const i=Et(e);for(const e in t){if(e.startsWith("__skip"))continue;let n=i[e];n?(0,s.isArray)(n)||(0,s.isFunction)(n)?n=i[e]={type:n,default:t[e]}:n.default=t[e]:null===n&&(n=i[e]={default:t[e]}),n&&t[`__skip_${e}`]&&(n.skipFactory=!0)}return i}function It(e,t){return e&&t?(0,s.isArray)(e)&&(0,s.isArray)(t)?e.concat(t):(0,s.extend)({},Et(e),Et(t)):e||t}function Mt(e,t){const i={};for(const n in e)t.includes(n)||Object.defineProperty(i,n,{enumerable:!0,get:()=>e[n]});return i}function Ot(e){const t=dn();let i=e();return mn(),(0,s.isPromise)(i)&&(i=i.catch((e=>{throw fn(t),e}))),[i,()=>fn(t)]}let Dt=!0;function Pt(e,t,i){l((0,s.isArray)(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,i)}function Lt(e,t,i,n){const o=n.includes(".")?pe(i,n):()=>i[n];if((0,s.isString)(e)){const i=t[e];(0,s.isFunction)(i)&&de(o,i)}else if((0,s.isFunction)(e))de(o,e.bind(i));else if((0,s.isObject)(e))if((0,s.isArray)(e))e.forEach((e=>Lt(e,t,i,n)));else{const n=(0,s.isFunction)(e.handler)?e.handler.bind(i):t[e.handler];(0,s.isFunction)(n)&&de(o,n,e)}}function jt(e){const t=e.type,{mixins:i,extends:n}=t,{mixins:o,optionsCache:r,config:{optionMergeStrategies:a}}=e.appContext,l=r.get(t);let c;return l?c=l:o.length||i||n?(c={},o.length&&o.forEach((e=>Bt(c,e,a,!0))),Bt(c,t,a)):c=t,(0,s.isObject)(t)&&r.set(t,c),c}function Bt(e,t,i,n=!1){const{mixins:s,extends:o}=t;o&&Bt(e,o,i,!0),s&&s.forEach((t=>Bt(e,t,i,!0)));for(const s in t)if(n&&"expose"===s);else{const n=Rt[s]||i&&i[s];e[s]=n?n(e[s],t[s]):t[s]}return e}const Rt={data:Nt,props:Ht,emits:Ht,methods:zt,computed:zt,beforeCreate:Ft,created:Ft,beforeMount:Ft,mounted:Ft,beforeUpdate:Ft,updated:Ft,beforeDestroy:Ft,beforeUnmount:Ft,destroyed:Ft,unmounted:Ft,activated:Ft,deactivated:Ft,errorCaptured:Ft,serverPrefetch:Ft,components:zt,directives:zt,watch:function(e,t){if(!e)return t;if(!t)return e;const i=(0,s.extend)(Object.create(null),e);for(const n in t)i[n]=Ft(e[n],t[n]);return i},provide:Nt,inject:function(e,t){return zt(Ut(e),Ut(t))}};function Nt(e,t){return t?e?function(){return(0,s.extend)((0,s.isFunction)(e)?e.call(this,this):e,(0,s.isFunction)(t)?t.call(this,this):t)}:t:e}function Ut(e){if((0,s.isArray)(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=e[i];return t}return e}function Ft(e,t){return e?[...new Set([].concat(e,t))]:t}function zt(e,t){return e?(0,s.extend)(Object.create(null),e,t):t}function Ht(e,t){return e?(0,s.isArray)(e)&&(0,s.isArray)(t)?[...new Set([...e,...t])]:(0,s.extend)(Object.create(null),Et(e),Et(null!=t?t:{})):t}function Vt(){return{app:null,config:{isNativeTag:s.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let qt=0;function $t(e,t){return function(i,n=null){(0,s.isFunction)(i)||(i=(0,s.extend)({},i)),null==n||(0,s.isObject)(n)||(n=null);const o=Vt(),r=new Set;let a=!1;const l=o.app={_uid:qt++,_component:i,_props:n,_container:null,_context:o,_instance:null,version:jn,get config(){return o.config},set config(e){},use:(e,...t)=>(r.has(e)||(e&&(0,s.isFunction)(e.install)?(r.add(e),e.install(l,...t)):(0,s.isFunction)(e)&&(r.add(e),e(l,...t))),l),mixin:e=>(__VUE_OPTIONS_API__&&(o.mixins.includes(e)||o.mixins.push(e)),l),component:(e,t)=>t?(o.components[e]=t,l):o.components[e],directive:(e,t)=>t?(o.directives[e]=t,l):o.directives[e],mount(s,r,c){if(!a){const d=Yi(i,n);return d.appContext=o,r&&t?t(d,s):e(d,s,c),a=!0,l._container=s,s.__vue_app__=l,__VUE_PROD_DEVTOOLS__&&(l._instance=d.component,function(e,t){O("app:init",e,t,{Fragment:Ei,Text:Ai,Comment:Ii,Static:Mi})}(l,jn)),Cn(d.component)||d.component.proxy}},unmount(){a&&(e(null,l._container),__VUE_PROD_DEVTOOLS__&&(l._instance=null,function(e){O("app:unmount",e)}(l)),delete l._container.__vue_app__)},provide:(e,t)=>(o.provides[e]=t,l),runWithContext(e){Wt=l;try{return e()}finally{Wt=null}}};return l}}let Wt=null;function Gt(e,t){if(cn){let i=cn.provides;const n=cn.parent&&cn.parent.provides;n===i&&(i=cn.provides=Object.create(n)),i[e]=t}}function Yt(e,t,i=!1){const n=cn||z;if(n||Wt){const o=n?null==n.parent?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:Wt._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return i&&(0,s.isFunction)(t)?t.call(n&&n.proxy):t}}function Xt(){return!!(cn||z||Wt)}function Kt(e,t,i,o){const[r,a]=e.propsOptions;let l,c=!1;if(t)for(let n in t){if((0,s.isReservedProp)(n))continue;const d=t[n];let u;r&&(0,s.hasOwn)(r,u=(0,s.camelize)(n))?a&&a.includes(u)?(l||(l={}))[u]=d:i[u]=d:F(e.emitsOptions,n)||n in o&&d===o[n]||(o[n]=d,c=!0)}if(a){const t=(0,n.IU)(i),o=l||s.EMPTY_OBJ;for(let n=0;n<a.length;n++){const l=a[n];i[l]=Qt(r,t,l,o[l],e,!(0,s.hasOwn)(o,l))}}return c}function Qt(e,t,i,n,o,r){const a=e[i];if(null!=a){const e=(0,s.hasOwn)(a,"default");if(e&&void 0===n){const e=a.default;if(a.type!==Function&&!a.skipFactory&&(0,s.isFunction)(e)){const{propsDefaults:s}=o;i in s?n=s[i]:(fn(o),n=s[i]=e.call(null,t),mn())}else n=e}a[0]&&(r&&!e?n=!1:!a[1]||""!==n&&n!==(0,s.hyphenate)(i)||(n=!0))}return n}function Zt(e,t,i=!1){const n=t.propsCache,o=n.get(e);if(o)return o;const r=e.props,a={},l=[];let c=!1;if(__VUE_OPTIONS_API__&&!(0,s.isFunction)(e)){const n=e=>{c=!0;const[i,n]=Zt(e,t,!0);(0,s.extend)(a,i),n&&l.push(...n)};!i&&t.mixins.length&&t.mixins.forEach(n),e.extends&&n(e.extends),e.mixins&&e.mixins.forEach(n)}if(!r&&!c)return(0,s.isObject)(e)&&n.set(e,s.EMPTY_ARR),s.EMPTY_ARR;if((0,s.isArray)(r))for(let e=0;e<r.length;e++){const t=(0,s.camelize)(r[e]);Jt(t)&&(a[t]=s.EMPTY_OBJ)}else if(r)for(const e in r){const t=(0,s.camelize)(e);if(Jt(t)){const i=r[e],n=a[t]=(0,s.isArray)(i)||(0,s.isFunction)(i)?{type:i}:(0,s.extend)({},i);if(n){const e=ii(Boolean,n.type),i=ii(String,n.type);n[0]=e>-1,n[1]=i<0||e<i,(e>-1||(0,s.hasOwn)(n,"default"))&&l.push(t)}}}const d=[a,l];return(0,s.isObject)(e)&&n.set(e,d),d}function Jt(e){return"$"!==e[0]}function ei(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:null===e?"null":""}function ti(e,t){return ei(e)===ei(t)}function ii(e,t){return(0,s.isArray)(t)?t.findIndex((t=>ti(t,e))):(0,s.isFunction)(t)&&ti(t,e)?0:-1}const ni=e=>"_"===e[0]||"$stable"===e,si=e=>(0,s.isArray)(e)?e.map(en):[en(e)],oi=(e,t,i)=>{if(t._n)return t;const n=G(((...e)=>si(t(...e))),i);return n._c=!1,n},ri=(e,t,i)=>{const n=e._ctx;for(const i in e){if(ni(i))continue;const o=e[i];if((0,s.isFunction)(o))t[i]=oi(0,o,n);else if(null!=o){const e=si(o);t[i]=()=>e}}},ai=(e,t)=>{const i=si(t);e.slots.default=()=>i},li=(e,t)=>{if(32&e.vnode.shapeFlag){const i=t._;i?(e.slots=(0,n.IU)(t),(0,s.def)(t,"_",i)):ri(t,e.slots={})}else e.slots={},t&&ai(e,t);(0,s.def)(e.slots,qi,1)},ci=(e,t,i)=>{const{vnode:n,slots:o}=e;let r=!0,a=s.EMPTY_OBJ;if(32&n.shapeFlag){const e=t._;e?i&&1===e?r=!1:((0,s.extend)(o,t),i||1!==e||delete o._):(r=!t.$stable,ri(t,o)),a=t}else t&&(ai(e,t),a={default:1});if(r)for(const e in o)ni(e)||e in a||delete o[e]};function di(e,t,i,o,r=!1){if((0,s.isArray)(e))return void e.forEach(((e,n)=>di(e,t&&((0,s.isArray)(t)?t[n]:t),i,o,r)));if(Ae(o)&&!r)return;const l=4&o.shapeFlag?Cn(o.component)||o.component.proxy:o.el,c=r?null:l,{i:d,r:u}=e,h=t&&t.r,p=d.refs===s.EMPTY_OBJ?d.refs={}:d.refs,f=d.setupState;if(null!=h&&h!==u&&((0,s.isString)(h)?(p[h]=null,(0,s.hasOwn)(f,h)&&(f[h]=null)):(0,n.dq)(h)&&(h.value=null)),(0,s.isFunction)(u))a(u,d,12,[c,p]);else{const t=(0,s.isString)(u),o=(0,n.dq)(u);if(t||o){const n=()=>{if(e.f){const i=t?(0,s.hasOwn)(f,u)?f[u]:p[u]:u.value;r?(0,s.isArray)(i)&&(0,s.remove)(i,l):(0,s.isArray)(i)?i.includes(l)||i.push(l):t?(p[u]=[l],(0,s.hasOwn)(f,u)&&(f[u]=p[u])):(u.value=[l],e.k&&(p[e.k]=u.value))}else t?(p[u]=c,(0,s.hasOwn)(f,u)&&(f[u]=c)):o&&(u.value=c,e.k&&(p[e.k]=c))};c?(n.id=-1,mi(n,i)):n()}}}let ui=!1;const hi=e=>/svg/.test(e.namespaceURI)&&"foreignObject"!==e.tagName,pi=e=>8===e.nodeType;function fi(e){const{mt:t,p:i,o:{patchProp:n,createText:o,nextSibling:r,parentNode:a,remove:l,insert:c,createComment:d}}=e,u=(i,n,s,l,d,v=!1)=>{const y=pi(i)&&"["===i.data,b=()=>m(i,n,s,l,d,y),{type:_,ref:x,shapeFlag:w,patchFlag:k}=n;let S=i.nodeType;n.el=i,-2===k&&(v=!1,n.dynamicChildren=null);let T=null;switch(_){case Ai:3!==S?""===n.children?(c(n.el=o(""),a(i),i),T=i):T=b():(i.data!==n.children&&(ui=!0,i.data=n.children),T=r(i));break;case Ii:T=8!==S||y?b():r(i);break;case Mi:if(y&&(S=(i=r(i)).nodeType),1===S||3===S){T=i;const e=!n.children.length;for(let t=0;t<n.staticCount;t++)e&&(n.children+=1===T.nodeType?T.outerHTML:T.data),t===n.staticCount-1&&(n.anchor=T),T=r(T);return y?r(T):T}b();break;case Ei:T=y?f(i,n,s,l,d,v):b();break;default:if(1&w)T=1!==S||n.type.toLowerCase()!==i.tagName.toLowerCase()?b():h(i,n,s,l,d,v);else if(6&w){n.slotScopeIds=d;const e=a(i);if(t(n,e,null,s,l,hi(e),v),T=y?g(i):r(i),T&&pi(T)&&"teleport end"===T.data&&(T=r(T)),Ae(n)){let t;y?(t=Yi(Ei),t.anchor=T?T.previousSibling:e.lastChild):t=3===i.nodeType?Qi(""):Yi("div"),t.el=i,n.component.subTree=t}}else 64&w?T=8!==S?b():n.type.hydrate(i,n,s,l,d,v,e,p):128&w&&(T=n.type.hydrate(i,n,s,l,hi(a(i)),d,v,e,u))}return null!=x&&di(x,null,l,n),T},h=(e,t,i,o,r,a)=>{a=a||!!t.dynamicChildren;const{type:c,props:d,patchFlag:u,shapeFlag:h,dirs:f}=t,m="input"===c&&f||"option"===c;if(m||-1!==u){if(f&&ge(t,null,i,"created"),d)if(m||!a||48&u)for(const t in d)(m&&t.endsWith("value")||(0,s.isOn)(t)&&!(0,s.isReservedProp)(t))&&n(e,t,null,d[t],!1,void 0,i);else d.onClick&&n(e,"onClick",null,d.onClick,!1,void 0,i);let c;if((c=d&&d.onVnodeBeforeMount)&&on(c,i,t),f&&ge(t,null,i,"beforeMount"),((c=d&&d.onVnodeMounted)||f)&&se((()=>{c&&on(c,i,t),f&&ge(t,null,i,"mounted")}),o),16&h&&(!d||!d.innerHTML&&!d.textContent)){let n=p(e.firstChild,t,e,i,o,r,a);for(;n;){ui=!0;const e=n;n=n.nextSibling,l(e)}}else 8&h&&e.textContent!==t.children&&(ui=!0,e.textContent=t.children)}return e.nextSibling},p=(e,t,n,s,o,r,a)=>{a=a||!!t.dynamicChildren;const l=t.children,c=l.length;for(let t=0;t<c;t++){const c=a?l[t]:l[t]=en(l[t]);if(e)e=u(e,c,s,o,r,a);else{if(c.type===Ai&&!c.children)continue;ui=!0,i(null,c,n,null,s,o,hi(n),r)}}return e},f=(e,t,i,n,s,o)=>{const{slotScopeIds:l}=t;l&&(s=s?s.concat(l):l);const u=a(e),h=p(r(e),t,u,i,n,s,o);return h&&pi(h)&&"]"===h.data?r(t.anchor=h):(ui=!0,c(t.anchor=d("]"),u,h),h)},m=(e,t,n,s,o,c)=>{if(ui=!0,t.el=null,c){const t=g(e);for(;;){const i=r(e);if(!i||i===t)break;l(i)}}const d=r(e),u=a(e);return l(e),i(null,t,u,d,n,s,hi(u),o),d},g=e=>{let t=0;for(;e;)if((e=r(e))&&pi(e)&&("["===e.data&&t++,"]"===e.data)){if(0===t)return r(e);t--}return e};return[(e,t)=>{if(!t.hasChildNodes())return i(null,e,t),S(),void(t._vnode=e);ui=!1,u(t.firstChild,e,null,null,null),S(),t._vnode=e,ui&&console.error("Hydration completed but contains mismatches.")},u]}const mi=se;function gi(e){return yi(e)}function vi(e){return yi(e,fi)}function yi(e,t){"boolean"!=typeof __VUE_OPTIONS_API__&&((0,s.getGlobalThis)().__VUE_OPTIONS_API__=!0),"boolean"!=typeof __VUE_PROD_DEVTOOLS__&&((0,s.getGlobalThis)().__VUE_PROD_DEVTOOLS__=!1);const i=(0,s.getGlobalThis)();i.__VUE__=!0,__VUE_PROD_DEVTOOLS__&&D(i.__VUE_DEVTOOLS_GLOBAL_HOOK__,i);const{insert:o,remove:r,patchProp:a,createElement:l,createText:c,createComment:d,setText:u,setElementText:f,parentNode:m,nextSibling:g,setScopeId:v=s.NOOP,insertStaticContent:y}=e,b=(e,t,i,n=null,s=null,o=null,r=!1,a=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!Hi(e,t)&&(n=ie(e),X(e,s,o,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:d,shapeFlag:u}=t;switch(c){case Ai:x(e,t,i,n);break;case Ii:w(e,t,i,n);break;case Mi:null==e&&T(t,i,n,r);break;case Ei:R(e,t,i,n,s,o,r,a,l);break;default:1&u?C(e,t,i,n,s,o,r,a,l):6&u?N(e,t,i,n,s,o,r,a,l):(64&u||128&u)&&c.process(e,t,i,n,s,o,r,a,l,se)}null!=d&&s&&di(d,e&&e.ref,o,t||e,!t)},x=(e,t,i,n)=>{if(null==e)o(t.el=c(t.children),i,n);else{const i=t.el=e.el;t.children!==e.children&&u(i,t.children)}},w=(e,t,i,n)=>{null==e?o(t.el=d(t.children||""),i,n):t.el=e.el},T=(e,t,i,n)=>{[e.el,e.anchor]=y(e.children,t,i,n,e.el,e.anchor)},C=(e,t,i,n,s,o,r,a,l)=>{r=r||"svg"===t.type,null==e?E(t,i,n,s,o,r,a,l):M(e,t,s,o,r,a,l)},E=(e,t,i,n,r,c,d,u)=>{let h,p;const{type:m,props:g,shapeFlag:v,transition:y,dirs:b}=e;if(h=e.el=l(e.type,c,g&&g.is,g),8&v?f(h,e.children):16&v&&I(e.children,h,null,n,r,c&&"foreignObject"!==m,d,u),b&&ge(e,null,n,"created"),A(h,e,e.scopeId,d,n),g){for(const t in g)"value"===t||(0,s.isReservedProp)(t)||a(h,t,null,g[t],c,e.children,n,r,te);"value"in g&&a(h,"value",null,g.value),(p=g.onVnodeBeforeMount)&&on(p,n,e)}__VUE_PROD_DEVTOOLS__&&(Object.defineProperty(h,"__vnode",{value:e,enumerable:!1}),Object.defineProperty(h,"__vueParentComponent",{value:n,enumerable:!1})),b&&ge(e,null,n,"beforeMount");const _=(!r||r&&!r.pendingBranch)&&y&&!y.persisted;_&&y.beforeEnter(h),o(h,t,i),((p=g&&g.onVnodeMounted)||_||b)&&mi((()=>{p&&on(p,n,e),_&&y.enter(h),b&&ge(e,null,n,"mounted")}),r)},A=(e,t,i,n,s)=>{if(i&&v(e,i),n)for(let t=0;t<n.length;t++)v(e,n[t]);if(s&&t===s.subTree){const t=s.vnode;A(e,t,t.scopeId,t.slotScopeIds,s.parent)}},I=(e,t,i,n,s,o,r,a,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=a?tn(e[c]):en(e[c]);b(null,l,t,i,n,s,o,r,a)}},M=(e,t,i,n,o,r,l)=>{const c=t.el=e.el;let{patchFlag:d,dynamicChildren:u,dirs:h}=t;d|=16&e.patchFlag;const p=e.props||s.EMPTY_OBJ,m=t.props||s.EMPTY_OBJ;let g;i&&bi(i,!1),(g=m.onVnodeBeforeUpdate)&&on(g,i,t,e),h&&ge(t,e,i,"beforeUpdate"),i&&bi(i,!0);const v=o&&"foreignObject"!==t.type;if(u?O(e.dynamicChildren,u,c,i,n,v,r):l||q(e,t,c,null,i,n,v,r,!1),d>0){if(16&d)j(c,t,p,m,i,n,o);else if(2&d&&p.class!==m.class&&a(c,"class",null,m.class,o),4&d&&a(c,"style",p.style,m.style,o),8&d){const s=t.dynamicProps;for(let t=0;t<s.length;t++){const r=s[t],l=p[r],d=m[r];d===l&&"value"!==r||a(c,r,l,d,o,e.children,i,n,te)}}1&d&&e.children!==t.children&&f(c,t.children)}else l||null!=u||j(c,t,p,m,i,n,o);((g=m.onVnodeUpdated)||h)&&mi((()=>{g&&on(g,i,t,e),h&&ge(t,e,i,"updated")}),n)},O=(e,t,i,n,s,o,r)=>{for(let a=0;a<t.length;a++){const l=e[a],c=t[a],d=l.el&&(l.type===Ei||!Hi(l,c)||70&l.shapeFlag)?m(l.el):i;b(l,c,d,null,n,s,o,r,!0)}},j=(e,t,i,n,o,r,l)=>{if(i!==n){if(i!==s.EMPTY_OBJ)for(const c in i)(0,s.isReservedProp)(c)||c in n||a(e,c,i[c],null,l,t.children,o,r,te);for(const c in n){if((0,s.isReservedProp)(c))continue;const d=n[c],u=i[c];d!==u&&"value"!==c&&a(e,c,u,d,l,t.children,o,r,te)}"value"in n&&a(e,"value",i.value,n.value)}},R=(e,t,i,n,s,r,a,l,d)=>{const u=t.el=e?e.el:c(""),h=t.anchor=e?e.anchor:c("");let{patchFlag:p,dynamicChildren:f,slotScopeIds:m}=t;m&&(l=l?l.concat(m):m),null==e?(o(u,i,n),o(h,i,n),I(t.children,i,h,s,r,a,l,d)):p>0&&64&p&&f&&e.dynamicChildren?(O(e.dynamicChildren,f,i,s,r,a,l),(null!=t.key||s&&t===s.subTree)&&_i(e,t,!0)):q(e,t,i,h,s,r,a,l,d)},N=(e,t,i,n,s,o,r,a,l)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?s.ctx.activate(t,i,n,r,l):U(t,i,n,s,o,r,l):z(e,t,l)},U=(e,t,i,n,s,o,r)=>{const a=e.component=ln(e,n,s);if(Oe(e)&&(a.ctx.renderer=se),_n(a),a.asyncDep){if(s&&s.registerDep(a,H),!e.el){const e=a.subTree=Yi(Ii);w(null,e,t,i)}}else H(a,e,t,i,s,o,r)},z=(e,t,i)=>{const n=t.component=e.component;if(function(e,t,i){const{props:n,children:s,component:o}=e,{props:r,children:a,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(i&&l>=0))return!(!s&&!a||a&&a.$stable)||n!==r&&(n?!r||Q(n,r,c):!!r);if(1024&l)return!0;if(16&l)return n?Q(n,r,c):!!r;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const i=e[t];if(r[i]!==n[i]&&!F(c,i))return!0}}return!1}(e,t,i)){if(n.asyncDep&&!n.asyncResolved)return void V(n,t,i);n.next=t,function(e){const t=h.indexOf(e);t>p&&h.splice(t,1)}(n.update),n.update()}else t.el=e.el,n.vnode=t},H=(e,t,i,o,r,a,l)=>{const c=e.effect=new n.qq((()=>{if(e.isMounted){let t,{next:i,bu:n,u:o,parent:c,vnode:d}=e,u=i;bi(e,!1),i?(i.el=d.el,V(e,i,l)):i=d,n&&(0,s.invokeArrayFns)(n),(t=i.props&&i.props.onVnodeBeforeUpdate)&&on(t,c,i,d),bi(e,!0);const h=Y(e),p=e.subTree;e.subTree=h,b(p,h,m(p.el),ie(p),e,r,a),i.el=h.el,null===u&&Z(e,h.el),o&&mi(o,r),(t=i.props&&i.props.onVnodeUpdated)&&mi((()=>on(t,c,i,d)),r),__VUE_PROD_DEVTOOLS__&&L(e)}else{let n;const{el:l,props:c}=t,{bm:d,m:u,parent:h}=e,p=Ae(t);if(bi(e,!1),d&&(0,s.invokeArrayFns)(d),!p&&(n=c&&c.onVnodeBeforeMount)&&on(n,h,t),bi(e,!0),l&&re){const i=()=>{e.subTree=Y(e),re(l,e.subTree,e,r,null)};p?t.type.__asyncLoader().then((()=>!e.isUnmounted&&i())):i()}else{const n=e.subTree=Y(e);b(null,n,i,o,e,r,a),t.el=n.el}if(u&&mi(u,r),!p&&(n=c&&c.onVnodeMounted)){const e=t;mi((()=>on(n,h,e)),r)}(256&t.shapeFlag||h&&Ae(h.vnode)&&256&h.vnode.shapeFlag)&&e.a&&mi(e.a,r),e.isMounted=!0,__VUE_PROD_DEVTOOLS__&&P(e),t=i=o=null}}),(()=>_(d)),e.scope),d=e.update=()=>c.run();d.id=e.uid,bi(e,!0),d()},V=(e,t,i)=>{t.component=e;const o=e.vnode.props;e.vnode=t,e.next=null,function(e,t,i,o){const{props:r,attrs:a,vnode:{patchFlag:l}}=e,c=(0,n.IU)(r),[d]=e.propsOptions;let u=!1;if(!(o||l>0)||16&l){let n;Kt(e,t,r,a)&&(u=!0);for(const o in c)t&&((0,s.hasOwn)(t,o)||(n=(0,s.hyphenate)(o))!==o&&(0,s.hasOwn)(t,n))||(d?!i||void 0===i[o]&&void 0===i[n]||(r[o]=Qt(d,c,o,void 0,e,!0)):delete r[o]);if(a!==c)for(const e in a)t&&(0,s.hasOwn)(t,e)||(delete a[e],u=!0)}else if(8&l){const i=e.vnode.dynamicProps;for(let n=0;n<i.length;n++){let o=i[n];if(F(e.emitsOptions,o))continue;const l=t[o];if(d)if((0,s.hasOwn)(a,o))l!==a[o]&&(a[o]=l,u=!0);else{const t=(0,s.camelize)(o);r[t]=Qt(d,c,t,l,e,!1)}else l!==a[o]&&(a[o]=l,u=!0)}}u&&(0,n.X$)(e,"set","$attrs")}(e,t.props,o,i),ci(e,t.children,i),(0,n.Jd)(),k(),(0,n.lk)()},q=(e,t,i,n,s,o,r,a,l=!1)=>{const c=e&&e.children,d=e?e.shapeFlag:0,u=t.children,{patchFlag:h,shapeFlag:p}=t;if(h>0){if(128&h)return void W(c,u,i,n,s,o,r,a,l);if(256&h)return void $(c,u,i,n,s,o,r,a,l)}8&p?(16&d&&te(c,s,o),u!==c&&f(i,u)):16&d?16&p?W(c,u,i,n,s,o,r,a,l):te(c,s,o,!0):(8&d&&f(i,""),16&p&&I(u,i,n,s,o,r,a,l))},$=(e,t,i,n,o,r,a,l,c)=>{e=e||s.EMPTY_ARR,t=t||s.EMPTY_ARR;const d=e.length,u=t.length,h=Math.min(d,u);let p;for(p=0;p<h;p++){const n=t[p]=c?tn(t[p]):en(t[p]);b(e[p],n,i,null,o,r,a,l,c)}d>u?te(e,o,r,!0,!1,h):I(t,i,n,o,r,a,l,c,h)},W=(e,t,i,n,o,r,a,l,c)=>{let d=0;const u=t.length;let h=e.length-1,p=u-1;for(;d<=h&&d<=p;){const n=e[d],s=t[d]=c?tn(t[d]):en(t[d]);if(!Hi(n,s))break;b(n,s,i,null,o,r,a,l,c),d++}for(;d<=h&&d<=p;){const n=e[h],s=t[p]=c?tn(t[p]):en(t[p]);if(!Hi(n,s))break;b(n,s,i,null,o,r,a,l,c),h--,p--}if(d>h){if(d<=p){const e=p+1,s=e<u?t[e].el:n;for(;d<=p;)b(null,t[d]=c?tn(t[d]):en(t[d]),i,s,o,r,a,l,c),d++}}else if(d>p)for(;d<=h;)X(e[d],o,r,!0),d++;else{const f=d,m=d,g=new Map;for(d=m;d<=p;d++){const e=t[d]=c?tn(t[d]):en(t[d]);null!=e.key&&g.set(e.key,d)}let v,y=0;const _=p-m+1;let x=!1,w=0;const k=new Array(_);for(d=0;d<_;d++)k[d]=0;for(d=f;d<=h;d++){const n=e[d];if(y>=_){X(n,o,r,!0);continue}let s;if(null!=n.key)s=g.get(n.key);else for(v=m;v<=p;v++)if(0===k[v-m]&&Hi(n,t[v])){s=v;break}void 0===s?X(n,o,r,!0):(k[s-m]=d+1,s>=w?w=s:x=!0,b(n,t[s],i,null,o,r,a,l,c),y++)}const S=x?function(e){const t=e.slice(),i=[0];let n,s,o,r,a;const l=e.length;for(n=0;n<l;n++){const l=e[n];if(0!==l){if(s=i[i.length-1],e[s]<l){t[n]=s,i.push(n);continue}for(o=0,r=i.length-1;o<r;)a=o+r>>1,e[i[a]]<l?o=a+1:r=a;l<e[i[o]]&&(o>0&&(t[n]=i[o-1]),i[o]=n)}}for(o=i.length,r=i[o-1];o-- >0;)i[o]=r,r=t[r];return i}(k):s.EMPTY_ARR;for(v=S.length-1,d=_-1;d>=0;d--){const e=m+d,s=t[e],h=e+1<u?t[e+1].el:n;0===k[d]?b(null,s,i,h,o,r,a,l,c):x&&(v<0||d!==S[v]?G(s,i,h,2):v--)}}},G=(e,t,i,n,s=null)=>{const{el:r,type:a,transition:l,children:c,shapeFlag:d}=e;if(6&d)G(e.component.subTree,t,i,n);else if(128&d)e.suspense.move(t,i,n);else if(64&d)a.move(e,t,i,se);else if(a!==Ei)if(a!==Mi)if(2!==n&&1&d&&l)if(0===n)l.beforeEnter(r),o(r,t,i),mi((()=>l.enter(r)),s);else{const{leave:e,delayLeave:n,afterLeave:s}=l,a=()=>o(r,t,i),c=()=>{e(r,(()=>{a(),s&&s()}))};n?n(r,a,c):c()}else o(r,t,i);else(({el:e,anchor:t},i,n)=>{let s;for(;e&&e!==t;)s=g(e),o(e,i,n),e=s;o(t,i,n)})(e,t,i);else{o(r,t,i);for(let e=0;e<c.length;e++)G(c[e],t,i,n);o(e.anchor,t,i)}},X=(e,t,i,n=!1,s=!1)=>{const{type:o,props:r,ref:a,children:l,dynamicChildren:c,shapeFlag:d,patchFlag:u,dirs:h}=e;if(null!=a&&di(a,null,i,e,!0),256&d)return void t.ctx.deactivate(e);const p=1&d&&h,f=!Ae(e);let m;if(f&&(m=r&&r.onVnodeBeforeUnmount)&&on(m,t,e),6&d)ee(e.component,i,n);else{if(128&d)return void e.suspense.unmount(i,n);p&&ge(e,null,t,"beforeUnmount"),64&d?e.type.remove(e,t,i,s,se,n):c&&(o!==Ei||u>0&&64&u)?te(c,t,i,!1,!0):(o===Ei&&384&u||!s&&16&d)&&te(l,t,i),n&&K(e)}(f&&(m=r&&r.onVnodeUnmounted)||p)&&mi((()=>{m&&on(m,t,e),p&&ge(e,null,t,"unmounted")}),i)},K=e=>{const{type:t,el:i,anchor:n,transition:s}=e;if(t===Ei)return void J(i,n);if(t===Mi)return void(({el:e,anchor:t})=>{let i;for(;e&&e!==t;)i=g(e),r(e),e=i;r(t)})(e);const o=()=>{r(i),s&&!s.persisted&&s.afterLeave&&s.afterLeave()};if(1&e.shapeFlag&&s&&!s.persisted){const{leave:t,delayLeave:n}=s,r=()=>t(i,o);n?n(e.el,o,r):r()}else o()},J=(e,t)=>{let i;for(;e!==t;)i=g(e),r(e),e=i;r(t)},ee=(e,t,i)=>{const{bum:n,scope:o,update:r,subTree:a,um:l}=e;n&&(0,s.invokeArrayFns)(n),o.stop(),r&&(r.active=!1,X(a,e,t,i)),l&&mi(l,t),mi((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve()),__VUE_PROD_DEVTOOLS__&&B(e)},te=(e,t,i,n=!1,s=!1,o=0)=>{for(let r=o;r<e.length;r++)X(e[r],t,i,n,s)},ie=e=>6&e.shapeFlag?ie(e.component.subTree):128&e.shapeFlag?e.suspense.next():g(e.anchor||e.el),ne=(e,t,i)=>{null==e?t._vnode&&X(t._vnode,null,null,!0):b(t._vnode||null,e,t,null,null,null,i),k(),S(),t._vnode=e},se={p:b,um:X,m:G,r:K,mt:U,mc:I,pc:q,pbc:O,n:ie,o:e};let oe,re;return t&&([oe,re]=t(se)),{render:ne,hydrate:oe,createApp:$t(ne,oe)}}function bi({effect:e,update:t},i){e.allowRecurse=t.allowRecurse=i}function _i(e,t,i=!1){const n=e.children,o=t.children;if((0,s.isArray)(n)&&(0,s.isArray)(o))for(let e=0;e<n.length;e++){const t=n[e];let s=o[e];1&s.shapeFlag&&!s.dynamicChildren&&((s.patchFlag<=0||32===s.patchFlag)&&(s=o[e]=tn(o[e]),s.el=t.el),i||_i(t,s)),s.type===Ai&&(s.el=t.el)}}const xi=e=>e&&(e.disabled||""===e.disabled),wi=e=>"undefined"!=typeof SVGElement&&e instanceof SVGElement,ki=(e,t)=>{const i=e&&e.to;if((0,s.isString)(i)){if(t){return t(i)}return null}return i};function Si(e,t,i,{o:{insert:n},m:s},o=2){0===o&&n(e.targetAnchor,t,i);const{el:r,anchor:a,shapeFlag:l,children:c,props:d}=e,u=2===o;if(u&&n(r,t,i),(!u||xi(d))&&16&l)for(let e=0;e<c.length;e++)s(c[e],t,i,2);u&&n(a,t,i)}const Ti={__isTeleport:!0,process(e,t,i,n,s,o,r,a,l,c){const{mc:d,pc:u,pbc:h,o:{insert:p,querySelector:f,createText:m,createComment:g}}=c,v=xi(t.props);let{shapeFlag:y,children:b,dynamicChildren:_}=t;if(null==e){const e=t.el=m(""),c=t.anchor=m("");p(e,i,n),p(c,i,n);const u=t.target=ki(t.props,f),h=t.targetAnchor=m("");u&&(p(h,u),r=r||wi(u));const g=(e,t)=>{16&y&&d(b,e,t,s,o,r,a,l)};v?g(i,c):u&&g(u,h)}else{t.el=e.el;const n=t.anchor=e.anchor,d=t.target=e.target,p=t.targetAnchor=e.targetAnchor,m=xi(e.props),g=m?i:d,y=m?n:p;if(r=r||wi(d),_?(h(e.dynamicChildren,_,g,s,o,r,a),_i(e,t,!0)):l||u(e,t,g,y,s,o,r,a,!1),v)m||Si(t,i,n,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=ki(t.props,f);e&&Si(t,e,null,c,0)}else m&&Si(t,d,p,c,1)}Ci(t)},remove(e,t,i,n,{um:s,o:{remove:o}},r){const{shapeFlag:a,children:l,anchor:c,targetAnchor:d,target:u,props:h}=e;if(u&&o(d),(r||!xi(h))&&(o(c),16&a))for(let e=0;e<l.length;e++){const n=l[e];s(n,t,i,!0,!!n.dynamicChildren)}},move:Si,hydrate:function(e,t,i,n,s,o,{o:{nextSibling:r,parentNode:a,querySelector:l}},c){const d=t.target=ki(t.props,l);if(d){const l=d._lpa||d.firstChild;if(16&t.shapeFlag)if(xi(t.props))t.anchor=c(r(e),t,a(e),i,n,s,o),t.targetAnchor=l;else{t.anchor=r(e);let a=l;for(;a;)if(a=r(a),a&&8===a.nodeType&&"teleport anchor"===a.data){t.targetAnchor=a,d._lpa=t.targetAnchor&&r(t.targetAnchor);break}c(l,t,d,i,n,s,o)}Ci(t)}return t.anchor&&r(t.anchor)}};function Ci(e){const t=e.ctx;if(t&&t.ut){let i=e.children[0].el;for(;i!==e.targetAnchor;)1===i.nodeType&&i.setAttribute("data-v-owner",t.uid),i=i.nextSibling;t.ut()}}const Ei=Symbol.for("v-fgt"),Ai=Symbol.for("v-txt"),Ii=Symbol.for("v-cmt"),Mi=Symbol.for("v-stc"),Oi=[];let Di=null;function Pi(e=!1){Oi.push(Di=e?null:[])}function Li(){Oi.pop(),Di=Oi[Oi.length-1]||null}let ji,Bi=1;function Ri(e){Bi+=e}function Ni(e){return e.dynamicChildren=Bi>0?Di||s.EMPTY_ARR:null,Li(),Bi>0&&Di&&Di.push(e),e}function Ui(e,t,i,n,s,o){return Ni(Gi(e,t,i,n,s,o,!0))}function Fi(e,t,i,n,s){return Ni(Yi(e,t,i,n,s,!0))}function zi(e){return!!e&&!0===e.__v_isVNode}function Hi(e,t){return e.type===t.type&&e.key===t.key}function Vi(e){ji=e}const qi="__vInternal",$i=({key:e})=>null!=e?e:null,Wi=({ref:e,ref_key:t,ref_for:i})=>("number"==typeof e&&(e=""+e),null!=e?(0,s.isString)(e)||(0,n.dq)(e)||(0,s.isFunction)(e)?{i:z,r:e,k:t,f:!!i}:e:null);function Gi(e,t=null,i=null,n=0,o=null,r=(e===Ei?0:1),a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&$i(t),ref:t&&Wi(t),scopeId:H,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:z};return l?(nn(c,i),128&r&&e.normalize(c)):i&&(c.shapeFlag|=(0,s.isString)(i)?8:16),Bi>0&&!a&&Di&&(c.patchFlag>0||6&r)&&32!==c.patchFlag&&Di.push(c),c}const Yi=function(e,t=null,i=null,o=0,r=null,a=!1){if(e&&e!==tt||(e=Ii),zi(e)){const n=Ki(e,t,!0);return i&&nn(n,i),Bi>0&&!a&&Di&&(6&n.shapeFlag?Di[Di.indexOf(e)]=n:Di.push(n)),n.patchFlag|=-2,n}if(l=e,(0,s.isFunction)(l)&&"__vccOpts"in l&&(e=e.__vccOpts),t){t=Xi(t);let{class:e,style:i}=t;e&&!(0,s.isString)(e)&&(t.class=(0,s.normalizeClass)(e)),(0,s.isObject)(i)&&((0,n.X3)(i)&&!(0,s.isArray)(i)&&(i=(0,s.extend)({},i)),t.style=(0,s.normalizeStyle)(i))}var l;return Gi(e,t,i,o,r,(0,s.isString)(e)?1:J(e)?128:(e=>e.__isTeleport)(e)?64:(0,s.isObject)(e)?4:(0,s.isFunction)(e)?2:0,a,!0)};function Xi(e){return e?(0,n.X3)(e)||qi in e?(0,s.extend)({},e):e:null}function Ki(e,t,i=!1){const{props:n,ref:o,patchFlag:r,children:a}=e,l=t?sn(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&$i(l),ref:t&&t.ref?i&&o?(0,s.isArray)(o)?o.concat(Wi(t)):[o,Wi(t)]:Wi(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ei?-1===r?16:16|r:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ki(e.ssContent),ssFallback:e.ssFallback&&Ki(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Qi(e=" ",t=0){return Yi(Ai,null,e,t)}function Zi(e,t){const i=Yi(Mi,null,e);return i.staticCount=t,i}function Ji(e="",t=!1){return t?(Pi(),Fi(Ii,null,e)):Yi(Ii,null,e)}function en(e){return null==e||"boolean"==typeof e?Yi(Ii):(0,s.isArray)(e)?Yi(Ei,null,e.slice()):"object"==typeof e?tn(e):Yi(Ai,null,String(e))}function tn(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:Ki(e)}function nn(e,t){let i=0;const{shapeFlag:n}=e;if(null==t)t=null;else if((0,s.isArray)(t))i=16;else if("object"==typeof t){if(65&n){const i=t.default;return void(i&&(i._c&&(i._d=!1),nn(e,i()),i._c&&(i._d=!0)))}{i=32;const n=t._;n||qi in t?3===n&&z&&(1===z.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=z}}else(0,s.isFunction)(t)?(t={default:t,_ctx:z},i=32):(t=String(t),64&n?(i=16,t=[Qi(t)]):i=8);e.children=t,e.shapeFlag|=i}function sn(...e){const t={};for(let i=0;i<e.length;i++){const n=e[i];for(const e in n)if("class"===e)t.class!==n.class&&(t.class=(0,s.normalizeClass)([t.class,n.class]));else if("style"===e)t.style=(0,s.normalizeStyle)([t.style,n.style]);else if((0,s.isOn)(e)){const i=t[e],o=n[e];!o||i===o||(0,s.isArray)(i)&&i.includes(o)||(t[e]=i?[].concat(i,o):o)}else""!==e&&(t[e]=n[e])}return t}function on(e,t,i,n=null){l(e,t,7,[i,n])}const rn=Vt();let an=0;function ln(e,t,i){const o=e.type,r=(t?t.appContext:e.appContext)||rn,a={uid:an++,vnode:e,type:o,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new n.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Zt(o,r),emitsOptions:U(o,r),emit:null,emitted:null,propsDefaults:s.EMPTY_OBJ,inheritAttrs:o.inheritAttrs,ctx:s.EMPTY_OBJ,data:s.EMPTY_OBJ,props:s.EMPTY_OBJ,attrs:s.EMPTY_OBJ,slots:s.EMPTY_OBJ,refs:s.EMPTY_OBJ,setupState:s.EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=N.bind(null,a),e.ce&&e.ce(a),a}let cn=null;const dn=()=>cn||z;let un,hn,pn="__VUE_INSTANCE_SETTERS__";(hn=(0,s.getGlobalThis)()[pn])||(hn=(0,s.getGlobalThis)()[pn]=[]),hn.push((e=>cn=e)),un=e=>{hn.length>1?hn.forEach((t=>t(e))):hn[0](e)};const fn=e=>{un(e),e.scope.on()},mn=()=>{cn&&cn.scope.off(),un(null)};function gn(e){return 4&e.vnode.shapeFlag}let vn,yn,bn=!1;function _n(e,t=!1){bn=t;const{props:i,children:o}=e.vnode,r=gn(e);!function(e,t,i,o=!1){const r={},a={};(0,s.def)(a,qi,1),e.propsDefaults=Object.create(null),Kt(e,t,r,a);for(const t in e.propsOptions[0])t in r||(r[t]=void 0);i?e.props=o?r:(0,n.Um)(r):e.type.props?e.props=r:e.props=a,e.attrs=a}(e,i,r,t),li(e,o);const l=r?function(e,t){const i=e.type;e.accessCache=Object.create(null),e.proxy=(0,n.Xl)(new Proxy(e.ctx,ft));const{setup:o}=i;if(o){const i=e.setupContext=o.length>1?Tn(e):null;fn(e),(0,n.Jd)();const r=a(o,e,0,[e.props,i]);if((0,n.lk)(),mn(),(0,s.isPromise)(r)){if(r.then(mn,mn),t)return r.then((i=>{xn(e,i,t)})).catch((t=>{c(t,e,0)}));e.asyncDep=r}else xn(e,r,t)}else Sn(e,t)}(e,t):void 0;return bn=!1,l}function xn(e,t,i){(0,s.isFunction)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,s.isObject)(t)&&(__VUE_PROD_DEVTOOLS__&&(e.devtoolsRawSetupState=t),e.setupState=(0,n.WL)(t)),Sn(e,i)}function wn(e){vn=e,yn=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,mt))}}const kn=()=>!vn;function Sn(e,t,i){const o=e.type;if(!e.render){if(!t&&vn&&!o.render){const t=o.template||jt(e).template;if(t){const{isCustomElement:i,compilerOptions:n}=e.appContext.config,{delimiters:r,compilerOptions:a}=o,l=(0,s.extend)((0,s.extend)({isCustomElement:i,delimiters:r},n),a);o.render=vn(t,l)}}e.render=o.render||s.NOOP,yn&&yn(e)}__VUE_OPTIONS_API__&&(fn(e),(0,n.Jd)(),function(e){const t=jt(e),i=e.proxy,o=e.ctx;Dt=!1,t.beforeCreate&&Pt(t.beforeCreate,e,"bc");const{data:r,computed:a,methods:l,watch:c,provide:d,inject:u,created:h,beforeMount:p,mounted:f,beforeUpdate:m,updated:g,activated:v,deactivated:y,beforeDestroy:b,beforeUnmount:_,destroyed:x,unmounted:w,render:k,renderTracked:S,renderTriggered:T,errorCaptured:C,serverPrefetch:E,expose:A,inheritAttrs:I,components:M,directives:O,filters:D}=t;if(u&&function(e,t,i=s.NOOP){(0,s.isArray)(e)&&(e=Ut(e));for(const i in e){const o=e[i];let r;r=(0,s.isObject)(o)?"default"in o?Yt(o.from||i,o.default,!0):Yt(o.from||i):Yt(o),(0,n.dq)(r)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:e=>r.value=e}):t[i]=r}}(u,o,null),l)for(const e in l){const t=l[e];(0,s.isFunction)(t)&&(o[e]=t.bind(i))}if(r){const t=r.call(i,i);(0,s.isObject)(t)&&(e.data=(0,n.qj)(t))}if(Dt=!0,a)for(const e in a){const t=a[e],n=(0,s.isFunction)(t)?t.bind(i,i):(0,s.isFunction)(t.get)?t.get.bind(i,i):s.NOOP,r=!(0,s.isFunction)(t)&&(0,s.isFunction)(t.set)?t.set.bind(i):s.NOOP,l=An({get:n,set:r});Object.defineProperty(o,e,{enumerable:!0,configurable:!0,get:()=>l.value,set:e=>l.value=e})}if(c)for(const e in c)Lt(c[e],o,i,e);if(d){const e=(0,s.isFunction)(d)?d.call(i):d;Reflect.ownKeys(e).forEach((t=>{Gt(t,e[t])}))}function P(e,t){(0,s.isArray)(t)?t.forEach((t=>e(t.bind(i)))):t&&e(t.bind(i))}if(h&&Pt(h,e,"c"),P(He,p),P(Ve,f),P(qe,m),P($e,g),P(Le,v),P(je,y),P(Qe,C),P(Ke,S),P(Xe,T),P(We,_),P(Ge,w),P(Ye,E),(0,s.isArray)(A))if(A.length){const t=e.exposed||(e.exposed={});A.forEach((e=>{Object.defineProperty(t,e,{get:()=>i[e],set:t=>i[e]=t})}))}else e.exposed||(e.exposed={});k&&e.render===s.NOOP&&(e.render=k),null!=I&&(e.inheritAttrs=I),M&&(e.components=M),O&&(e.directives=O)}(e),(0,n.lk)(),mn())}function Tn(e){return{get attrs(){return function(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get:(t,i)=>((0,n.j)(e,"get","$attrs"),t[i])}))}(e)},slots:e.slots,emit:e.emit,expose:t=>{e.exposed=t||{}}}}function Cn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy((0,n.WL)((0,n.Xl)(e.exposed)),{get:(t,i)=>i in t?t[i]:i in ht?ht[i](e):void 0,has:(e,t)=>t in e||t in ht}))}function En(e,t=!0){return(0,s.isFunction)(e)?e.displayName||e.name:e.name||t&&e.__name}const An=(e,t)=>(0,n.Fl)(e,t,bn);function In(e,t,i){const n=arguments.length;return 2===n?(0,s.isObject)(t)&&!(0,s.isArray)(t)?zi(t)?Yi(e,null,[t]):Yi(e,t):Yi(e,null,t):(n>3?i=Array.prototype.slice.call(arguments,2):3===n&&zi(i)&&(i=[i]),Yi(e,t,i))}const Mn=Symbol.for("v-scx"),On=()=>Yt(Mn);function Dn(){}function Pn(e,t,i,n){const s=i[n];if(s&&Ln(s,e))return s;const o=t();return o.memo=e.slice(),i[n]=o}function Ln(e,t){const i=e.memo;if(i.length!=t.length)return!1;for(let e=0;e<i.length;e++)if((0,s.hasChanged)(i[e],t[e]))return!1;return Bi>0&&Di&&Di.push(e),!0}const jn="3.3.4",Bn={createComponentInstance:ln,setupComponent:_n,renderComponentRoot:Y,setCurrentRenderingInstance:V,isVNode:zi,normalizeVNode:en},Rn=null,Nn=null},127:(e,t,i)=>{"use strict";i.r(t),i.d(t,{BaseTransition:()=>s.P$,BaseTransitionPropsValidators:()=>s.nJ,Comment:()=>s.sv,EffectScope:()=>s.Bj,Fragment:()=>s.HY,KeepAlive:()=>s.Ob,ReactiveEffect:()=>s.qq,Static:()=>s.qG,Suspense:()=>s.n4,Teleport:()=>s.lR,Text:()=>s.xv,Transition:()=>M,TransitionGroup:()=>Y,VueElement:()=>k,assertNumber:()=>s.Wu,callWithAsyncErrorHandling:()=>s.$d,callWithErrorHandling:()=>s.KU,camelize:()=>s._A,capitalize:()=>s.kC,cloneVNode:()=>s.Ho,compatUtils:()=>s.ry,computed:()=>s.Fl,createApp:()=>Ce,createBlock:()=>s.j4,createCommentVNode:()=>s.kq,createElementBlock:()=>s.iD,createElementVNode:()=>s._,createHydrationRenderer:()=>s.Eo,createPropsRestProxy:()=>s.p1,createRenderer:()=>s.Us,createSSRApp:()=>Ee,createSlots:()=>s.Nv,createStaticVNode:()=>s.uE,createTextVNode:()=>s.Uk,createVNode:()=>s.Wm,customRef:()=>s.ZM,defineAsyncComponent:()=>s.RC,defineComponent:()=>s.aZ,defineCustomElement:()=>_,defineEmits:()=>s.Bz,defineExpose:()=>s.WY,defineModel:()=>s.Gn,defineOptions:()=>s.Yu,defineProps:()=>s.MW,defineSSRCustomElement:()=>x,defineSlots:()=>s.Wl,devtools:()=>s.mW,effect:()=>s.cE,effectScope:()=>s.B,getCurrentInstance:()=>s.FN,getCurrentScope:()=>s.nZ,getTransitionRawChildren:()=>s.Q6,guardReactiveProps:()=>s.F4,h:()=>s.h,handleError:()=>s.S3,hasInjectionContext:()=>s.EM,hydrate:()=>Te,initCustomFormatter:()=>s.Mr,initDirectivesForSSR:()=>Me,inject:()=>s.f3,isMemoSame:()=>s.nQ,isProxy:()=>s.X3,isReactive:()=>s.PG,isReadonly:()=>s.$y,isRef:()=>s.dq,isRuntimeOnly:()=>s.of,isShallow:()=>s.yT,isVNode:()=>s.lA,markRaw:()=>s.Xl,mergeDefaults:()=>s.u_,mergeModels:()=>s.Vf,mergeProps:()=>s.dG,nextTick:()=>s.Y3,normalizeClass:()=>s.C_,normalizeProps:()=>s.vs,normalizeStyle:()=>s.j5,onActivated:()=>s.dl,onBeforeMount:()=>s.wF,onBeforeUnmount:()=>s.Jd,onBeforeUpdate:()=>s.Xn,onDeactivated:()=>s.se,onErrorCaptured:()=>s.d1,onMounted:()=>s.bv,onRenderTracked:()=>s.bT,onRenderTriggered:()=>s.Yq,onScopeDispose:()=>s.EB,onServerPrefetch:()=>s.vl,onUnmounted:()=>s.Ah,onUpdated:()=>s.ic,openBlock:()=>s.wg,popScopeId:()=>s.Cn,provide:()=>s.JJ,proxyRefs:()=>s.WL,pushScopeId:()=>s.dD,queuePostFlushCb:()=>s.qb,reactive:()=>s.qj,readonly:()=>s.OT,ref:()=>s.iH,registerRuntimeCompiler:()=>s.Y1,render:()=>Se,renderList:()=>s.Ko,renderSlot:()=>s.WI,resolveComponent:()=>s.up,resolveDirective:()=>s.Q2,resolveDynamicComponent:()=>s.LL,resolveFilter:()=>s.eq,resolveTransitionHooks:()=>s.U2,setBlockTracking:()=>s.qZ,setDevtoolsHook:()=>s.ec,setTransitionHooks:()=>s.nK,shallowReactive:()=>s.Um,shallowReadonly:()=>s.YS,shallowRef:()=>s.XI,ssrContextKey:()=>s.Uc,ssrUtils:()=>s.G,stop:()=>s.sT,toDisplayString:()=>s.zw,toHandlerKey:()=>s.hR,toHandlers:()=>s.mx,toRaw:()=>s.IU,toRef:()=>s.Vh,toRefs:()=>s.BK,toValue:()=>s.Tn,transformVNodeArgs:()=>s.C3,triggerRef:()=>s.oR,unref:()=>s.SU,useAttrs:()=>s.l1,useCssModule:()=>S,useCssVars:()=>T,useModel:()=>s.tT,useSSRContext:()=>s.Zq,useSlots:()=>s.Rr,useTransitionState:()=>s.Y8,vModelCheckbox:()=>ie,vModelDynamic:()=>ce,vModelRadio:()=>se,vModelSelect:()=>oe,vModelText:()=>te,vShow:()=>ve,version:()=>s.i8,warn:()=>s.ZK,watch:()=>s.YP,watchEffect:()=>s.m0,watchPostEffect:()=>s.Rh,watchSyncEffect:()=>s.yX,withAsyncContext:()=>s.mv,withCtx:()=>s.w5,withDefaults:()=>s.b9,withDirectives:()=>s.wy,withKeys:()=>ge,withMemo:()=>s.MX,withModifiers:()=>fe,withScopeId:()=>s.HX});var n=i(171),s=i(5138),o=i(3355);const r="undefined"!=typeof document?document:null,a=r&&r.createElement("template"),l={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,n)=>{const s=t?r.createElementNS("http://www.w3.org/2000/svg",e):r.createElement(e,i?{is:i}:void 0);return"select"===e&&n&&null!=n.multiple&&s.setAttribute("multiple",n.multiple),s},createText:e=>r.createTextNode(e),createComment:e=>r.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>r.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,i,n,s,o){const r=i?i.previousSibling:t.lastChild;if(s&&(s===o||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),i),s!==o&&(s=s.nextSibling););else{a.innerHTML=n?`<svg>${e}</svg>`:e;const s=a.content;if(n){const e=s.firstChild;for(;e.firstChild;)s.appendChild(e.firstChild);s.removeChild(e)}t.insertBefore(s,i)}return[r?r.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}},c=/\s*!important$/;function d(e,t,i){if((0,n.isArray)(i))i.forEach((i=>d(e,t,i)));else if(null==i&&(i=""),t.startsWith("--"))e.setProperty(t,i);else{const s=function(e,t){const i=h[t];if(i)return i;let s=(0,n.camelize)(t);if("filter"!==s&&s in e)return h[t]=s;s=(0,n.capitalize)(s);for(let i=0;i<u.length;i++){const n=u[i]+s;if(n in e)return h[t]=n}return t}(e,t);c.test(i)?e.setProperty((0,n.hyphenate)(s),i.replace(c,""),"important"):e[s]=i}}const u=["Webkit","Moz","ms"],h={},p="http://www.w3.org/1999/xlink";function f(e,t,i,n){e.addEventListener(t,i,n)}const m=/(?:Once|Passive|Capture)$/;let g=0;const v=Promise.resolve(),y=()=>g||(v.then((()=>g=0)),g=Date.now()),b=/^on[a-z]/;function _(e,t){const i=(0,s.aZ)(e);class n extends k{constructor(e){super(i,e,t)}}return n.def=i,n}const x=e=>_(e,Te),w="undefined"!=typeof HTMLElement?HTMLElement:class{};class k extends w{constructor(e,t={},i){super(),this._def=e,this._props=t,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&i?i(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,(0,s.Y3)((()=>{this._connected||(Se(null,this.shadowRoot),this._instance=null)}))}_resolveDef(){this._resolved=!0;for(let e=0;e<this.attributes.length;e++)this._setAttr(this.attributes[e].name);new MutationObserver((e=>{for(const t of e)this._setAttr(t.attributeName)})).observe(this,{attributes:!0});const e=(e,t=!1)=>{const{props:i,styles:s}=e;let o;if(i&&!(0,n.isArray)(i))for(const e in i){const t=i[e];(t===Number||t&&t.type===Number)&&(e in this._props&&(this._props[e]=(0,n.toNumber)(this._props[e])),(o||(o=Object.create(null)))[(0,n.camelize)(e)]=!0)}this._numberProps=o,t&&this._resolveProps(e),this._applyStyles(s),this._update()},t=this._def.__asyncLoader;t?t().then((t=>e(t,!0))):e(this._def)}_resolveProps(e){const{props:t}=e,i=(0,n.isArray)(t)?t:Object.keys(t||{});for(const e of Object.keys(this))"_"!==e[0]&&i.includes(e)&&this._setProp(e,this[e],!0,!1);for(const e of i.map(n.camelize))Object.defineProperty(this,e,{get(){return this._getProp(e)},set(t){this._setProp(e,t)}})}_setAttr(e){let t=this.getAttribute(e);const i=(0,n.camelize)(e);this._numberProps&&this._numberProps[i]&&(t=(0,n.toNumber)(t)),this._setProp(i,t,!1)}_getProp(e){return this._props[e]}_setProp(e,t,i=!0,s=!0){t!==this._props[e]&&(this._props[e]=t,s&&this._instance&&this._update(),i&&(!0===t?this.setAttribute((0,n.hyphenate)(e),""):"string"==typeof t||"number"==typeof t?this.setAttribute((0,n.hyphenate)(e),t+""):t||this.removeAttribute((0,n.hyphenate)(e))))}_update(){Se(this._createVNode(),this.shadowRoot)}_createVNode(){const e=(0,s.Wm)(this._def,(0,n.extend)({},this._props));return this._instance||(e.ce=e=>{this._instance=e,e.isCE=!0;const t=(e,t)=>{this.dispatchEvent(new CustomEvent(e,{detail:t}))};e.emit=(e,...i)=>{t(e,i),(0,n.hyphenate)(e)!==e&&t((0,n.hyphenate)(e),i)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof k){e.parent=i._instance,e.provides=i._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach((e=>{const t=document.createElement("style");t.textContent=e,this.shadowRoot.appendChild(t)}))}}function S(e="$style"){{const t=(0,s.FN)();if(!t)return n.EMPTY_OBJ;const i=t.type.__cssModules;if(!i)return n.EMPTY_OBJ;return i[e]||n.EMPTY_OBJ}}function T(e){const t=(0,s.FN)();if(!t)return;const i=t.ut=(i=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach((e=>E(e,i)))},n=()=>{const n=e(t.proxy);C(t.subTree,n),i(n)};(0,s.Rh)(n),(0,s.bv)((()=>{const e=new MutationObserver(n);e.observe(t.subTree.el.parentNode,{childList:!0}),(0,s.Ah)((()=>e.disconnect()))}))}function C(e,t){if(128&e.shapeFlag){const i=e.suspense;e=i.activeBranch,i.pendingBranch&&!i.isHydrating&&i.effects.push((()=>{C(i.activeBranch,t)}))}for(;e.component;)e=e.component.subTree;if(1&e.shapeFlag&&e.el)E(e.el,t);else if(e.type===s.HY)e.children.forEach((e=>C(e,t)));else if(e.type===s.qG){let{el:i,anchor:n}=e;for(;i&&(E(i,t),i!==n);)i=i.nextSibling}}function E(e,t){if(1===e.nodeType){const i=e.style;for(const e in t)i.setProperty(`--${e}`,t[e])}}const A="transition",I="animation",M=(e,{slots:t})=>(0,s.h)(s.P$,j(e),t);M.displayName="Transition";const O={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},D=M.props=(0,n.extend)({},s.nJ,O),P=(e,t=[])=>{(0,n.isArray)(e)?e.forEach((e=>e(...t))):e&&e(...t)},L=e=>!!e&&((0,n.isArray)(e)?e.some((e=>e.length>1)):e.length>1);function j(e){const t={};for(const i in e)i in O||(t[i]=e[i]);if(!1===e.css)return t;const{name:i="v",type:s,duration:o,enterFromClass:r=`${i}-enter-from`,enterActiveClass:a=`${i}-enter-active`,enterToClass:l=`${i}-enter-to`,appearFromClass:c=r,appearActiveClass:d=a,appearToClass:u=l,leaveFromClass:h=`${i}-leave-from`,leaveActiveClass:p=`${i}-leave-active`,leaveToClass:f=`${i}-leave-to`}=e,m=function(e){if(null==e)return null;if((0,n.isObject)(e))return[B(e.enter),B(e.leave)];{const t=B(e);return[t,t]}}(o),g=m&&m[0],v=m&&m[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:_,onLeave:x,onLeaveCancelled:w,onBeforeAppear:k=y,onAppear:S=b,onAppearCancelled:T=_}=t,C=(e,t,i)=>{N(e,t?u:l),N(e,t?d:a),i&&i()},E=(e,t)=>{e._isLeaving=!1,N(e,h),N(e,f),N(e,p),t&&t()},A=e=>(t,i)=>{const n=e?S:b,o=()=>C(t,e,i);P(n,[t,o]),U((()=>{N(t,e?c:r),R(t,e?u:l),L(n)||z(t,s,g,o)}))};return(0,n.extend)(t,{onBeforeEnter(e){P(y,[e]),R(e,r),R(e,a)},onBeforeAppear(e){P(k,[e]),R(e,c),R(e,d)},onEnter:A(!1),onAppear:A(!0),onLeave(e,t){e._isLeaving=!0;const i=()=>E(e,t);R(e,h),$(),R(e,p),U((()=>{e._isLeaving&&(N(e,h),R(e,f),L(x)||z(e,s,v,i))})),P(x,[e,i])},onEnterCancelled(e){C(e,!1),P(_,[e])},onAppearCancelled(e){C(e,!0),P(T,[e])},onLeaveCancelled(e){E(e),P(w,[e])}})}function B(e){return(0,n.toNumber)(e)}function R(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function N(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:i}=e;i&&(i.delete(t),i.size||(e._vtc=void 0))}function U(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let F=0;function z(e,t,i,n){const s=e._endId=++F,o=()=>{s===e._endId&&n()};if(i)return setTimeout(o,i);const{type:r,timeout:a,propCount:l}=H(e,t);if(!r)return n();const c=r+"end";let d=0;const u=()=>{e.removeEventListener(c,h),o()},h=t=>{t.target===e&&++d>=l&&u()};setTimeout((()=>{d<l&&u()}),a+1),e.addEventListener(c,h)}function H(e,t){const i=window.getComputedStyle(e),n=e=>(i[e]||"").split(", "),s=n(`${A}Delay`),o=n(`${A}Duration`),r=V(s,o),a=n(`${I}Delay`),l=n(`${I}Duration`),c=V(a,l);let d=null,u=0,h=0;return t===A?r>0&&(d=A,u=r,h=o.length):t===I?c>0&&(d=I,u=c,h=l.length):(u=Math.max(r,c),d=u>0?r>c?A:I:null,h=d?d===A?o.length:l.length:0),{type:d,timeout:u,propCount:h,hasTransform:d===A&&/\b(transform|all)(,|$)/.test(n(`${A}Property`).toString())}}function V(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,i)=>q(t)+q(e[i]))))}function q(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function $(){return document.body.offsetHeight}const W=new WeakMap,G=new WeakMap,Y={name:"TransitionGroup",props:(0,n.extend)({},D,{tag:String,moveClass:String}),setup(e,{slots:t}){const i=(0,s.FN)(),n=(0,s.Y8)();let r,a;return(0,s.ic)((()=>{if(!r.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!function(e,t,i){const n=e.cloneNode();e._vtc&&e._vtc.forEach((e=>{e.split(/\s+/).forEach((e=>e&&n.classList.remove(e)))})),i.split(/\s+/).forEach((e=>e&&n.classList.add(e))),n.style.display="none";const s=1===t.nodeType?t:t.parentNode;s.appendChild(n);const{hasTransform:o}=H(n);return s.removeChild(n),o}(r[0].el,i.vnode.el,t))return;r.forEach(X),r.forEach(K);const n=r.filter(Q);$(),n.forEach((e=>{const i=e.el,n=i.style;R(i,t),n.transform=n.webkitTransform=n.transitionDuration="";const s=i._moveCb=e=>{e&&e.target!==i||e&&!/transform$/.test(e.propertyName)||(i.removeEventListener("transitionend",s),i._moveCb=null,N(i,t))};i.addEventListener("transitionend",s)}))})),()=>{const l=(0,o.IU)(e),c=j(l);let d=l.tag||s.HY;r=a,a=t.default?(0,s.Q6)(t.default()):[];for(let e=0;e<a.length;e++){const t=a[e];null!=t.key&&(0,s.nK)(t,(0,s.U2)(t,c,n,i))}if(r)for(let e=0;e<r.length;e++){const t=r[e];(0,s.nK)(t,(0,s.U2)(t,c,n,i)),W.set(t,t.el.getBoundingClientRect())}return(0,s.Wm)(d,null,a)}}};function X(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function K(e){G.set(e,e.el.getBoundingClientRect())}function Q(e){const t=W.get(e),i=G.get(e),n=t.left-i.left,s=t.top-i.top;if(n||s){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${n}px,${s}px)`,t.transitionDuration="0s",e}}const Z=e=>{const t=e.props["onUpdate:modelValue"]||!1;return(0,n.isArray)(t)?e=>(0,n.invokeArrayFns)(t,e):t};function J(e){e.target.composing=!0}function ee(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const te={created(e,{modifiers:{lazy:t,trim:i,number:s}},o){e._assign=Z(o);const r=s||o.props&&"number"===o.props.type;f(e,t?"change":"input",(t=>{if(t.target.composing)return;let s=e.value;i&&(s=s.trim()),r&&(s=(0,n.looseToNumber)(s)),e._assign(s)})),i&&f(e,"change",(()=>{e.value=e.value.trim()})),t||(f(e,"compositionstart",J),f(e,"compositionend",ee),f(e,"change",ee))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:i,trim:s,number:o}},r){if(e._assign=Z(r),e.composing)return;if(document.activeElement===e&&"range"!==e.type){if(i)return;if(s&&e.value.trim()===t)return;if((o||"number"===e.type)&&(0,n.looseToNumber)(e.value)===t)return}const a=null==t?"":t;e.value!==a&&(e.value=a)}},ie={deep:!0,created(e,t,i){e._assign=Z(i),f(e,"change",(()=>{const t=e._modelValue,i=ae(e),s=e.checked,o=e._assign;if((0,n.isArray)(t)){const e=(0,n.looseIndexOf)(t,i),r=-1!==e;if(s&&!r)o(t.concat(i));else if(!s&&r){const i=[...t];i.splice(e,1),o(i)}}else if((0,n.isSet)(t)){const e=new Set(t);s?e.add(i):e.delete(i),o(e)}else o(le(e,s))}))},mounted:ne,beforeUpdate(e,t,i){e._assign=Z(i),ne(e,t,i)}};function ne(e,{value:t,oldValue:i},s){e._modelValue=t,(0,n.isArray)(t)?e.checked=(0,n.looseIndexOf)(t,s.props.value)>-1:(0,n.isSet)(t)?e.checked=t.has(s.props.value):t!==i&&(e.checked=(0,n.looseEqual)(t,le(e,!0)))}const se={created(e,{value:t},i){e.checked=(0,n.looseEqual)(t,i.props.value),e._assign=Z(i),f(e,"change",(()=>{e._assign(ae(e))}))},beforeUpdate(e,{value:t,oldValue:i},s){e._assign=Z(s),t!==i&&(e.checked=(0,n.looseEqual)(t,s.props.value))}},oe={deep:!0,created(e,{value:t,modifiers:{number:i}},s){const o=(0,n.isSet)(t);f(e,"change",(()=>{const t=Array.prototype.filter.call(e.options,(e=>e.selected)).map((e=>i?(0,n.looseToNumber)(ae(e)):ae(e)));e._assign(e.multiple?o?new Set(t):t:t[0])})),e._assign=Z(s)},mounted(e,{value:t}){re(e,t)},beforeUpdate(e,t,i){e._assign=Z(i)},updated(e,{value:t}){re(e,t)}};function re(e,t){const i=e.multiple;if(!i||(0,n.isArray)(t)||(0,n.isSet)(t)){for(let s=0,o=e.options.length;s<o;s++){const o=e.options[s],r=ae(o);if(i)(0,n.isArray)(t)?o.selected=(0,n.looseIndexOf)(t,r)>-1:o.selected=t.has(r);else if((0,n.looseEqual)(ae(o),t))return void(e.selectedIndex!==s&&(e.selectedIndex=s))}i||-1===e.selectedIndex||(e.selectedIndex=-1)}}function ae(e){return"_value"in e?e._value:e.value}function le(e,t){const i=t?"_trueValue":"_falseValue";return i in e?e[i]:t}const ce={created(e,t,i){ue(e,t,i,null,"created")},mounted(e,t,i){ue(e,t,i,null,"mounted")},beforeUpdate(e,t,i,n){ue(e,t,i,n,"beforeUpdate")},updated(e,t,i,n){ue(e,t,i,n,"updated")}};function de(e,t){switch(e){case"SELECT":return oe;case"TEXTAREA":return te;default:switch(t){case"checkbox":return ie;case"radio":return se;default:return te}}}function ue(e,t,i,n,s){const o=de(e.tagName,i.props&&i.props.type)[s];o&&o(e,t,i,n)}const he=["ctrl","shift","alt","meta"],pe={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>he.some((i=>e[`${i}Key`]&&!t.includes(i)))},fe=(e,t)=>(i,...n)=>{for(let e=0;e<t.length;e++){const n=pe[t[e]];if(n&&n(i,t))return}return e(i,...n)},me={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ge=(e,t)=>i=>{if(!("key"in i))return;const s=(0,n.hyphenate)(i.key);return t.some((e=>e===s||me[e]===s))?e(i):void 0},ve={beforeMount(e,{value:t},{transition:i}){e._vod="none"===e.style.display?"":e.style.display,i&&t?i.beforeEnter(e):ye(e,t)},mounted(e,{value:t},{transition:i}){i&&t&&i.enter(e)},updated(e,{value:t,oldValue:i},{transition:n}){!t!=!i&&(n?t?(n.beforeEnter(e),ye(e,!0),n.enter(e)):n.leave(e,(()=>{ye(e,!1)})):ye(e,t))},beforeUnmount(e,{value:t}){ye(e,t)}};function ye(e,t){e.style.display=t?e._vod:"none"}const be=(0,n.extend)({patchProp:(e,t,i,o,r=!1,a,l,c,u)=>{"class"===t?function(e,t,i){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),null==t?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}(e,o,r):"style"===t?function(e,t,i){const s=e.style,o=(0,n.isString)(i);if(i&&!o){if(t&&!(0,n.isString)(t))for(const e in t)null==i[e]&&d(s,e,"");for(const e in i)d(s,e,i[e])}else{const n=s.display;o?t!==i&&(s.cssText=i):t&&e.removeAttribute("style"),"_vod"in e&&(s.display=n)}}(e,i,o):(0,n.isOn)(t)?(0,n.isModelListener)(t)||function(e,t,i,o,r=null){const a=e._vei||(e._vei={}),l=a[t];if(o&&l)l.value=o;else{const[i,c]=function(e){let t;if(m.test(e)){let i;for(t={};i=e.match(m);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[":"===e[2]?e.slice(3):(0,n.hyphenate)(e.slice(2)),t]}(t);if(o){const l=a[t]=function(e,t){const i=e=>{if(e._vts){if(e._vts<=i.attached)return}else e._vts=Date.now();(0,s.$d)(function(e,t){if((0,n.isArray)(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}(e,i.value),t,5,[e])};return i.value=e,i.attached=y(),i}(o,r);f(e,i,l,c)}else l&&(function(e,t,i,n){e.removeEventListener(t,i,n)}(e,i,l,c),a[t]=void 0)}}(e,t,0,o,l):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,i,s){return s?"innerHTML"===t||"textContent"===t||!!(t in e&&b.test(t)&&(0,n.isFunction)(i)):"spellcheck"!==t&&"draggable"!==t&&"translate"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!b.test(t)||!(0,n.isString)(i))&&t in e))))}(e,t,o,r))?function(e,t,i,s,o,r,a){if("innerHTML"===t||"textContent"===t)return s&&a(s,o,r),void(e[t]=null==i?"":i);const l=e.tagName;if("value"===t&&"PROGRESS"!==l&&!l.includes("-")){e._value=i;const n=null==i?"":i;return("OPTION"===l?e.getAttribute("value"):e.value)!==n&&(e.value=n),void(null==i&&e.removeAttribute(t))}let c=!1;if(""===i||null==i){const s=typeof e[t];"boolean"===s?i=(0,n.includeBooleanAttr)(i):null==i&&"string"===s?(i="",c=!0):"number"===s&&(i=0,c=!0)}try{e[t]=i}catch(e){}c&&e.removeAttribute(t)}(e,t,o,a,l,c,u):("true-value"===t?e._trueValue=o:"false-value"===t&&(e._falseValue=o),function(e,t,i,s,o){if(s&&t.startsWith("xlink:"))null==i?e.removeAttributeNS(p,t.slice(6,t.length)):e.setAttributeNS(p,t,i);else{const s=(0,n.isSpecialBooleanAttr)(t);null==i||s&&!(0,n.includeBooleanAttr)(i)?e.removeAttribute(t):e.setAttribute(t,s?"":i)}}(e,t,o,r))}},l);let _e,xe=!1;function we(){return _e||(_e=(0,s.Us)(be))}function ke(){return _e=xe?_e:(0,s.Eo)(be),xe=!0,_e}const Se=(...e)=>{we().render(...e)},Te=(...e)=>{ke().hydrate(...e)},Ce=(...e)=>{const t=we().createApp(...e),{mount:i}=t;return t.mount=e=>{const s=Ae(e);if(!s)return;const o=t._component;(0,n.isFunction)(o)||o.render||o.template||(o.template=s.innerHTML),s.innerHTML="";const r=i(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),r},t},Ee=(...e)=>{const t=ke().createApp(...e),{mount:i}=t;return t.mount=e=>{const t=Ae(e);if(t)return i(t,!0,t instanceof SVGElement)},t};function Ae(e){return(0,n.isString)(e)?document.querySelector(e):e}let Ie=!1;const Me=()=>{Ie||(Ie=!0,te.getSSRProps=({value:e})=>({value:e}),se.getSSRProps=({value:e},t)=>{if(t.props&&(0,n.looseEqual)(t.props.value,e))return{checked:!0}},ie.getSSRProps=({value:e},t)=>{if((0,n.isArray)(e)){if(t.props&&(0,n.looseIndexOf)(e,t.props.value)>-1)return{checked:!0}}else if((0,n.isSet)(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},ce.getSSRProps=(e,t)=>{if("string"!=typeof t.type)return;const i=de(t.type.toUpperCase(),t.props&&t.props.type);return i.getSSRProps?i.getSSRProps(e,t):void 0},ve.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}})}},171:(e,t,i)=>{"use strict";function n(e,t){const i=Object.create(null),n=e.split(",");for(let e=0;e<n.length;e++)i[n[e]]=!0;return t?e=>!!i[e.toLowerCase()]:e=>!!i[e]}i.r(t),i.d(t,{EMPTY_ARR:()=>o,EMPTY_OBJ:()=>s,NO:()=>a,NOOP:()=>r,PatchFlagNames:()=>Y,camelize:()=>L,capitalize:()=>R,def:()=>z,escapeHtml:()=>xe,escapeHtmlComment:()=>ke,extend:()=>u,genPropsAccessExp:()=>G,generateCodeFrame:()=>Z,getGlobalThis:()=>$,hasChanged:()=>U,hasOwn:()=>f,hyphenate:()=>B,includeBooleanAttr:()=>pe,invokeArrayFns:()=>F,isArray:()=>m,isBooleanAttr:()=>he,isBuiltInDirective:()=>O,isDate:()=>y,isFunction:()=>_,isGloballyWhitelisted:()=>K,isHTMLTag:()=>ae,isIntegerKey:()=>I,isKnownHtmlAttr:()=>ye,isKnownSvgAttr:()=>be,isMap:()=>g,isModelListener:()=>d,isObject:()=>k,isOn:()=>c,isPlainObject:()=>A,isPromise:()=>S,isRegExp:()=>b,isReservedProp:()=>M,isSSRSafeAttrName:()=>ge,isSVGTag:()=>le,isSet:()=>v,isSpecialBooleanAttr:()=>ue,isString:()=>x,isSymbol:()=>w,isVoidTag:()=>ce,looseEqual:()=>Se,looseIndexOf:()=>Te,looseToNumber:()=>H,makeMap:()=>n,normalizeClass:()=>oe,normalizeProps:()=>re,normalizeStyle:()=>J,objectToString:()=>T,parseStringStyle:()=>ne,propsToAttrMap:()=>ve,remove:()=>h,slotFlagsText:()=>X,stringifyStyle:()=>se,toDisplayString:()=>Ce,toHandlerKey:()=>N,toNumber:()=>V,toRawType:()=>E,toTypeString:()=>C});const s={},o=[],r=()=>{},a=()=>!1,l=/^on[^a-z]/,c=e=>l.test(e),d=e=>e.startsWith("onUpdate:"),u=Object.assign,h=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},p=Object.prototype.hasOwnProperty,f=(e,t)=>p.call(e,t),m=Array.isArray,g=e=>"[object Map]"===C(e),v=e=>"[object Set]"===C(e),y=e=>"[object Date]"===C(e),b=e=>"[object RegExp]"===C(e),_=e=>"function"==typeof e,x=e=>"string"==typeof e,w=e=>"symbol"==typeof e,k=e=>null!==e&&"object"==typeof e,S=e=>k(e)&&_(e.then)&&_(e.catch),T=Object.prototype.toString,C=e=>T.call(e),E=e=>C(e).slice(8,-1),A=e=>"[object Object]"===C(e),I=e=>x(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,M=n(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),O=n("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),D=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},P=/-(\w)/g,L=D((e=>e.replace(P,((e,t)=>t?t.toUpperCase():"")))),j=/\B([A-Z])/g,B=D((e=>e.replace(j,"-$1").toLowerCase())),R=D((e=>e.charAt(0).toUpperCase()+e.slice(1))),N=D((e=>e?`on${R(e)}`:"")),U=(e,t)=>!Object.is(e,t),F=(e,t)=>{for(let i=0;i<e.length;i++)e[i](t)},z=(e,t,i)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:i})},H=e=>{const t=parseFloat(e);return isNaN(t)?e:t},V=e=>{const t=x(e)?Number(e):NaN;return isNaN(t)?e:t};let q;const $=()=>q||(q="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==i.g?i.g:{}),W=/^[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/;function G(e){return W.test(e)?`__props.${e}`:`__props[${JSON.stringify(e)}]`}const Y={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"HYDRATE_EVENTS",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},X={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},K=n("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console"),Q=2;function Z(e,t=0,i=e.length){let n=e.split(/(\r?\n)/);const s=n.filter(((e,t)=>t%2==1));n=n.filter(((e,t)=>t%2==0));let o=0;const r=[];for(let e=0;e<n.length;e++)if(o+=n[e].length+(s[e]&&s[e].length||0),o>=t){for(let a=e-Q;a<=e+Q||i>o;a++){if(a<0||a>=n.length)continue;const l=a+1;r.push(`${l}${" ".repeat(Math.max(3-String(l).length,0))}|  ${n[a]}`);const c=n[a].length,d=s[a]&&s[a].length||0;if(a===e){const e=t-(o-(c+d)),n=Math.max(1,i>o?c-e:i-t);r.push("   |  "+" ".repeat(e)+"^".repeat(n))}else if(a>e){if(i>o){const e=Math.max(Math.min(i-o,c),1);r.push("   |  "+"^".repeat(e))}o+=c+d}}break}return r.join("\n")}function J(e){if(m(e)){const t={};for(let i=0;i<e.length;i++){const n=e[i],s=x(n)?ne(n):J(n);if(s)for(const e in s)t[e]=s[e]}return t}return x(e)||k(e)?e:void 0}const ee=/;(?![^(]*\))/g,te=/:([^]+)/,ie=/\/\*[^]*?\*\//g;function ne(e){const t={};return e.replace(ie,"").split(ee).forEach((e=>{if(e){const i=e.split(te);i.length>1&&(t[i[0].trim()]=i[1].trim())}})),t}function se(e){let t="";if(!e||x(e))return t;for(const i in e){const n=e[i],s=i.startsWith("--")?i:B(i);(x(n)||"number"==typeof n)&&(t+=`${s}:${n};`)}return t}function oe(e){let t="";if(x(e))t=e;else if(m(e))for(let i=0;i<e.length;i++){const n=oe(e[i]);n&&(t+=n+" ")}else if(k(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}function re(e){if(!e)return null;let{class:t,style:i}=e;return t&&!x(t)&&(e.class=oe(t)),i&&(e.style=J(i)),e}const ae=n("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot"),le=n("svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view"),ce=n("area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr"),de="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ue=n(de),he=n(de+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function pe(e){return!!e||""===e}const fe=/[>/="'\u0009\u000a\u000c\u0020]/,me={};function ge(e){if(me.hasOwnProperty(e))return me[e];const t=fe.test(e);return t&&console.error(`unsafe attribute name: ${e}`),me[e]=!t}const ve={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},ye=n("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),be=n("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan"),_e=/["'&<>]/;function xe(e){const t=""+e,i=_e.exec(t);if(!i)return t;let n,s,o="",r=0;for(s=i.index;s<t.length;s++){switch(t.charCodeAt(s)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#39;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}r!==s&&(o+=t.slice(r,s)),r=s+1,o+=n}return r!==s?o+t.slice(r,s):o}const we=/^-?>|<!--|-->|--!>|<!-$/g;function ke(e){return e.replace(we,"")}function Se(e,t){if(e===t)return!0;let i=y(e),n=y(t);if(i||n)return!(!i||!n)&&e.getTime()===t.getTime();if(i=w(e),n=w(t),i||n)return e===t;if(i=m(e),n=m(t),i||n)return!(!i||!n)&&function(e,t){if(e.length!==t.length)return!1;let i=!0;for(let n=0;i&&n<e.length;n++)i=Se(e[n],t[n]);return i}(e,t);if(i=k(e),n=k(t),i||n){if(!i||!n)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e){const n=e.hasOwnProperty(i),s=t.hasOwnProperty(i);if(n&&!s||!n&&s||!Se(e[i],t[i]))return!1}}return String(e)===String(t)}function Te(e,t){return e.findIndex((e=>Se(e,t)))}const Ce=e=>x(e)?e:null==e?"":m(e)||k(e)&&(e.toString===T||!_(e.toString))?JSON.stringify(e,Ee,2):String(e),Ee=(e,t)=>t&&t.__v_isRef?Ee(e,t.value):g(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,i])=>(e[`${t} =>`]=i,e)),{})}:v(t)?{[`Set(${t.size})`]:[...t.values()]}:!k(t)||m(t)||A(t)?t:String(t)},6670:(e,t)=>{"use strict";function i(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}var n=i({HTML:"text/html",isHTML:function(e){return e===n.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),s=i({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===s.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});t.assign=function(e,t){if(null===e||"object"!=typeof e)throw new TypeError("target is not an object");for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.find=function(e,t,i){if(void 0===i&&(i=Array.prototype),e&&"function"==typeof i.find)return i.find.call(e,t);for(var n=0;n<e.length;n++)if(Object.prototype.hasOwnProperty.call(e,n)){var s=e[n];if(t.call(void 0,s,n,e))return s}},t.freeze=i,t.MIME_TYPE=n,t.NAMESPACE=s},49:(e,t,i)=>{var n=i(6670),s=i(5549),o=i(4512),r=i(214),a=s.DOMImplementation,l=n.NAMESPACE,c=r.ParseError,d=r.XMLReader;function u(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function h(e){this.options=e||{locator:{}}}function p(){this.cdata=!1}function f(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function m(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function g(e,t,i){return"string"==typeof e?e.substr(t,i):e.length>=t+i||t?new java.lang.String(e,t,i)+"":e}function v(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}h.prototype.parseFromString=function(e,t){var i=this.options,n=new d,s=i.domBuilder||new p,r=i.errorHandler,a=i.locator,c=i.xmlns||{},h=/\/x?html?$/.test(t),f=h?o.HTML_ENTITIES:o.XML_ENTITIES;a&&s.setDocumentLocator(a),n.errorHandler=function(e,t,i){if(!e){if(t instanceof p)return t;e=t}var n={},s=e instanceof Function;function o(t){var o=e[t];!o&&s&&(o=2==e.length?function(i){e(t,i)}:e),n[t]=o&&function(e){o("[xmldom "+t+"]\t"+e+m(i))}||function(){}}return i=i||{},o("warning"),o("error"),o("fatalError"),n}(r,s,a),n.domBuilder=i.domBuilder||s,h&&(c[""]=l.HTML),c.xml=c.xml||l.XML;var g=i.normalizeLineEndings||u;return e&&"string"==typeof e?n.parse(g(e),c,f):n.errorHandler.error("invalid doc source"),s.doc},p.prototype={startDocument:function(){this.doc=(new a).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,i,n){var s=this.doc,o=s.createElementNS(e,i||t),r=n.length;v(this,o),this.currentElement=o,this.locator&&f(this.locator,o);for(var a=0;a<r;a++){e=n.getURI(a);var l=n.getValue(a),c=(i=n.getQName(a),s.createAttributeNS(e,i));this.locator&&f(n.getLocator(a),c),c.value=c.nodeValue=l,o.setAttributeNode(c)}},endElement:function(e,t,i){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var i=this.doc.createProcessingInstruction(e,t);this.locator&&f(this.locator,i),v(this,i)},ignorableWhitespace:function(e,t,i){},characters:function(e,t,i){if(e=g.apply(this,arguments)){if(this.cdata)var n=this.doc.createCDATASection(e);else n=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(e)&&this.doc.appendChild(n),this.locator&&f(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,i){e=g.apply(this,arguments);var n=this.doc.createComment(e);this.locator&&f(this.locator,n),v(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,i){var n=this.doc.implementation;if(n&&n.createDocumentType){var s=n.createDocumentType(e,t,i);this.locator&&f(this.locator,s),v(this,s),this.doc.doctype=s}},warning:function(e){console.warn("[xmldom warning]\t"+e,m(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,m(this.locator))},fatalError:function(e){throw new c(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){p.prototype[e]=function(){return null}})),t.DOMParser=h},5549:(e,t,i)=>{var n=i(6670),s=n.find,o=n.NAMESPACE;function r(e){return""!==e}function a(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function l(e){if(!e)return[];var t=function(e){return e?e.split(/[\t\n\f\r ]+/).filter(r):[]}(e);return Object.keys(t.reduce(a,{}))}function c(e,t){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}function d(e,t){var i=e.prototype;if(!(i instanceof t)){function n(){}n.prototype=t.prototype,c(i,n=new n),e.prototype=i=n}i.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),i.constructor=e)}var u={},h=u.ELEMENT_NODE=1,p=u.ATTRIBUTE_NODE=2,f=u.TEXT_NODE=3,m=u.CDATA_SECTION_NODE=4,g=u.ENTITY_REFERENCE_NODE=5,v=u.ENTITY_NODE=6,y=u.PROCESSING_INSTRUCTION_NODE=7,b=u.COMMENT_NODE=8,_=u.DOCUMENT_NODE=9,x=u.DOCUMENT_TYPE_NODE=10,w=u.DOCUMENT_FRAGMENT_NODE=11,k=u.NOTATION_NODE=12,S={},T={},C=(S.INDEX_SIZE_ERR=(T[1]="Index size error",1),S.DOMSTRING_SIZE_ERR=(T[2]="DOMString size error",2),S.HIERARCHY_REQUEST_ERR=(T[3]="Hierarchy request error",3)),E=(S.WRONG_DOCUMENT_ERR=(T[4]="Wrong document",4),S.INVALID_CHARACTER_ERR=(T[5]="Invalid character",5),S.NO_DATA_ALLOWED_ERR=(T[6]="No data allowed",6),S.NO_MODIFICATION_ALLOWED_ERR=(T[7]="No modification allowed",7),S.NOT_FOUND_ERR=(T[8]="Not found",8)),A=(S.NOT_SUPPORTED_ERR=(T[9]="Not supported",9),S.INUSE_ATTRIBUTE_ERR=(T[10]="Attribute in use",10));function I(e,t){if(t instanceof Error)var i=t;else i=this,Error.call(this,T[e]),this.message=T[e],Error.captureStackTrace&&Error.captureStackTrace(this,I);return i.code=e,t&&(this.message=this.message+": "+t),i}function M(){}function O(e,t){this._node=e,this._refresh=t,D(this)}function D(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var i=e._refresh(e._node);if(ye(e,"length",i.length),!e.$$length||i.length<e.$$length)for(var n=i.length;n in e;n++)Object.prototype.hasOwnProperty.call(e,n)&&delete e[n];c(i,e),e._inc=t}}function P(){}function L(e,t){for(var i=e.length;i--;)if(e[i]===t)return i}function j(e,t,i,n){if(n?t[L(t,n)]=i:t[t.length++]=i,e){i.ownerElement=e;var s=e.ownerDocument;s&&(n&&H(s,e,n),function(e,t,i){e&&e._inc++,i.namespaceURI===o.XMLNS&&(t._nsMap[i.prefix?i.localName:""]=i.value)}(s,e,i))}}function B(e,t,i){var n=L(t,i);if(!(n>=0))throw new I(E,new Error(e.tagName+"@"+i));for(var s=t.length-1;n<s;)t[n]=t[++n];if(t.length=s,e){var o=e.ownerDocument;o&&(H(o,e,i),i.ownerElement=null)}}function R(){}function N(){}function U(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function F(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(F(e,t))return!0}while(e=e.nextSibling)}function z(){this.ownerDocument=this}function H(e,t,i,n){e&&e._inc++,i.namespaceURI===o.XMLNS&&delete t._nsMap[i.prefix?i.localName:""]}function V(e,t,i){if(e&&e._inc){e._inc++;var n=t.childNodes;if(i)n[n.length++]=i;else{for(var s=t.firstChild,o=0;s;)n[o++]=s,s=s.nextSibling;n.length=o,delete n[n.length]}}}function q(e,t){var i=t.previousSibling,n=t.nextSibling;return i?i.nextSibling=n:e.firstChild=n,n?n.previousSibling=i:e.lastChild=i,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,V(e.ownerDocument,e),t}function $(e){return e&&e.nodeType===N.DOCUMENT_TYPE_NODE}function W(e){return e&&e.nodeType===N.ELEMENT_NODE}function G(e){return e&&e.nodeType===N.TEXT_NODE}function Y(e,t){var i=e.childNodes||[];if(s(i,W)||$(t))return!1;var n=s(i,$);return!(t&&n&&i.indexOf(n)>i.indexOf(t))}function X(e,t){var i=e.childNodes||[];if(s(i,(function(e){return W(e)&&e!==t})))return!1;var n=s(i,$);return!(t&&n&&i.indexOf(n)>i.indexOf(t))}function K(e,t,i){var n=e.childNodes||[],o=t.childNodes||[];if(t.nodeType===N.DOCUMENT_FRAGMENT_NODE){var r=o.filter(W);if(r.length>1||s(o,G))throw new I(C,"More than one element or text in fragment");if(1===r.length&&!Y(e,i))throw new I(C,"Element in fragment can not be inserted before doctype")}if(W(t)&&!Y(e,i))throw new I(C,"Only one element can be added and only after doctype");if($(t)){if(s(n,$))throw new I(C,"Only one doctype is allowed");var a=s(n,W);if(i&&n.indexOf(a)<n.indexOf(i))throw new I(C,"Doctype can only be inserted before an element");if(!i&&a)throw new I(C,"Doctype can not be appended since element is present")}}function Q(e,t,i){var n=e.childNodes||[],o=t.childNodes||[];if(t.nodeType===N.DOCUMENT_FRAGMENT_NODE){var r=o.filter(W);if(r.length>1||s(o,G))throw new I(C,"More than one element or text in fragment");if(1===r.length&&!X(e,i))throw new I(C,"Element in fragment can not be inserted before doctype")}if(W(t)&&!X(e,i))throw new I(C,"Only one element can be added and only after doctype");if($(t)){if(s(n,(function(e){return $(e)&&e!==i})))throw new I(C,"Only one doctype is allowed");var a=s(n,W);if(i&&n.indexOf(a)<n.indexOf(i))throw new I(C,"Doctype can only be inserted before an element")}}function Z(e,t,i,n){(function(e,t,i){if(!function(e){return e&&(e.nodeType===N.DOCUMENT_NODE||e.nodeType===N.DOCUMENT_FRAGMENT_NODE||e.nodeType===N.ELEMENT_NODE)}(e))throw new I(C,"Unexpected parent node type "+e.nodeType);if(i&&i.parentNode!==e)throw new I(E,"child not in parent");if(!function(e){return e&&(W(e)||G(e)||$(e)||e.nodeType===N.DOCUMENT_FRAGMENT_NODE||e.nodeType===N.COMMENT_NODE||e.nodeType===N.PROCESSING_INSTRUCTION_NODE)}(t)||$(t)&&e.nodeType!==N.DOCUMENT_NODE)throw new I(C,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)})(e,t,i),e.nodeType===N.DOCUMENT_NODE&&(n||K)(e,t,i);var s=t.parentNode;if(s&&s.removeChild(t),t.nodeType===w){var o=t.firstChild;if(null==o)return t;var r=t.lastChild}else o=r=t;var a=i?i.previousSibling:e.lastChild;o.previousSibling=a,r.nextSibling=i,a?a.nextSibling=o:e.firstChild=o,null==i?e.lastChild=r:i.previousSibling=r;do{o.parentNode=e}while(o!==r&&(o=o.nextSibling));return V(e.ownerDocument||e,e),t.nodeType==w&&(t.firstChild=t.lastChild=null),t}function J(){this._nsMap={}}function ee(){}function te(){}function ie(){}function ne(){}function se(){}function oe(){}function re(){}function ae(){}function le(){}function ce(){}function de(){}function ue(){}function he(e,t){var i=[],n=9==this.nodeType&&this.documentElement||this,s=n.prefix,o=n.namespaceURI;if(o&&null==s&&null==(s=n.lookupPrefix(o)))var r=[{namespace:o,prefix:null}];return me(this,i,e,t,r),i.join("")}function pe(e,t,i){var n=e.prefix||"",s=e.namespaceURI;if(!s)return!1;if("xml"===n&&s===o.XML||s===o.XMLNS)return!1;for(var r=i.length;r--;){var a=i[r];if(a.prefix===n)return a.namespace!==s}return!0}function fe(e,t,i){e.push(" ",t,'="',i.replace(/[<>&"\t\n\r]/g,U),'"')}function me(e,t,i,n,s){if(s||(s=[]),n){if(!(e=n(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case h:var r=e.attributes,a=r.length,l=e.firstChild,c=e.tagName,d=c;if(!(i=o.isHTML(e.namespaceURI)||i)&&!e.prefix&&e.namespaceURI){for(var u,v=0;v<r.length;v++)if("xmlns"===r.item(v).name){u=r.item(v).value;break}if(!u)for(var k=s.length-1;k>=0;k--)if(""===(S=s[k]).prefix&&S.namespace===e.namespaceURI){u=S.namespace;break}if(u!==e.namespaceURI)for(k=s.length-1;k>=0;k--){var S;if((S=s[k]).namespace===e.namespaceURI){S.prefix&&(d=S.prefix+":"+c);break}}}t.push("<",d);for(var T=0;T<a;T++)"xmlns"==(C=r.item(T)).prefix?s.push({prefix:C.localName,namespace:C.value}):"xmlns"==C.nodeName&&s.push({prefix:"",namespace:C.value});for(T=0;T<a;T++){var C,E,A;pe(C=r.item(T),0,s)&&(fe(t,(E=C.prefix||"")?"xmlns:"+E:"xmlns",A=C.namespaceURI),s.push({prefix:E,namespace:A})),me(C,t,i,n,s)}if(c===d&&pe(e,0,s)&&(fe(t,(E=e.prefix||"")?"xmlns:"+E:"xmlns",A=e.namespaceURI),s.push({prefix:E,namespace:A})),l||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(c)){if(t.push(">"),i&&/^script$/i.test(c))for(;l;)l.data?t.push(l.data):me(l,t,i,n,s.slice()),l=l.nextSibling;else for(;l;)me(l,t,i,n,s.slice()),l=l.nextSibling;t.push("</",d,">")}else t.push("/>");return;case _:case w:for(l=e.firstChild;l;)me(l,t,i,n,s.slice()),l=l.nextSibling;return;case p:return fe(t,e.name,e.value);case f:return t.push(e.data.replace(/[<&>]/g,U));case m:return t.push("<![CDATA[",e.data,"]]>");case b:return t.push("\x3c!--",e.data,"--\x3e");case x:var I=e.publicId,M=e.systemId;if(t.push("<!DOCTYPE ",e.name),I)t.push(" PUBLIC ",I),M&&"."!=M&&t.push(" ",M),t.push(">");else if(M&&"."!=M)t.push(" SYSTEM ",M,">");else{var O=e.internalSubset;O&&t.push(" [",O,"]"),t.push(">")}return;case y:return t.push("<?",e.target," ",e.data,"?>");case g:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ge(e,t,i){var n;switch(t.nodeType){case h:(n=t.cloneNode(!1)).ownerDocument=e;case w:break;case p:i=!0}if(n||(n=t.cloneNode(!1)),n.ownerDocument=e,n.parentNode=null,i)for(var s=t.firstChild;s;)n.appendChild(ge(e,s,i)),s=s.nextSibling;return n}function ve(e,t,i){var n=new t.constructor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=t[s];"object"!=typeof o&&o!=n[s]&&(n[s]=o)}switch(t.childNodes&&(n.childNodes=new M),n.ownerDocument=e,n.nodeType){case h:var r=t.attributes,a=n.attributes=new P,l=r.length;a._ownerElement=n;for(var c=0;c<l;c++)n.setAttributeNode(ve(e,r.item(c),!0));break;case p:i=!0}if(i)for(var d=t.firstChild;d;)n.appendChild(ve(e,d,i)),d=d.nextSibling;return n}function ye(e,t,i){e[t]=i}S.INVALID_STATE_ERR=(T[11]="Invalid state",11),S.SYNTAX_ERR=(T[12]="Syntax error",12),S.INVALID_MODIFICATION_ERR=(T[13]="Invalid modification",13),S.NAMESPACE_ERR=(T[14]="Invalid namespace",14),S.INVALID_ACCESS_ERR=(T[15]="Invalid access",15),I.prototype=Error.prototype,c(S,I),M.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e,t){for(var i=[],n=0;n<this.length;n++)me(this[n],i,e,t);return i.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},O.prototype.item=function(e){return D(this),this[e]||null},d(O,M),P.prototype={length:0,item:M.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var i=this[t];if(i.nodeName==e)return i}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new I(A);var i=this.getNamedItem(e.nodeName);return j(this._ownerElement,this,e,i),i},setNamedItemNS:function(e){var t,i=e.ownerElement;if(i&&i!=this._ownerElement)throw new I(A);return t=this.getNamedItemNS(e.namespaceURI,e.localName),j(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return B(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var i=this.getNamedItemNS(e,t);return B(this._ownerElement,this,i),i},getNamedItemNS:function(e,t){for(var i=this.length;i--;){var n=this[i];if(n.localName==t&&n.namespaceURI==e)return n}return null}},R.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,i){var n=new z;if(n.implementation=this,n.childNodes=new M,n.doctype=i||null,i&&n.appendChild(i),t){var s=n.createElementNS(e,t);n.appendChild(s)}return n},createDocumentType:function(e,t,i){var n=new oe;return n.name=e,n.nodeName=e,n.publicId=t||"",n.systemId=i||"",n}},N.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return Z(this,e,t)},replaceChild:function(e,t){Z(this,e,t,Q),t&&this.removeChild(t)},removeChild:function(e){return q(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return ve(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==f&&e.nodeType==f?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var i=t._nsMap;if(i)for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)&&i[n]===e)return n;t=t.nodeType==p?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var i=t._nsMap;if(i&&Object.prototype.hasOwnProperty.call(i,e))return i[e];t=t.nodeType==p?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},c(u,N),c(u,N.prototype),z.prototype={nodeName:"#document",nodeType:_,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==w){for(var i=e.firstChild;i;){var n=i.nextSibling;this.insertBefore(i,t),i=n}return e}return Z(this,e,t),e.ownerDocument=this,null===this.documentElement&&e.nodeType===h&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),q(this,e)},replaceChild:function(e,t){Z(this,e,t,Q),e.ownerDocument=this,t&&this.removeChild(t),W(e)&&(this.documentElement=e)},importNode:function(e,t){return ge(this,e,t)},getElementById:function(e){var t=null;return F(this.documentElement,(function(i){if(i.nodeType==h&&i.getAttribute("id")==e)return t=i,!0})),t},getElementsByClassName:function(e){var t=l(e);return new O(this,(function(i){var n=[];return t.length>0&&F(i.documentElement,(function(s){if(s!==i&&s.nodeType===h){var o=s.getAttribute("class");if(o){var r=e===o;if(!r){var a=l(o);r=t.every((c=a,function(e){return c&&-1!==c.indexOf(e)}))}r&&n.push(s)}}var c})),n}))},createElement:function(e){var t=new J;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new M,(t.attributes=new P)._ownerElement=t,t},createDocumentFragment:function(){var e=new ce;return e.ownerDocument=this,e.childNodes=new M,e},createTextNode:function(e){var t=new ie;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new ne;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new se;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var i=new de;return i.ownerDocument=this,i.tagName=i.nodeName=i.target=e,i.nodeValue=i.data=t,i},createAttribute:function(e){var t=new ee;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new le;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var i=new J,n=t.split(":"),s=i.attributes=new P;return i.childNodes=new M,i.ownerDocument=this,i.nodeName=t,i.tagName=t,i.namespaceURI=e,2==n.length?(i.prefix=n[0],i.localName=n[1]):i.localName=t,s._ownerElement=i,i},createAttributeNS:function(e,t){var i=new ee,n=t.split(":");return i.ownerDocument=this,i.nodeName=t,i.name=t,i.namespaceURI=e,i.specified=!0,2==n.length?(i.prefix=n[0],i.localName=n[1]):i.localName=t,i}},d(z,N),J.prototype={nodeType:h,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var i=this.ownerDocument.createAttribute(e);i.value=i.nodeValue=""+t,this.setAttributeNode(i)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===w?this.insertBefore(e,null):function(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,V(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var i=this.getAttributeNodeNS(e,t);i&&this.removeAttributeNode(i)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var i=this.getAttributeNodeNS(e,t);return i&&i.value||""},setAttributeNS:function(e,t,i){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=""+i,this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new O(this,(function(t){var i=[];return F(t,(function(n){n===t||n.nodeType!=h||"*"!==e&&n.tagName!=e||i.push(n)})),i}))},getElementsByTagNameNS:function(e,t){return new O(this,(function(i){var n=[];return F(i,(function(s){s===i||s.nodeType!==h||"*"!==e&&s.namespaceURI!==e||"*"!==t&&s.localName!=t||n.push(s)})),n}))}},z.prototype.getElementsByTagName=J.prototype.getElementsByTagName,z.prototype.getElementsByTagNameNS=J.prototype.getElementsByTagNameNS,d(J,N),ee.prototype.nodeType=p,d(ee,N),te.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(T[C])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,i){i=this.data.substring(0,e)+i+this.data.substring(e+t),this.nodeValue=this.data=i,this.length=i.length}},d(te,N),ie.prototype={nodeName:"#text",nodeType:f,splitText:function(e){var t=this.data,i=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(i);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},d(ie,te),ne.prototype={nodeName:"#comment",nodeType:b},d(ne,te),se.prototype={nodeName:"#cdata-section",nodeType:m},d(se,te),oe.prototype.nodeType=x,d(oe,N),re.prototype.nodeType=k,d(re,N),ae.prototype.nodeType=v,d(ae,N),le.prototype.nodeType=g,d(le,N),ce.prototype.nodeName="#document-fragment",ce.prototype.nodeType=w,d(ce,N),de.prototype.nodeType=y,d(de,N),ue.prototype.serializeToString=function(e,t,i){return he.call(e,t,i)},N.prototype.toString=he;try{if(Object.defineProperty){function be(e){switch(e.nodeType){case h:case w:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(be(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(O.prototype,"length",{get:function(){return D(this),this.$$length}}),Object.defineProperty(N.prototype,"textContent",{get:function(){return be(this)},set:function(e){switch(this.nodeType){case h:case w:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ye=function(e,t,i){e["$$"+t]=i}}}catch(_e){}t.DocumentType=oe,t.DOMException=I,t.DOMImplementation=R,t.Element=J,t.Node=N,t.NodeList=M,t.XMLSerializer=ue},4512:(e,t,i)=>{"use strict";var n=i(6670).freeze;t.XML_ENTITIES=n({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=n({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),t.entityMap=t.HTML_ENTITIES},6513:(e,t,i)=>{var n=i(5549);n.DOMImplementation,n.XMLSerializer,t.DOMParser=i(49).DOMParser},214:(e,t,i)=>{var n=i(6670).NAMESPACE,s=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,o=new RegExp("[\\-\\.0-9"+s.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),r=new RegExp("^"+s.source+o.source+"*(?::"+s.source+o.source+"*)?$");function a(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,a)}function l(){}function c(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function d(e,t,i,s,o,r){function a(e,t,n){i.attributeNames.hasOwnProperty(e)&&r.fatalError("Attribute "+e+" redefined"),i.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,o),n)}for(var l,c=++t,d=0;;){var u=e.charAt(c);switch(u){case"=":if(1===d)l=e.slice(t,c),d=3;else{if(2!==d)throw new Error("attribute equal must after attrName");d=3}break;case"'":case'"':if(3===d||1===d){if(1===d&&(r.warning('attribute value must after "="'),l=e.slice(t,c)),t=c+1,!((c=e.indexOf(u,t))>0))throw new Error("attribute value no end '"+u+"' match");a(l,h=e.slice(t,c),t-1),d=5}else{if(4!=d)throw new Error('attribute value must after "="');a(l,h=e.slice(t,c),t),r.warning('attribute "'+l+'" missed start quot('+u+")!!"),t=c+1,d=5}break;case"/":switch(d){case 0:i.setTagName(e.slice(t,c));case 5:case 6:case 7:d=7,i.closed=!0;case 4:case 1:break;case 2:i.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return r.error("unexpected end of input"),0==d&&i.setTagName(e.slice(t,c)),c;case">":switch(d){case 0:i.setTagName(e.slice(t,c));case 5:case 6:case 7:break;case 4:case 1:"/"===(h=e.slice(t,c)).slice(-1)&&(i.closed=!0,h=h.slice(0,-1));case 2:2===d&&(h=l),4==d?(r.warning('attribute "'+h+'" missed quot(")!'),a(l,h,t)):(n.isHTML(s[""])&&h.match(/^(?:disabled|checked|selected)$/i)||r.warning('attribute "'+h+'" missed value!! "'+h+'" instead!!'),a(h,h,t));break;case 3:throw new Error("attribute value missed!!")}return c;case"":u=" ";default:if(u<=" ")switch(d){case 0:i.setTagName(e.slice(t,c)),d=6;break;case 1:l=e.slice(t,c),d=2;break;case 4:var h=e.slice(t,c);r.warning('attribute "'+h+'" missed quot(")!!'),a(l,h,t);case 5:d=6}else switch(d){case 2:i.tagName,n.isHTML(s[""])&&l.match(/^(?:disabled|checked|selected)$/i)||r.warning('attribute "'+l+'" missed value!! "'+l+'" instead2!!'),a(l,l,t),t=c,d=1;break;case 5:r.warning('attribute space is required"'+l+'"!!');case 6:d=1,t=c;break;case 3:d=4,t=c;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function u(e,t,i){for(var s=e.tagName,o=null,r=e.length;r--;){var a=e[r],l=a.qName,c=a.value;if((p=l.indexOf(":"))>0)var d=a.prefix=l.slice(0,p),u=l.slice(p+1),h="xmlns"===d&&u;else u=l,d=null,h="xmlns"===l&&"";a.localName=u,!1!==h&&(null==o&&(o={},f(i,i={})),i[h]=o[h]=c,a.uri=n.XMLNS,t.startPrefixMapping(h,c))}for(r=e.length;r--;)(d=(a=e[r]).prefix)&&("xml"===d&&(a.uri=n.XML),"xmlns"!==d&&(a.uri=i[d||""]));var p;(p=s.indexOf(":"))>0?(d=e.prefix=s.slice(0,p),u=e.localName=s.slice(p+1)):(d=null,u=e.localName=s);var m=e.uri=i[d||""];if(t.startElement(m,u,s,e),!e.closed)return e.currentNSMap=i,e.localNSMap=o,!0;if(t.endElement(m,u,s),o)for(d in o)Object.prototype.hasOwnProperty.call(o,d)&&t.endPrefixMapping(d)}function h(e,t,i,n,s){if(/^(?:script|textarea)$/i.test(i)){var o=e.indexOf("</"+i+">",t),r=e.substring(t+1,o);if(/[&<]/.test(r))return/^script$/i.test(i)?(s.characters(r,0,r.length),o):(r=r.replace(/&#?\w+;/g,n),s.characters(r,0,r.length),o)}return t+1}function p(e,t,i,n){var s=n[i];return null==s&&((s=e.lastIndexOf("</"+i+">"))<t&&(s=e.lastIndexOf("</"+i)),n[i]=s),s<t}function f(e,t){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}function m(e,t,i,n){if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(s=e.indexOf("--\x3e",t+4))>t?(i.comment(e,t+4,s-t-4),s+3):(n.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6)){var s=e.indexOf("]]>",t+9);return i.startCDATA(),i.characters(e,t+9,s-t-9),i.endCDATA(),s+3}var o=function(e,t){var i,n=[],s=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(s.lastIndex=t,s.exec(e);i=s.exec(e);)if(n.push(i),i[1])return n}(e,t),r=o.length;if(r>1&&/!doctype/i.test(o[0][0])){var a=o[1][0],l=!1,c=!1;r>3&&(/^public$/i.test(o[2][0])?(l=o[3][0],c=r>4&&o[4][0]):/^system$/i.test(o[2][0])&&(c=o[3][0]));var d=o[r-1];return i.startDTD(a,l,c),i.endDTD(),d.index+d[0].length}return-1}function g(e,t,i){var n=e.indexOf("?>",t);if(n){var s=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return s?(s[0].length,i.processingInstruction(s[1],s[2]),n+2):-1}return-1}function v(){this.attributeNames={}}a.prototype=new Error,a.prototype.name=a.name,l.prototype={parse:function(e,t,i){var s=this.domBuilder;s.startDocument(),f(t,t={}),function(e,t,i,s,o){function r(e){var t=e.slice(1,-1);return Object.hasOwnProperty.call(i,t)?i[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),i=56320+(1023&e);return String.fromCharCode(t,i)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(o.error("entity not found:"+e),e)}function l(t){if(t>S){var i=e.substring(S,t).replace(/&#?\w+;/g,r);x&&f(S),s.characters(i,0,t-S),S=t}}function f(t,i){for(;t>=b&&(i=_.exec(e));)y=i.index,b=y+i[0].length,x.lineNumber++;x.columnNumber=t-y+1}for(var y=0,b=0,_=/.*(?:\r\n?|\n)|.*$/g,x=s.locator,w=[{currentNSMap:t}],k={},S=0;;){try{var T=e.indexOf("<",S);if(T<0){if(!e.substr(S).match(/^\s*$/)){var C=s.doc,E=C.createTextNode(e.substr(S));C.appendChild(E),s.currentElement=E}return}switch(T>S&&l(T),e.charAt(T+1)){case"/":var A=e.indexOf(">",T+3),I=e.substring(T+2,A).replace(/[ \t\n\r]+$/g,""),M=w.pop();A<0?(I=e.substring(T+2).replace(/[\s<].*/,""),o.error("end tag name: "+I+" is not complete:"+M.tagName),A=T+1+I.length):I.match(/\s</)&&(I=I.replace(/[\s<].*/,""),o.error("end tag name: "+I+" maybe not complete"),A=T+1+I.length);var O=M.localNSMap,D=M.tagName==I;if(D||M.tagName&&M.tagName.toLowerCase()==I.toLowerCase()){if(s.endElement(M.uri,M.localName,I),O)for(var P in O)Object.prototype.hasOwnProperty.call(O,P)&&s.endPrefixMapping(P);D||o.fatalError("end tag name: "+I+" is not match the current start tagName:"+M.tagName)}else w.push(M);A++;break;case"?":x&&f(T),A=g(e,T,s);break;case"!":x&&f(T),A=m(e,T,s,o);break;default:x&&f(T);var L=new v,j=w[w.length-1].currentNSMap,B=(A=d(e,T,L,j,r,o),L.length);if(!L.closed&&p(e,A,L.tagName,k)&&(L.closed=!0,i.nbsp||o.warning("unclosed xml attribute")),x&&B){for(var R=c(x,{}),N=0;N<B;N++){var U=L[N];f(U.offset),U.locator=c(x,{})}s.locator=R,u(L,s,j)&&w.push(L),s.locator=x}else u(L,s,j)&&w.push(L);n.isHTML(L.uri)&&!L.closed?A=h(e,A,L.tagName,r,s):A++}}catch(e){if(e instanceof a)throw e;o.error("element parse error: "+e),A=-1}A>S?S=A:l(Math.max(T,S)+1)}}(e,t,i,s,this.errorHandler),s.endDocument()}},v.prototype={setTagName:function(e){if(!r.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,i){if(!r.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:i}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=l,t.ParseError=a},9322:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(3885),s=i.n(n),o=i(9118),r=i.n(o)()(s());r.push([e.id,".swiper-free-mode>.swiper-wrapper{transition-timing-function:ease-out;margin:0 auto}",""]);const a=r},3391:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var n=i(3885),s=i.n(n),o=i(9118),r=i.n(o),a=i(9443),l=i.n(a),c=new URL(i(9954),i.b),d=r()(s()),u=l()(c);d.push([e.id,`/**\n * Swiper 8.4.7\n * Most modern mobile touch slider and framework with hardware accelerated transitions\n * https://swiperjs.com\n *\n * Copyright 2014-2023 Vladimir Kharlampidi\n *\n * Released under the MIT License\n *\n * Released on: January 30, 2023\n */\n\n@font-face{font-family:swiper-icons;src:url(${u});font-weight:400;font-style:normal}:root{--swiper-theme-color:#007aff}.swiper{margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;box-sizing:content-box}.swiper-android .swiper-slide,.swiper-wrapper{transform:translate3d(0px,0,0)}.swiper-pointer-events{touch-action:pan-y}.swiper-pointer-events.swiper-vertical{touch-action:pan-x}.swiper-slide{flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform}.swiper-slide-invisible-blank{visibility:hidden}.swiper-autoheight,.swiper-autoheight .swiper-slide{height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden .swiper-slide{transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d,.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d .swiper-slide,.swiper-3d .swiper-slide-shadow,.swiper-3d .swiper-slide-shadow-bottom,.swiper-3d .swiper-slide-shadow-left,.swiper-3d .swiper-slide-shadow-right,.swiper-3d .swiper-slide-shadow-top,.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d .swiper-slide-shadow,.swiper-3d .swiper-slide-shadow-bottom,.swiper-3d .swiper-slide-shadow-left,.swiper-3d .swiper-slide-shadow-right,.swiper-3d .swiper-slide-shadow-top{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}.swiper-3d .swiper-slide-shadow{background:rgba(0,0,0,.15)}.swiper-3d .swiper-slide-shadow-left{background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d .swiper-slide-shadow-right{background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d .swiper-slide-shadow-top{background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d .swiper-slide-shadow-bottom{background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode>.swiper-wrapper>.swiper-slide{scroll-snap-align:start start}.swiper-horizontal.swiper-css-mode>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-vertical.swiper-css-mode>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-centered>.swiper-wrapper::before{content:'';flex-shrink:0;order:9999}.swiper-centered.swiper-horizontal>.swiper-wrapper>.swiper-slide:first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-centered.swiper-horizontal>.swiper-wrapper::before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-centered.swiper-vertical>.swiper-wrapper>.swiper-slide:first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-centered.swiper-vertical>.swiper-wrapper::before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-centered>.swiper-wrapper>.swiper-slide{scroll-snap-align:center center;scroll-snap-stop:always}`,""]);const h=d},8562:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var n=i(3885),s=i.n(n),o=i(9118),r=i.n(o),a=i(9443),l=i.n(a),c=new URL(i(4763),i.b),d=r()(s()),u=l()(c);d.push([e.id,`.vjs-svg-icon{display:inline-block;background-repeat:no-repeat;background-position:center;fill:#fff;height:1.5em;width:1.5em}.vjs-svg-icon:before{content:none!important}.vjs-control:focus .vjs-svg-icon,.vjs-svg-icon:hover{filter:drop-shadow(0 0 .25em #fff)}.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.video-js .vjs-modal-dialog,.vjs-button>.vjs-icon-placeholder:before,.vjs-modal-dialog .vjs-modal-dialog-content{position:absolute;top:0;left:0;width:100%;height:100%}.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.vjs-button>.vjs-icon-placeholder:before{text-align:center}@font-face{font-family:VideoJS;src:url(${u}) format("woff");font-weight:400;font-style:normal}.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.video-js .vjs-play-control .vjs-icon-placeholder,.vjs-icon-play{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-big-play-button .vjs-icon-placeholder:before,.video-js .vjs-play-control .vjs-icon-placeholder:before,.vjs-icon-play:before{content:"\\f101"}.vjs-icon-play-circle{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-play-circle:before{content:"\\f102"}.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder,.vjs-icon-pause{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder:before,.vjs-icon-pause:before{content:"\\f103"}.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder,.vjs-icon-volume-mute{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder:before,.vjs-icon-volume-mute:before{content:"\\f104"}.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder,.vjs-icon-volume-low{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder:before,.vjs-icon-volume-low:before{content:"\\f105"}.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder,.vjs-icon-volume-mid{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder:before,.vjs-icon-volume-mid:before{content:"\\f106"}.video-js .vjs-mute-control .vjs-icon-placeholder,.vjs-icon-volume-high{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-mute-control .vjs-icon-placeholder:before,.vjs-icon-volume-high:before{content:"\\f107"}.video-js .vjs-fullscreen-control .vjs-icon-placeholder,.vjs-icon-fullscreen-enter{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-fullscreen-control .vjs-icon-placeholder:before,.vjs-icon-fullscreen-enter:before{content:"\\f108"}.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder,.vjs-icon-fullscreen-exit{font-family:VideoJS;font-weight:400;font-style:normal}.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder:before,.vjs-icon-fullscreen-exit:before{content:"\\f109"}.vjs-icon-spinner{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-spinner:before{content:"\\f10a"}.video-js .vjs-subs-caps-button .vjs-icon-placeholder,.video-js .vjs-subtitles-button .vjs-icon-placeholder,.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder,.vjs-icon-subtitles{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js .vjs-subtitles-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder:before,.vjs-icon-subtitles:before{content:"\\f10b"}.video-js .vjs-captions-button .vjs-icon-placeholder,.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder,.vjs-icon-captions{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-captions-button .vjs-icon-placeholder:before,.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder:before,.vjs-icon-captions:before{content:"\\f10c"}.vjs-icon-hd{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-hd:before{content:"\\f10d"}.video-js .vjs-chapters-button .vjs-icon-placeholder,.vjs-icon-chapters{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-chapters-button .vjs-icon-placeholder:before,.vjs-icon-chapters:before{content:"\\f10e"}.vjs-icon-downloading{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-downloading:before{content:"\\f10f"}.vjs-icon-file-download{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-file-download:before{content:"\\f110"}.vjs-icon-file-download-done{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-file-download-done:before{content:"\\f111"}.vjs-icon-file-download-off{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-file-download-off:before{content:"\\f112"}.vjs-icon-share{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-share:before{content:"\\f113"}.vjs-icon-cog{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-cog:before{content:"\\f114"}.vjs-icon-square{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-square:before{content:"\\f115"}.video-js .vjs-play-progress,.video-js .vjs-volume-level,.vjs-icon-circle,.vjs-seek-to-live-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-play-progress:before,.video-js .vjs-volume-level:before,.vjs-icon-circle:before,.vjs-seek-to-live-control .vjs-icon-placeholder:before{content:"\\f116"}.vjs-icon-circle-outline{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-circle-outline:before{content:"\\f117"}.vjs-icon-circle-inner-circle{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-circle-inner-circle:before{content:"\\f118"}.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder,.vjs-icon-cancel{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder:before,.vjs-icon-cancel:before{content:"\\f119"}.vjs-icon-repeat{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-repeat:before{content:"\\f11a"}.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder,.vjs-icon-replay{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder:before,.vjs-icon-replay:before{content:"\\f11b"}.video-js .vjs-skip-backward-5 .vjs-icon-placeholder,.vjs-icon-replay-5{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-skip-backward-5 .vjs-icon-placeholder:before,.vjs-icon-replay-5:before{content:"\\f11c"}.video-js .vjs-skip-backward-10 .vjs-icon-placeholder,.vjs-icon-replay-10{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-skip-backward-10 .vjs-icon-placeholder:before,.vjs-icon-replay-10:before{content:"\\f11d"}.video-js .vjs-skip-backward-30 .vjs-icon-placeholder,.vjs-icon-replay-30{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-skip-backward-30 .vjs-icon-placeholder:before,.vjs-icon-replay-30:before{content:"\\f11e"}.video-js .vjs-skip-forward-5 .vjs-icon-placeholder,.vjs-icon-forward-5{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-skip-forward-5 .vjs-icon-placeholder:before,.vjs-icon-forward-5:before{content:"\\f11f"}.video-js .vjs-skip-forward-10 .vjs-icon-placeholder,.vjs-icon-forward-10{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-skip-forward-10 .vjs-icon-placeholder:before,.vjs-icon-forward-10:before{content:"\\f120"}.video-js .vjs-skip-forward-30 .vjs-icon-placeholder,.vjs-icon-forward-30{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-skip-forward-30 .vjs-icon-placeholder:before,.vjs-icon-forward-30:before{content:"\\f121"}.video-js .vjs-audio-button .vjs-icon-placeholder,.vjs-icon-audio{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-audio-button .vjs-icon-placeholder:before,.vjs-icon-audio:before{content:"\\f122"}.vjs-icon-next-item{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-next-item:before{content:"\\f123"}.vjs-icon-previous-item{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-previous-item:before{content:"\\f124"}.vjs-icon-shuffle{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-shuffle:before{content:"\\f125"}.vjs-icon-cast{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-cast:before{content:"\\f126"}.video-js .vjs-picture-in-picture-control .vjs-icon-placeholder,.vjs-icon-picture-in-picture-enter{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-picture-in-picture-control .vjs-icon-placeholder:before,.vjs-icon-picture-in-picture-enter:before{content:"\\f127"}.video-js.vjs-picture-in-picture .vjs-picture-in-picture-control .vjs-icon-placeholder,.vjs-icon-picture-in-picture-exit{font-family:VideoJS;font-weight:400;font-style:normal}.video-js.vjs-picture-in-picture .vjs-picture-in-picture-control .vjs-icon-placeholder:before,.vjs-icon-picture-in-picture-exit:before{content:"\\f128"}.vjs-icon-facebook{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-facebook:before{content:"\\f129"}.vjs-icon-linkedin{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-linkedin:before{content:"\\f12a"}.vjs-icon-twitter{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-twitter:before{content:"\\f12b"}.vjs-icon-tumblr{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-tumblr:before{content:"\\f12c"}.vjs-icon-pinterest{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-pinterest:before{content:"\\f12d"}.video-js .vjs-descriptions-button .vjs-icon-placeholder,.vjs-icon-audio-description{font-family:VideoJS;font-weight:400;font-style:normal}.video-js .vjs-descriptions-button .vjs-icon-placeholder:before,.vjs-icon-audio-description:before{content:"\\f12e"}.video-js{display:inline-block;vertical-align:top;box-sizing:border-box;color:#fff;background-color:#000;position:relative;padding:0;font-size:10px;line-height:1;font-weight:400;font-style:normal;font-family:Arial,Helvetica,sans-serif;word-break:initial}.video-js:-moz-full-screen{position:absolute}.video-js:-webkit-full-screen{width:100%!important;height:100%!important}.video-js[tabindex="-1"]{outline:0}.video-js *,.video-js :after,.video-js :before{box-sizing:inherit}.video-js ul{font-family:inherit;font-size:inherit;line-height:inherit;list-style-position:outside;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.video-js.vjs-1-1,.video-js.vjs-16-9,.video-js.vjs-4-3,.video-js.vjs-9-16,.video-js.vjs-fluid{width:100%;max-width:100%}.video-js.vjs-1-1:not(.vjs-audio-only-mode),.video-js.vjs-16-9:not(.vjs-audio-only-mode),.video-js.vjs-4-3:not(.vjs-audio-only-mode),.video-js.vjs-9-16:not(.vjs-audio-only-mode),.video-js.vjs-fluid:not(.vjs-audio-only-mode){height:0}.video-js.vjs-16-9:not(.vjs-audio-only-mode){padding-top:56.25%}.video-js.vjs-4-3:not(.vjs-audio-only-mode){padding-top:75%}.video-js.vjs-9-16:not(.vjs-audio-only-mode){padding-top:177.7777777778%}.video-js.vjs-1-1:not(.vjs-audio-only-mode){padding-top:100%}.video-js.vjs-fill:not(.vjs-audio-only-mode){width:100%;height:100%}.video-js .vjs-tech{position:absolute;top:0;left:0;width:100%;height:100%}.video-js.vjs-audio-only-mode .vjs-tech{display:none}body.vjs-full-window,body.vjs-pip-window{padding:0;margin:0;height:100%}.vjs-full-window .video-js.vjs-fullscreen,body.vjs-pip-window .video-js{position:fixed;overflow:hidden;z-index:1000;left:0;top:0;bottom:0;right:0}.video-js.vjs-fullscreen:not(.vjs-ios-native-fs),body.vjs-pip-window .video-js{width:100%!important;height:100%!important;padding-top:0!important;display:block}.video-js.vjs-fullscreen.vjs-user-inactive{cursor:none}.vjs-pip-container .vjs-pip-text{position:absolute;bottom:10%;font-size:2em;background-color:rgba(0,0,0,.7);padding:.5em;text-align:center;width:100%}.vjs-layout-small.vjs-pip-container .vjs-pip-text,.vjs-layout-tiny.vjs-pip-container .vjs-pip-text,.vjs-layout-x-small.vjs-pip-container .vjs-pip-text{bottom:0;font-size:1.4em}.vjs-hidden{display:none!important}.vjs-disabled{opacity:.5;cursor:default}.video-js .vjs-offscreen{height:1px;left:-9999px;position:absolute;top:0;width:1px}.vjs-lock-showing{display:block!important;opacity:1!important;visibility:visible!important}.vjs-no-js{padding:20px;color:#fff;background-color:#000;font-size:18px;font-family:Arial,Helvetica,sans-serif;text-align:center;width:300px;height:150px;margin:0 auto}.vjs-no-js a,.vjs-no-js a:visited{color:#66a8cc}.video-js .vjs-big-play-button{font-size:3em;line-height:1.5em;height:1.63332em;width:3em;display:block;position:absolute;top:50%;left:50%;padding:0;margin-top:-.81666em;margin-left:-1.5em;cursor:pointer;opacity:1;border:.06666em solid #fff;background-color:#2b333f;background-color:rgba(43,51,63,.7);border-radius:.3em;transition:all .4s}.vjs-big-play-button .vjs-svg-icon{width:.75em;height:.75em}.video-js .vjs-big-play-button:focus,.video-js:hover .vjs-big-play-button{border-color:#fff;background-color:#73859f;background-color:rgba(115,133,159,.5);transition:all 0s}.vjs-controls-disabled .vjs-big-play-button,.vjs-error .vjs-big-play-button,.vjs-has-started .vjs-big-play-button,.vjs-using-native-controls .vjs-big-play-button{display:none}.vjs-has-started.vjs-paused.vjs-show-big-play-button-on-pause .vjs-big-play-button{display:block}.video-js button{background:0 0;border:none;color:inherit;display:inline-block;font-size:inherit;line-height:inherit;text-transform:none;text-decoration:none;transition:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.vjs-control .vjs-button{width:100%;height:100%}.video-js .vjs-control.vjs-close-button{cursor:pointer;height:3em;position:absolute;right:0;top:.5em;z-index:2}.video-js .vjs-modal-dialog{background:rgba(0,0,0,.8);background:linear-gradient(180deg,rgba(0,0,0,.8),rgba(255,255,255,0));overflow:auto}.video-js .vjs-modal-dialog>*{box-sizing:border-box}.vjs-modal-dialog .vjs-modal-dialog-content{font-size:1.2em;line-height:1.5;padding:20px 24px;z-index:1}.vjs-menu-button{cursor:pointer}.vjs-menu-button.vjs-disabled{cursor:default}.vjs-workinghover .vjs-menu-button.vjs-disabled:hover .vjs-menu{display:none}.vjs-menu .vjs-menu-content{display:block;padding:0;margin:0;font-family:Arial,Helvetica,sans-serif;overflow:auto}.vjs-menu .vjs-menu-content>*{box-sizing:border-box}.vjs-scrubbing .vjs-control.vjs-menu-button:hover .vjs-menu{display:none}.vjs-menu li{display:flex;justify-content:center;list-style:none;margin:0;padding:.2em 0;line-height:1.4em;font-size:1.2em;text-align:center;text-transform:lowercase}.js-focus-visible .vjs-menu li.vjs-menu-item:hover,.vjs-menu li.vjs-menu-item:focus,.vjs-menu li.vjs-menu-item:hover{background-color:#73859f;background-color:rgba(115,133,159,.5)}.js-focus-visible .vjs-menu li.vjs-selected:hover,.vjs-menu li.vjs-selected,.vjs-menu li.vjs-selected:focus,.vjs-menu li.vjs-selected:hover{background-color:#fff;color:#2b333f}.js-focus-visible .vjs-menu li.vjs-selected:hover .vjs-svg-icon,.vjs-menu li.vjs-selected .vjs-svg-icon,.vjs-menu li.vjs-selected:focus .vjs-svg-icon,.vjs-menu li.vjs-selected:hover .vjs-svg-icon{fill:#000}.js-focus-visible .vjs-menu :not(.vjs-selected):focus:not(.focus-visible),.video-js .vjs-menu :not(.vjs-selected):focus:not(:focus-visible){background:0 0}.vjs-menu li.vjs-menu-title{text-align:center;text-transform:uppercase;font-size:1em;line-height:2em;padding:0;margin:0 0 .3em 0;font-weight:700;cursor:default}.vjs-menu-button-popup .vjs-menu{display:none;position:absolute;bottom:0;width:10em;left:-3em;height:0;margin-bottom:1.5em;border-top-color:rgba(43,51,63,.7)}.vjs-pip-window .vjs-menu-button-popup .vjs-menu{left:unset;right:1em}.vjs-menu-button-popup .vjs-menu .vjs-menu-content{background-color:#2b333f;background-color:rgba(43,51,63,.7);position:absolute;width:100%;bottom:1.5em;max-height:15em}.vjs-layout-tiny .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-x-small .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:5em}.vjs-layout-small .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:10em}.vjs-layout-medium .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:14em}.vjs-layout-huge .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-large .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-x-large .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:25em}.vjs-menu-button-popup .vjs-menu.vjs-lock-showing,.vjs-workinghover .vjs-menu-button-popup.vjs-hover .vjs-menu{display:block}.video-js .vjs-menu-button-inline{transition:all .4s;overflow:hidden}.video-js .vjs-menu-button-inline:before{width:2.222222222em}.video-js .vjs-menu-button-inline.vjs-slider-active,.video-js .vjs-menu-button-inline:focus,.video-js .vjs-menu-button-inline:hover{width:12em}.vjs-menu-button-inline .vjs-menu{opacity:0;height:100%;width:auto;position:absolute;left:4em;top:0;padding:0;margin:0;transition:all .4s}.vjs-menu-button-inline.vjs-slider-active .vjs-menu,.vjs-menu-button-inline:focus .vjs-menu,.vjs-menu-button-inline:hover .vjs-menu{display:block;opacity:1}.vjs-menu-button-inline .vjs-menu-content{width:auto;height:100%;margin:0;overflow:hidden}.video-js .vjs-control-bar{display:none;width:100%;position:absolute;bottom:0;left:0;right:0;height:3em;background-color:#2b333f;background-color:rgba(43,51,63,.7)}.vjs-audio-only-mode .vjs-control-bar,.vjs-has-started .vjs-control-bar{display:flex;visibility:visible;opacity:1;transition:visibility .1s,opacity .1s}.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{visibility:visible;opacity:0;pointer-events:none;transition:visibility 1s,opacity 1s}.vjs-controls-disabled .vjs-control-bar,.vjs-error .vjs-control-bar,.vjs-using-native-controls .vjs-control-bar{display:none!important}.vjs-audio-only-mode.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar,.vjs-audio.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{opacity:1;visibility:visible;pointer-events:auto}.video-js .vjs-control{position:relative;text-align:center;margin:0;padding:0;height:100%;width:4em;flex:none}.video-js .vjs-control.vjs-visible-text{width:auto;padding-left:1em;padding-right:1em}.vjs-button>.vjs-icon-placeholder:before{font-size:1.8em;line-height:1.67}.vjs-button>.vjs-icon-placeholder{display:block}.vjs-button>.vjs-svg-icon{display:inline-block}.video-js .vjs-control:focus,.video-js .vjs-control:focus:before,.video-js .vjs-control:hover:before{text-shadow:0 0 1em #fff}.video-js :not(.vjs-visible-text)>.vjs-control-text{border:0;clip:rect(0 0 0 0);height:1px;overflow:hidden;padding:0;position:absolute;width:1px}.video-js .vjs-custom-control-spacer{display:none}.video-js .vjs-progress-control{cursor:pointer;flex:auto;display:flex;align-items:center;min-width:4em;touch-action:none}.video-js .vjs-progress-control.disabled{cursor:default}.vjs-live .vjs-progress-control{display:none}.vjs-liveui .vjs-progress-control{display:flex;align-items:center}.video-js .vjs-progress-holder{flex:auto;transition:all .2s;height:.3em}.video-js .vjs-progress-control .vjs-progress-holder{margin:0 10px}.video-js .vjs-progress-control:hover .vjs-progress-holder{font-size:1.6666666667em}.video-js .vjs-progress-control:hover .vjs-progress-holder.disabled{font-size:1em}.video-js .vjs-progress-holder .vjs-load-progress,.video-js .vjs-progress-holder .vjs-load-progress div,.video-js .vjs-progress-holder .vjs-play-progress{position:absolute;display:block;height:100%;margin:0;padding:0;width:0}.video-js .vjs-play-progress{background-color:#fff}.video-js .vjs-play-progress:before{font-size:.9em;position:absolute;right:-.5em;line-height:.35em;z-index:1}.vjs-svg-icons-enabled .vjs-play-progress:before{content:none!important}.vjs-play-progress .vjs-svg-icon{position:absolute;top:-.35em;right:-.4em;width:1em;height:1em;pointer-events:none;line-height:.15em;z-index:1}.video-js .vjs-load-progress{background:rgba(115,133,159,.5)}.video-js .vjs-load-progress div{background:rgba(115,133,159,.75)}.video-js .vjs-time-tooltip{background-color:#fff;background-color:rgba(255,255,255,.8);border-radius:.3em;color:#000;float:right;font-family:Arial,Helvetica,sans-serif;font-size:1em;padding:6px 8px 8px 8px;pointer-events:none;position:absolute;top:-3.4em;visibility:hidden;z-index:1}.vjs-progress-control:hover .vjs-progress-holder .vjs-play-progress .vjs-svg-icon{width:.8em;height:.8em;top:-.25em;right:-.5em;line-height:.35em}.video-js .vjs-progress-holder:focus .vjs-time-tooltip{display:none}.video-js .vjs-progress-control:hover .vjs-progress-holder:focus .vjs-time-tooltip,.video-js .vjs-progress-control:hover .vjs-time-tooltip{display:block;font-size:.6em;visibility:visible}.video-js .vjs-progress-control.disabled:hover .vjs-time-tooltip{font-size:1em}.video-js .vjs-progress-control .vjs-mouse-display{display:none;position:absolute;width:1px;height:100%;background-color:#000;z-index:1}.video-js .vjs-progress-control:hover .vjs-mouse-display{display:block}.video-js.vjs-user-inactive .vjs-progress-control .vjs-mouse-display{visibility:hidden;opacity:0;transition:visibility 1s,opacity 1s}.vjs-mouse-display .vjs-time-tooltip{color:#fff;background-color:#000;background-color:rgba(0,0,0,.8)}.video-js .vjs-slider{position:relative;cursor:pointer;padding:0;margin:0 .45em 0 .45em;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:#73859f;background-color:rgba(115,133,159,.5)}.video-js .vjs-slider.disabled{cursor:default}.video-js .vjs-slider:focus{text-shadow:0 0 1em #fff;box-shadow:0 0 1em #fff}.video-js .vjs-mute-control{cursor:pointer;flex:none}.video-js .vjs-volume-control{cursor:pointer;margin-right:1em;display:flex}.video-js .vjs-volume-control.vjs-volume-horizontal{width:5em}.video-js .vjs-volume-panel .vjs-volume-control{visibility:visible;opacity:0;width:1px;height:1px;margin-left:-1px}.video-js .vjs-volume-panel{transition:width 1s}.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active,.video-js .vjs-volume-panel .vjs-volume-control:active,.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control,.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control,.video-js .vjs-volume-panel:active .vjs-volume-control,.video-js .vjs-volume-panel:focus .vjs-volume-control{visibility:visible;opacity:1;position:relative;transition:visibility .1s,opacity .1s,height .1s,width .1s,left 0s,top 0s}.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-horizontal,.video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-horizontal,.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-horizontal{width:5em;height:3em;margin-right:0}.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-vertical,.video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-vertical,.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-vertical{left:-3.5em;transition:left 0s}.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover,.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js .vjs-volume-panel.vjs-volume-panel-horizontal:active{width:10em;transition:width .1s}.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-mute-toggle-only{width:4em}.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical{height:8em;width:3em;left:-3000em;transition:visibility 1s,opacity 1s,height 1s 1s,width 1s 1s,left 1s 1s,top 1s 1s}.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal{transition:visibility 1s,opacity 1s,height 1s 1s,width 1s,left 1s 1s,top 1s 1s}.video-js .vjs-volume-panel{display:flex}.video-js .vjs-volume-bar{margin:1.35em .45em}.vjs-volume-bar.vjs-slider-horizontal{width:5em;height:.3em}.vjs-volume-bar.vjs-slider-vertical{width:.3em;height:5em;margin:1.35em auto}.video-js .vjs-volume-level{position:absolute;bottom:0;left:0;background-color:#fff}.video-js .vjs-volume-level:before{position:absolute;font-size:.9em;z-index:1}.vjs-slider-vertical .vjs-volume-level{width:.3em}.vjs-slider-vertical .vjs-volume-level:before{top:-.5em;left:-.3em;z-index:1}.vjs-svg-icons-enabled .vjs-volume-level:before{content:none}.vjs-volume-level .vjs-svg-icon{position:absolute;width:.6em;height:.6em;top:-.55em;pointer-events:none}.vjs-mute-control .vjs-svg-icon{width:1.75em;height:1.75em}.vjs-slider-horizontal .vjs-volume-level{height:.3em}.vjs-slider-horizontal .vjs-volume-level:before{line-height:.35em;right:-.5em}.vjs-slider-horizontal .vjs-volume-level .vjs-svg-icon{top:-.15em;right:-.3em;line-height:.05em}.vjs-slider-vertical .vjs-volume-level .vjs-svg-icon{top:-.9em;right:-.15em}.video-js .vjs-volume-panel.vjs-volume-panel-vertical{width:4em}.vjs-volume-bar.vjs-slider-vertical .vjs-volume-level{height:100%}.vjs-volume-bar.vjs-slider-horizontal .vjs-volume-level{width:100%}.video-js .vjs-volume-vertical{width:3em;height:8em;bottom:8em;background-color:#2b333f;background-color:rgba(43,51,63,.7)}.video-js .vjs-volume-horizontal .vjs-menu{left:-2em}.video-js .vjs-volume-tooltip{background-color:#fff;background-color:rgba(255,255,255,.8);border-radius:.3em;color:#000;float:right;font-family:Arial,Helvetica,sans-serif;font-size:1em;padding:6px 8px 8px 8px;pointer-events:none;position:absolute;top:-3.4em;visibility:hidden;z-index:1}.video-js .vjs-volume-control:hover .vjs-progress-holder:focus .vjs-volume-tooltip,.video-js .vjs-volume-control:hover .vjs-volume-tooltip{display:block;font-size:1em;visibility:visible}.video-js .vjs-volume-vertical:hover .vjs-progress-holder:focus .vjs-volume-tooltip,.video-js .vjs-volume-vertical:hover .vjs-volume-tooltip{left:1em;top:-12px}.video-js .vjs-volume-control.disabled:hover .vjs-volume-tooltip{font-size:1em}.video-js .vjs-volume-control .vjs-mouse-display{display:none;position:absolute;width:100%;height:1px;background-color:#000;z-index:1}.video-js .vjs-volume-horizontal .vjs-mouse-display{width:1px;height:100%}.video-js .vjs-volume-control:hover .vjs-mouse-display{display:block}.video-js.vjs-user-inactive .vjs-volume-control .vjs-mouse-display{visibility:hidden;opacity:0;transition:visibility 1s,opacity 1s}.vjs-mouse-display .vjs-volume-tooltip{color:#fff;background-color:#000;background-color:rgba(0,0,0,.8)}.vjs-poster{display:inline-block;vertical-align:middle;cursor:pointer;margin:0;padding:0;position:absolute;top:0;right:0;bottom:0;left:0;height:100%}.vjs-has-started .vjs-poster,.vjs-using-native-controls .vjs-poster{display:none}.vjs-audio.vjs-has-started .vjs-poster,.vjs-has-started.vjs-audio-poster-mode .vjs-poster,.vjs-pip-container.vjs-has-started .vjs-poster{display:block}.vjs-poster img{width:100%;height:100%;-o-object-fit:contain;object-fit:contain}.video-js .vjs-live-control{display:flex;align-items:flex-start;flex:auto;font-size:1em;line-height:3em}.video-js.vjs-liveui .vjs-live-control,.video-js:not(.vjs-live) .vjs-live-control{display:none}.video-js .vjs-seek-to-live-control{align-items:center;cursor:pointer;flex:none;display:inline-flex;height:100%;padding-left:.5em;padding-right:.5em;font-size:1em;line-height:3em;width:auto;min-width:4em}.video-js.vjs-live:not(.vjs-liveui) .vjs-seek-to-live-control,.video-js:not(.vjs-live) .vjs-seek-to-live-control{display:none}.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge{cursor:auto}.vjs-seek-to-live-control .vjs-icon-placeholder{margin-right:.5em;color:#888}.vjs-svg-icons-enabled .vjs-seek-to-live-control{line-height:0}.vjs-seek-to-live-control .vjs-svg-icon{width:1em;height:1em;pointer-events:none;fill:#888}.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge .vjs-icon-placeholder{color:red}.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge .vjs-svg-icon{fill:red}.video-js .vjs-time-control{flex:none;font-size:1em;line-height:3em;min-width:2em;width:auto;padding-left:1em;padding-right:1em}.video-js .vjs-current-time,.video-js .vjs-duration,.vjs-live .vjs-time-control,.vjs-live .vjs-time-divider{display:none}.vjs-time-divider{display:none;line-height:3em}.video-js .vjs-play-control{cursor:pointer}.video-js .vjs-play-control .vjs-icon-placeholder{flex:none}.vjs-text-track-display{position:absolute;bottom:3em;left:0;right:0;top:0;pointer-events:none}.video-js.vjs-controls-disabled .vjs-text-track-display,.video-js.vjs-user-inactive.vjs-playing .vjs-text-track-display{bottom:1em}.video-js .vjs-text-track{font-size:1.4em;text-align:center;margin-bottom:.1em}.vjs-subtitles{color:#fff}.vjs-captions{color:#fc6}.vjs-tt-cue{display:block}video::-webkit-media-text-track-display{transform:translateY(-3em)}.video-js.vjs-controls-disabled video::-webkit-media-text-track-display,.video-js.vjs-user-inactive.vjs-playing video::-webkit-media-text-track-display{transform:translateY(-1.5em)}.video-js .vjs-picture-in-picture-control{cursor:pointer;flex:none}.video-js.vjs-audio-only-mode .vjs-picture-in-picture-control,.vjs-pip-window .vjs-picture-in-picture-control{display:none}.video-js .vjs-fullscreen-control{cursor:pointer;flex:none}.video-js.vjs-audio-only-mode .vjs-fullscreen-control,.vjs-pip-window .vjs-fullscreen-control{display:none}.vjs-playback-rate .vjs-playback-rate-value,.vjs-playback-rate>.vjs-menu-button{position:absolute;top:0;left:0;width:100%;height:100%}.vjs-playback-rate .vjs-playback-rate-value{pointer-events:none;font-size:1.5em;line-height:2;text-align:center}.vjs-playback-rate .vjs-menu{width:4em;left:0}.vjs-error .vjs-error-display .vjs-modal-dialog-content{font-size:1.4em;text-align:center}.vjs-error .vjs-error-display:before{color:#fff;content:"X";font-family:Arial,Helvetica,sans-serif;font-size:4em;left:0;line-height:1;margin-top:-.5em;position:absolute;text-shadow:.05em .05em .1em #000;text-align:center;top:50%;vertical-align:middle;width:100%}.vjs-loading-spinner{display:none;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);opacity:.85;text-align:left;border:.6em solid rgba(43,51,63,.7);box-sizing:border-box;background-clip:padding-box;width:5em;height:5em;border-radius:50%;visibility:hidden}.vjs-seeking .vjs-loading-spinner,.vjs-waiting .vjs-loading-spinner{display:block;animation:vjs-spinner-show 0s linear .3s forwards}.vjs-loading-spinner:after,.vjs-loading-spinner:before{content:"";position:absolute;margin:-.6em;box-sizing:inherit;width:inherit;height:inherit;border-radius:inherit;opacity:1;border:inherit;border-color:transparent;border-top-color:#fff}.vjs-seeking .vjs-loading-spinner:after,.vjs-seeking .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:before{animation:vjs-spinner-spin 1.1s cubic-bezier(.6,.2,0,.8) infinite,vjs-spinner-fade 1.1s linear infinite}.vjs-seeking .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:before{border-top-color:#fff}.vjs-seeking .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:after{border-top-color:#fff;animation-delay:.44s}@keyframes vjs-spinner-show{to{visibility:visible}}@keyframes vjs-spinner-spin{100%{transform:rotate(360deg)}}@keyframes vjs-spinner-fade{0%{border-top-color:#73859f}20%{border-top-color:#73859f}35%{border-top-color:#fff}60%{border-top-color:#73859f}100%{border-top-color:#73859f}}.video-js.vjs-audio-only-mode .vjs-captions-button{display:none}.vjs-chapters-button .vjs-menu ul{width:24em}.video-js.vjs-audio-only-mode .vjs-descriptions-button{display:none}.vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-svg-icon{margin-left:.3em}.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder{vertical-align:middle;display:inline-block;margin-bottom:-.1em}.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before{font-family:VideoJS;content:"\\f10c";font-size:1.5em;line-height:inherit}.video-js.vjs-audio-only-mode .vjs-subs-caps-button{display:none}.video-js .vjs-audio-button+.vjs-menu .vjs-description-menu-item .vjs-menu-item-text .vjs-icon-placeholder,.video-js .vjs-audio-button+.vjs-menu .vjs-main-desc-menu-item .vjs-menu-item-text .vjs-icon-placeholder{vertical-align:middle;display:inline-block;margin-bottom:-.1em}.video-js .vjs-audio-button+.vjs-menu .vjs-description-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before,.video-js .vjs-audio-button+.vjs-menu .vjs-main-desc-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before{font-family:VideoJS;content:" \\f12e";font-size:1.5em;line-height:inherit}.video-js.vjs-layout-small .vjs-current-time,.video-js.vjs-layout-small .vjs-duration,.video-js.vjs-layout-small .vjs-playback-rate,.video-js.vjs-layout-small .vjs-remaining-time,.video-js.vjs-layout-small .vjs-time-divider,.video-js.vjs-layout-small .vjs-volume-control,.video-js.vjs-layout-tiny .vjs-current-time,.video-js.vjs-layout-tiny .vjs-duration,.video-js.vjs-layout-tiny .vjs-playback-rate,.video-js.vjs-layout-tiny .vjs-remaining-time,.video-js.vjs-layout-tiny .vjs-time-divider,.video-js.vjs-layout-tiny .vjs-volume-control,.video-js.vjs-layout-x-small .vjs-current-time,.video-js.vjs-layout-x-small .vjs-duration,.video-js.vjs-layout-x-small .vjs-playback-rate,.video-js.vjs-layout-x-small .vjs-remaining-time,.video-js.vjs-layout-x-small .vjs-time-divider,.video-js.vjs-layout-x-small .vjs-volume-control{display:none}.video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover,.video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal:hover,.video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover,.video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal:hover,.video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover,.video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal:hover{width:auto;width:initial}.video-js.vjs-layout-tiny .vjs-progress-control,.video-js.vjs-layout-x-small .vjs-progress-control{display:none}.video-js.vjs-layout-x-small .vjs-custom-control-spacer{flex:auto;display:block}.vjs-modal-dialog.vjs-text-track-settings{background-color:#2b333f;background-color:rgba(43,51,63,.75);color:#fff;height:70%}.vjs-text-track-settings .vjs-modal-dialog-content{display:table}.vjs-text-track-settings .vjs-track-settings-colors,.vjs-text-track-settings .vjs-track-settings-controls,.vjs-text-track-settings .vjs-track-settings-font{display:table-cell}.vjs-text-track-settings .vjs-track-settings-controls{text-align:right;vertical-align:bottom}@supports (display:grid){.vjs-text-track-settings .vjs-modal-dialog-content{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr;padding:20px 24px 0 24px}.vjs-track-settings-controls .vjs-default-button{margin-bottom:20px}.vjs-text-track-settings .vjs-track-settings-controls{grid-column:1/-1}.vjs-layout-small .vjs-text-track-settings .vjs-modal-dialog-content,.vjs-layout-tiny .vjs-text-track-settings .vjs-modal-dialog-content,.vjs-layout-x-small .vjs-text-track-settings .vjs-modal-dialog-content{grid-template-columns:1fr}}.vjs-text-track-settings select{font-size:inherit}.vjs-track-setting>select{margin-right:1em;margin-bottom:.5em}.vjs-text-track-settings fieldset{margin:10px;border:none}.vjs-text-track-settings fieldset span{display:inline-block;padding:0 .6em .8em}.vjs-text-track-settings fieldset span>select{max-width:7.3em}.vjs-text-track-settings legend{color:#fff;font-weight:700;font-size:1.2em}.vjs-text-track-settings .vjs-label{margin:0 .5em .5em 0}.vjs-track-settings-controls button:active,.vjs-track-settings-controls button:focus{outline-style:solid;outline-width:medium;background-image:linear-gradient(0deg,#fff 88%,#73859f 100%)}.vjs-track-settings-controls button:hover{color:rgba(43,51,63,.75)}.vjs-track-settings-controls button{background-color:#fff;background-image:linear-gradient(-180deg,#fff 88%,#73859f 100%);color:#2b333f;cursor:pointer;border-radius:2px}.vjs-track-settings-controls .vjs-default-button{margin-right:1em}.vjs-title-bar{background:rgba(0,0,0,.9);background:linear-gradient(180deg,rgba(0,0,0,.9) 0,rgba(0,0,0,.7) 60%,rgba(0,0,0,0) 100%);font-size:1.2em;line-height:1.5;transition:opacity .1s;padding:.666em 1.333em 4em;pointer-events:none;position:absolute;top:0;width:100%}.vjs-title-bar-description,.vjs-title-bar-title{margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.vjs-title-bar-title{font-weight:700;margin-bottom:.333em}.vjs-playing.vjs-user-inactive .vjs-title-bar{opacity:0;transition:opacity 1s}.video-js .vjs-skip-forward-5{cursor:pointer}.video-js .vjs-skip-forward-10{cursor:pointer}.video-js .vjs-skip-forward-30{cursor:pointer}.video-js .vjs-skip-backward-5{cursor:pointer}.video-js .vjs-skip-backward-10{cursor:pointer}.video-js .vjs-skip-backward-30{cursor:pointer}@media print{.video-js>:not(.vjs-tech):not(.vjs-poster){visibility:hidden}}.vjs-resize-manager{position:absolute;top:0;left:0;width:100%;height:100%;border:none;z-index:-1000}.js-focus-visible .video-js :focus:not(.focus-visible){outline:0}.video-js :focus:not(:focus-visible){outline:0}`,""]);const h=d},8441:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(3885),s=i.n(n),o=i(9118),r=i.n(o)()(s());r.push([e.id,"\n.customInput[contenteditable][data-v-47a5914c]:empty::before {\n  content: attr(placeholder);\n  color: #78828c;\n}\n",""]);const a=r},138:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(3885),s=i.n(n),o=i(9118),r=i.n(o)()(s());r.push([e.id,"\n.video-js div iframe {\n  border-radius: 12px;\n}\n.video-js div {\n  border-radius: 12px;\n}\n",""]);const a=r},9118:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i="",n=void 0!==t[5];return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),n&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=e(t),n&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i})).join("")},t.i=function(e,i,n,s,o){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(n)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(r[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);n&&r[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),i&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=i):d[2]=i),s&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=s):d[4]="".concat(s)),t.push(d))}},t}},9443:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},3885:e=>{"use strict";e.exports=function(e){return e[1]}},5786:(e,t,i)=>{var n,s=void 0!==i.g?i.g:"undefined"!=typeof window?window:{},o=i(5150);"undefined"!=typeof document?n=document:(n=s["__GLOBAL_DOCUMENT_CACHE@4"])||(n=s["__GLOBAL_DOCUMENT_CACHE@4"]=o),e.exports=n},4560:(e,t,i)=>{var n;n="undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:{},e.exports=n},8125:e=>{e.exports=function(e){if(!e)return!1;var i=t.call(e);return"[object Function]"===i||"function"==typeof e&&"[object RegExp]"!==i||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var t=Object.prototype.toString},6725:(e,t)=>{function i(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return r[e];var i,o=String(e);return(i=n[o.toLowerCase()])?i:(i=s[o.toLowerCase()])||(1===o.length?o.charCodeAt(0):void 0)}i.isEventKey=function(e,t){if(e&&"object"==typeof e){var i=e.which||e.keyCode||e.charCode;if(null==i)return!1;if("string"==typeof t){var o;if(o=n[t.toLowerCase()])return o===i;if(o=s[t.toLowerCase()])return o===i}else if("number"==typeof t)return t===i;return!1}};var n=(t=e.exports=i).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},s=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(o=97;o<123;o++)n[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)n[o-48]=o;for(o=1;o<13;o++)n["f"+o]=o+111;for(o=0;o<10;o++)n["numpad "+o]=o+96;var r=t.names=t.title={};for(o in n)r[n[o]]=o;for(var a in s)n[a]=s[a]},6474:(e,t,i)=>{var n=i(759).getUint64;e.exports=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8)},s=12;0===i.version?(i.earliestPresentationTime=t.getUint32(s),i.firstOffset=t.getUint32(s+4),s+=8):(i.earliestPresentationTime=n(e.subarray(s)),i.firstOffset=n(e.subarray(s+8)),s+=16),s+=2;var o=t.getUint16(s);for(s+=2;o>0;s+=12,o--)i.references.push({referenceType:(128&e[s])>>>7,referencedSize:2147483647&t.getUint32(s),subsegmentDuration:t.getUint32(s+4),startsWithSap:!!(128&e[s+8]),sapType:(112&e[s+8])>>>4,sapDeltaTime:268435455&t.getUint32(s+8)});return i}},4860:e=>{var t,i,n,s,o,r,a,l=9e4;t=function(e){return e*l},i=function(e,t){return e*t},n=function(e){return e/l},s=function(e,t){return e/t},o=function(e,i){return t(s(e,i))},r=function(e,t){return i(n(e),t)},a=function(e,t,i){return n(i?e:e-t)},e.exports={ONE_SECOND_IN_TS:l,secondsToVideoTs:t,secondsToAudioTs:i,videoTsToSeconds:n,audioTsToSeconds:s,audioTsToVideoTs:o,videoTsToAudioTs:r,metadataTsToSeconds:a}},759:e=>{var t=Math.pow(2,32);e.exports={getUint64:function(e){var i,n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.getBigUint64?(i=n.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(i):i:n.getUint32(0)*t+n.getUint32(4)},MAX_UINT32:t}},9266:e=>{e.exports=function(e,t){var i,n=null;try{i=JSON.parse(e,t)}catch(e){n=e}return[n,i]}},6529:(e,t,i)=>{"use strict";function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},a.apply(this,arguments)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function c(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}i.r(t),i.d(t,{MultiDrag:()=>bt,Sortable:()=>Fe,Swap:()=>lt,default:()=>wt});var d=c(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),u=c(/Edge/i),h=c(/firefox/i),p=c(/safari/i)&&!c(/chrome/i)&&!c(/android/i),f=c(/iP(ad|od|hone)/i),m=c(/chrome/i)&&c(/android/i),g={capture:!1,passive:!1};function v(e,t,i){e.addEventListener(t,i,!d&&g)}function y(e,t,i){e.removeEventListener(t,i,!d&&g)}function b(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function _(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function x(e,t,i,n){if(e){i=i||document;do{if(null!=t&&(">"===t[0]?e.parentNode===i&&b(e,t):b(e,t))||n&&e===i)return e;if(e===i)break}while(e=_(e))}return null}var w,k=/\s+/g;function S(e,t,i){if(e&&t)if(e.classList)e.classList[i?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(k," ").replace(" "+t+" "," ");e.className=(n+(i?" "+t:"")).replace(k," ")}}function T(e,t,i){var n=e&&e.style;if(n){if(void 0===i)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(i=e.currentStyle),void 0===t?i:i[t];t in n||-1!==t.indexOf("webkit")||(t="-webkit-"+t),n[t]=i+("string"==typeof i?"":"px")}}function C(e,t){var i="";if("string"==typeof e)i=e;else do{var n=T(e,"transform");n&&"none"!==n&&(i=n+" "+i)}while(!t&&(e=e.parentNode));var s=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return s&&new s(i)}function E(e,t,i){if(e){var n=e.getElementsByTagName(t),s=0,o=n.length;if(i)for(;s<o;s++)i(n[s],s);return n}return[]}function A(){return document.scrollingElement||document.documentElement}function I(e,t,i,n,s){if(e.getBoundingClientRect||e===window){var o,r,a,l,c,u,h;if(e!==window&&e.parentNode&&e!==A()?(r=(o=e.getBoundingClientRect()).top,a=o.left,l=o.bottom,c=o.right,u=o.height,h=o.width):(r=0,a=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,h=window.innerWidth),(t||i)&&e!==window&&(s=s||e.parentNode,!d))do{if(s&&s.getBoundingClientRect&&("none"!==T(s,"transform")||i&&"static"!==T(s,"position"))){var p=s.getBoundingClientRect();r-=p.top+parseInt(T(s,"border-top-width")),a-=p.left+parseInt(T(s,"border-left-width")),l=r+o.height,c=a+o.width;break}}while(s=s.parentNode);if(n&&e!==window){var f=C(s||e),m=f&&f.a,g=f&&f.d;f&&(l=(r/=g)+(u/=g),c=(a/=m)+(h/=m))}return{top:r,left:a,bottom:l,right:c,width:h,height:u}}}function M(e,t,i){for(var n=j(e,!0),s=I(e)[t];n;){var o=I(n)[i];if(!("top"===i||"left"===i?s>=o:s<=o))return n;if(n===A())break;n=j(n,!1)}return!1}function O(e,t,i,n){for(var s=0,o=0,r=e.children;o<r.length;){if("none"!==r[o].style.display&&r[o]!==Fe.ghost&&(n||r[o]!==Fe.dragged)&&x(r[o],i.draggable,e,!1)){if(s===t)return r[o];s++}o++}return null}function D(e,t){for(var i=e.lastElementChild;i&&(i===Fe.ghost||"none"===T(i,"display")||t&&!b(i,t));)i=i.previousElementSibling;return i||null}function P(e,t){var i=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Fe.clone||t&&!b(e,t)||i++;return i}function L(e){var t=0,i=0,n=A();if(e)do{var s=C(e),o=s.a,r=s.d;t+=e.scrollLeft*o,i+=e.scrollTop*r}while(e!==n&&(e=e.parentNode));return[t,i]}function j(e,t){if(!e||!e.getBoundingClientRect)return A();var i=e,n=!1;do{if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var s=T(i);if(i.clientWidth<i.scrollWidth&&("auto"==s.overflowX||"scroll"==s.overflowX)||i.clientHeight<i.scrollHeight&&("auto"==s.overflowY||"scroll"==s.overflowY)){if(!i.getBoundingClientRect||i===document.body)return A();if(n||t)return i;n=!0}}}while(i=i.parentNode);return A()}function B(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function R(e,t){return function(){if(!w){var i=arguments;1===i.length?e.call(this,i[0]):e.apply(this,i),w=setTimeout((function(){w=void 0}),t)}}}function N(e,t,i){e.scrollLeft+=t,e.scrollTop+=i}function U(e){var t=window.Polymer,i=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):i?i(e).clone(!0)[0]:e.cloneNode(!0)}function F(e,t){T(e,"position","absolute"),T(e,"top",t.top),T(e,"left",t.left),T(e,"width",t.width),T(e,"height",t.height)}function z(e){T(e,"position",""),T(e,"top",""),T(e,"left",""),T(e,"width",""),T(e,"height","")}var H="Sortable"+(new Date).getTime();var V=[],q={initializeByDefault:!0},$={mount:function(e){for(var t in q)q.hasOwnProperty(t)&&!(t in e)&&(e[t]=q[t]);V.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),V.push(e)},pluginEvent:function(e,t,i){var n=this;this.eventCanceled=!1,i.cancel=function(){n.eventCanceled=!0};var o=e+"Global";V.forEach((function(n){t[n.pluginName]&&(t[n.pluginName][o]&&t[n.pluginName][o](s({sortable:t},i)),t.options[n.pluginName]&&t[n.pluginName][e]&&t[n.pluginName][e](s({sortable:t},i)))}))},initializePlugins:function(e,t,i,n){for(var s in V.forEach((function(n){var s=n.pluginName;if(e.options[s]||n.initializeByDefault){var o=new n(e,t,e.options);o.sortable=e,o.options=e.options,e[s]=o,a(i,o.defaults)}})),e.options)if(e.options.hasOwnProperty(s)){var o=this.modifyOption(e,s,e.options[s]);void 0!==o&&(e.options[s]=o)}},getEventProperties:function(e,t){var i={};return V.forEach((function(n){"function"==typeof n.eventProperties&&a(i,n.eventProperties.call(t[n.pluginName],e))})),i},modifyOption:function(e,t,i){var n;return V.forEach((function(s){e[s.pluginName]&&s.optionListeners&&"function"==typeof s.optionListeners[t]&&(n=s.optionListeners[t].call(e[s.pluginName],i))})),n}};function W(e){var t=e.sortable,i=e.rootEl,n=e.name,o=e.targetEl,r=e.cloneEl,a=e.toEl,l=e.fromEl,c=e.oldIndex,h=e.newIndex,p=e.oldDraggableIndex,f=e.newDraggableIndex,m=e.originalEvent,g=e.putSortable,v=e.extraEventProperties;if(t=t||i&&i[H]){var y,b=t.options,_="on"+n.charAt(0).toUpperCase()+n.substr(1);!window.CustomEvent||d||u?(y=document.createEvent("Event")).initEvent(n,!0,!0):y=new CustomEvent(n,{bubbles:!0,cancelable:!0}),y.to=a||i,y.from=l||i,y.item=o||i,y.clone=r,y.oldIndex=c,y.newIndex=h,y.oldDraggableIndex=p,y.newDraggableIndex=f,y.originalEvent=m,y.pullMode=g?g.lastPutMode:void 0;var x=s(s({},v),$.getEventProperties(n,t));for(var w in x)y[w]=x[w];i&&i.dispatchEvent(y),b[_]&&b[_].call(t,y)}}var G=["evt"],Y=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i.evt,o=function(e,t){if(null==e)return{};var i,n,s=function(e,t){if(null==e)return{};var i,n,s={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(s[i]=e[i]);return s}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(s[i]=e[i])}return s}(i,G);$.pluginEvent.bind(Fe)(e,t,s({dragEl:K,parentEl:Q,ghostEl:Z,rootEl:J,nextEl:ee,lastDownEl:te,cloneEl:ie,cloneHidden:ne,dragStarted:ge,putSortable:ce,activeSortable:Fe.active,originalEvent:n,oldIndex:se,oldDraggableIndex:re,newIndex:oe,newDraggableIndex:ae,hideGhostForTarget:Be,unhideGhostForTarget:Re,cloneNowHidden:function(){ne=!0},cloneNowShown:function(){ne=!1},dispatchSortableEvent:function(e){X({sortable:t,name:e,originalEvent:n})}},o))};function X(e){W(s({putSortable:ce,cloneEl:ie,targetEl:K,rootEl:J,oldIndex:se,oldDraggableIndex:re,newIndex:oe,newDraggableIndex:ae},e))}var K,Q,Z,J,ee,te,ie,ne,se,oe,re,ae,le,ce,de,ue,he,pe,fe,me,ge,ve,ye,be,_e,xe=!1,we=!1,ke=[],Se=!1,Te=!1,Ce=[],Ee=!1,Ae=[],Ie="undefined"!=typeof document,Me=f,Oe=u||d?"cssFloat":"float",De=Ie&&!m&&!f&&"draggable"in document.createElement("div"),Pe=function(){if(Ie){if(d)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Le=function(e,t){var i=T(e),n=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),s=O(e,0,t),o=O(e,1,t),r=s&&T(s),a=o&&T(o),l=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+I(s).width,c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+I(o).width;if("flex"===i.display)return"column"===i.flexDirection||"column-reverse"===i.flexDirection?"vertical":"horizontal";if("grid"===i.display)return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&r.float&&"none"!==r.float){var d="left"===r.float?"left":"right";return!o||"both"!==a.clear&&a.clear!==d?"horizontal":"vertical"}return s&&("block"===r.display||"flex"===r.display||"table"===r.display||"grid"===r.display||l>=n&&"none"===i[Oe]||o&&"none"===i[Oe]&&l+c>n)?"vertical":"horizontal"},je=function(e){function t(e,i){return function(n,s,o,r){var a=n.options.group.name&&s.options.group.name&&n.options.group.name===s.options.group.name;if(null==e&&(i||a))return!0;if(null==e||!1===e)return!1;if(i&&"clone"===e)return e;if("function"==typeof e)return t(e(n,s,o,r),i)(n,s,o,r);var l=(i?n:s).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var i={},n=e.group;n&&"object"==o(n)||(n={name:n}),i.name=n.name,i.checkPull=t(n.pull,!0),i.checkPut=t(n.put),i.revertClone=n.revertClone,e.group=i},Be=function(){!Pe&&Z&&T(Z,"display","none")},Re=function(){!Pe&&Z&&T(Z,"display","")};Ie&&document.addEventListener("click",(function(e){if(we)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),we=!1,!1}),!0);var Ne=function(e){if(K){e=e.touches?e.touches[0]:e;var t=(s=e.clientX,o=e.clientY,ke.some((function(e){var t=e[H].options.emptyInsertThreshold;if(t&&!D(e)){var i=I(e),n=s>=i.left-t&&s<=i.right+t,a=o>=i.top-t&&o<=i.bottom+t;return n&&a?r=e:void 0}})),r);if(t){var i={};for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);i.target=i.rootEl=t,i.preventDefault=void 0,i.stopPropagation=void 0,t[H]._onDragOver(i)}}var s,o,r},Ue=function(e){K&&K.parentNode[H]._isOutsideThisEl(e.target)};function Fe(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=a({},t),e[H]=this;var i,n,o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Le(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Fe.supportPointer&&"PointerEvent"in window&&!p,emptyInsertThreshold:5};for(var r in $.initializePlugins(this,e,o),o)!(r in t)&&(t[r]=o[r]);for(var l in je(t),this)"_"===l.charAt(0)&&"function"==typeof this[l]&&(this[l]=this[l].bind(this));this.nativeDraggable=!t.forceFallback&&De,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?v(e,"pointerdown",this._onTapStart):(v(e,"mousedown",this._onTapStart),v(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(v(e,"dragover",this),v(e,"dragenter",this)),ke.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),a(this,(n=[],{captureAnimationState:function(){n=[],this.options.animation&&[].slice.call(this.el.children).forEach((function(e){if("none"!==T(e,"display")&&e!==Fe.ghost){n.push({target:e,rect:I(e)});var t=s({},n[n.length-1].rect);if(e.thisAnimationDuration){var i=C(e,!0);i&&(t.top-=i.f,t.left-=i.e)}e.fromRect=t}}))},addAnimationState:function(e){n.push(e)},removeAnimationState:function(e){n.splice(function(e,t){for(var i in e)if(e.hasOwnProperty(i))for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e[i][n])return Number(i);return-1}(n,{target:e}),1)},animateAll:function(e){var t=this;if(!this.options.animation)return clearTimeout(i),void("function"==typeof e&&e());var s=!1,o=0;n.forEach((function(e){var i=0,n=e.target,r=n.fromRect,a=I(n),l=n.prevFromRect,c=n.prevToRect,d=e.rect,u=C(n,!0);u&&(a.top-=u.f,a.left-=u.e),n.toRect=a,n.thisAnimationDuration&&B(l,a)&&!B(r,a)&&(d.top-a.top)/(d.left-a.left)==(r.top-a.top)/(r.left-a.left)&&(i=function(e,t,i,n){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-i.top,2)+Math.pow(t.left-i.left,2))*n.animation}(d,l,c,t.options)),B(a,r)||(n.prevFromRect=r,n.prevToRect=a,i||(i=t.options.animation),t.animate(n,d,a,i)),i&&(s=!0,o=Math.max(o,i),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),i),n.thisAnimationDuration=i)})),clearTimeout(i),s?i=setTimeout((function(){"function"==typeof e&&e()}),o):"function"==typeof e&&e(),n=[]},animate:function(e,t,i,n){if(n){T(e,"transition",""),T(e,"transform","");var s=C(this.el),o=s&&s.a,r=s&&s.d,a=(t.left-i.left)/(o||1),l=(t.top-i.top)/(r||1);e.animatingX=!!a,e.animatingY=!!l,T(e,"transform","translate3d("+a+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),T(e,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),T(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){T(e,"transition",""),T(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),n)}}}))}function ze(e,t,i,n,s,o,r,a){var l,c,h=e[H],p=h.options.onMove;return!window.CustomEvent||d||u?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=i,l.draggedRect=n,l.related=s||t,l.relatedRect=o||I(t),l.willInsertAfter=a,l.originalEvent=r,e.dispatchEvent(l),p&&(c=p.call(h,l,r)),c}function He(e){e.draggable=!1}function Ve(){Ee=!1}function qe(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,i=t.length,n=0;i--;)n+=t.charCodeAt(i);return n.toString(36)}function $e(e){return setTimeout(e,0)}function We(e){return clearTimeout(e)}Fe.prototype={constructor:Fe,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(ve=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,K):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,i=this.el,n=this.options,s=n.preventOnFilter,o=e.type,r=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,a=(r||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||a,c=n.filter;if(function(e){Ae.length=0;for(var t=e.getElementsByTagName("input"),i=t.length;i--;){var n=t[i];n.checked&&Ae.push(n)}}(i),!K&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||n.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!p||!a||"SELECT"!==a.tagName.toUpperCase())&&!((a=x(a,n.draggable,i,!1))&&a.animated||te===a)){if(se=P(a),re=P(a,n.draggable),"function"==typeof c){if(c.call(this,e,a,this))return X({sortable:t,rootEl:l,name:"filter",targetEl:a,toEl:i,fromEl:i}),Y("filter",t,{evt:e}),void(s&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(n){if(n=x(l,n.trim(),i,!1))return X({sortable:t,rootEl:n,name:"filter",targetEl:a,fromEl:i,toEl:i}),Y("filter",t,{evt:e}),!0}))))return void(s&&e.cancelable&&e.preventDefault());n.handle&&!x(l,n.handle,i,!1)||this._prepareDragStart(e,r,a)}}},_prepareDragStart:function(e,t,i){var n,s=this,o=s.el,r=s.options,a=o.ownerDocument;if(i&&!K&&i.parentNode===o){var l=I(i);if(J=o,Q=(K=i).parentNode,ee=K.nextSibling,te=i,le=r.group,Fe.dragged=K,de={target:K,clientX:(t||e).clientX,clientY:(t||e).clientY},fe=de.clientX-l.left,me=de.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,K.style["will-change"]="all",n=function(){Y("delayEnded",s,{evt:e}),Fe.eventCanceled?s._onDrop():(s._disableDelayedDragEvents(),!h&&s.nativeDraggable&&(K.draggable=!0),s._triggerDragStart(e,t),X({sortable:s,name:"choose",originalEvent:e}),S(K,r.chosenClass,!0))},r.ignore.split(",").forEach((function(e){E(K,e.trim(),He)})),v(a,"dragover",Ne),v(a,"mousemove",Ne),v(a,"touchmove",Ne),v(a,"mouseup",s._onDrop),v(a,"touchend",s._onDrop),v(a,"touchcancel",s._onDrop),h&&this.nativeDraggable&&(this.options.touchStartThreshold=4,K.draggable=!0),Y("delayStart",this,{evt:e}),!r.delay||r.delayOnTouchOnly&&!t||this.nativeDraggable&&(u||d))n();else{if(Fe.eventCanceled)return void this._onDrop();v(a,"mouseup",s._disableDelayedDrag),v(a,"touchend",s._disableDelayedDrag),v(a,"touchcancel",s._disableDelayedDrag),v(a,"mousemove",s._delayedDragTouchMoveHandler),v(a,"touchmove",s._delayedDragTouchMoveHandler),r.supportPointer&&v(a,"pointermove",s._delayedDragTouchMoveHandler),s._dragStartTimer=setTimeout(n,r.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){K&&He(K),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;y(e,"mouseup",this._disableDelayedDrag),y(e,"touchend",this._disableDelayedDrag),y(e,"touchcancel",this._disableDelayedDrag),y(e,"mousemove",this._delayedDragTouchMoveHandler),y(e,"touchmove",this._delayedDragTouchMoveHandler),y(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?v(document,"pointermove",this._onTouchMove):v(document,t?"touchmove":"mousemove",this._onTouchMove):(v(K,"dragend",this),v(J,"dragstart",this._onDragStart));try{document.selection?$e((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(xe=!1,J&&K){Y("dragStarted",this,{evt:t}),this.nativeDraggable&&v(document,"dragover",Ue);var i=this.options;!e&&S(K,i.dragClass,!1),S(K,i.ghostClass,!0),Fe.active=this,e&&this._appendGhost(),X({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(ue){this._lastX=ue.clientX,this._lastY=ue.clientY,Be();for(var e=document.elementFromPoint(ue.clientX,ue.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ue.clientX,ue.clientY))!==t;)t=e;if(K.parentNode[H]._isOutsideThisEl(e),t)do{if(t[H]&&t[H]._onDragOver({clientX:ue.clientX,clientY:ue.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break;e=t}while(t=t.parentNode);Re()}},_onTouchMove:function(e){if(de){var t=this.options,i=t.fallbackTolerance,n=t.fallbackOffset,s=e.touches?e.touches[0]:e,o=Z&&C(Z,!0),r=Z&&o&&o.a,a=Z&&o&&o.d,l=Me&&_e&&L(_e),c=(s.clientX-de.clientX+n.x)/(r||1)+(l?l[0]-Ce[0]:0)/(r||1),d=(s.clientY-de.clientY+n.y)/(a||1)+(l?l[1]-Ce[1]:0)/(a||1);if(!Fe.active&&!xe){if(i&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(Z){o?(o.e+=c-(he||0),o.f+=d-(pe||0)):o={a:1,b:0,c:0,d:1,e:c,f:d};var u="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");T(Z,"webkitTransform",u),T(Z,"mozTransform",u),T(Z,"msTransform",u),T(Z,"transform",u),he=c,pe=d,ue=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Z){var e=this.options.fallbackOnBody?document.body:J,t=I(K,!0,Me,!0,e),i=this.options;if(Me){for(_e=e;"static"===T(_e,"position")&&"none"===T(_e,"transform")&&_e!==document;)_e=_e.parentNode;_e!==document.body&&_e!==document.documentElement?(_e===document&&(_e=A()),t.top+=_e.scrollTop,t.left+=_e.scrollLeft):_e=A(),Ce=L(_e)}S(Z=K.cloneNode(!0),i.ghostClass,!1),S(Z,i.fallbackClass,!0),S(Z,i.dragClass,!0),T(Z,"transition",""),T(Z,"transform",""),T(Z,"box-sizing","border-box"),T(Z,"margin",0),T(Z,"top",t.top),T(Z,"left",t.left),T(Z,"width",t.width),T(Z,"height",t.height),T(Z,"opacity","0.8"),T(Z,"position",Me?"absolute":"fixed"),T(Z,"zIndex","100000"),T(Z,"pointerEvents","none"),Fe.ghost=Z,e.appendChild(Z),T(Z,"transform-origin",fe/parseInt(Z.style.width)*100+"% "+me/parseInt(Z.style.height)*100+"%")}},_onDragStart:function(e,t){var i=this,n=e.dataTransfer,s=i.options;Y("dragStart",this,{evt:e}),Fe.eventCanceled?this._onDrop():(Y("setupClone",this),Fe.eventCanceled||((ie=U(K)).draggable=!1,ie.style["will-change"]="",this._hideClone(),S(ie,this.options.chosenClass,!1),Fe.clone=ie),i.cloneId=$e((function(){Y("clone",i),Fe.eventCanceled||(i.options.removeCloneOnHide||J.insertBefore(ie,K),i._hideClone(),X({sortable:i,name:"clone"}))})),!t&&S(K,s.dragClass,!0),t?(we=!0,i._loopId=setInterval(i._emulateDragOver,50)):(y(document,"mouseup",i._onDrop),y(document,"touchend",i._onDrop),y(document,"touchcancel",i._onDrop),n&&(n.effectAllowed="move",s.setData&&s.setData.call(i,n,K)),v(document,"drop",i),T(K,"transform","translateZ(0)")),xe=!0,i._dragStartId=$e(i._dragStarted.bind(i,t,e)),v(document,"selectstart",i),ge=!0,p&&T(document.body,"user-select","none"))},_onDragOver:function(e){var t,i,n,o,r=this.el,a=e.target,l=this.options,c=l.group,d=Fe.active,u=le===c,h=l.sort,p=ce||d,f=this,m=!1;if(!Ee){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=x(a,l.draggable,r,!0),U("dragOver"),Fe.eventCanceled)return m;if(K.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||f._ignoreWhileAnimating===a)return z(!1);if(we=!1,d&&!l.disabled&&(u?h||(n=Q!==J):ce===this||(this.lastPutMode=le.checkPull(this,d,K,e))&&c.checkPut(this,d,K,e))){if(o="vertical"===this._getDirection(e,a),t=I(K),U("dragOverValid"),Fe.eventCanceled)return m;if(n)return Q=J,F(),this._hideClone(),U("revert"),Fe.eventCanceled||(ee?J.insertBefore(K,ee):J.appendChild(K)),z(!0);var g=D(r,l.draggable);if(!g||function(e,t,i){var n=I(D(i.el,i.options.draggable));return t?e.clientX>n.right+10||e.clientX<=n.right&&e.clientY>n.bottom&&e.clientX>=n.left:e.clientX>n.right&&e.clientY>n.top||e.clientX<=n.right&&e.clientY>n.bottom+10}(e,o,this)&&!g.animated){if(g===K)return z(!1);if(g&&r===e.target&&(a=g),a&&(i=I(a)),!1!==ze(J,r,K,t,a,i,e,!!a))return F(),r.appendChild(K),Q=r,V(),z(!0)}else if(g&&function(e,t,i){var n=I(O(i.el,0,i.options,!0));return t?e.clientX<n.left-10||e.clientY<n.top&&e.clientX<n.right:e.clientY<n.top-10||e.clientY<n.bottom&&e.clientX<n.left}(e,o,this)){var v=O(r,0,l,!0);if(v===K)return z(!1);if(i=I(a=v),!1!==ze(J,r,K,t,a,i,e,!1))return F(),r.insertBefore(K,v),Q=r,V(),z(!0)}else if(a.parentNode===r){i=I(a);var y,b,_,w=K.parentNode!==r,k=!function(e,t,i){var n=i?e.left:e.top,s=i?e.right:e.bottom,o=i?e.width:e.height,r=i?t.left:t.top,a=i?t.right:t.bottom,l=i?t.width:t.height;return n===r||s===a||n+o/2===r+l/2}(K.animated&&K.toRect||t,a.animated&&a.toRect||i,o),C=o?"top":"left",E=M(a,"top","top")||M(K,"top","top"),A=E?E.scrollTop:void 0;if(ve!==a&&(b=i[C],Se=!1,Te=!k&&l.invertSwap||w),y=function(e,t,i,n,s,o,r,a){var l=n?e.clientY:e.clientX,c=n?i.height:i.width,d=n?i.top:i.left,u=n?i.bottom:i.right,h=!1;if(!r)if(a&&be<c*s){if(!Se&&(1===ye?l>d+c*o/2:l<u-c*o/2)&&(Se=!0),Se)h=!0;else if(1===ye?l<d+be:l>u-be)return-ye}else if(l>d+c*(1-s)/2&&l<u-c*(1-s)/2)return function(e){return P(K)<P(e)?1:-1}(t);return(h=h||r)&&(l<d+c*o/2||l>u-c*o/2)?l>d+c/2?1:-1:0}(e,a,i,o,k?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Te,ve===a),0!==y){var L=P(K);do{L-=y,_=Q.children[L]}while(_&&("none"===T(_,"display")||_===Z))}if(0===y||_===a)return z(!1);ve=a,ye=y;var j=a.nextElementSibling,B=!1,R=ze(J,r,K,t,a,i,e,B=1===y);if(!1!==R)return 1!==R&&-1!==R||(B=1===R),Ee=!0,setTimeout(Ve,30),F(),B&&!j?r.appendChild(K):a.parentNode.insertBefore(K,B?j:a),E&&N(E,0,A-E.scrollTop),Q=K.parentNode,void 0===b||Te||(be=Math.abs(b-I(a)[C])),V(),z(!0)}if(r.contains(K))return z(!1)}return!1}function U(l,c){Y(l,f,s({evt:e,isOwner:u,axis:o?"vertical":"horizontal",revert:n,dragRect:t,targetRect:i,canSort:h,fromSortable:p,target:a,completed:z,onMove:function(i,n){return ze(J,r,K,t,i,I(i),e,n)},changed:V},c))}function F(){U("dragOverAnimationCapture"),f.captureAnimationState(),f!==p&&p.captureAnimationState()}function z(t){return U("dragOverCompleted",{insertion:t}),t&&(u?d._hideClone():d._showClone(f),f!==p&&(S(K,ce?ce.options.ghostClass:d.options.ghostClass,!1),S(K,l.ghostClass,!0)),ce!==f&&f!==Fe.active?ce=f:f===Fe.active&&ce&&(ce=null),p===f&&(f._ignoreWhileAnimating=a),f.animateAll((function(){U("dragOverAnimationComplete"),f._ignoreWhileAnimating=null})),f!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(a===K&&!K.animated||a===r&&!a.animated)&&(ve=null),l.dragoverBubble||e.rootEl||a===document||(K.parentNode[H]._isOutsideThisEl(e.target),!t&&Ne(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function V(){oe=P(K),ae=P(K,l.draggable),X({sortable:f,name:"change",toEl:r,newIndex:oe,newDraggableIndex:ae,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){y(document,"mousemove",this._onTouchMove),y(document,"touchmove",this._onTouchMove),y(document,"pointermove",this._onTouchMove),y(document,"dragover",Ne),y(document,"mousemove",Ne),y(document,"touchmove",Ne)},_offUpEvents:function(){var e=this.el.ownerDocument;y(e,"mouseup",this._onDrop),y(e,"touchend",this._onDrop),y(e,"pointerup",this._onDrop),y(e,"touchcancel",this._onDrop),y(document,"selectstart",this)},_onDrop:function(e){var t=this.el,i=this.options;oe=P(K),ae=P(K,i.draggable),Y("drop",this,{evt:e}),Q=K&&K.parentNode,oe=P(K),ae=P(K,i.draggable),Fe.eventCanceled||(xe=!1,Te=!1,Se=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),We(this.cloneId),We(this._dragStartId),this.nativeDraggable&&(y(document,"drop",this),y(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),p&&T(document.body,"user-select",""),T(K,"transform",""),e&&(ge&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),Z&&Z.parentNode&&Z.parentNode.removeChild(Z),(J===Q||ce&&"clone"!==ce.lastPutMode)&&ie&&ie.parentNode&&ie.parentNode.removeChild(ie),K&&(this.nativeDraggable&&y(K,"dragend",this),He(K),K.style["will-change"]="",ge&&!xe&&S(K,ce?ce.options.ghostClass:this.options.ghostClass,!1),S(K,this.options.chosenClass,!1),X({sortable:this,name:"unchoose",toEl:Q,newIndex:null,newDraggableIndex:null,originalEvent:e}),J!==Q?(oe>=0&&(X({rootEl:Q,name:"add",toEl:Q,fromEl:J,originalEvent:e}),X({sortable:this,name:"remove",toEl:Q,originalEvent:e}),X({rootEl:Q,name:"sort",toEl:Q,fromEl:J,originalEvent:e}),X({sortable:this,name:"sort",toEl:Q,originalEvent:e})),ce&&ce.save()):oe!==se&&oe>=0&&(X({sortable:this,name:"update",toEl:Q,originalEvent:e}),X({sortable:this,name:"sort",toEl:Q,originalEvent:e})),Fe.active&&(null!=oe&&-1!==oe||(oe=se,ae=re),X({sortable:this,name:"end",toEl:Q,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){Y("nulling",this),J=K=Q=Z=ee=ie=te=ne=de=ue=ge=oe=ae=se=re=ve=ye=ce=le=Fe.dragged=Fe.ghost=Fe.clone=Fe.active=null,Ae.forEach((function(e){e.checked=!0})),Ae.length=he=pe=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":K&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],i=this.el.children,n=0,s=i.length,o=this.options;n<s;n++)x(e=i[n],o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||qe(e));return t},sort:function(e,t){var i={},n=this.el;this.toArray().forEach((function(e,t){var s=n.children[t];x(s,this.options.draggable,n,!1)&&(i[e]=s)}),this),t&&this.captureAnimationState(),e.forEach((function(e){i[e]&&(n.removeChild(i[e]),n.appendChild(i[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return x(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var i=this.options;if(void 0===t)return i[e];var n=$.modifyOption(this,e,t);i[e]=void 0!==n?n:t,"group"===e&&je(i)},destroy:function(){Y("destroy",this);var e=this.el;e[H]=null,y(e,"mousedown",this._onTapStart),y(e,"touchstart",this._onTapStart),y(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(y(e,"dragover",this),y(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),ke.splice(ke.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ne){if(Y("hideClone",this),Fe.eventCanceled)return;T(ie,"display","none"),this.options.removeCloneOnHide&&ie.parentNode&&ie.parentNode.removeChild(ie),ne=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ne){if(Y("showClone",this),Fe.eventCanceled)return;K.parentNode!=J||this.options.group.revertClone?ee?J.insertBefore(ie,ee):J.appendChild(ie):J.insertBefore(ie,K),this.options.group.revertClone&&this.animate(K,ie),T(ie,"display",""),ne=!1}}else this._hideClone()}},Ie&&v(document,"touchmove",(function(e){(Fe.active||xe)&&e.cancelable&&e.preventDefault()})),Fe.utils={on:v,off:y,css:T,find:E,is:function(e,t){return!!x(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},throttle:R,closest:x,toggleClass:S,clone:U,index:P,nextTick:$e,cancelNextTick:We,detectDirection:Le,getChild:O},Fe.get=function(e){return e[H]},Fe.mount=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Fe.utils=s(s({},Fe.utils),e.utils)),$.mount(e)}))},Fe.create=function(e,t){return new Fe(e,t)},Fe.version="1.14.0";var Ge,Ye,Xe,Ke,Qe,Ze,Je=[],et=!1;function tt(){Je.forEach((function(e){clearInterval(e.pid)})),Je=[]}function it(){clearInterval(Ze)}var nt,st=R((function(e,t,i,n){if(t.scroll){var s,o=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,l=t.scrollSpeed,c=A(),d=!1;Ye!==i&&(Ye=i,tt(),Ge=t.scroll,s=t.scrollFn,!0===Ge&&(Ge=j(i,!0)));var u=0,h=Ge;do{var p=h,f=I(p),m=f.top,g=f.bottom,v=f.left,y=f.right,b=f.width,_=f.height,x=void 0,w=void 0,k=p.scrollWidth,S=p.scrollHeight,C=T(p),E=p.scrollLeft,M=p.scrollTop;p===c?(x=b<k&&("auto"===C.overflowX||"scroll"===C.overflowX||"visible"===C.overflowX),w=_<S&&("auto"===C.overflowY||"scroll"===C.overflowY||"visible"===C.overflowY)):(x=b<k&&("auto"===C.overflowX||"scroll"===C.overflowX),w=_<S&&("auto"===C.overflowY||"scroll"===C.overflowY));var O=x&&(Math.abs(y-o)<=a&&E+b<k)-(Math.abs(v-o)<=a&&!!E),D=w&&(Math.abs(g-r)<=a&&M+_<S)-(Math.abs(m-r)<=a&&!!M);if(!Je[u])for(var P=0;P<=u;P++)Je[P]||(Je[P]={});Je[u].vx==O&&Je[u].vy==D&&Je[u].el===p||(Je[u].el=p,Je[u].vx=O,Je[u].vy=D,clearInterval(Je[u].pid),0==O&&0==D||(d=!0,Je[u].pid=setInterval(function(){n&&0===this.layer&&Fe.active._onTouchMove(Qe);var t=Je[this.layer].vy?Je[this.layer].vy*l:0,i=Je[this.layer].vx?Je[this.layer].vx*l:0;"function"==typeof s&&"continue"!==s.call(Fe.dragged.parentNode[H],i,t,e,Qe,Je[this.layer].el)||N(Je[this.layer].el,i,t)}.bind({layer:u}),24))),u++}while(t.bubbleScroll&&h!==c&&(h=j(h,!1)));et=d}}),30),ot=function(e){var t=e.originalEvent,i=e.putSortable,n=e.dragEl,s=e.activeSortable,o=e.dispatchSortableEvent,r=e.hideGhostForTarget,a=e.unhideGhostForTarget;if(t){var l=i||s;r();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(c.clientX,c.clientY);a(),l&&!l.el.contains(d)&&(o("spill"),this.onSpill({dragEl:n,putSortable:i}))}};function rt(){}function at(){}function lt(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;nt=t},dragOverValid:function(e){var t=e.completed,i=e.target,n=e.onMove,s=e.activeSortable,o=e.changed,r=e.cancel;if(s.options.swap){var a=this.sortable.el,l=this.options;if(i&&i!==a){var c=nt;!1!==n(i)?(S(i,l.swapClass,!0),nt=i):nt=null,c&&c!==nt&&S(c,l.swapClass,!1)}o(),t(!0),r()}},drop:function(e){var t,i,n,s,o,r,a=e.activeSortable,l=e.putSortable,c=e.dragEl,d=l||this.sortable,u=this.options;nt&&S(nt,u.swapClass,!1),nt&&(u.swap||l&&l.options.swap)&&c!==nt&&(d.captureAnimationState(),d!==a&&a.captureAnimationState(),i=nt,o=(t=c).parentNode,r=i.parentNode,o&&r&&!o.isEqualNode(i)&&!r.isEqualNode(t)&&(n=P(t),s=P(i),o.isEqualNode(r)&&n<s&&s++,o.insertBefore(i,o.children[n]),r.insertBefore(t,r.children[s])),d.animateAll(),d!==a&&a.animateAll())},nulling:function(){nt=null}},a(e,{pluginName:"swap",eventProperties:function(){return{swapItem:nt}}})}rt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var n=O(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(t,n):this.sortable.el.appendChild(t),this.sortable.animateAll(),i&&i.animateAll()},drop:ot},a(rt,{pluginName:"revertOnSpill"}),at.prototype={onSpill:function(e){var t=e.dragEl,i=e.putSortable||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:ot},a(at,{pluginName:"removeOnSpill"});var ct,dt,ut,ht,pt,ft=[],mt=[],gt=!1,vt=!1,yt=!1;function bt(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));e.options.supportPointer?v(document,"pointerup",this._deselectMultiDrag):(v(document,"mouseup",this._deselectMultiDrag),v(document,"touchend",this._deselectMultiDrag)),v(document,"keydown",this._checkKeyDown),v(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,i){var n="";ft.length&&dt===e?ft.forEach((function(e,t){n+=(t?", ":"")+e.textContent})):n=i.textContent,t.setData("Text",n)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;ut=t},delayEnded:function(){this.isMultiDrag=~ft.indexOf(ut)},setupClone:function(e){var t=e.sortable,i=e.cancel;if(this.isMultiDrag){for(var n=0;n<ft.length;n++)mt.push(U(ft[n])),mt[n].sortableIndex=ft[n].sortableIndex,mt[n].draggable=!1,mt[n].style["will-change"]="",S(mt[n],this.options.selectedClass,!1),ft[n]===ut&&S(mt[n],this.options.chosenClass,!1);t._hideClone(),i()}},clone:function(e){var t=e.sortable,i=e.rootEl,n=e.dispatchSortableEvent,s=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||ft.length&&dt===t&&(_t(!0,i),n("clone"),s()))},showClone:function(e){var t=e.cloneNowShown,i=e.rootEl,n=e.cancel;this.isMultiDrag&&(_t(!1,i),mt.forEach((function(e){T(e,"display","")})),t(),pt=!1,n())},hideClone:function(e){var t=this,i=(e.sortable,e.cloneNowHidden),n=e.cancel;this.isMultiDrag&&(mt.forEach((function(e){T(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)})),i(),pt=!0,n())},dragStartGlobal:function(e){e.sortable,!this.isMultiDrag&&dt&&dt.multiDrag._deselectMultiDrag(),ft.forEach((function(e){e.sortableIndex=P(e)})),ft=ft.sort((function(e,t){return e.sortableIndex-t.sortableIndex})),yt=!0},dragStarted:function(e){var t=this,i=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){ft.forEach((function(e){e!==ut&&T(e,"position","absolute")}));var n=I(ut,!1,!0,!0);ft.forEach((function(e){e!==ut&&F(e,n)})),vt=!0,gt=!0}i.animateAll((function(){vt=!1,gt=!1,t.options.animation&&ft.forEach((function(e){z(e)})),t.options.sort&&xt()}))}},dragOver:function(e){var t=e.target,i=e.completed,n=e.cancel;vt&&~ft.indexOf(t)&&(i(!1),n())},revert:function(e){var t=e.fromSortable,i=e.rootEl,n=e.sortable,s=e.dragRect;ft.length>1&&(ft.forEach((function(e){n.addAnimationState({target:e,rect:vt?I(e):s}),z(e),e.fromRect=s,t.removeAnimationState(e)})),vt=!1,function(e,t){ft.forEach((function(i,n){var s=t.children[i.sortableIndex+(e?Number(n):0)];s?t.insertBefore(i,s):t.appendChild(i)}))}(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(e){var t=e.sortable,i=e.isOwner,n=e.insertion,s=e.activeSortable,o=e.parentEl,r=e.putSortable,a=this.options;if(n){if(i&&s._hideClone(),gt=!1,a.animation&&ft.length>1&&(vt||!i&&!s.options.sort&&!r)){var l=I(ut,!1,!0,!0);ft.forEach((function(e){e!==ut&&(F(e,l),o.appendChild(e))})),vt=!0}if(!i)if(vt||xt(),ft.length>1){var c=pt;s._showClone(t),s.options.animation&&!pt&&c&&mt.forEach((function(e){s.addAnimationState({target:e,rect:ht}),e.fromRect=ht,e.thisAnimationDuration=null}))}else s._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,i=e.isOwner,n=e.activeSortable;if(ft.forEach((function(e){e.thisAnimationDuration=null})),n.options.animation&&!i&&n.multiDrag.isMultiDrag){ht=a({},t);var s=C(ut,!0);ht.top-=s.f,ht.left-=s.e}},dragOverAnimationComplete:function(){vt&&(vt=!1,xt())},drop:function(e){var t=e.originalEvent,i=e.rootEl,n=e.parentEl,s=e.sortable,o=e.dispatchSortableEvent,r=e.oldIndex,a=e.putSortable,l=a||this.sortable;if(t){var c=this.options,d=n.children;if(!yt)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),S(ut,c.selectedClass,!~ft.indexOf(ut)),~ft.indexOf(ut))ft.splice(ft.indexOf(ut),1),ct=null,W({sortable:s,rootEl:i,name:"deselect",targetEl:ut,originalEvt:t});else{if(ft.push(ut),W({sortable:s,rootEl:i,name:"select",targetEl:ut,originalEvt:t}),t.shiftKey&&ct&&s.el.contains(ct)){var u,h,p=P(ct),f=P(ut);if(~p&&~f&&p!==f)for(f>p?(h=p,u=f):(h=f,u=p+1);h<u;h++)~ft.indexOf(d[h])||(S(d[h],c.selectedClass,!0),ft.push(d[h]),W({sortable:s,rootEl:i,name:"select",targetEl:d[h],originalEvt:t}))}else ct=ut;dt=l}if(yt&&this.isMultiDrag){if(vt=!1,(n[H].options.sort||n!==i)&&ft.length>1){var m=I(ut),g=P(ut,":not(."+this.options.selectedClass+")");if(!gt&&c.animation&&(ut.thisAnimationDuration=null),l.captureAnimationState(),!gt&&(c.animation&&(ut.fromRect=m,ft.forEach((function(e){if(e.thisAnimationDuration=null,e!==ut){var t=vt?I(e):m;e.fromRect=t,l.addAnimationState({target:e,rect:t})}}))),xt(),ft.forEach((function(e){d[g]?n.insertBefore(e,d[g]):n.appendChild(e),g++})),r===P(ut))){var v=!1;ft.forEach((function(e){e.sortableIndex===P(e)||(v=!0)})),v&&o("update")}ft.forEach((function(e){z(e)})),l.animateAll()}dt=l}(i===n||a&&"clone"!==a.lastPutMode)&&mt.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}},nullingGlobal:function(){this.isMultiDrag=yt=!1,mt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),y(document,"pointerup",this._deselectMultiDrag),y(document,"mouseup",this._deselectMultiDrag),y(document,"touchend",this._deselectMultiDrag),y(document,"keydown",this._checkKeyDown),y(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(void 0!==yt&&yt||dt!==this.sortable||e&&x(e.target,this.options.draggable,this.sortable.el,!1)||e&&0!==e.button))for(;ft.length;){var t=ft[0];S(t,this.options.selectedClass,!1),ft.shift(),W({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},a(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[H];t&&t.options.multiDrag&&!~ft.indexOf(e)&&(dt&&dt!==t&&(dt.multiDrag._deselectMultiDrag(),dt=t),S(e,t.options.selectedClass,!0),ft.push(e))},deselect:function(e){var t=e.parentNode[H],i=ft.indexOf(e);t&&t.options.multiDrag&&~i&&(S(e,t.options.selectedClass,!1),ft.splice(i,1))}},eventProperties:function(){var e,t=this,i=[],n=[];return ft.forEach((function(e){var s;i.push({multiDragElement:e,index:e.sortableIndex}),s=vt&&e!==ut?-1:vt?P(e,":not(."+t.options.selectedClass+")"):P(e),n.push({multiDragElement:e,index:s})})),{items:(e=ft,function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),clones:[].concat(mt),oldIndicies:i,newIndicies:n}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function _t(e,t){mt.forEach((function(i,n){var s=t.children[i.sortableIndex+(e?Number(n):0)];s?t.insertBefore(i,s):t.appendChild(i)}))}function xt(){ft.forEach((function(e){e!==ut&&e.parentNode&&e.parentNode.removeChild(e)}))}Fe.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):this.options.supportPointer?v(document,"pointermove",this._handleFallbackAutoScroll):t.touches?v(document,"touchmove",this._handleFallbackAutoScroll):v(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?y(document,"dragover",this._handleAutoScroll):(y(document,"pointermove",this._handleFallbackAutoScroll),y(document,"touchmove",this._handleFallbackAutoScroll),y(document,"mousemove",this._handleFallbackAutoScroll)),it(),tt(),clearTimeout(w),w=void 0},nulling:function(){Qe=Ye=Ge=et=Ze=Xe=Ke=null,Je.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var i=this,n=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(n,s);if(Qe=e,t||this.options.forceAutoScrollFallback||u||d||p){st(e,this.options,o,t);var r=j(o,!0);!et||Ze&&n===Xe&&s===Ke||(Ze&&it(),Ze=setInterval((function(){var o=j(document.elementFromPoint(n,s),!0);o!==r&&(r=o,tt()),st(e,i.options,o,t)}),10),Xe=n,Ke=s)}else{if(!this.options.bubbleScroll||j(o,!0)===A())return void tt();st(e,this.options,j(o,!1),!1)}}},a(e,{pluginName:"scroll",initializeByDefault:!0})}),Fe.mount(at,rt);const wt=Fe},2886:e=>{"use strict";var t=[];function i(e){for(var i=-1,n=0;n<t.length;n++)if(t[n].identifier===e){i=n;break}return i}function n(e,n){for(var o={},r=[],a=0;a<e.length;a++){var l=e[a],c=n.base?l[0]+n.base:l[0],d=o[c]||0,u="".concat(c," ").concat(d);o[c]=d+1;var h=i(u),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)t[h].references++,t[h].updater(p);else{var f=s(p,n);n.byIndex=a,t.splice(a,0,{identifier:u,updater:f,references:1})}r.push(u)}return r}function s(e,t){var i=t.domAPI(t);return i.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;i.update(e=t)}else i.remove()}}e.exports=function(e,s){var o=n(e=e||[],s=s||{});return function(e){e=e||[];for(var r=0;r<o.length;r++){var a=i(o[r]);t[a].references--}for(var l=n(e,s),c=0;c<o.length;c++){var d=i(o[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}o=l}}},1122:e=>{"use strict";var t={};e.exports=function(e,i){var n=function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(i)}},8611:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},6791:(e,t,i)=>{"use strict";e.exports=function(e){var t=i.nc;t&&e.setAttribute("nonce",t)}},7788:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(i){!function(e,t,i){var n="";i.supports&&(n+="@supports (".concat(i.supports,") {")),i.media&&(n+="@media ".concat(i.media," {"));var s=void 0!==i.layer;s&&(n+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),n+=i.css,s&&(n+="}"),i.media&&(n+="}"),i.supports&&(n+="}");var o=i.sourceMap;o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,i)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},6671:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},8945:function(e){var t,i,n,s,o;t=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,n=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var s=o.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");return s.path=o.normalizePath(s.path),o.buildURLFromParts(s)}var r=o.parseURL(t);if(!r)throw new Error("Error trying to parse relative URL.");if(r.scheme)return n.alwaysNormalize?(r.path=o.normalizePath(r.path),o.buildURLFromParts(r)):t;var a=o.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var l=i.exec(a.path);a.netLoc=l[1],a.path=l[2]}a.netLoc&&!a.path&&(a.path="/");var c={scheme:a.scheme,netLoc:r.netLoc,path:null,params:r.params,query:r.query,fragment:r.fragment};if(!r.netLoc&&(c.netLoc=a.netLoc,"/"!==r.path[0]))if(r.path){var d=a.path,u=d.substring(0,d.lastIndexOf("/")+1)+r.path;c.path=o.normalizePath(u)}else c.path=a.path,r.params||(c.params=a.params,r.query||(c.query=a.query));return null===c.path&&(c.path=n.alwaysNormalize?o.normalizePath(r.path):r.path),o.buildURLFromParts(c)},parseURL:function(e){var i=t.exec(e);return i?{scheme:i[1]||"",netLoc:i[2]||"",path:i[3]||"",params:i[4]||"",query:i[5]||"",fragment:i[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(n,"");e.length!==(e=e.replace(s,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=o},8677:(e,t,i)=>{var n=i(4560),s=e.exports={WebVTT:i(4954),VTTCue:i(6455),VTTRegion:i(4314)};n.vttjs=s,n.WebVTT=s.WebVTT;var o=s.VTTCue,r=s.VTTRegion,a=n.VTTCue,l=n.VTTRegion;s.shim=function(){n.VTTCue=o,n.VTTRegion=r},s.restore=function(){n.VTTCue=a,n.VTTRegion=l},n.VTTCue||s.shim()},4954:(e,t,i)=>{var n=i(5786),s=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function o(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function r(e){function t(e,t,i,n){return 3600*(0|e)+60*(0|t)+(0|i)+(0|n)/1e3}var i=e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return i?i[3]?t(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?t(i[1],i[2],0,i[4]):t(0,i[1],i[2],i[4]):null}function a(){this.values=s(null)}function l(e,t,i,n){var s=n?e.split(n):[e];for(var o in s)if("string"==typeof s[o]){var r=s[o].split(i);2===r.length&&t(r[0].trim(),r[1].trim())}}function c(e,t,i){var n=e;function s(){var t=r(e);if(null===t)throw new o(o.Errors.BadTimeStamp,"Malformed timestamp: "+n);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function c(){e=e.replace(/^\s+/,"")}if(c(),t.startTime=s(),c(),"--\x3e"!==e.substr(0,3))throw new o(o.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);e=e.substr(3),c(),t.endTime=s(),c(),function(e,t){var n=new a;l(e,(function(e,t){switch(e){case"region":for(var s=i.length-1;s>=0;s--)if(i[s].id===t){n.set(e,i[s].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),r=o[0];n.integer(e,r),n.percent(e,r)&&n.set("snapToLines",!1),n.alt(e,r,["auto"]),2===o.length&&n.alt("lineAlign",o[1],["start","center","end"]);break;case"position":o=t.split(","),n.percent(e,o[0]),2===o.length&&n.alt("positionAlign",o[1],["start","center","end"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start","center","end","left","right"])}}),/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical","");try{t.line=n.get("line","auto")}catch(e){}t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100);try{t.align=n.get("align","center")}catch(e){t.align=n.get("align","middle")}try{t.position=n.get("position","auto")}catch(e){t.position=n.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=n.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(e,t)}o.prototype=s(Error.prototype),o.prototype.constructor=o,o.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},a.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,i){return i?this.has(e)?this.values[e]:t[i]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,i){for(var n=0;n<i.length;++n)if(t===i[n]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var d=n.createElement&&n.createElement("textarea"),u={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},h={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},p={v:"title",lang:"lang"},f={rt:"ruby"};function m(e,t){function i(){if(!t)return null;var e,i=t.match(/^([^<]*)(<[^>]*>?)?/);return e=i[1]?i[1]:i[2],t=t.substr(e.length),e}function n(e,t){return!f[t.localName]||f[t.localName]===e.localName}function s(t,i){var n=u[t];if(!n)return null;var s=e.document.createElement(n),o=p[t];return o&&i&&(s[o]=i.trim()),s}for(var o,a,l=e.document.createElement("div"),c=l,m=[];null!==(o=i());)if("<"!==o[0])c.appendChild(e.document.createTextNode((a=o,d.innerHTML=a,a=d.textContent,d.textContent="",a)));else{if("/"===o[1]){m.length&&m[m.length-1]===o.substr(2).replace(">","")&&(m.pop(),c=c.parentNode);continue}var g,v=r(o.substr(1,o.length-2));if(v){g=e.document.createProcessingInstruction("timestamp",v),c.appendChild(g);continue}var y=o.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!y)continue;if(!(g=s(y[1],y[3])))continue;if(!n(c,g))continue;if(y[2]){var b=y[2].split(".");b.forEach((function(e){var t=/^bg_/.test(e),i=t?e.slice(3):e;if(h.hasOwnProperty(i)){var n=t?"background-color":"color",s=h[i];g.style[n]=s}})),g.className=b.join(" ")}m.push(y[1]),c.appendChild(g),c=g}return l}var g=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function v(e){for(var t=0;t<g.length;t++){var i=g[t];if(e>=i[0]&&e<=i[1])return!0}return!1}function y(e){var t=[],i="";if(!e||!e.childNodes)return"ltr";function n(e,t){for(var i=t.childNodes.length-1;i>=0;i--)e.push(t.childNodes[i])}function s(e){if(!e||!e.length)return null;var t=e.pop(),i=t.textContent||t.innerText;if(i){var o=i.match(/^.*(\n|\r)/);return o?(e.length=0,o[0]):i}return"ruby"===t.tagName?s(e):t.childNodes?(n(e,t),s(e)):void 0}for(n(t,e);i=s(t);)for(var o=0;o<i.length;o++)if(v(i.charCodeAt(o)))return"rtl";return"ltr"}function b(){}function _(e,t,i){b.call(this),this.cue=t,this.cueDiv=m(e,t.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=e.document.createElement("div"),n={direction:y(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var s=0;switch(t.positionAlign){case"start":case"line-left":s=t.position;break;case"center":s=t.position-t.size/2;break;case"end":case"line-right":s=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(s,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(s,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function x(e){var t,i,n,s;if(e.div){i=e.div.offsetHeight,n=e.div.offsetWidth,s=e.div.offsetTop;var o=(o=e.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();e=e.div.getBoundingClientRect(),t=o?Math.max(o[0]&&o[0].height||0,e.height/o.length):0}this.left=e.left,this.right=e.right,this.top=e.top||s,this.height=e.height||i,this.bottom=e.bottom||s+(e.height||i),this.width=e.width||n,this.lineHeight=void 0!==t?t:e.lineHeight}function w(e,t,i,n){var s=new x(t),o=t.cue,r=function(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,i=t.textTrackList,n=0,s=0;s<i.length&&i[s]!==t;s++)"showing"===i[s].mode&&n++;return-1*++n}(o),a=[];if(o.snapToLines){var l;switch(o.vertical){case"":a=["+y","-y"],l="height";break;case"rl":a=["+x","-x"],l="width";break;case"lr":a=["-x","+x"],l="width"}var c=s.lineHeight,d=c*Math.round(r),u=i[l]+c,h=a[0];Math.abs(d)>u&&(d=d<0?-1:1,d*=Math.ceil(u/c)*c),r<0&&(d+=""===o.vertical?i.height:i.width,a=a.reverse()),s.move(h,d)}else{var p=s.lineHeight/i.height*100;switch(o.lineAlign){case"center":r-=p/2;break;case"end":r-=p}switch(o.vertical){case"":t.applyStyles({top:t.formatStyle(r,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(r,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(r,"%")})}a=["+y","-x","+x","-y"],s=new x(t)}var f=function(e,t){for(var s,o=new x(e),r=1,a=0;a<t.length;a++){for(;e.overlapsOppositeAxis(i,t[a])||e.within(i)&&e.overlapsAny(n);)e.move(t[a]);if(e.within(i))return e;var l=e.intersectPercentage(i);r>l&&(s=new x(e),r=l),e=new x(o)}return s||o}(s,a);t.move(f.toCSSCompatValues(i))}function k(){}b.prototype.applyStyles=function(e,t){for(var i in t=t||this.div,e)e.hasOwnProperty(i)&&(t.style[i]=e[i])},b.prototype.formatStyle=function(e,t){return 0===e?0:e+t},_.prototype=s(b.prototype),_.prototype.constructor=_,x.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},x.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},x.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},x.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},x.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},x.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},x.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},x.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,i=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,n=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||n,height:e.height||t,bottom:e.bottom||n+(e.height||t),width:e.width||i}},k.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},k.convertCueToDOMTree=function(e,t){return e&&t?m(e,t):null},k.processCues=function(e,t,i){if(!e||!t||!i)return null;for(;i.firstChild;)i.removeChild(i.firstChild);var n=e.document.createElement("div");if(n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin="1.5%",i.appendChild(n),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var s=[],o=x.getSimpleBoxPosition(n),r={font:Math.round(.05*o.height*100)/100+"px sans-serif"};!function(){for(var i,a,l=0;l<t.length;l++)a=t[l],i=new _(e,a,r),n.appendChild(i.div),w(0,i,o,s),a.displayState=i.div,s.push(x.getSimpleBoxPosition(i))}()}else for(var a=0;a<t.length;a++)n.appendChild(t[a].displayState)},k.Parser=function(e,t,i){i||(i=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]},k.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof o))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t,i=this;function n(){for(var e=i.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,i.buffer=e.substr(t),n}e&&(i.buffer+=i.decoder.decode(e,{stream:!0}));try{var s;if("INITIAL"===i.state){if(!/\r\n|\n/.test(i.buffer))return this;var d=(s=n()).match(/^WEBVTT([ \t].*)?$/);if(!d||!d[0])throw new o(o.Errors.BadSignature);i.state="HEADER"}for(var u=!1;i.buffer;){if(!/\r\n|\n/.test(i.buffer))return this;switch(u?u=!1:s=n(),i.state){case"HEADER":/:/.test(s)?(t=s).match(/X-TIMESTAMP-MAP/)?l(t,(function(e,t){"X-TIMESTAMP-MAP"===e&&function(e){var t=new a;l(e,(function(e,i){switch(e){case"MPEGT":t.integer(e+"S",i);break;case"LOCA":t.set(e+"L",r(i))}}),/[^\d]:/,/,/),i.ontimestampmap&&i.ontimestampmap({MPEGTS:t.get("MPEGTS"),LOCAL:t.get("LOCAL")})}(t)}),/=/):l(t,(function(e,t){"Region"===e&&function(e){var t=new a;if(l(e,(function(e,i){switch(e){case"id":t.set(e,i);break;case"width":t.percent(e,i);break;case"lines":t.integer(e,i);break;case"regionanchor":case"viewportanchor":var n=i.split(",");if(2!==n.length)break;var s=new a;if(s.percent("x",n[0]),s.percent("y",n[1]),!s.has("x")||!s.has("y"))break;t.set(e+"X",s.get("x")),t.set(e+"Y",s.get("y"));break;case"scroll":t.alt(e,i,["up"])}}),/=/,/\s/),t.has("id")){var n=new(i.vttjs.VTTRegion||i.window.VTTRegion);n.width=t.get("width",100),n.lines=t.get("lines",3),n.regionAnchorX=t.get("regionanchorX",0),n.regionAnchorY=t.get("regionanchorY",100),n.viewportAnchorX=t.get("viewportanchorX",0),n.viewportAnchorY=t.get("viewportanchorY",100),n.scroll=t.get("scroll",""),i.onregion&&i.onregion(n),i.regionList.push({id:t.get("id"),region:n})}}(t)}),/:/):s||(i.state="ID");continue;case"NOTE":s||(i.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){i.state="NOTE";break}if(!s)continue;i.cue=new(i.vttjs.VTTCue||i.window.VTTCue)(0,0,"");try{i.cue.align="center"}catch(e){i.cue.align="middle"}if(i.state="CUE",-1===s.indexOf("--\x3e")){i.cue.id=s;continue}case"CUE":try{c(s,i.cue,i.regionList)}catch(e){i.reportOrThrowError(e),i.cue=null,i.state="BADCUE";continue}i.state="CUETEXT";continue;case"CUETEXT":var h=-1!==s.indexOf("--\x3e");if(!s||h&&(u=!0)){i.oncue&&i.oncue(i.cue),i.cue=null,i.state="ID";continue}i.cue.text&&(i.cue.text+="\n"),i.cue.text+=s.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":s||(i.state="ID");continue}}}catch(e){i.reportOrThrowError(e),"CUETEXT"===i.state&&i.cue&&i.oncue&&i.oncue(i.cue),i.cue=null,i.state="INITIAL"===i.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new o(o.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}},e.exports=k},6455:e=>{var t={"":1,lr:1,rl:1},i={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function n(e){return"string"==typeof e&&!!i[e.toLowerCase()]&&e.toLowerCase()}function s(e,i,s){this.hasBeenReset=!1;var o="",r=!1,a=e,l=i,c=s,d=null,u="",h=!0,p="auto",f="start",m="auto",g="auto",v=100,y="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return o},set:function(e){o=""+e}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(e){r=!!e}},startTime:{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");a=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");l=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return c},set:function(e){c=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return d},set:function(e){d=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return u},set:function(e){var i=function(e){return"string"==typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===i)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");u=i,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return h},set:function(e){h=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return p},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("Line: an invalid number or illegal string was specified.");p=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return f},set:function(e){var t=n(e);t?(f=t,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return m},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");m=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return g},set:function(e){var t=n(e);t?(g=t,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return v},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");v=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return y},set:function(e){var t=n(e);if(!t)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");y=t,this.hasBeenReset=!0}}}),this.displayState=void 0}s.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.exports=s},4314:e=>{var t={"":!0,up:!0};function i(e){return"number"==typeof e&&e>=0&&e<=100}e.exports=function(){var e=100,n=3,s=0,o=100,r=0,a=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!i(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return n},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");n=e}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!i(e))throw new Error("RegionAnchorX must be between 0 and 100.");o=e}},regionAnchorX:{enumerable:!0,get:function(){return s},set:function(e){if(!i(e))throw new Error("RegionAnchorY must be between 0 and 100.");s=e}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(e){if(!i(e))throw new Error("ViewportAnchorY must be between 0 and 100.");a=e}},viewportAnchorX:{enumerable:!0,get:function(){return r},set:function(e){if(!i(e))throw new Error("ViewportAnchorX must be between 0 and 100.");r=e}},scroll:{enumerable:!0,get:function(){return l},set:function(e){var i=function(e){return"string"==typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}(e);!1===i?console.warn("Scroll: an invalid or illegal string was specified."):l=i}}})}},734:(e,t)=>{"use strict";t.Z=(e,t)=>{const i=e.__vccOpts||e;for(const[e,n]of t)i[e]=n;return i}},8933:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(739),s=i(127),o=i(171);function r(e){var t=Object.create(null);if(e)for(var i in e)t[i]=e[i];return t.default=e,Object.freeze(t)}var a=r(s);const l=Object.create(null);function c(e,t){if(!o.isString(e)){if(!e.nodeType)return o.NOOP;e=e.innerHTML}const i=e,s=l[i];if(s)return s;if("#"===e[0]){const t=document.querySelector(e);e=t?t.innerHTML:""}const r=o.extend({hoistStatic:!0,onError:void 0,onWarn:o.NOOP},t);r.isCustomElement||"undefined"==typeof customElements||(r.isCustomElement=e=>!!customElements.get(e));const{code:c}=n.compile(e,r),d=new Function("Vue",c)(a);return d._rc=!0,l[i]=d}s.registerRuntimeCompiler(c),t.compile=c,Object.keys(s).forEach((function(e){"default"===e||t.hasOwnProperty(e)||(t[e]=s[e])}))},6901:(e,t,i)=>{"use strict";e.exports=i(8933)},9653:function(e,t,i){var n;"undefined"!=typeof self&&self,n=function(e,t){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s="fb15")}({"00ee":function(e,t,i){var n={};n[i("b622")("toStringTag")]="z",e.exports="[object z]"===String(n)},"0366":function(e,t,i){var n=i("1c0b");e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 0:return function(){return e.call(t)};case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,s){return e.call(t,i,n,s)}}return function(){return e.apply(t,arguments)}}},"057f":function(e,t,i){var n=i("fc6a"),s=i("241c").f,o={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return r&&"[object Window]"==o.call(e)?function(e){try{return s(e)}catch(e){return r.slice()}}(e):s(n(e))}},"06cf":function(e,t,i){var n=i("83ab"),s=i("d1e7"),o=i("5c6c"),r=i("fc6a"),a=i("c04e"),l=i("5135"),c=i("0cfb"),d=Object.getOwnPropertyDescriptor;t.f=n?d:function(e,t){if(e=r(e),t=a(t,!0),c)try{return d(e,t)}catch(e){}if(l(e,t))return o(!s.f.call(e,t),e[t])}},"0cfb":function(e,t,i){var n=i("83ab"),s=i("d039"),o=i("cc12");e.exports=!n&&!s((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"13d5":function(e,t,i){"use strict";var n=i("23e7"),s=i("d58f").left,o=i("a640"),r=i("ae40"),a=o("reduce"),l=r("reduce",{1:0});n({target:"Array",proto:!0,forced:!a||!l},{reduce:function(e){return s(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(e,t,i){var n=i("c6b6"),s=i("9263");e.exports=function(e,t){var i=e.exec;if("function"==typeof i){var o=i.call(e,t);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return s.call(e,t)}},"159b":function(e,t,i){var n=i("da84"),s=i("fdbc"),o=i("17c2"),r=i("9112");for(var a in s){var l=n[a],c=l&&l.prototype;if(c&&c.forEach!==o)try{r(c,"forEach",o)}catch(e){c.forEach=o}}},"17c2":function(e,t,i){"use strict";var n=i("b727").forEach,s=i("a640"),o=i("ae40"),r=s("forEach"),a=o("forEach");e.exports=r&&a?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},"1be4":function(e,t,i){var n=i("d066");e.exports=n("document","documentElement")},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1c7e":function(e,t,i){var n=i("b622")("iterator"),s=!1;try{var o=0,r={next:function(){return{done:!!o++}},return:function(){s=!0}};r[n]=function(){return this},Array.from(r,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!s)return!1;var i=!1;try{var o={};o[n]=function(){return{next:function(){return{done:i=!0}}}},e(o)}catch(e){}return i}},"1d80":function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},"1dde":function(e,t,i){var n=i("d039"),s=i("b622"),o=i("2d00"),r=s("species");e.exports=function(e){return o>=51||!n((function(){var t=[];return(t.constructor={})[r]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"23cb":function(e,t,i){var n=i("a691"),s=Math.max,o=Math.min;e.exports=function(e,t){var i=n(e);return i<0?s(i+t,0):o(i,t)}},"23e7":function(e,t,i){var n=i("da84"),s=i("06cf").f,o=i("9112"),r=i("6eeb"),a=i("ce4e"),l=i("e893"),c=i("94ca");e.exports=function(e,t){var i,d,u,h,p,f=e.target,m=e.global,g=e.stat;if(i=m?n:g?n[f]||a(f,{}):(n[f]||{}).prototype)for(d in t){if(h=t[d],u=e.noTargetGet?(p=s(i,d))&&p.value:i[d],!c(m?d:f+(g?".":"#")+d,e.forced)&&void 0!==u){if(typeof h==typeof u)continue;l(h,u)}(e.sham||u&&u.sham)&&o(h,"sham",!0),r(i,d,h,e)}}},"241c":function(e,t,i){var n=i("ca84"),s=i("7839").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,s)}},"25f0":function(e,t,i){"use strict";var n=i("6eeb"),s=i("825a"),o=i("d039"),r=i("ad6d"),a="toString",l=RegExp.prototype,c=l[a],d=o((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),u=c.name!=a;(d||u)&&n(RegExp.prototype,a,(function(){var e=s(this),t=String(e.source),i=e.flags;return"/"+t+"/"+String(void 0===i&&e instanceof RegExp&&!("flags"in l)?r.call(e):i)}),{unsafe:!0})},"2ca0":function(e,t,i){"use strict";var n,s=i("23e7"),o=i("06cf").f,r=i("50c4"),a=i("5a34"),l=i("1d80"),c=i("ab13"),d=i("c430"),u="".startsWith,h=Math.min,p=c("startsWith");s({target:"String",proto:!0,forced:!(!d&&!p&&(n=o(String.prototype,"startsWith"),n&&!n.writable)||p)},{startsWith:function(e){var t=String(l(this));a(e);var i=r(h(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return u?u.call(t,n,i):t.slice(i,i+n.length)===n}})},"2d00":function(e,t,i){var n,s,o=i("da84"),r=i("342f"),a=o.process,l=a&&a.versions,c=l&&l.v8;c?s=(n=c.split("."))[0]+n[1]:r&&(!(n=r.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=r.match(/Chrome\/(\d+)/))&&(s=n[1]),e.exports=s&&+s},"342f":function(e,t,i){var n=i("d066");e.exports=n("navigator","userAgent")||""},"35a1":function(e,t,i){var n=i("f5df"),s=i("3f8c"),o=i("b622")("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||s[n(e)]}},"37e8":function(e,t,i){var n=i("83ab"),s=i("9bf2"),o=i("825a"),r=i("df75");e.exports=n?Object.defineProperties:function(e,t){o(e);for(var i,n=r(t),a=n.length,l=0;a>l;)s.f(e,i=n[l++],t[i]);return e}},"3bbe":function(e,t,i){var n=i("861d");e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"3ca3":function(e,t,i){"use strict";var n=i("6547").charAt,s=i("69f3"),o=i("7dd0"),r="String Iterator",a=s.set,l=s.getterFor(r);o(String,"String",(function(e){a(this,{type:r,string:String(e),index:0})}),(function(){var e,t=l(this),i=t.string,s=t.index;return s>=i.length?{value:void 0,done:!0}:(e=n(i,s),t.index+=e.length,{value:e,done:!1})}))},"3f8c":function(e,t){e.exports={}},4160:function(e,t,i){"use strict";var n=i("23e7"),s=i("17c2");n({target:"Array",proto:!0,forced:[].forEach!=s},{forEach:s})},"428f":function(e,t,i){var n=i("da84");e.exports=n},"44ad":function(e,t,i){var n=i("d039"),s=i("c6b6"),o="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==s(e)?o.call(e,""):Object(e)}:Object},"44d2":function(e,t,i){var n=i("b622"),s=i("7c73"),o=i("9bf2"),r=n("unscopables"),a=Array.prototype;null==a[r]&&o.f(a,r,{configurable:!0,value:s(null)}),e.exports=function(e){a[r][e]=!0}},"44e7":function(e,t,i){var n=i("861d"),s=i("c6b6"),o=i("b622")("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==s(e))}},4930:function(e,t,i){var n=i("d039");e.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},"4d64":function(e,t,i){var n=i("fc6a"),s=i("50c4"),o=i("23cb"),r=function(e){return function(t,i,r){var a,l=n(t),c=s(l.length),d=o(r,c);if(e&&i!=i){for(;c>d;)if((a=l[d++])!=a)return!0}else for(;c>d;d++)if((e||d in l)&&l[d]===i)return e||d||0;return!e&&-1}};e.exports={includes:r(!0),indexOf:r(!1)}},"4de4":function(e,t,i){"use strict";var n=i("23e7"),s=i("b727").filter,o=i("1dde"),r=i("ae40"),a=o("filter"),l=r("filter");n({target:"Array",proto:!0,forced:!a||!l},{filter:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(e,t,i){"use strict";var n=i("0366"),s=i("7b0b"),o=i("9bdd"),r=i("e95a"),a=i("50c4"),l=i("8418"),c=i("35a1");e.exports=function(e){var t,i,d,u,h,p,f=s(e),m="function"==typeof this?this:Array,g=arguments.length,v=g>1?arguments[1]:void 0,y=void 0!==v,b=c(f),_=0;if(y&&(v=n(v,g>2?arguments[2]:void 0,2)),null==b||m==Array&&r(b))for(i=new m(t=a(f.length));t>_;_++)p=y?v(f[_],_):f[_],l(i,_,p);else for(h=(u=b.call(f)).next,i=new m;!(d=h.call(u)).done;_++)p=y?o(u,v,[d.value,_],!0):d.value,l(i,_,p);return i.length=_,i}},"4fad":function(e,t,i){var n=i("23e7"),s=i("6f53").entries;n({target:"Object",stat:!0},{entries:function(e){return s(e)}})},"50c4":function(e,t,i){var n=i("a691"),s=Math.min;e.exports=function(e){return e>0?s(n(e),9007199254740991):0}},5135:function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},5319:function(e,t,i){"use strict";var n=i("d784"),s=i("825a"),o=i("7b0b"),r=i("50c4"),a=i("a691"),l=i("1d80"),c=i("8aa5"),d=i("14c3"),u=Math.max,h=Math.min,p=Math.floor,f=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g;n("replace",2,(function(e,t,i,n){var g=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=n.REPLACE_KEEPS_$0,y=g?"$":"$0";return[function(i,n){var s=l(this),o=null==i?void 0:i[e];return void 0!==o?o.call(i,s,n):t.call(String(s),i,n)},function(e,n){if(!g&&v||"string"==typeof n&&-1===n.indexOf(y)){var o=i(t,e,this,n);if(o.done)return o.value}var l=s(e),p=String(this),f="function"==typeof n;f||(n=String(n));var m=l.global;if(m){var _=l.unicode;l.lastIndex=0}for(var x=[];;){var w=d(l,p);if(null===w)break;if(x.push(w),!m)break;""===String(w[0])&&(l.lastIndex=c(p,r(l.lastIndex),_))}for(var k,S="",T=0,C=0;C<x.length;C++){w=x[C];for(var E=String(w[0]),A=u(h(a(w.index),p.length),0),I=[],M=1;M<w.length;M++)I.push(void 0===(k=w[M])?k:String(k));var O=w.groups;if(f){var D=[E].concat(I,A,p);void 0!==O&&D.push(O);var P=String(n.apply(void 0,D))}else P=b(E,p,A,I,O,n);A>=T&&(S+=p.slice(T,A)+P,T=A+E.length)}return S+p.slice(T)}];function b(e,i,n,s,r,a){var l=n+e.length,c=s.length,d=m;return void 0!==r&&(r=o(r),d=f),t.call(a,d,(function(t,o){var a;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return i.slice(0,n);case"'":return i.slice(l);case"<":a=r[o.slice(1,-1)];break;default:var d=+o;if(0===d)return t;if(d>c){var u=p(d/10);return 0===u?t:u<=c?void 0===s[u-1]?o.charAt(1):s[u-1]+o.charAt(1):t}a=s[d-1]}return void 0===a?"":a}))}}))},5692:function(e,t,i){var n=i("c430"),s=i("c6cd");(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:n?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,i){var n=i("d066"),s=i("241c"),o=i("7418"),r=i("825a");e.exports=n("Reflect","ownKeys")||function(e){var t=s.f(r(e)),i=o.f;return i?t.concat(i(e)):t}},"5a34":function(e,t,i){var n=i("44e7");e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5db7":function(e,t,i){"use strict";var n=i("23e7"),s=i("a2bf"),o=i("7b0b"),r=i("50c4"),a=i("1c0b"),l=i("65f0");n({target:"Array",proto:!0},{flatMap:function(e){var t,i=o(this),n=r(i.length);return a(e),(t=l(i,0)).length=s(t,i,i,n,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},6547:function(e,t,i){var n=i("a691"),s=i("1d80"),o=function(e){return function(t,i){var o,r,a=String(s(t)),l=n(i),c=a.length;return l<0||l>=c?e?"":void 0:(o=a.charCodeAt(l))<55296||o>56319||l+1===c||(r=a.charCodeAt(l+1))<56320||r>57343?e?a.charAt(l):o:e?a.slice(l,l+2):r-56320+(o-55296<<10)+65536}};e.exports={codeAt:o(!1),charAt:o(!0)}},"65f0":function(e,t,i){var n=i("861d"),s=i("e8b5"),o=i("b622")("species");e.exports=function(e,t){var i;return s(e)&&("function"!=typeof(i=e.constructor)||i!==Array&&!s(i.prototype)?n(i)&&null===(i=i[o])&&(i=void 0):i=void 0),new(void 0===i?Array:i)(0===t?0:t)}},"69f3":function(e,t,i){var n,s,o,r=i("7f9a"),a=i("da84"),l=i("861d"),c=i("9112"),d=i("5135"),u=i("f772"),h=i("d012"),p=a.WeakMap;if(r){var f=new p,m=f.get,g=f.has,v=f.set;n=function(e,t){return v.call(f,e,t),t},s=function(e){return m.call(f,e)||{}},o=function(e){return g.call(f,e)}}else{var y=u("state");h[y]=!0,n=function(e,t){return c(e,y,t),t},s=function(e){return d(e,y)?e[y]:{}},o=function(e){return d(e,y)}}e.exports={set:n,get:s,has:o,enforce:function(e){return o(e)?s(e):n(e,{})},getterFor:function(e){return function(t){var i;if(!l(t)||(i=s(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return i}}}},"6eeb":function(e,t,i){var n=i("da84"),s=i("9112"),o=i("5135"),r=i("ce4e"),a=i("8925"),l=i("69f3"),c=l.get,d=l.enforce,u=String(String).split("String");(e.exports=function(e,t,i,a){var l=!!a&&!!a.unsafe,c=!!a&&!!a.enumerable,h=!!a&&!!a.noTargetGet;"function"==typeof i&&("string"!=typeof t||o(i,"name")||s(i,"name",t),d(i).source=u.join("string"==typeof t?t:"")),e!==n?(l?!h&&e[t]&&(c=!0):delete e[t],c?e[t]=i:s(e,t,i)):c?e[t]=i:r(t,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||a(this)}))},"6f53":function(e,t,i){var n=i("83ab"),s=i("df75"),o=i("fc6a"),r=i("d1e7").f,a=function(e){return function(t){for(var i,a=o(t),l=s(a),c=l.length,d=0,u=[];c>d;)i=l[d++],n&&!r.call(a,i)||u.push(e?[i,a[i]]:a[i]);return u}};e.exports={entries:a(!0),values:a(!1)}},"73d9":function(e,t,i){i("44d2")("flatMap")},7418:function(e,t){t.f=Object.getOwnPropertySymbols},"746f":function(e,t,i){var n=i("428f"),s=i("5135"),o=i("e538"),r=i("9bf2").f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});s(t,e)||r(t,e,{value:o.f(e)})}},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(e,t,i){var n=i("1d80");e.exports=function(e){return Object(n(e))}},"7c73":function(e,t,i){var n,s=i("825a"),o=i("37e8"),r=i("7839"),a=i("d012"),l=i("1be4"),c=i("cc12"),d=i("f772"),u="prototype",h="script",p=d("IE_PROTO"),f=function(){},m=function(e){return"<"+h+">"+e+"</"+h+">"},g=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t,i;g=n?function(e){e.write(m("")),e.close();var t=e.parentWindow.Object;return e=null,t}(n):(t=c("iframe"),i="java"+h+":",t.style.display="none",l.appendChild(t),t.src=String(i),(e=t.contentWindow.document).open(),e.write(m("document.F=Object")),e.close(),e.F);for(var s=r.length;s--;)delete g[u][r[s]];return g()};a[p]=!0,e.exports=Object.create||function(e,t){var i;return null!==e?(f[u]=s(e),i=new f,f[u]=null,i[p]=e):i=g(),void 0===t?i:o(i,t)}},"7dd0":function(e,t,i){"use strict";var n=i("23e7"),s=i("9ed3"),o=i("e163"),r=i("d2bb"),a=i("d44e"),l=i("9112"),c=i("6eeb"),d=i("b622"),u=i("c430"),h=i("3f8c"),p=i("ae93"),f=p.IteratorPrototype,m=p.BUGGY_SAFARI_ITERATORS,g=d("iterator"),v="keys",y="values",b="entries",_=function(){return this};e.exports=function(e,t,i,d,p,x,w){s(i,t,d);var k,S,T,C=function(e){if(e===p&&O)return O;if(!m&&e in I)return I[e];switch(e){case v:case y:case b:return function(){return new i(this,e)}}return function(){return new i(this)}},E=t+" Iterator",A=!1,I=e.prototype,M=I[g]||I["@@iterator"]||p&&I[p],O=!m&&M||C(p),D="Array"==t&&I.entries||M;if(D&&(k=o(D.call(new e)),f!==Object.prototype&&k.next&&(u||o(k)===f||(r?r(k,f):"function"!=typeof k[g]&&l(k,g,_)),a(k,E,!0,!0),u&&(h[E]=_))),p==y&&M&&M.name!==y&&(A=!0,O=function(){return M.call(this)}),u&&!w||I[g]===O||l(I,g,O),h[t]=O,p)if(S={values:C(y),keys:x?O:C(v),entries:C(b)},w)for(T in S)(m||A||!(T in I))&&c(I,T,S[T]);else n({target:t,proto:!0,forced:m||A},S);return S}},"7f9a":function(e,t,i){var n=i("da84"),s=i("8925"),o=n.WeakMap;e.exports="function"==typeof o&&/native code/.test(s(o))},"825a":function(e,t,i){var n=i("861d");e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,i){var n=i("d039");e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(e,t,i){"use strict";var n=i("c04e"),s=i("9bf2"),o=i("5c6c");e.exports=function(e,t,i){var r=n(t);r in e?s.f(e,r,o(0,i)):e[r]=i}},"861d":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},8875:function(e,t,i){var n,s;"undefined"!=typeof self&&self,void 0===(s="function"==typeof(n=function(){return function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(e){var i,n,s,o=/.*at [^(]*\((.*):(.+):(.+)\)$/gi.exec(e.stack)||/@([^@]*):(\d+):(\d+)\s*$/gi.exec(e.stack),r=o&&o[1]||!1,a=o&&o[2]||!1,l=document.location.href.replace(document.location.hash,""),c=document.getElementsByTagName("script");r===l&&(i=document.documentElement.outerHTML,n=new RegExp("(?:[^\\n]+?\\n){0,"+(a-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),s=i.replace(n,"$1").trim());for(var d=0;d<c.length;d++){if("interactive"===c[d].readyState)return c[d];if(c[d].src===r)return c[d];if(r===l&&c[d].innerHTML&&c[d].innerHTML.trim()===s)return c[d]}return null}}})?n.apply(t,[]):n)||(e.exports=s)},8925:function(e,t,i){var n=i("c6cd"),s=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return s.call(e)}),e.exports=n.inspectSource},"8aa5":function(e,t,i){"use strict";var n=i("6547").charAt;e.exports=function(e,t,i){return t+(i?n(e,t).length:1)}},"8bbf":function(t,i){t.exports=e},"90e3":function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++i+n).toString(36)}},9112:function(e,t,i){var n=i("83ab"),s=i("9bf2"),o=i("5c6c");e.exports=n?function(e,t,i){return s.f(e,t,o(1,i))}:function(e,t,i){return e[t]=i,e}},9263:function(e,t,i){"use strict";var n,s,o=i("ad6d"),r=i("9f7f"),a=RegExp.prototype.exec,l=String.prototype.replace,c=a,d=(n=/a/,s=/b*/g,a.call(n,"a"),a.call(s,"a"),0!==n.lastIndex||0!==s.lastIndex),u=r.UNSUPPORTED_Y||r.BROKEN_CARET,h=void 0!==/()??/.exec("")[1];(d||h||u)&&(c=function(e){var t,i,n,s,r=this,c=u&&r.sticky,p=o.call(r),f=r.source,m=0,g=e;return c&&(-1===(p=p.replace("y","")).indexOf("g")&&(p+="g"),g=String(e).slice(r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&"\n"!==e[r.lastIndex-1])&&(f="(?: "+f+")",g=" "+g,m++),i=new RegExp("^(?:"+f+")",p)),h&&(i=new RegExp("^"+f+"$(?!\\s)",p)),d&&(t=r.lastIndex),n=a.call(c?i:r,g),c?n?(n.input=n.input.slice(m),n[0]=n[0].slice(m),n.index=r.lastIndex,r.lastIndex+=n[0].length):r.lastIndex=0:d&&n&&(r.lastIndex=r.global?n.index+n[0].length:t),h&&n&&n.length>1&&l.call(n[0],i,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(n[s]=void 0)})),n}),e.exports=c},"94ca":function(e,t,i){var n=i("d039"),s=/#|\.prototype\./,o=function(e,t){var i=a[r(e)];return i==c||i!=l&&("function"==typeof t?n(t):!!t)},r=o.normalize=function(e){return String(e).replace(s,".").toLowerCase()},a=o.data={},l=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},"99af":function(e,t,i){"use strict";var n=i("23e7"),s=i("d039"),o=i("e8b5"),r=i("861d"),a=i("7b0b"),l=i("50c4"),c=i("8418"),d=i("65f0"),u=i("1dde"),h=i("b622"),p=i("2d00"),f=h("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",v=p>=51||!s((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),y=u("concat"),b=function(e){if(!r(e))return!1;var t=e[f];return void 0!==t?!!t:o(e)};n({target:"Array",proto:!0,forced:!v||!y},{concat:function(e){var t,i,n,s,o,r=a(this),u=d(r,0),h=0;for(t=-1,n=arguments.length;t<n;t++)if(b(o=-1===t?r:arguments[t])){if(h+(s=l(o.length))>m)throw TypeError(g);for(i=0;i<s;i++,h++)i in o&&c(u,h,o[i])}else{if(h>=m)throw TypeError(g);c(u,h++,o)}return u.length=h,u}})},"9bdd":function(e,t,i){var n=i("825a");e.exports=function(e,t,i,s){try{return s?t(n(i)[0],i[1]):t(i)}catch(t){var o=e.return;throw void 0!==o&&n(o.call(e)),t}}},"9bf2":function(e,t,i){var n=i("83ab"),s=i("0cfb"),o=i("825a"),r=i("c04e"),a=Object.defineProperty;t.f=n?a:function(e,t,i){if(o(e),t=r(t,!0),o(i),s)try{return a(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(e[t]=i.value),e}},"9ed3":function(e,t,i){"use strict";var n=i("ae93").IteratorPrototype,s=i("7c73"),o=i("5c6c"),r=i("d44e"),a=i("3f8c"),l=function(){return this};e.exports=function(e,t,i){var c=t+" Iterator";return e.prototype=s(n,{next:o(1,i)}),r(e,c,!1,!0),a[c]=l,e}},"9f7f":function(e,t,i){"use strict";var n=i("d039");function s(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=s("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=s("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a2bf:function(e,t,i){"use strict";var n=i("e8b5"),s=i("50c4"),o=i("0366"),r=function(e,t,i,a,l,c,d,u){for(var h,p=l,f=0,m=!!d&&o(d,u,3);f<a;){if(f in i){if(h=m?m(i[f],f,t):i[f],c>0&&n(h))p=r(e,t,h,s(h.length),p,c-1)-1;else{if(p>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[p]=h}p++}f++}return p};e.exports=r},a352:function(e,i){e.exports=t},a434:function(e,t,i){"use strict";var n=i("23e7"),s=i("23cb"),o=i("a691"),r=i("50c4"),a=i("7b0b"),l=i("65f0"),c=i("8418"),d=i("1dde"),u=i("ae40"),h=d("splice"),p=u("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,m=Math.min;n({target:"Array",proto:!0,forced:!h||!p},{splice:function(e,t){var i,n,d,u,h,p,g=a(this),v=r(g.length),y=s(e,v),b=arguments.length;if(0===b?i=n=0:1===b?(i=0,n=v-y):(i=b-2,n=m(f(o(t),0),v-y)),v+i-n>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(d=l(g,n),u=0;u<n;u++)(h=y+u)in g&&c(d,u,g[h]);if(d.length=n,i<n){for(u=y;u<v-n;u++)p=u+i,(h=u+n)in g?g[p]=g[h]:delete g[p];for(u=v;u>v-n+i;u--)delete g[u-1]}else if(i>n)for(u=v-n;u>y;u--)p=u+i-1,(h=u+n-1)in g?g[p]=g[h]:delete g[p];for(u=0;u<i;u++)g[u+y]=arguments[u+2];return g.length=v-n+i,d}})},a4d3:function(e,t,i){"use strict";var n=i("23e7"),s=i("da84"),o=i("d066"),r=i("c430"),a=i("83ab"),l=i("4930"),c=i("fdbf"),d=i("d039"),u=i("5135"),h=i("e8b5"),p=i("861d"),f=i("825a"),m=i("7b0b"),g=i("fc6a"),v=i("c04e"),y=i("5c6c"),b=i("7c73"),_=i("df75"),x=i("241c"),w=i("057f"),k=i("7418"),S=i("06cf"),T=i("9bf2"),C=i("d1e7"),E=i("9112"),A=i("6eeb"),I=i("5692"),M=i("f772"),O=i("d012"),D=i("90e3"),P=i("b622"),L=i("e538"),j=i("746f"),B=i("d44e"),R=i("69f3"),N=i("b727").forEach,U=M("hidden"),F="Symbol",z="prototype",H=P("toPrimitive"),V=R.set,q=R.getterFor(F),$=Object[z],W=s.Symbol,G=o("JSON","stringify"),Y=S.f,X=T.f,K=w.f,Q=C.f,Z=I("symbols"),J=I("op-symbols"),ee=I("string-to-symbol-registry"),te=I("symbol-to-string-registry"),ie=I("wks"),ne=s.QObject,se=!ne||!ne[z]||!ne[z].findChild,oe=a&&d((function(){return 7!=b(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a}))?function(e,t,i){var n=Y($,t);n&&delete $[t],X(e,t,i),n&&e!==$&&X($,t,n)}:X,re=function(e,t){var i=Z[e]=b(W[z]);return V(i,{type:F,tag:e,description:t}),a||(i.description=t),i},ae=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof W},le=function(e,t,i){e===$&&le(J,t,i),f(e);var n=v(t,!0);return f(i),u(Z,n)?(i.enumerable?(u(e,U)&&e[U][n]&&(e[U][n]=!1),i=b(i,{enumerable:y(0,!1)})):(u(e,U)||X(e,U,y(1,{})),e[U][n]=!0),oe(e,n,i)):X(e,n,i)},ce=function(e,t){f(e);var i=g(t),n=_(i).concat(pe(i));return N(n,(function(t){a&&!de.call(i,t)||le(e,t,i[t])})),e},de=function(e){var t=v(e,!0),i=Q.call(this,t);return!(this===$&&u(Z,t)&&!u(J,t))&&(!(i||!u(this,t)||!u(Z,t)||u(this,U)&&this[U][t])||i)},ue=function(e,t){var i=g(e),n=v(t,!0);if(i!==$||!u(Z,n)||u(J,n)){var s=Y(i,n);return!s||!u(Z,n)||u(i,U)&&i[U][n]||(s.enumerable=!0),s}},he=function(e){var t=K(g(e)),i=[];return N(t,(function(e){u(Z,e)||u(O,e)||i.push(e)})),i},pe=function(e){var t=e===$,i=K(t?J:g(e)),n=[];return N(i,(function(e){!u(Z,e)||t&&!u($,e)||n.push(Z[e])})),n};l||(W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=D(e),i=function(e){this===$&&i.call(J,e),u(this,U)&&u(this[U],t)&&(this[U][t]=!1),oe(this,t,y(1,e))};return a&&se&&oe($,t,{configurable:!0,set:i}),re(t,e)},A(W[z],"toString",(function(){return q(this).tag})),A(W,"withoutSetter",(function(e){return re(D(e),e)})),C.f=de,T.f=le,S.f=ue,x.f=w.f=he,k.f=pe,L.f=function(e){return re(P(e),e)},a&&(X(W[z],"description",{configurable:!0,get:function(){return q(this).description}}),r||A($,"propertyIsEnumerable",de,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:W}),N(_(ie),(function(e){j(e)})),n({target:F,stat:!0,forced:!l},{for:function(e){var t=String(e);if(u(ee,t))return ee[t];var i=W(t);return ee[t]=i,te[i]=t,i},keyFor:function(e){if(!ae(e))throw TypeError(e+" is not a symbol");if(u(te,e))return te[e]},useSetter:function(){se=!0},useSimple:function(){se=!1}}),n({target:"Object",stat:!0,forced:!l,sham:!a},{create:function(e,t){return void 0===t?b(e):ce(b(e),t)},defineProperty:le,defineProperties:ce,getOwnPropertyDescriptor:ue}),n({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:he,getOwnPropertySymbols:pe}),n({target:"Object",stat:!0,forced:d((function(){k.f(1)}))},{getOwnPropertySymbols:function(e){return k.f(m(e))}}),G&&n({target:"JSON",stat:!0,forced:!l||d((function(){var e=W();return"[null]"!=G([e])||"{}"!=G({a:e})||"{}"!=G(Object(e))}))},{stringify:function(e,t,i){for(var n,s=[e],o=1;arguments.length>o;)s.push(arguments[o++]);if(n=t,(p(t)||void 0!==e)&&!ae(e))return h(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!ae(t))return t}),s[1]=t,G.apply(null,s)}}),W[z][H]||E(W[z],H,W[z].valueOf),B(W,F),O[U]=!0},a630:function(e,t,i){var n=i("23e7"),s=i("4df4");n({target:"Array",stat:!0,forced:!i("1c7e")((function(e){Array.from(e)}))},{from:s})},a640:function(e,t,i){"use strict";var n=i("d039");e.exports=function(e,t){var i=[][e];return!!i&&n((function(){i.call(null,t||function(){throw 1},1)}))}},a691:function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:i)(e)}},ab13:function(e,t,i){var n=i("b622")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(i){try{return t[n]=!1,"/./"[e](t)}catch(e){}}return!1}},ac1f:function(e,t,i){"use strict";var n=i("23e7"),s=i("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},ad6d:function(e,t,i){"use strict";var n=i("825a");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ae40:function(e,t,i){var n=i("83ab"),s=i("d039"),o=i("5135"),r=Object.defineProperty,a={},l=function(e){throw e};e.exports=function(e,t){if(o(a,e))return a[e];t||(t={});var i=[][e],c=!!o(t,"ACCESSORS")&&t.ACCESSORS,d=o(t,0)?t[0]:l,u=o(t,1)?t[1]:void 0;return a[e]=!!i&&!s((function(){if(c&&!n)return!0;var e={length:-1};c?r(e,1,{enumerable:!0,get:l}):e[1]=1,i.call(e,d,u)}))}},ae93:function(e,t,i){"use strict";var n,s,o,r=i("e163"),a=i("9112"),l=i("5135"),c=i("b622"),d=i("c430"),u=c("iterator"),h=!1;[].keys&&("next"in(o=[].keys())?(s=r(r(o)))!==Object.prototype&&(n=s):h=!0),null==n&&(n={}),d||l(n,u)||a(n,u,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:h}},b041:function(e,t,i){"use strict";var n=i("00ee"),s=i("f5df");e.exports=n?{}.toString:function(){return"[object "+s(this)+"]"}},b0c0:function(e,t,i){var n=i("83ab"),s=i("9bf2").f,o=Function.prototype,r=o.toString,a=/^\s*function ([^ (]*)/,l="name";n&&!(l in o)&&s(o,l,{configurable:!0,get:function(){try{return r.call(this).match(a)[1]}catch(e){return""}}})},b622:function(e,t,i){var n=i("da84"),s=i("5692"),o=i("5135"),r=i("90e3"),a=i("4930"),l=i("fdbf"),c=s("wks"),d=n.Symbol,u=l?d:d&&d.withoutSetter||r;e.exports=function(e){return o(c,e)||(a&&o(d,e)?c[e]=d[e]:c[e]=u("Symbol."+e)),c[e]}},b64b:function(e,t,i){var n=i("23e7"),s=i("7b0b"),o=i("df75");n({target:"Object",stat:!0,forced:i("d039")((function(){o(1)}))},{keys:function(e){return o(s(e))}})},b727:function(e,t,i){var n=i("0366"),s=i("44ad"),o=i("7b0b"),r=i("50c4"),a=i("65f0"),l=[].push,c=function(e){var t=1==e,i=2==e,c=3==e,d=4==e,u=6==e,h=5==e||u;return function(p,f,m,g){for(var v,y,b=o(p),_=s(b),x=n(f,m,3),w=r(_.length),k=0,S=g||a,T=t?S(p,w):i?S(p,0):void 0;w>k;k++)if((h||k in _)&&(y=x(v=_[k],k,b),e))if(t)T[k]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return k;case 2:l.call(T,v)}else if(d)return!1;return u?-1:c||d?d:T}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},c04e:function(e,t,i){var n=i("861d");e.exports=function(e,t){if(!n(e))return e;var i,s;if(t&&"function"==typeof(i=e.toString)&&!n(s=i.call(e)))return s;if("function"==typeof(i=e.valueOf)&&!n(s=i.call(e)))return s;if(!t&&"function"==typeof(i=e.toString)&&!n(s=i.call(e)))return s;throw TypeError("Can't convert object to primitive value")}},c430:function(e,t){e.exports=!1},c6b6:function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},c6cd:function(e,t,i){var n=i("da84"),s=i("ce4e"),o="__core-js_shared__",r=n[o]||s(o,{});e.exports=r},c740:function(e,t,i){"use strict";var n=i("23e7"),s=i("b727").findIndex,o=i("44d2"),r=i("ae40"),a="findIndex",l=!0,c=r(a);a in[]&&Array(1)[a]((function(){l=!1})),n({target:"Array",proto:!0,forced:l||!c},{findIndex:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),o(a)},c8ba:function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},c975:function(e,t,i){"use strict";var n=i("23e7"),s=i("4d64").indexOf,o=i("a640"),r=i("ae40"),a=[].indexOf,l=!!a&&1/[1].indexOf(1,-0)<0,c=o("indexOf"),d=r("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:l||!c||!d},{indexOf:function(e){return l?a.apply(this,arguments)||0:s(this,e,arguments.length>1?arguments[1]:void 0)}})},ca84:function(e,t,i){var n=i("5135"),s=i("fc6a"),o=i("4d64").indexOf,r=i("d012");e.exports=function(e,t){var i,a=s(e),l=0,c=[];for(i in a)!n(r,i)&&n(a,i)&&c.push(i);for(;t.length>l;)n(a,i=t[l++])&&(~o(c,i)||c.push(i));return c}},caad:function(e,t,i){"use strict";var n=i("23e7"),s=i("4d64").includes,o=i("44d2");n({target:"Array",proto:!0,forced:!i("ae40")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},cc12:function(e,t,i){var n=i("da84"),s=i("861d"),o=n.document,r=s(o)&&s(o.createElement);e.exports=function(e){return r?o.createElement(e):{}}},ce4e:function(e,t,i){var n=i("da84"),s=i("9112");e.exports=function(e,t){try{s(n,e,t)}catch(i){n[e]=t}return t}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},d066:function(e,t,i){var n=i("428f"),s=i("da84"),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(n[e])||o(s[e]):n[e]&&n[e][t]||s[e]&&s[e][t]}},d1e7:function(e,t,i){"use strict";var n={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,o=s&&!n.call({1:2},1);t.f=o?function(e){var t=s(this,e);return!!t&&t.enumerable}:n},d28b:function(e,t,i){i("746f")("iterator")},d2bb:function(e,t,i){var n=i("825a"),s=i("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,i={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(i,[]),t=i instanceof Array}catch(e){}return function(i,o){return n(i),s(o),t?e.call(i,o):i.__proto__=o,i}}():void 0)},d3b7:function(e,t,i){var n=i("00ee"),s=i("6eeb"),o=i("b041");n||s(Object.prototype,"toString",o,{unsafe:!0})},d44e:function(e,t,i){var n=i("9bf2").f,s=i("5135"),o=i("b622")("toStringTag");e.exports=function(e,t,i){e&&!s(e=i?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},d58f:function(e,t,i){var n=i("1c0b"),s=i("7b0b"),o=i("44ad"),r=i("50c4"),a=function(e){return function(t,i,a,l){n(i);var c=s(t),d=o(c),u=r(c.length),h=e?u-1:0,p=e?-1:1;if(a<2)for(;;){if(h in d){l=d[h],h+=p;break}if(h+=p,e?h<0:u<=h)throw TypeError("Reduce of empty array with no initial value")}for(;e?h>=0:u>h;h+=p)h in d&&(l=i(l,d[h],h,c));return l}};e.exports={left:a(!1),right:a(!0)}},d784:function(e,t,i){"use strict";i("ac1f");var n=i("6eeb"),s=i("d039"),o=i("b622"),r=i("9263"),a=i("9112"),l=o("species"),c=!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d="$0"==="a".replace(/./,"$0"),u=o("replace"),h=!!/./[u]&&""===/./[u]("a","$0"),p=!s((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var i="ab".split(e);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));e.exports=function(e,t,i,u){var f=o(e),m=!s((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),g=m&&!s((function(){var t=!1,i=/a/;return"split"===e&&((i={}).constructor={},i.constructor[l]=function(){return i},i.flags="",i[f]=/./[f]),i.exec=function(){return t=!0,null},i[f](""),!t}));if(!m||!g||"replace"===e&&(!c||!d||h)||"split"===e&&!p){var v=/./[f],y=i(f,""[e],(function(e,t,i,n,s){return t.exec===r?m&&!s?{done:!0,value:v.call(t,i,n)}:{done:!0,value:e.call(i,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),b=y[0],_=y[1];n(String.prototype,e,b),n(RegExp.prototype,f,2==t?function(e,t){return _.call(e,this,t)}:function(e){return _.call(e,this)})}u&&a(RegExp.prototype[f],"sham",!0)}},d81d:function(e,t,i){"use strict";var n=i("23e7"),s=i("b727").map,o=i("1dde"),r=i("ae40"),a=o("map"),l=r("map");n({target:"Array",proto:!0,forced:!a||!l},{map:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}})},da84:function(e,t,i){(function(t){var i=function(e){return e&&e.Math==Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof t&&t)||Function("return this")()}).call(this,i("c8ba"))},dbb4:function(e,t,i){var n=i("23e7"),s=i("83ab"),o=i("56ef"),r=i("fc6a"),a=i("06cf"),l=i("8418");n({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(e){for(var t,i,n=r(e),s=a.f,c=o(n),d={},u=0;c.length>u;)void 0!==(i=s(n,t=c[u++]))&&l(d,t,i);return d}})},dbf1:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return n}));var n="undefined"!=typeof window?window.console:e.console}).call(this,i("c8ba"))},ddb0:function(e,t,i){var n=i("da84"),s=i("fdbc"),o=i("e260"),r=i("9112"),a=i("b622"),l=a("iterator"),c=a("toStringTag"),d=o.values;for(var u in s){var h=n[u],p=h&&h.prototype;if(p){if(p[l]!==d)try{r(p,l,d)}catch(e){p[l]=d}if(p[c]||r(p,c,u),s[u])for(var f in o)if(p[f]!==o[f])try{r(p,f,o[f])}catch(e){p[f]=o[f]}}}},df75:function(e,t,i){var n=i("ca84"),s=i("7839");e.exports=Object.keys||function(e){return n(e,s)}},e01a:function(e,t,i){"use strict";var n=i("23e7"),s=i("83ab"),o=i("da84"),r=i("5135"),a=i("861d"),l=i("9bf2").f,c=i("e893"),d=o.Symbol;if(s&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var u={},h=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof h?new d(e):void 0===e?d():d(e);return""===e&&(u[t]=!0),t};c(h,d);var p=h.prototype=d.prototype;p.constructor=h;var f=p.toString,m="Symbol(test)"==String(d("test")),g=/^Symbol\((.*)\)[^)]+$/;l(p,"description",{configurable:!0,get:function(){var e=a(this)?this.valueOf():this,t=f.call(e);if(r(u,e))return"";var i=m?t.slice(7,-1):t.replace(g,"$1");return""===i?void 0:i}}),n({global:!0,forced:!0},{Symbol:h})}},e163:function(e,t,i){var n=i("5135"),s=i("7b0b"),o=i("f772"),r=i("e177"),a=o("IE_PROTO"),l=Object.prototype;e.exports=r?Object.getPrototypeOf:function(e){return e=s(e),n(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},e177:function(e,t,i){var n=i("d039");e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e260:function(e,t,i){"use strict";var n=i("fc6a"),s=i("44d2"),o=i("3f8c"),r=i("69f3"),a=i("7dd0"),l="Array Iterator",c=r.set,d=r.getterFor(l);e.exports=a(Array,"Array",(function(e,t){c(this,{type:l,target:n(e),index:0,kind:t})}),(function(){var e=d(this),t=e.target,i=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:n,done:!1}:"values"==i?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),o.Arguments=o.Array,s("keys"),s("values"),s("entries")},e439:function(e,t,i){var n=i("23e7"),s=i("d039"),o=i("fc6a"),r=i("06cf").f,a=i("83ab"),l=s((function(){r(1)}));n({target:"Object",stat:!0,forced:!a||l,sham:!a},{getOwnPropertyDescriptor:function(e,t){return r(o(e),t)}})},e538:function(e,t,i){var n=i("b622");t.f=n},e893:function(e,t,i){var n=i("5135"),s=i("56ef"),o=i("06cf"),r=i("9bf2");e.exports=function(e,t){for(var i=s(t),a=r.f,l=o.f,c=0;c<i.length;c++){var d=i[c];n(e,d)||a(e,d,l(t,d))}}},e8b5:function(e,t,i){var n=i("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}},e95a:function(e,t,i){var n=i("b622"),s=i("3f8c"),o=n("iterator"),r=Array.prototype;e.exports=function(e){return void 0!==e&&(s.Array===e||r[o]===e)}},f5df:function(e,t,i){var n=i("00ee"),s=i("c6b6"),o=i("b622")("toStringTag"),r="Arguments"==s(function(){return arguments}());e.exports=n?s:function(e){var t,i,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?i:r?s(t):"Object"==(n=s(t))&&"function"==typeof t.callee?"Arguments":n}},f772:function(e,t,i){var n=i("5692"),s=i("90e3"),o=n("keys");e.exports=function(e){return o[e]||(o[e]=s(e))}},fb15:function(e,t,i){"use strict";if(i.r(t),"undefined"!=typeof window){var n=window.document.currentScript,s=i("8875");n=s(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:s});var o=n&&n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(i.p=o[1])}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function d(e,t){if(e){if("string"==typeof e)return c(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?c(e,t):void 0}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var i=[],n=!0,s=!1,o=void 0;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done)&&(i.push(r.value),!t||i.length!==t);n=!0);}catch(e){s=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(s)throw o}}return i}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}i("99af"),i("4de4"),i("4160"),i("c975"),i("d81d"),i("a434"),i("159b"),i("a4d3"),i("e439"),i("dbb4"),i("b64b"),i("e01a"),i("d28b"),i("e260"),i("d3b7"),i("3ca3"),i("ddb0"),i("a630"),i("fb6a"),i("b0c0"),i("25f0");var p=i("a352"),f=i.n(p);function m(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function g(e,t,i){var n=0===i?e.children[0]:e.children[i-1].nextSibling;e.insertBefore(t,n)}var v=i("dbf1");i("13d5"),i("4fad"),i("ac1f"),i("5319");var y,b,_=/-(\w)/g,x=(y=function(e){return e.replace(_,(function(e,t){return t.toUpperCase()}))},b=Object.create(null),function(e){return b[e]||(b[e]=y(e))}),w=(i("5db7"),i("73d9"),["Start","Add","Remove","Update","End"]),k=["Choose","Unchoose","Sort","Filter","Clone"],S=["Move"],T=[S,w,k].flatMap((function(e){return e})).map((function(e){return"on".concat(e)})),C={manage:S,manageAndEmit:w,emit:k};i("caad"),i("2ca0");var E=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function A(e){return["id","class","role","style"].includes(e)||e.startsWith("data-")||e.startsWith("aria-")||e.startsWith("on")}function I(e){return e.reduce((function(e,t){var i=u(t,2),n=i[0],s=i[1];return e[n]=s,e}),{})}function M(e){return Object.entries(e).filter((function(e){var t=u(e,2),i=t[0];return t[1],!A(i)})).map((function(e){var t=u(e,2),i=t[0],n=t[1];return[x(i),n]})).filter((function(e){var t,i=u(e,2),n=i[0];return i[1],t=n,!(-1!==T.indexOf(t))}))}function O(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}i("c740");var D=function(e){return e.el},P=function(e){return e.__draggable_context},L=function(){function e(t){var i=t.nodes,n=i.header,s=i.default,o=i.footer,r=t.root,a=t.realList;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaultNodes=s,this.children=[].concat(h(n),h(s),h(o)),this.externalComponent=r.externalComponent,this.rootTransition=r.transition,this.tag=r.tag,this.realList=a}var t,i;return t=e,(i=[{key:"render",value:function(e,t){var i=this.tag,n=this.children;return e(i,t,this._isRootComponent?{default:function(){return n}}:n)}},{key:"updated",value:function(){var e=this.defaultNodes,t=this.realList;e.forEach((function(e,i){var n,s;n=D(e),s={element:t[i],index:i},n.__draggable_context=s}))}},{key:"getUnderlyingVm",value:function(e){return P(e)}},{key:"getVmIndexFromDomIndex",value:function(e,t){var i=this.defaultNodes,n=i.length,s=t.children,o=s.item(e);if(null===o)return n;var r=P(o);if(r)return r.index;if(0===n)return 0;var a=D(i[0]),l=h(s).findIndex((function(e){return e===a}));return e<l?0:n}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}])&&O(t.prototype,i),e}(),j=i("8bbf");function B(e){var t=e.$slots,i=e.tag,n=e.realList,s=function(e){var t=e.$slots,i=e.getKey,n=e.realList||[],s=u(["header","footer"].map((function(e){return(i=t[e])?i():[];var i})),2),o=s[0],r=s[1],a=t.item;if(!a)throw new Error("draggable element must have an item slot");var c=n.flatMap((function(e,t){return a({element:e,index:t}).map((function(t){return t.key=i(e),t.props=l(l({},t.props||{}),{},{"data-draggable":!0}),t}))}));if(c.length!==n.length)throw new Error("Item slot must have only one child");return{header:o,footer:r,default:c}}({$slots:t,realList:n,getKey:e.getKey}),o=function(e){var t,i=["transition-group","TransitionGroup"].includes(e),n=(t=e,!(E.includes(t)||i));return{transition:i,externalComponent:n,tag:n?Object(j.resolveComponent)(e):i?j.TransitionGroup:e}}(i);return new L({nodes:s,root:o,realList:n})}function R(e,t){var i=this;Object(j.nextTick)((function(){return i.$emit(e.toLowerCase(),t)}))}function N(e){var t=this;return function(i,n){if(null!==t.realList)return t["onDrag".concat(e)](i,n)}}function U(e){var t=this,i=N.call(this,e);return function(n,s){i.call(t,n,s),R.call(t,e,n)}}var F=null,z={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(e){return e}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},H=["update:modelValue","change"].concat(h([].concat(h(C.manageAndEmit),h(C.emit)).map((function(e){return e.toLowerCase()})))),V=Object(j.defineComponent)({name:"draggable",inheritAttrs:!1,props:z,emits:H,data:function(){return{error:!1}},render:function(){try{this.error=!1;var e=this.$slots,t=this.$attrs,i=this.tag,n=this.componentData,s=B({$slots:e,tag:i,realList:this.realList,getKey:this.getKey});this.componentStructure=s;var o=function(e){var t=e.$attrs,i=e.componentData,n=void 0===i?{}:i;return l(l({},I(Object.entries(t).filter((function(e){var t=u(e,2),i=t[0];return t[1],A(i)})))),n)}({$attrs:t,componentData:n});return s.render(j.h,o)}catch(e){return this.error=!0,Object(j.h)("pre",{style:{color:"red"}},e.stack)}},created:function(){null!==this.list&&null!==this.modelValue&&v.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var e=this;if(!this.error){var t=this.$attrs,i=this.$el;this.componentStructure.updated();var n=function(e){var t=e.callBackBuilder,i=I(M(e.$attrs));Object.entries(t).forEach((function(e){var t=u(e,2),n=t[0],s=t[1];C[n].forEach((function(e){i["on".concat(e)]=s(e)}))}));var n="[data-draggable]".concat(i.draggable||"");return l(l({},i),{},{draggable:n})}({$attrs:t,callBackBuilder:{manageAndEmit:function(t){return U.call(e,t)},emit:function(t){return R.bind(e,t)},manage:function(t){return N.call(e,t)}}}),s=1===i.nodeType?i:i.parentElement;this._sortable=new f.a(s,n),this.targetDomElement=s,s.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{realList:function(){return this.list||this.modelValue},getKey:function(){var e=this.itemKey;return"function"==typeof e?e:function(t){return t[e]}}},watch:{$attrs:{handler:function(e){var t=this._sortable;t&&M(e).forEach((function(e){var i=u(e,2),n=i[0],s=i[1];t.option(n,s)}))},deep:!0}},methods:{getUnderlyingVm:function(e){return this.componentStructure.getUnderlyingVm(e)||null},getUnderlyingPotencialDraggableComponent:function(e){return e.__draggable_component__},emitChanges:function(e){var t=this;Object(j.nextTick)((function(){return t.$emit("change",e)}))},alterList:function(e){if(this.list)e(this.list);else{var t=h(this.modelValue);e(t),this.$emit("update:modelValue",t)}},spliceList:function(){var e=arguments;this.alterList((function(t){return t.splice.apply(t,h(e))}))},updatePosition:function(e,t){this.alterList((function(i){return i.splice(t,0,i.splice(e,1)[0])}))},getRelatedContextFromMoveEvent:function(e){var t=e.to,i=e.related,n=this.getUnderlyingPotencialDraggableComponent(t);if(!n)return{component:n};var s=n.realList,o={list:s,component:n};return t!==i&&s?l(l({},n.getUnderlyingVm(i)||{}),o):o},getVmIndexFromDomIndex:function(e){return this.componentStructure.getVmIndexFromDomIndex(e,this.targetDomElement)},onDragStart:function(e){this.context=this.getUnderlyingVm(e.item),e.item._underlying_vm_=this.clone(this.context.element),F=e.item},onDragAdd:function(e){var t=e.item._underlying_vm_;if(void 0!==t){m(e.item);var i=this.getVmIndexFromDomIndex(e.newIndex);this.spliceList(i,0,t);var n={element:t,newIndex:i};this.emitChanges({added:n})}},onDragRemove:function(e){if(g(this.$el,e.item,e.oldIndex),"clone"!==e.pullMode){var t=this.context,i=t.index,n=t.element;this.spliceList(i,1);var s={element:n,oldIndex:i};this.emitChanges({removed:s})}else m(e.clone)},onDragUpdate:function(e){m(e.item),g(e.from,e.item,e.oldIndex);var t=this.context.index,i=this.getVmIndexFromDomIndex(e.newIndex);this.updatePosition(t,i);var n={element:this.context.element,oldIndex:t,newIndex:i};this.emitChanges({moved:n})},computeFutureIndex:function(e,t){if(!e.element)return 0;var i=h(t.to.children).filter((function(e){return"none"!==e.style.display})),n=i.indexOf(t.related),s=e.component.getVmIndexFromDomIndex(n);return-1===i.indexOf(F)&&t.willInsertAfter?s+1:s},onDragMove:function(e,t){var i=this.move,n=this.realList;if(!i||!n)return!0;var s=this.getRelatedContextFromMoveEvent(e),o=this.computeFutureIndex(s,e),r=l(l({},this.context),{},{futureIndex:o});return i(l(l({},e),{},{relatedContext:s,draggedContext:r}),t)},onDragEnd:function(){F=null}}}),q=V;t.default=q},fb6a:function(e,t,i){"use strict";var n=i("23e7"),s=i("861d"),o=i("e8b5"),r=i("23cb"),a=i("50c4"),l=i("fc6a"),c=i("8418"),d=i("b622"),u=i("1dde"),h=i("ae40"),p=u("slice"),f=h("slice",{ACCESSORS:!0,0:0,1:2}),m=d("species"),g=[].slice,v=Math.max;n({target:"Array",proto:!0,forced:!p||!f},{slice:function(e,t){var i,n,d,u=l(this),h=a(u.length),p=r(e,h),f=r(void 0===t?h:t,h);if(o(u)&&("function"!=typeof(i=u.constructor)||i!==Array&&!o(i.prototype)?s(i)&&null===(i=i[m])&&(i=void 0):i=void 0,i===Array||void 0===i))return g.call(u,p,f);for(n=new(void 0===i?Array:i)(v(f-p,0)),d=0;p<f;p++,d++)p in u&&c(n,d,u[p]);return n.length=d,n}})},fc6a:function(e,t,i){var n=i("44ad"),s=i("1d80");e.exports=function(e){return n(s(e))}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,i){var n=i("4930");e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}}).default},e.exports=n(i(6901),i(6529))},9954:e=>{"use strict";e.exports="data:application/font-woff;charset=utf-8;base64, d09GRgABAAAAAAZgABAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAGRAAAABoAAAAci6qHkUdERUYAAAWgAAAAIwAAACQAYABXR1BPUwAABhQAAAAuAAAANuAY7+xHU1VCAAAFxAAAAFAAAABm2fPczU9TLzIAAAHcAAAASgAAAGBP9V5RY21hcAAAAkQAAACIAAABYt6F0cBjdnQgAAACzAAAAAQAAAAEABEBRGdhc3AAAAWYAAAACAAAAAj//wADZ2x5ZgAAAywAAADMAAAD2MHtryVoZWFkAAABbAAAADAAAAA2E2+eoWhoZWEAAAGcAAAAHwAAACQC9gDzaG10eAAAAigAAAAZAAAArgJkABFsb2NhAAAC0AAAAFoAAABaFQAUGG1heHAAAAG8AAAAHwAAACAAcABAbmFtZQAAA/gAAAE5AAACXvFdBwlwb3N0AAAFNAAAAGIAAACE5s74hXjaY2BkYGAAYpf5Hu/j+W2+MnAzMYDAzaX6QjD6/4//Bxj5GA8AuRwMYGkAPywL13jaY2BkYGA88P8Agx4j+/8fQDYfA1AEBWgDAIB2BOoAeNpjYGRgYNBh4GdgYgABEMnIABJzYNADCQAACWgAsQB42mNgYfzCOIGBlYGB0YcxjYGBwR1Kf2WQZGhhYGBiYGVmgAFGBiQQkOaawtDAoMBQxXjg/wEGPcYDDA4wNUA2CCgwsAAAO4EL6gAAeNpj2M0gyAACqxgGNWBkZ2D4/wMA+xkDdgAAAHjaY2BgYGaAYBkGRgYQiAHyGMF8FgYHIM3DwMHABGQrMOgyWDLEM1T9/w8UBfEMgLzE////P/5//f/V/xv+r4eaAAeMbAxwIUYmIMHEgKYAYjUcsDAwsLKxc3BycfPw8jEQA/gZBASFhEVExcQlJKWkZWTl5BUUlZRVVNXUNTQZBgMAAMR+E+gAEQFEAAAAKgAqACoANAA+AEgAUgBcAGYAcAB6AIQAjgCYAKIArAC2AMAAygDUAN4A6ADyAPwBBgEQARoBJAEuATgBQgFMAVYBYAFqAXQBfgGIAZIBnAGmAbIBzgHsAAB42u2NMQ6CUAyGW568x9AneYYgm4MJbhKFaExIOAVX8ApewSt4Bic4AfeAid3VOBixDxfPYEza5O+Xfi04YADggiUIULCuEJK8VhO4bSvpdnktHI5QCYtdi2sl8ZnXaHlqUrNKzdKcT8cjlq+rwZSvIVczNiezsfnP/uznmfPFBNODM2K7MTQ45YEAZqGP81AmGGcF3iPqOop0r1SPTaTbVkfUe4HXj97wYE+yNwWYxwWu4v1ugWHgo3S1XdZEVqWM7ET0cfnLGxWfkgR42o2PvWrDMBSFj/IHLaF0zKjRgdiVMwScNRAoWUoH78Y2icB/yIY09An6AH2Bdu/UB+yxopYshQiEvnvu0dURgDt8QeC8PDw7Fpji3fEA4z/PEJ6YOB5hKh4dj3EvXhxPqH/SKUY3rJ7srZ4FZnh1PMAtPhwP6fl2PMJMPDgeQ4rY8YT6Gzao0eAEA409DuggmTnFnOcSCiEiLMgxCiTI6Cq5DZUd3Qmp10vO0LaLTd2cjN4fOumlc7lUYbSQcZFkutRG7g6JKZKy0RmdLY680CDnEJ+UMkpFFe1RN7nxdVpXrC4aTtnaurOnYercZg2YVmLN/d/gczfEimrE/fs/bOuq29Zmn8tloORaXgZgGa78yO9/cnXm2BpaGvq25Dv9S4E9+5SIc9PqupJKhYFSSl47+Qcr1mYNAAAAeNptw0cKwkAAAMDZJA8Q7OUJvkLsPfZ6zFVERPy8qHh2YER+3i/BP83vIBLLySsoKimrqKqpa2hp6+jq6RsYGhmbmJqZSy0sraxtbO3sHRydnEMU4uR6yx7JJXveP7WrDycAAAAAAAH//wACeNpjYGRgYOABYhkgZgJCZgZNBkYGLQZtIJsFLMYAAAw3ALgAeNolizEKgDAQBCchRbC2sFER0YD6qVQiBCv/H9ezGI6Z5XBAw8CBK/m5iQQVauVbXLnOrMZv2oLdKFa8Pjuru2hJzGabmOSLzNMzvutpB3N42mNgZGBg4GKQYzBhYMxJLMlj4GBgAYow/P/PAJJhLM6sSoWKfWCAAwDAjgbRAAB42mNgYGBkAIIbCZo5IPrmUn0hGA0AO8EFTQAA"},4763:e=>{"use strict";e.exports="data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAABUgAAsAAAAAItAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAPgAAAFZRiV33Y21hcAAAAYQAAAEJAAAD5p42+VxnbHlmAAACkAAADwwAABdk9R/WHmhlYWQAABGcAAAAKwAAADYn8kSnaGhlYQAAEcgAAAAdAAAAJA+RCL1obXR4AAAR6AAAABMAAAC8Q44AAGxvY2EAABH8AAAAYAAAAGB7SIHGbWF4cAAAElwAAAAfAAAAIAFAAI9uYW1lAAASfAAAASUAAAIK1cf1oHBvc3QAABOkAAABfAAAAnXdFqh1eJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGR7xDiBgZWBgaWQ5RkDA8MvCM0cwxDOeI6BgYmBlZkBKwhIc01hcPjI+FGPHcRdyA4RZgQRADbZCycAAHic7dPXbcMwAEXRK1vuvffem749XAbKV3bjBA6fXsaIgMMLEWoQJaAEFKNnlELyQ4K27zib5PNF6vl8yld+TKr5kH0+cUw0xv00Hwvx2DResUyFKrV4XoMmLdp06NKjz4AhI8ZMmDJjzoIlK9Zs2LJjz4EjJ85cuHLjziPe/0UWL17mf2tqKLz/9jK9f8tXpGCoRdPKhtS0RqFkWvVQNtSKoVYNtWaoddPXEBqG2jQ9XWgZattQO4baNdSeofYNdWCoQ0MdGerYUCeGOjXUmaHODXVhqEtDXRnq2lA3hro11J2h7g31YKhHQz0Z6tlQL4Z6NdSbod4N9WGoT9MfHF6GmhnZLxyDcRMAAAB4nJ1YC1gUV5auc6urCmxEGrq6VRD6ATQP5dHPKK8GRIyoKApoEBUDAiGzGmdUfKNRM4qLZrUZdGKcGN/GZJKd0SyOWTbfbmZ2NxqzM5IxRtNZd78vwYlJdtREoO7sudVNq6PmmxmKqrqPU+eee173P80Bh39Cu9DOEY4DHZBK3i20D/QRLcfxbE5sEVtwLpZzclw4ibFIkSCJUcZ4MBpMnnzwuKNsGWBL5i3qy6kO2dVpvUpKbkAP9fq62rdeGJ+TM/7C1nbIutfuWrWk5ci4zMxxR1qW/N+9JsmCGXj9VKWhFx/6tr/nz78INDm2C9yPF/fDcxLuyKxLBZ1ZBz2QTi+RSkiH5RrDQJ/GgGQadX9m0YSURs7GpSG905Zsk41uj14yul1OtieZ7QUk5GRG/YiS7PYYPSAZNRed9sq3+bOpz00rKb7pe/ZEZvbALxZAHT3AFoH8GXP3rt67QFn40kt8W13FjLTDb48c+fSi5/7h0P4dL5yz7DPtbmgmYxfQA9RL2+EOfTcvdp+1vmuBpvOll1As1S6ak0IvJzC7sKWJFtJgBd2uWcg+0Zyg7dzQfhcjXRgXGZRf5/a4A58IDU777Nl252AUk4m2ByRRjqTNqIDCEJeAnU3iCFwrkrNwXEzg4yFevBwypzxkcX+AIfk3VEKl3XmWbT8788SzvpvFJaiOezL6QyuSr9VNf97csNu0z3LuhR0wATUxZAfVBwVOy+nQFhxYdWaXlXe4HC4zWGWzzsrLDtmhI9pOWOHv7PTT7XybH1Z0+v2d5Abd3kmG+TsH23CS/KwTxx/JkzEwx6jcQOUc42LLwHJ/J93uZ9ygh3HuZGwqsY9dWDHQ58dxNqyqKRQTYdxwTubiOSs3FiMDkq0WSZQgCT0GBDOg2lxOAd1FlPVGs4AKBAcYHHaP2wPkHaivmLF5zYqnIZrvcHx5gN4k/6tchNW1DtdgNL2KrxEkS/kfnIHoVnp1VjmjpTf5r0lTzLj0mdS28tX+XGorU364eMPmnWVl8J36nlKGw3CZhjEiuMw8h8mKvhGD+4/lElBWjAhLJMg6fTw4zPZ8cOmcGQBm2Qxml1nAm13CpYGq1JKUlJJUzQn1PTAO0mgv6VMMpA/DuRfSWEu4lDIxdbAtdWIKvnn2Vk766CWfz9fpY0sH/UpdP50rfszaVpdVRmvIejEdLMk45s4Bu0EWHjeOySmFyZSiMahvZdNSn29peoI/YexYfKQTLeurTXXwEVLeSfInTWHkkMaeUx7sBvOCSTSj3AlcKjfueyS36tCrXDlgRtF0etFq9jhc1kfKuBT/OwMr0F4UUTTh1AN0g20+H/ScPcsIEsYu9d/zN5PmjprPtNwI1ZZcDK6iC97Mcjp2y2aX36f+QbpGHrgRuHlXJ+Zf6PFRL2uQSp8vxHeF2IoRb8Rd2rhMzsNxSRmEuKK4JFnkojhMcx6jzqHzGMGFcW+MhBj0bhf6cowN+45I4LHvwT6fteu7M42wGRI/pxcg6/MZdEvt1U1XaulHFXuLmqov/MukvRVL35/b3ODM1+4aPjtzeK7zmUkV2h3DN54HaQ9GzJvxHRb6Ks2gB81fwqraT+A7GvZJrRLRofU6G0urNL+zFw3v0FaVDFxsKEZW56F31r6ip6vOL+FCObBPuIMRiXld9RaMdLzRIOGhPey2T9vA/35DmZPK9IWaT9d/WgOGMieYqJ/dzjLIhZU118gbysxrNUGefxD6UO/hyNNllpFTOIbx32kSFQctnweV5PxTMHLjRqiAN+fQE9gL+Xy5WB6MOS4GJJuYbDUHhcKDhHGRbLzOpjsjdM1+iwAZLGeieehACX2hhI7SjK/ZUTNrvVje31TxJiFBGYViWFkCn9PMeX9fS6qVbzfCj4fOCTzDnuWy2c4xA7mdNkA3RS9FH2VeqzdCBlixxbzXjvkHU1I8BOYFb1pZvPIHSSIj4svT8xpzcxtXN+ZKyjdDvbz08niiF3PqV9Tn5NST8vg48MTaY8E5xqSSIsWoWHo+LtAzxdH/GDUyp37CBEYfso04F/NlMTcDJUTpECLY0HFGQHImE8xsEUdgnrQlixIvGhJA1BvxpDHGxEMBYFeNOHcBJlSjwe2JcSfbBEsGOPPBHg/6SBBOCsLLw0SpUxod0Z1bFMfLkbQ3UiZxEyd0Dx8t+SRBu18Q9msFbI4e3p1THEfkSEh7kEJ5orR10qTWDvbgPWn5aWvCYyOAjwgXyjJi34uMjo58L25cmRAeQZWI2PA1QQLsPESAH8WGFwZZ4SPoR73BHPzIPMJj9AreBzKUmrH4todT18ANvi1oc3YGjUT/0j+ExUwq8PI9BLaCQIpvewwYu2evAG/Vo/5avPdY7o+BemLLXw3y+AdkzP9bpIxB1wm5EYq8fesHbPEPtm6HrHvtx4jcGPR8fDDpkZBefIjB46QnlUNRltv4Z/pO/J6dxEjhYAtmoMeq+GozvUVvNYOW3m6GCIhoprcfr97B8AcIQYsfD8ljUvGNjvkrpj0ETA48ZMIxCeqsRIsQALE0gi2GB+glSOfbOjW3GSBM9yPq8/rpJXrJDz0BPxV6xdN4uiCGDQed3WhgFkBUZEFsmeyyBpzXrm7UGTBZG8Lh5aubFufk5eUsbrrFGr7McYdbltxa0nKYqRKbQjvikXYkTGM0f2xuyM3Ly21oXnWfvf6I1BmZwfh7EWWIYsg2nHhsDhOnczhJcmI6eBAmy3jZ3RiJmKQR/JA99FcwsfaVbNDDyi1rL9NPj9hfo61wjM6BjzOLijLpeTgk/pL+ip6tfYWupzeOgPny2tcUu9J/9mhxJlgyi985NFRbvCVewXUNXLJaW0RxZqtRYtnfYdcYomXQWdnJHQA3jiEEkeTQWcWxdDP9IvvVWvo2TK553XEMEq+s69/QDU1Q7p0zxwsm9qS379whr8NI2PJqLUyGyfNeX3eFfnJU2U+uHR9cVV1IqgurqwuV44XVp0h2qN55X5XJwtk59yP0IZuHrqBOBIuIYhkcoT6Kx79Pu2HS/IPZIMOqLWs/pteOOk4NPgEb6QAIdAPsyZk5Mwd+wVaHMexJv719W7xCu2l37UG6lvYdBcvHa08p89741zd63phTRGqL5ggo6SlvdbWXzCqsPq78NnSu7wnKy2HNZbVoRCI7UJEOyRj+sPE002tOOY7Qa5fXboFWkLNeqYUSZRocp9XwSUZxcQZ9Hw6LV2pOoVmvHQEDbGIENEG5i6bLgMSM4n8+FNLTtAds99DaWEvgcf4o5SyYe9x+kF6/tGoTPAdRmS/XQIEy//QxKC2oqioAI3tS5auvxCtzT6y6RK8fhChYcwCJaMJhxc0vqSxQ/qmgsrKAlBZUHlauheTpvd9uj5DnLzJct6qfq5fXbYHVIGcfrIVJihbaVLu1wW7Vbs8zK0A8e9Jvb91S9cVMjPrazD6gpfeZTXzYbCFMcppVRsGMpp55OWgx1/3JeAxW1Y7AORgM/m3rWrsdLkQVmEVSU16cX/e7uvkvpqRiQsG06XJ0t64Tf+l0nG1dt025gyOIZlvq5u9KSU1N2TW/rsWnnMRPyTDkctbhvIcNvYIXWyLzdwYLoYesUbaQG4iK2cWO2gdpeUYLqDD0MUTOPhDIGnZEs58yArR86FznuWEsU4YDi2x26dA4klkn8Qa6vhk2QUfX4Jxm/ngX9r7ogn1dmlmwqZmuhxtdg9XN/DEcUgqb+9hMyNansfaQET2mcROCmGEMVqxm5u+h6kN2MOwgqykV2wH9yQG9DvVFU38Pogaf4FVuE62KI/oJ02RDdWW2w5dqQwU/8+N1q1DlvsL863u61KLE7x/o8w0VJQM/Y/SQ3unIrqxueEa1BqT5VFNsO7p39/UC771a77RowpaKe9nvJQIT1Pog5LGx8XblBKmCNGTf3xMogAQvPnz9PYKX/08sVDTG1OKUlOLUgS/UaZtm1NAaYTsl7i9ZQ+L6O4Rl0OGa577LuWvc+C+x96/vYh0lLBuM+7XwI/dTLtdT7v4d6rRTWDnku0IBrqFnZ5bVIqKP8lasJlithWnaLhTsr8qFJBulF/70p4undou36HeTJ5+jv1fCybeQ8nH3+Xv6aENczmOFlab+hqMDg1rLOt12A+tiUFrYDwQ6c3RUJp601nzegTNX6WlYAI2zSUV945F6zU56ZmZVQaWspWcIADxJ9GmljQUnL2p2Dpr5T8H+5KJFu+vqBq8qvyHRzStLHPEO5SPYCV9nZe0yZT2RcH0oHvegSzNEJ0oGWU8iQWM12dgPEugngVceGIwZgPFp0BiT1a0a3R5Rcot7ihfA1J/20v96jX7zmTX9s583H0kwx6WnLd09cXrR9LGroOa9sHNbdyz8wcKk5lqhaVFJZNwmqtw884MXNdvJujpBa3xzuSaZH9sxa06Z7x+HJSduPbdYHv/DgmEhfbehvlmGN7JUkcG78GDM12CeyFFTPNqVeNxC1gzjz+c2nVo63Xxs8rKJWXoBJM0tmEbfGm4qzpoOH3xpzQfyxLzW1gnE9NHo6tol1eMEic4ZVPrjnVi0kqAe2sQ2bgqupScaq8WGlUWgWHI51SKJl/UYT6zccNsCSkBtiVZLsiefuFSDYT3Fi8Zk7EUnmjTRYtsFeuDDJS05MW79M3mr3mla+d8dzac31KTPmBYfFiYSUef48PhPjm9ryZsSGZZkdNvzq0Y9rdNcwDq5Dg5C3QW+7UN64IKptvS3tvHbvu5c9pv1Exau21rc9LIpwpQwUjTq8576yeVDz5+4WZ1nXT43wV60rPLJbDp/UksNrP3iQ2SA63Pst058gOYDbhRnRUw8l/sRt4HbxPzO4WYpInCpuVgSbVh6JXuwnnJngKTTCwaPWmG5Xbhpm1U0Yt3FyBGpGYemPM77p2TD904JjgJ2QFpFLeYpGx8X15Qx1Zk31p5ki9ZLUuXE0lmuJlcakJMVLeFS1iIvrB8drY0aloilakqCZwzwRORtxlgwxS4IThggJd4TDxoiaAIT80fFPGrCPPru+puFn504P/ybr4ihA/6dKASLshEJic7xE8tmzu3KzA7TABBe8y5fNbWo3ilQn/SuFKM16b2l5bOeayqfGhYmhIulU+fVNDdWVv4NMzX10MBHyPR5uhWUu8D9P1VnIMt4nGNgZGBgAOJ/1bf64vltvjJwszOAwAOlmqvINEc/WJyDgQlEAQA+dgnjAHicY2BkYGBnAAGOPgaG//85+hkYGVCBPgBGJwNkAAAAeJxjYGBgYB/EmKMPtxwAhg4B0gAAAAAAAA4AaAB+AMwA4AECAUIBbAGYAe4CLgKKAtAC/ANiA4wDqAPgBDAEsATaBQgFWgXABggGLgZwBqwG9gdOB4oH0ggqCHAIhgicCMgJJAlWCYgJrAnyCkAKdgrkC7J4nGNgZGBg0GdoZmBnAAEmIOYCQgaG/2A+AwAaqwHQAHicXZBNaoNAGIZfE5PQCKFQ2lUps2oXBfOzzAESyDKBQJdGR2NQR3QSSE/QE/QEPUUPUHqsvsrXjTMw83zPvPMNCuAWP3DQDAejdm1GjzwS7pMmwi75XngAD4/CQ/oX4TFe4Qt7uMMbOzjuDc0EmXCP/C7cJ38Iu+RP4QEe8CU8pP8WHmOPX2EPz87TPo202ey2OjlnQSXV/6arOjWFmvszMWtd6CqwOlKHq6ovycLaWMWVydXKFFZnmVFlZU46tP7R2nI5ncbi/dDkfDtFBA2DDXbYkhKc+V0Bqs5Zt9JM1HQGBRTm/EezTmZNKtpcAMs9Yu6AK9caF76zoLWIWcfMGOSkVduvSWechqZsz040Ib2PY3urxBJTzriT95lipz+TN1fmAAAAeJxtkXlT2zAQxf1C4thJAwRajt4HRy8VMwwfSJHXsQZZcnUQ+PYoTtwpM+wf2t9brWZ2n5JBsol58nJcYYAdDDFCijEy5JhgileYYRd72MccBzjEa7zBEY5xglO8xTu8xwd8xCd8xhd8xTec4RwXuMR3/MBP/MJvMPzBFYpk2Cr+OF0fTEgrFI1aHhxN740KDbEmeJpsWZlVj40s+45aLuv9KijlhCXSjLQnu/d/4UH6sWul1mRzFxZeekUuE7z10mg3qMtM1FGQddPSrLQyvJR6OaukItYXDp6pCJrmz0umqkau5pZ2hFmm7m+ImG5W2t0kZoJXUtPhVnYTbbdOBdeCVGqpJe7XKTqSbRK7zbdwXfR0U+SVsStuS3Y76em6+Ic3xYiHUppc04Nn0lMzay3dSxNcp8auDlWlaCi48yetFD7Y9USsx87G45cuop1ZxQUtjLnL4j53FO0a+5X08UXqQ7NQNo92R0XOz7sxWEnxN2TneJI8Acttu4Q="},5150:()=>{},2754:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={id:n,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.exports}i.m=e,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.b=document.baseURI||self.location.href,i.nc=void 0,(()=>{"use strict";var e={};i.r(e),i.d(e,{SofaActivityCard:()=>$,SofaAddQuestion:()=>tb,SofaAlert:()=>$S,SofaAvatar:()=>x,SofaBadge:()=>k,SofaBarChart:()=>ZD,SofaBottomBar:()=>FT,SofaButton:()=>f,SofaCheckbox:()=>As,SofaContent:()=>Ri,SofaContentDetails:()=>tn,SofaContentRatings:()=>$i,SofaCourseContent:()=>Qb,SofaCourseDetails:()=>el,SofaCourseSections:()=>Nn,SofaCourseSummary:()=>Nb,SofaCustomInput:()=>Za,SofaDeletePrompt:()=>wn,SofaDocumentReader:()=>nl,SofaEmptyState:()=>Ji,SofaFileAttachment:()=>Js,SofaFormWrapper:()=>Ws,SofaHeaderText:()=>M,SofaIcon:()=>h,SofaIconCard:()=>kt,SofaImageLoader:()=>v,SofaItemCard:()=>j,SofaKeyboard:()=>Vs,SofaModal:()=>Ki,SofaMultipleChoice:()=>Ga,SofaNormalText:()=>P,SofaOtpInput:()=>Ls,SofaPieChart:()=>iP,SofaProgressItemCard:()=>Ut,SofaQuestionContent:()=>Ab,SofaQuestionOptions:()=>Sn,SofaRadio:()=>Ts,SofaRatings:()=>Ci,SofaSelect:()=>Ms,SofaSideBar:()=>WT,SofaSuccessPrompt:()=>tT,SofaSwiper:()=>yt,SofaTextField:()=>ys,SofaTextarea:()=>Ra,SofaTopBar:()=>MT,SofaUserCard:()=>Ot,SofaVideoPlayer:()=>Ly});var t=i(5138),n=i(171);const s=["disabled"],o={key:0,class:"pl-2"},r={key:0,class:"absolute top-0 left-0 w-full h-[110%] bg-black !bg-opacity-25 z-20",style:{"border-radius":"16px 8px"}};var a=i(3355);const l=["src"],c={props:{name:{type:String,required:!0},customClass:{type:String,required:!0}},name:"RoofIcon"};var d=i(734);const u=(0,d.Z)(c,[["render",function(e,i,s,o,r,a){return(0,t.wg)(),(0,t.iD)("span",null,[(0,t._)("img",{src:`/images/icons/${s.name}.svg`,class:(0,n.normalizeClass)(`${s.customClass}`)},null,10,l)])}]]),h=u,p=(0,t.aZ)({components:{SofaIcon:h},props:{bgColor:{type:String,default:"bg-primaryBlue"},textColor:{type:String,default:"text-white"},customClass:{type:String,default:""},padding:{type:String,default:"py-1 px-3 "},loading:{type:Boolean,default:!1},hasDoubleLayer:{type:Boolean,default:!0},hasDarkLayer:{type:Boolean,default:!0},visible:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},name:"SofaButton",setup(){const e=(0,a.iH)(!1);return{isHovered:e,handleClicked:()=>{e.value=!0,setTimeout((()=>{e.value=!1}),300)}}}}),f=(0,d.Z)(p,[["render",function(e,i,a,l,c,d){const u=(0,t.up)("sofa-icon");return(0,t.wg)(),(0,t.iD)("div",{class:(0,n.normalizeClass)(`w-auto h-auto relative ${e.visible?"":"invisible"} ${e.disabled?"opacity-30":""}`)},[(0,t._)("button",{disabled:e.loading,onClick:i[0]||(i[0]=t=>e.handleClicked()),class:(0,n.normalizeClass)(`focus:outline-none relative rounded-md flex flex-row space-x-2 items-center z-50 ${e.loading?"opacity-75":""} lg:text-sm mdlg:text-[12px] text-xs justify-center ${e.padding} ${e.bgColor} ${e.textColor} ${e.customClass}`),style:{"border-radius":"16px 8px"}},[(0,t.WI)(e.$slots,"default"),e.loading?((0,t.wg)(),(0,t.iD)("span",o,[(0,t.Wm)(u,{name:"loader","custom-class":"h-[28px]"})])):(0,t.kq)("",!0)],10,s),e.hasDoubleLayer&&!e.isHovered&&e.hasDarkLayer&&!e.disabled?((0,t.wg)(),(0,t.iD)("div",r)):(0,t.kq)("",!0),!e.hasDoubleLayer||e.isHovered||e.disabled?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",{key:1,class:(0,n.normalizeClass)(`absolute top-0 left-0 w-full h-[110%] ${e.bgColor} z-10`),style:{"border-radius":"16px 8px"}},null,2))],2)}]]),m=(0,t.aZ)({name:"RoofImageLoader",props:{photoUrl:{type:String,required:!0},customClass:{type:String,default:""},customStyle:{type:String,default:""},loadDirectly:{type:Boolean,default:!1}},setup(e){const i=(0,a.iH)(""),n=(0,a.iH)(""),s=()=>{n.value=e.photoUrl||"";const t=new Image;t.onload=function(){i.value=n.value},t.src=n.value};(0,t.bv)((()=>{e.loadDirectly||s()}));const o=(0,a.Vh)(e,"photoUrl");return(0,t.YP)(o,(()=>{e.loadDirectly||s()})),{image:i,imageUrl:n}}}),g=(0,d.Z)(m,[["render",function(e,i,s,o,r,a){return(0,t.wg)(),(0,t.iD)("div",{id:"",class:(0,n.normalizeClass)(`${e.customClass} blend-in `),style:(0,n.normalizeStyle)(`\n    background-size: cover;\n    background-repeat: no-repeat;\n    background-position: center; ${e.imageUrl||e.loadDirectly?`background-image:url(${e.loadDirectly?e.photoUrl:e.imageUrl});`:""}  ${e.customStyle}`)},[(0,t.WI)(e.$slots,"default")],6)}]]),v=g;var y=i(127);let b;const _=(0,t.aZ)({components:{SofaImageLoader:g},props:{size:{type:String,default:"50"},photoUrl:{type:String,required:!0},customClass:{type:String,default:""},bgColor:{type:String,default:""},userId:{type:String,default:""}},name:"SofaAvatar",setup:()=>({randomIndex:Math.floor(5*Math.random()),Logic:b})}),x=(0,d.Z)(_,[["render",function(e,i,n,s,o,r){const a=(0,t.up)("sofa-image-loader");return(0,t.wg)(),(0,t.j4)(a,{"photo-url":e.photoUrl,"custom-class":`rounded-full flex text-xs uppercase font-semibold bg-opacity-10 cursor-pointer  ${e.bgColor} flex-row items-center justify-center ${e.customClass} `,"custom-style":`width: ${e.size}px; height: ${e.size}px;`,onClick:i[0]||(i[0]=(0,y.withModifiers)((t=>e.userId?e.Logic.Common.GoToRoute(`/profile/${e.userId}`):null),["stop"]))},{default:(0,t.w5)((()=>[""==e.photoUrl?(0,t.WI)(e.$slots,"default",{key:0}):(0,t.kq)("",!0)])),_:3},8,["photo-url","custom-class","custom-style"])}]]),w=(0,t.aZ)({props:{color:{type:String,default:"purple"},customClass:{type:String,default:""},isInverted:{type:Boolean,default:!1}},name:"SofaBadge"}),k=(0,d.Z)(w,[["render",function(e,i,s,o,r,a){return(0,t.wg)(),(0,t.iD)("span",{class:(0,n.normalizeClass)(`px-3 py-1 lg:text-sm mdlg:text-[12px] text-xs ${e.customClass} text-xs rounded-tl-[16px] rounded-br-[16px] rounded-tr-[8px] rounded-bl-[8px] \n\t${"purple"==e.color?` bg-primaryPurple ${e.isInverted?"text-primaryPurple bg-opacity-25":" text-white "} `:""}\n\t${"green"==e.color?"  bg-primaryGreen "+(e.isInverted?"text-primaryGreen bg-opacity-25":" text-white "):""}\n\t${"blue"==e.color?"  bg-primaryBlue "+(e.isInverted?"text-primaryBlue bg-opacity-25":" text-white "):""}\n\t${"orange"==e.color?"  bg-primaryOrange "+(e.isInverted?"text-primaryOrange bg-opacity-25":" text-white "):""}\n  ${"gray"==e.color?"  bg-backgroundGray "+(e.isInverted?"text-bodyBlack bg-opacity-25":" text-grayColor "):""}\n\t${"pink"==e.color?" bg-primaryPink "+(e.isInverted?"text-primaryPink bg-opacity-25":" text-white "):""}\n\t`)},[(0,t.WI)(e.$slots,"default")],2)}]]),S={key:0,class:"flex flex-row space-x-2 items-center justify-end absolute bottom-0 left-0 w-full px-2 py-2"},T={class:"flex flex-row space-x-2 items-center"},C={class:"w-full flex flex-row space-x-2 items-center"},E={class:"flex flex-row space-x-1 items-center"},A={key:0,class:"flex flex-row space-x-2 items-center justify-between pt-1"},I={props:{size:{type:String,default:"lg"},color:{type:String,default:"text-darkBody"},customClass:{type:String,default:""}},name:"RoofHeaderText"},M=(0,d.Z)(I,[["render",function(e,i,s,o,r,a){return(0,t.wg)(),(0,t.iD)("h3",{class:(0,n.normalizeClass)(` font-semibold text-header\n\t${"lg"==s.size?"lg:text-xl mdlg:text-lg text-base":""}\n\t${"xl"==s.size?"lg:!text-3xl mdlg:!text-xl text-base":""}\n\t${"base"==s.size?"lg:text-base mdlg:text-[13px] text-sm":""}\n\t${"xs"==s.size?"mdlg:!text-[12px] text-xs":""}\n\t${s.customClass}\n\t${s.color}`)},[(0,t.WI)(e.$slots,"default")],2)}]]),O=["innerHTML"],D=(0,t.aZ)({props:{size:{type:String,default:"base"},color:{type:String,default:"text-bodyBlack"},customClass:{type:String,default:""},isHtml:{type:Boolean,default:!1},content:{type:String,default:""}},name:"RoofNormalText"}),P=(0,d.Z)(D,[["render",function(e,i,s,o,r,a){return e.isHtml?((0,t.wg)(),(0,t.iD)("span",{key:1,class:(0,n.normalizeClass)(` flex flex-row items-center whitespace-pre-wrap\n  ${e.customClass} ${e.color}\n  ${"base"==e.size?"lg:text-sm mdlg:text-[12px] text-xs":""}\n  ${"small"==e.size?" text-xs":""}`),innerHTML:e.content},null,10,O)):((0,t.wg)(),(0,t.iD)("span",{key:0,class:(0,n.normalizeClass)(` flex flex-row items-center\n  ${e.customClass} ${e.color}\n  ${"base"==e.size?"lg:text-sm mdlg:text-[12px] text-xs":""}\n  ${"small"==e.size?" text-xs":""}`)},[(0,t.WI)(e.$slots,"default")],2))}]]),L=(0,t.aZ)({components:{SofaIcon:h,SofaImageLoader:v,SofaNormalText:P,SofaBadge:k,SofaButton:f,SofaAvatar:x},props:{customClass:{type:String,default:"border-[2px] rounded-[16px] border-[#E1E6EB]"},content:{type:Object},bookmarkAction:{type:Function}},name:"SofaItemCard",setup:()=>({Logic:b})}),j=(0,d.Z)(L,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-badge"),c=(0,t.up)("sofa-image-loader"),d=(0,t.up)("sofa-normal-text"),u=(0,t.up)("sofa-icon"),h=(0,t.up)("sofa-avatar"),p=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)("div",{class:(0,n.normalizeClass)(`col-span-1 flex flex-col space-y-2 px-3 py-3 cursor-pointer custom-border ${e.customClass}`)},[(0,t.Wm)(c,{"custom-class":"w-full mdlg:!h-[155px] h-[120px] custom-border relative","photo-url":e.content.image},{default:(0,t.w5)((()=>[e.content.price>0?((0,t.wg)(),(0,t.iD)("div",S,[(0,t.Wm)(l,{customClass:"!bg-[#141618] !bg-opacity-50 !text-white !px-4 !py-2 custom-border"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.content.price>0?`${e.Logic.Common.convertToMoney(e.content.price,!1,"ngn")}`:"Start"),1)])),_:1})])):(0,t.kq)("",!0)])),_:1},8,["photo-url"]),(0,t.Wm)(d,{customClass:"!font-bold w-full flex pt-1 justify-start text-left !line-clamp-1"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.content.title),1)])),_:1}),(0,t._)("div",T,[(0,t.Wm)(d,{color:"pink"==e.content.labels.color?"text-primaryPurplePink":"text-primaryPurple"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.content.labels.main),1)])),_:1},8,["color"]),(0,t._)("span",{class:(0,n.normalizeClass)("h-[5px] w-[5px] rounded-full "+("pink"==e.content.labels.color?"bg-primaryPurplePink":"bg-primaryPurple"))},null,2),(0,t.Wm)(d,{color:"pink"==e.content.labels.color?"text-primaryPurplePink":"text-primaryPurple"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.content.labels.sub),1)])),_:1},8,["color"])]),(0,t._)("div",C,[(0,t.Wm)(u,{name:"star-full","custom-class":"h-[16px]"}),(0,t._)("div",E,[(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.content.ratings.avg),1)])),_:1}),(0,t.Wm)(d,{color:"text-grayColor"},{default:(0,t.w5)((()=>[(0,t.Uk)(" ("+(0,n.toDisplayString)(e.content.ratings.count)+" ratings) ",1)])),_:1})])]),e.content.user?((0,t.wg)(),(0,t.iD)("div",A,[(0,t.Wm)(p,{to:`/profile/${e.content.user.id}`,class:"space-x-2 flex flex-row items-center cursor-pointer"},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{size:"20",photoUrl:e.content.user.bio.photo?.link??"",bgColor:"bg-grayColor","user-id":e.content.user.id},{default:(0,t.w5)((()=>[e.content.user.bio.photo?.link?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(u,{key:0,customClass:"h-[12px]",name:"user"}))])),_:1},8,["photoUrl","user-id"]),(0,t.Wm)(d,{customClass:"!whitespace-nowrap !line-clamp-1"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.content.authUserId===e.content.user.id?"You":e.content.user.bio.name.full),1)])),_:1}),e.content.user.roles.isVerified?((0,t.wg)(),(0,t.j4)(u,{key:0,name:"verify","custom-class":"h-[13px]"})):(0,t.kq)("",!0),"teacher"===e.content.user.type?.type?((0,t.wg)(),(0,t.j4)(u,{key:1,name:"tutor-bagde","custom-class":"h-[13px]"})):(0,t.kq)("",!0)])),_:1},8,["to"]),(0,t.Wm)(u,{onClick:i[0]||(i[0]=(0,y.withModifiers)((t=>e.bookmarkAction?e.bookmarkAction():null),["stop"])),name:"bookmark",customClass:"h-[18px] "})])):(0,t.kq)("",!0)],2)}]]),B={key:0,class:"w-full h-[6px] rounded-[8px] bg-grayColor relative"},R={class:"grid grid-cols-10 w-full gap-2 items-center h-full relative"},N={class:(0,n.normalizeClass)("flex flex-col space-y-2  col-span-10 h-full w-full ")},U={class:"w-full flex flex-row items-center justify-between"},F={class:"flex flex-row space-x-2 items-center"},z={class:"w-full flex flex-row space-x-2 items-center"},H={class:"flex flex-row space-x-1 items-center"},V={class:"flex flex-row items-center space-x-2 flex-grow justify-between w-full"},q=(0,t.aZ)({components:{SofaIcon:h,SofaBadge:k,SofaImageLoader:v,SofaNormalText:P,SofaButton:f,SofaAvatar:x},props:{customClass:{type:String,default:"bg-ligthGray"},activity:{type:Object,required:!0},isWrapped:{type:Boolean,default:!1},hasEdit:{type:Boolean,default:!1},editAction:{type:Function},centralizeExtras:{type:Boolean,default:!1},hasBookmark:{type:Boolean,default:!1},bookmarkAction:{type:Function},hasExtra:{type:Boolean,default:!1}},name:"SofaActivityCard",setup:()=>({Logic:b})}),$=(0,d.Z)(q,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-normal-text"),c=(0,t.up)("sofa-image-loader"),d=(0,t.up)("sofa-icon"),u=(0,t.up)("sofa-avatar"),h=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)("div",{class:(0,n.normalizeClass)(`mdlg:!w-full ${e.isWrapped?"w-full":"w-[220px]"}  shadow-custom mdlg:!shadow-none flex ${e.isWrapped?"w-full":"flex-row "}  items-start space-x-3 px-3 py-3 justify-between rounded-tl-[16px] rounded-br-[16px] rounded-tr-[8px] rounded-bl-[8px] mdlg:!bg-ligthGray bg-white  ${e.customClass}`)},[(0,t._)("div",{class:(0,n.normalizeClass)(`flex mdlg:!flex-row  ${e.isWrapped?" flex-row space-x-2":" flex-col space-y-2 mdlg:!space-y-0"} mdlg:space-x-3  mdlg:space-y-0 items-start w-full `)},[(0,t.Wm)(c,{photoUrl:e.activity.image,customClass:`mdlg:!h-[115px]  ${e.isWrapped?" h-[100px] w-[150px]":"  h-[120px] w-full"} mdlg:!w-[200px]  rounded-tl-[16px] rounded-br-[16px] rounded-tr-[8px] rounded-bl-[8px] relative`},{default:(0,t.w5)((()=>[e.activity.progress>0?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,n.normalizeClass)("absolute bottom-0 left-0 w-full px-2 rounded-b-[12px] bg-black bg-opacity-50  "+(e.activity.progress<100?"py-2":"py-1"))},[e.activity.progress<100?((0,t.wg)(),(0,t.iD)("div",B,[(0,t._)("div",{class:"h-full bg-white rounded-[8px]",style:(0,n.normalizeStyle)(`width: ${e.activity.progress}%;`)},null,4)])):((0,t.wg)(),(0,t.j4)(l,{key:1,customClass:"!text-xs !py-0 font-semibold w-full flex flex-row items-center justify-center",color:"text-white"},{default:(0,t.w5)((()=>[(0,t.Uk)("Completed")])),_:1}))],2)):(0,t.kq)("",!0)])),_:1},8,["photoUrl","customClass"]),(0,t._)("div",R,[(0,t._)("div",N,[(0,t._)("div",U,[(0,t.Wm)(l,{customClass:"!font-bold w-full text-left !line-clamp-1"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.activity.title),1)])),_:1}),e.hasEdit?((0,t.wg)(),(0,t.iD)("div",{key:0,class:"flex flex-row justify-end",onClick:i[0]||(i[0]=(0,y.withModifiers)((t=>e.editAction?e.editAction():null),["stop"]))},[(0,t.Wm)(d,{customClass:"h-[16px]",name:"edit-gray"})])):(0,t.kq)("",!0),e.hasBookmark&&"sm"!=e.Logic.Common.mediaQuery()&&"md"!=e.Logic.Common.mediaQuery()?((0,t.wg)(),(0,t.iD)("div",{key:1,class:"flex flex-row justify-end",onClick:i[1]||(i[1]=(0,y.withModifiers)((t=>e.bookmarkAction?e.bookmarkAction():null),["stop"]))},[(0,t.Wm)(d,{customClass:"h-[16px]",name:"bookmark"})])):(0,t.kq)("",!0),e.hasExtra?(0,t.WI)(e.$slots,"extra",{key:2}):(0,t.kq)("",!0)]),(0,t._)("div",F,[(0,t.Wm)(l,{color:"pink"==e.activity.labels.color?"text-primaryPurplePink":"text-primaryPurple"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.activity.labels.main),1)])),_:1},8,["color"]),(0,t._)("span",{class:(0,n.normalizeClass)("h-[5px] w-[5px] rounded-full "+("pink"==e.activity.labels.color?"bg-primaryPurplePink":"bg-primaryPurple"))},null,2),(0,t.Wm)(l,{color:"pink"==e.activity.labels.color?"text-primaryPurplePink":"text-primaryPurple"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.activity.labels.sub),1)])),_:1},8,["color"])]),(0,t._)("div",z,[(0,t.Wm)(d,{name:"star-full","custom-class":"h-[16px]"}),(0,t._)("div",H,[(0,t.Wm)(l,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.activity.ratings.avg),1)])),_:1}),(0,t.Wm)(l,{color:"text-grayColor"},{default:(0,t.w5)((()=>[(0,t.Uk)(" ("+(0,n.toDisplayString)(e.activity.ratings.total)+" ratings) ",1)])),_:1})])]),(0,t._)("div",V,[(0,t.Wm)(h,{to:`/profile/${e.activity.user.id}`,class:"space-x-2 flex flex-row items-center cursor-pointer"},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{size:"20",photoUrl:e.activity.user.bio.photo?.link??"",bgColor:"bg-grayColor","user-id":e.activity.user.id},{default:(0,t.w5)((()=>[e.activity.user.bio.photo?.link?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(d,{key:0,customClass:"h-[12px]",name:"user"}))])),_:1},8,["photoUrl","user-id"]),(0,t.Wm)(l,{customClass:"!whitespace-nowrap !line-clamp-1"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.activity.authUserId===e.activity.user.id?"You":e.activity.user.bio.name.full),1)])),_:1}),e.activity.user.roles.isVerified?((0,t.wg)(),(0,t.j4)(d,{key:0,name:"verify","custom-class":"h-[13px]"})):(0,t.kq)("",!0),"teacher"===e.activity.user.type?.type?((0,t.wg)(),(0,t.j4)(d,{key:1,name:"tutor-bagde","custom-class":"h-[13px]"})):(0,t.kq)("",!0)])),_:1},8,["to"]),e.isWrapped?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(d,{key:0,onClick:i[2]||(i[2]=(0,y.withModifiers)((t=>e.bookmarkAction?e.bookmarkAction():null),["stop"])),name:"bookmark",customClass:"h-[17px] mdlg:!hidden "}))])])])],2),(0,t.WI)(e.$slots,"default")],2)}]]),W={key:0,class:"w-full pt-3 flex flex-row items-center space-x-1 justify-center"};function G(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function Y(e={},t={}){Object.keys(t).forEach((i=>{void 0===e[i]?e[i]=t[i]:G(t[i])&&G(e[i])&&Object.keys(t[i]).length>0&&Y(e[i],t[i])}))}const X={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function K(){const e="undefined"!=typeof document?document:{};return Y(e,X),e}const Q={document:X,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function Z(){const e="undefined"!=typeof window?window:{};return Y(e,Q),e}class J extends Array{constructor(e){"number"==typeof e?super(e):(super(...e||[]),function(e){const t=e.__proto__;Object.defineProperty(e,"__proto__",{get:()=>t,set(e){t.__proto__=e}})}(this))}}function ee(e=[]){const t=[];return e.forEach((e=>{Array.isArray(e)?t.push(...ee(e)):t.push(e)})),t}function te(e,t){return Array.prototype.filter.call(e,t)}function ie(e,t){const i=Z(),n=K();let s=[];if(!t&&e instanceof J)return e;if(!e)return new J(s);if("string"==typeof e){const i=e.trim();if(i.indexOf("<")>=0&&i.indexOf(">")>=0){let e="div";0===i.indexOf("<li")&&(e="ul"),0===i.indexOf("<tr")&&(e="tbody"),0!==i.indexOf("<td")&&0!==i.indexOf("<th")||(e="tr"),0===i.indexOf("<tbody")&&(e="table"),0===i.indexOf("<option")&&(e="select");const t=n.createElement(e);t.innerHTML=i;for(let e=0;e<t.childNodes.length;e+=1)s.push(t.childNodes[e])}else s=function(e,t){if("string"!=typeof e)return[e];const i=[],n=t.querySelectorAll(e);for(let e=0;e<n.length;e+=1)i.push(n[e]);return i}(e.trim(),t||n)}else if(e.nodeType||e===i||e===n)s.push(e);else if(Array.isArray(e)){if(e instanceof J)return e;s=e}return new J(function(e){const t=[];for(let i=0;i<e.length;i+=1)-1===t.indexOf(e[i])&&t.push(e[i]);return t}(s))}ie.fn=J.prototype;const ne="resize scroll".split(" ");function se(e){return function(...t){if(void 0===t[0]){for(let t=0;t<this.length;t+=1)ne.indexOf(e)<0&&(e in this[t]?this[t][e]():ie(this[t]).trigger(e));return this}return this.on(e,...t)}}se("click"),se("blur"),se("focus"),se("focusin"),se("focusout"),se("keyup"),se("keydown"),se("keypress"),se("submit"),se("change"),se("mousedown"),se("mousemove"),se("mouseup"),se("mouseenter"),se("mouseleave"),se("mouseout"),se("mouseover"),se("touchstart"),se("touchend"),se("touchmove"),se("resize"),se("scroll");const oe={addClass:function(...e){const t=ee(e.map((e=>e.split(" "))));return this.forEach((e=>{e.classList.add(...t)})),this},removeClass:function(...e){const t=ee(e.map((e=>e.split(" "))));return this.forEach((e=>{e.classList.remove(...t)})),this},hasClass:function(...e){const t=ee(e.map((e=>e.split(" "))));return te(this,(e=>t.filter((t=>e.classList.contains(t))).length>0)).length>0},toggleClass:function(...e){const t=ee(e.map((e=>e.split(" "))));this.forEach((e=>{t.forEach((t=>{e.classList.toggle(t)}))}))},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(let i=0;i<this.length;i+=1)if(2===arguments.length)this[i].setAttribute(e,t);else for(const t in e)this[i][t]=e[t],this[i].setAttribute(t,e[t]);return this},removeAttr:function(e){for(let t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},transform:function(e){for(let t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function(e){for(let t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!=typeof e?`${e}ms`:e;return this},on:function(...e){let[t,i,n,s]=e;function o(e){const t=e.target;if(!t)return;const s=e.target.dom7EventData||[];if(s.indexOf(e)<0&&s.unshift(e),ie(t).is(i))n.apply(t,s);else{const e=ie(t).parents();for(let t=0;t<e.length;t+=1)ie(e[t]).is(i)&&n.apply(e[t],s)}}function r(e){const t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),n.apply(this,t)}"function"==typeof e[1]&&([t,n,s]=e,i=void 0),s||(s=!1);const a=t.split(" ");let l;for(let e=0;e<this.length;e+=1){const t=this[e];if(i)for(l=0;l<a.length;l+=1){const e=a[l];t.dom7LiveListeners||(t.dom7LiveListeners={}),t.dom7LiveListeners[e]||(t.dom7LiveListeners[e]=[]),t.dom7LiveListeners[e].push({listener:n,proxyListener:o}),t.addEventListener(e,o,s)}else for(l=0;l<a.length;l+=1){const e=a[l];t.dom7Listeners||(t.dom7Listeners={}),t.dom7Listeners[e]||(t.dom7Listeners[e]=[]),t.dom7Listeners[e].push({listener:n,proxyListener:r}),t.addEventListener(e,r,s)}}return this},off:function(...e){let[t,i,n,s]=e;"function"==typeof e[1]&&([t,n,s]=e,i=void 0),s||(s=!1);const o=t.split(" ");for(let e=0;e<o.length;e+=1){const t=o[e];for(let e=0;e<this.length;e+=1){const o=this[e];let r;if(!i&&o.dom7Listeners?r=o.dom7Listeners[t]:i&&o.dom7LiveListeners&&(r=o.dom7LiveListeners[t]),r&&r.length)for(let e=r.length-1;e>=0;e-=1){const i=r[e];n&&i.listener===n||n&&i.listener&&i.listener.dom7proxy&&i.listener.dom7proxy===n?(o.removeEventListener(t,i.proxyListener,s),r.splice(e,1)):n||(o.removeEventListener(t,i.proxyListener,s),r.splice(e,1))}}}return this},trigger:function(...e){const t=Z(),i=e[0].split(" "),n=e[1];for(let s=0;s<i.length;s+=1){const o=i[s];for(let i=0;i<this.length;i+=1){const s=this[i];if(t.CustomEvent){const i=new t.CustomEvent(o,{detail:n,bubbles:!0,cancelable:!0});s.dom7EventData=e.filter(((e,t)=>t>0)),s.dispatchEvent(i),s.dom7EventData=[],delete s.dom7EventData}}}return this},transitionEnd:function(e){const t=this;return e&&t.on("transitionend",(function i(n){n.target===this&&(e.call(this,n),t.off("transitionend",i))})),this},outerWidth:function(e){if(this.length>0){if(e){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){const e=Z();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){const e=Z(),t=K(),i=this[0],n=i.getBoundingClientRect(),s=t.body,o=i.clientTop||s.clientTop||0,r=i.clientLeft||s.clientLeft||0,a=i===e?e.scrollY:i.scrollTop,l=i===e?e.scrollX:i.scrollLeft;return{top:n.top+a-o,left:n.left+l-r}}return null},css:function(e,t){const i=Z();let n;if(1===arguments.length){if("string"!=typeof e){for(n=0;n<this.length;n+=1)for(const t in e)this[n].style[t]=e[t];return this}if(this[0])return i.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(n=0;n<this.length;n+=1)this[n].style[e]=t;return this}return this},each:function(e){return e?(this.forEach(((t,i)=>{e.apply(t,[t,i])})),this):this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:null;for(let t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(let t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){const t=Z(),i=K(),n=this[0];let s,o;if(!n||void 0===e)return!1;if("string"==typeof e){if(n.matches)return n.matches(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);for(s=ie(e),o=0;o<s.length;o+=1)if(s[o]===n)return!0;return!1}if(e===i)return n===i;if(e===t)return n===t;if(e.nodeType||e instanceof J){for(s=e.nodeType?[e]:e,o=0;o<s.length;o+=1)if(s[o]===n)return!0;return!1}return!1},index:function(){let e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if(void 0===e)return this;const t=this.length;if(e>t-1)return ie([]);if(e<0){const i=t+e;return ie(i<0?[]:[this[i]])}return ie([this[e]])},append:function(...e){let t;const i=K();for(let n=0;n<e.length;n+=1){t=e[n];for(let e=0;e<this.length;e+=1)if("string"==typeof t){const n=i.createElement("div");for(n.innerHTML=t;n.firstChild;)this[e].appendChild(n.firstChild)}else if(t instanceof J)for(let i=0;i<t.length;i+=1)this[e].appendChild(t[i]);else this[e].appendChild(t)}return this},prepend:function(e){const t=K();let i,n;for(i=0;i<this.length;i+=1)if("string"==typeof e){const s=t.createElement("div");for(s.innerHTML=e,n=s.childNodes.length-1;n>=0;n-=1)this[i].insertBefore(s.childNodes[n],this[i].childNodes[0])}else if(e instanceof J)for(n=0;n<e.length;n+=1)this[i].insertBefore(e[n],this[i].childNodes[0]);else this[i].insertBefore(e,this[i].childNodes[0]);return this},next:function(e){return this.length>0?e?this[0].nextElementSibling&&ie(this[0].nextElementSibling).is(e)?ie([this[0].nextElementSibling]):ie([]):this[0].nextElementSibling?ie([this[0].nextElementSibling]):ie([]):ie([])},nextAll:function(e){const t=[];let i=this[0];if(!i)return ie([]);for(;i.nextElementSibling;){const n=i.nextElementSibling;e?ie(n).is(e)&&t.push(n):t.push(n),i=n}return ie(t)},prev:function(e){if(this.length>0){const t=this[0];return e?t.previousElementSibling&&ie(t.previousElementSibling).is(e)?ie([t.previousElementSibling]):ie([]):t.previousElementSibling?ie([t.previousElementSibling]):ie([])}return ie([])},prevAll:function(e){const t=[];let i=this[0];if(!i)return ie([]);for(;i.previousElementSibling;){const n=i.previousElementSibling;e?ie(n).is(e)&&t.push(n):t.push(n),i=n}return ie(t)},parent:function(e){const t=[];for(let i=0;i<this.length;i+=1)null!==this[i].parentNode&&(e?ie(this[i].parentNode).is(e)&&t.push(this[i].parentNode):t.push(this[i].parentNode));return ie(t)},parents:function(e){const t=[];for(let i=0;i<this.length;i+=1){let n=this[i].parentNode;for(;n;)e?ie(n).is(e)&&t.push(n):t.push(n),n=n.parentNode}return ie(t)},closest:function(e){let t=this;return void 0===e?ie([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){const t=[];for(let i=0;i<this.length;i+=1){const n=this[i].querySelectorAll(e);for(let e=0;e<n.length;e+=1)t.push(n[e])}return ie(t)},children:function(e){const t=[];for(let i=0;i<this.length;i+=1){const n=this[i].children;for(let i=0;i<n.length;i+=1)e&&!ie(n[i]).is(e)||t.push(n[i])}return ie(t)},filter:function(e){return ie(te(this,e))},remove:function(){for(let e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}};Object.keys(oe).forEach((e=>{Object.defineProperty(ie.fn,e,{value:oe[e],writable:!0})}));const re=ie;function ae(e,t=0){return setTimeout(e,t)}function le(){return Date.now()}function ce(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function de(...e){const t=Object(e[0]),i=["__proto__","constructor","prototype"];for(let s=1;s<e.length;s+=1){const o=e[s];if(null!=o&&(n=o,!("undefined"!=typeof window&&void 0!==window.HTMLElement?n instanceof HTMLElement:n&&(1===n.nodeType||11===n.nodeType)))){const e=Object.keys(Object(o)).filter((e=>i.indexOf(e)<0));for(let i=0,n=e.length;i<n;i+=1){const n=e[i],s=Object.getOwnPropertyDescriptor(o,n);void 0!==s&&s.enumerable&&(ce(t[n])&&ce(o[n])?o[n].__swiper__?t[n]=o[n]:de(t[n],o[n]):!ce(t[n])&&ce(o[n])?(t[n]={},o[n].__swiper__?t[n]=o[n]:de(t[n],o[n])):t[n]=o[n])}}}var n;return t}function ue(e,t,i){e.style.setProperty(t,i)}function he({swiper:e,targetPosition:t,side:i}){const n=Z(),s=-e.translate;let o,r=null;const a=e.params.speed;e.wrapperEl.style.scrollSnapType="none",n.cancelAnimationFrame(e.cssModeFrameID);const l=t>s?"next":"prev",c=(e,t)=>"next"===l&&e>=t||"prev"===l&&e<=t,d=()=>{o=(new Date).getTime(),null===r&&(r=o);const l=Math.max(Math.min((o-r)/a,1),0),u=.5-Math.cos(l*Math.PI)/2;let h=s+u*(t-s);if(c(h,t)&&(h=t),e.wrapperEl.scrollTo({[i]:h}),c(h,t))return e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout((()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:h})})),void n.cancelAnimationFrame(e.cssModeFrameID);e.cssModeFrameID=n.requestAnimationFrame(d)};d()}let pe,fe,me;function ge(){return pe||(pe=function(){const e=Z(),t=K();return{smoothScroll:t.documentElement&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),passiveListener:function(){let t=!1;try{const i=Object.defineProperty({},"passive",{get(){t=!0}});e.addEventListener("testPassiveListener",null,i)}catch(e){}return t}(),gestures:"ongesturestart"in e}}()),pe}const ve={on(e,t,i){const n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!=typeof t)return n;const s=i?"unshift":"push";return e.split(" ").forEach((e=>{n.eventsListeners[e]||(n.eventsListeners[e]=[]),n.eventsListeners[e][s](t)})),n},once(e,t,i){const n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!=typeof t)return n;function s(...i){n.off(e,s),s.__emitterProxy&&delete s.__emitterProxy,t.apply(n,i)}return s.__emitterProxy=t,n.on(e,s,i)},onAny(e,t){const i=this;if(!i.eventsListeners||i.destroyed)return i;if("function"!=typeof e)return i;const n=t?"unshift":"push";return i.eventsAnyListeners.indexOf(e)<0&&i.eventsAnyListeners[n](e),i},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;const i=t.eventsAnyListeners.indexOf(e);return i>=0&&t.eventsAnyListeners.splice(i,1),t},off(e,t){const i=this;return!i.eventsListeners||i.destroyed?i:i.eventsListeners?(e.split(" ").forEach((e=>{void 0===t?i.eventsListeners[e]=[]:i.eventsListeners[e]&&i.eventsListeners[e].forEach(((n,s)=>{(n===t||n.__emitterProxy&&n.__emitterProxy===t)&&i.eventsListeners[e].splice(s,1)}))})),i):i},emit(...e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsListeners)return t;let i,n,s;return"string"==typeof e[0]||Array.isArray(e[0])?(i=e[0],n=e.slice(1,e.length),s=t):(i=e[0].events,n=e[0].data,s=e[0].context||t),n.unshift(s),(Array.isArray(i)?i:i.split(" ")).forEach((e=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach((t=>{t.apply(s,[e,...n])})),t.eventsListeners&&t.eventsListeners[e]&&t.eventsListeners[e].forEach((e=>{e.apply(s,n)}))})),t}},ye={updateSize:function(){const e=this;let t,i;const n=e.$el;t=void 0!==e.params.width&&null!==e.params.width?e.params.width:n[0].clientWidth,i=void 0!==e.params.height&&null!==e.params.height?e.params.height:n[0].clientHeight,0===t&&e.isHorizontal()||0===i&&e.isVertical()||(t=t-parseInt(n.css("padding-left")||0,10)-parseInt(n.css("padding-right")||0,10),i=i-parseInt(n.css("padding-top")||0,10)-parseInt(n.css("padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(i)&&(i=0),Object.assign(e,{width:t,height:i,size:e.isHorizontal()?t:i}))},updateSlides:function(){const e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function i(e,i){return parseFloat(e.getPropertyValue(t(i))||0)}const n=e.params,{$wrapperEl:s,size:o,rtlTranslate:r,wrongRTL:a}=e,l=e.virtual&&n.virtual.enabled,c=l?e.virtual.slides.length:e.slides.length,d=s.children(`.${e.params.slideClass}`),u=l?e.virtual.slides.length:d.length;let h=[];const p=[],f=[];let m=n.slidesOffsetBefore;"function"==typeof m&&(m=n.slidesOffsetBefore.call(e));let g=n.slidesOffsetAfter;"function"==typeof g&&(g=n.slidesOffsetAfter.call(e));const v=e.snapGrid.length,y=e.slidesGrid.length;let b=n.spaceBetween,_=-m,x=0,w=0;if(void 0===o)return;"string"==typeof b&&b.indexOf("%")>=0&&(b=parseFloat(b.replace("%",""))/100*o),e.virtualSize=-b,r?d.css({marginLeft:"",marginBottom:"",marginTop:""}):d.css({marginRight:"",marginBottom:"",marginTop:""}),n.centeredSlides&&n.cssMode&&(ue(e.wrapperEl,"--swiper-centered-offset-before",""),ue(e.wrapperEl,"--swiper-centered-offset-after",""));const k=n.grid&&n.grid.rows>1&&e.grid;let S;k&&e.grid.initSlides(u);const T="auto"===n.slidesPerView&&n.breakpoints&&Object.keys(n.breakpoints).filter((e=>void 0!==n.breakpoints[e].slidesPerView)).length>0;for(let s=0;s<u;s+=1){S=0;const r=d.eq(s);if(k&&e.grid.updateSlide(s,r,u,t),"none"!==r.css("display")){if("auto"===n.slidesPerView){T&&(d[s].style[t("width")]="");const o=getComputedStyle(r[0]),a=r[0].style.transform,l=r[0].style.webkitTransform;if(a&&(r[0].style.transform="none"),l&&(r[0].style.webkitTransform="none"),n.roundLengths)S=e.isHorizontal()?r.outerWidth(!0):r.outerHeight(!0);else{const e=i(o,"width"),t=i(o,"padding-left"),n=i(o,"padding-right"),s=i(o,"margin-left"),a=i(o,"margin-right"),l=o.getPropertyValue("box-sizing");if(l&&"border-box"===l)S=e+s+a;else{const{clientWidth:i,offsetWidth:o}=r[0];S=e+t+n+s+a+(o-i)}}a&&(r[0].style.transform=a),l&&(r[0].style.webkitTransform=l),n.roundLengths&&(S=Math.floor(S))}else S=(o-(n.slidesPerView-1)*b)/n.slidesPerView,n.roundLengths&&(S=Math.floor(S)),d[s]&&(d[s].style[t("width")]=`${S}px`);d[s]&&(d[s].swiperSlideSize=S),f.push(S),n.centeredSlides?(_=_+S/2+x/2+b,0===x&&0!==s&&(_=_-o/2-b),0===s&&(_=_-o/2-b),Math.abs(_)<.001&&(_=0),n.roundLengths&&(_=Math.floor(_)),w%n.slidesPerGroup==0&&h.push(_),p.push(_)):(n.roundLengths&&(_=Math.floor(_)),(w-Math.min(e.params.slidesPerGroupSkip,w))%e.params.slidesPerGroup==0&&h.push(_),p.push(_),_=_+S+b),e.virtualSize+=S+b,x=S,w+=1}}if(e.virtualSize=Math.max(e.virtualSize,o)+g,r&&a&&("slide"===n.effect||"coverflow"===n.effect)&&s.css({width:`${e.virtualSize+n.spaceBetween}px`}),n.setWrapperSize&&s.css({[t("width")]:`${e.virtualSize+n.spaceBetween}px`}),k&&e.grid.updateWrapperSize(S,h,t),!n.centeredSlides){const t=[];for(let i=0;i<h.length;i+=1){let s=h[i];n.roundLengths&&(s=Math.floor(s)),h[i]<=e.virtualSize-o&&t.push(s)}h=t,Math.floor(e.virtualSize-o)-Math.floor(h[h.length-1])>1&&h.push(e.virtualSize-o)}if(0===h.length&&(h=[0]),0!==n.spaceBetween){const i=e.isHorizontal()&&r?"marginLeft":t("marginRight");d.filter(((e,t)=>!n.cssMode||t!==d.length-1)).css({[i]:`${b}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let e=0;f.forEach((t=>{e+=t+(n.spaceBetween?n.spaceBetween:0)})),e-=n.spaceBetween;const t=e-o;h=h.map((e=>e<0?-m:e>t?t+g:e))}if(n.centerInsufficientSlides){let e=0;if(f.forEach((t=>{e+=t+(n.spaceBetween?n.spaceBetween:0)})),e-=n.spaceBetween,e<o){const t=(o-e)/2;h.forEach(((e,i)=>{h[i]=e-t})),p.forEach(((e,i)=>{p[i]=e+t}))}}if(Object.assign(e,{slides:d,snapGrid:h,slidesGrid:p,slidesSizesGrid:f}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){ue(e.wrapperEl,"--swiper-centered-offset-before",-h[0]+"px"),ue(e.wrapperEl,"--swiper-centered-offset-after",e.size/2-f[f.length-1]/2+"px");const t=-e.snapGrid[0],i=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((e=>e+t)),e.slidesGrid=e.slidesGrid.map((e=>e+i))}if(u!==c&&e.emit("slidesLengthChange"),h.length!==v&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),p.length!==y&&e.emit("slidesGridLengthChange"),n.watchSlidesProgress&&e.updateSlidesOffset(),!(l||n.cssMode||"slide"!==n.effect&&"fade"!==n.effect)){const t=`${n.containerModifierClass}backface-hidden`,i=e.$el.hasClass(t);u<=n.maxBackfaceHiddenSlides?i||e.$el.addClass(t):i&&e.$el.removeClass(t)}},updateAutoHeight:function(e){const t=this,i=[],n=t.virtual&&t.params.virtual.enabled;let s,o=0;"number"==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const r=e=>n?t.slides.filter((t=>parseInt(t.getAttribute("data-swiper-slide-index"),10)===e))[0]:t.slides.eq(e)[0];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||re([])).each((e=>{i.push(e)}));else for(s=0;s<Math.ceil(t.params.slidesPerView);s+=1){const e=t.activeIndex+s;if(e>t.slides.length&&!n)break;i.push(r(e))}else i.push(r(t.activeIndex));for(s=0;s<i.length;s+=1)if(void 0!==i[s]){const e=i[s].offsetHeight;o=e>o?e:o}(o||0===o)&&t.$wrapperEl.css("height",`${o}px`)},updateSlidesOffset:function(){const e=this,t=e.slides;for(let i=0;i<t.length;i+=1)t[i].swiperSlideOffset=e.isHorizontal()?t[i].offsetLeft:t[i].offsetTop},updateSlidesProgress:function(e=this&&this.translate||0){const t=this,i=t.params,{slides:n,rtlTranslate:s,snapGrid:o}=t;if(0===n.length)return;void 0===n[0].swiperSlideOffset&&t.updateSlidesOffset();let r=-e;s&&(r=e),n.removeClass(i.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(let e=0;e<n.length;e+=1){const a=n[e];let l=a.swiperSlideOffset;i.cssMode&&i.centeredSlides&&(l-=n[0].swiperSlideOffset);const c=(r+(i.centeredSlides?t.minTranslate():0)-l)/(a.swiperSlideSize+i.spaceBetween),d=(r-o[0]+(i.centeredSlides?t.minTranslate():0)-l)/(a.swiperSlideSize+i.spaceBetween),u=-(r-l),h=u+t.slidesSizesGrid[e];(u>=0&&u<t.size-1||h>1&&h<=t.size||u<=0&&h>=t.size)&&(t.visibleSlides.push(a),t.visibleSlidesIndexes.push(e),n.eq(e).addClass(i.slideVisibleClass)),a.progress=s?-c:c,a.originalProgress=s?-d:d}t.visibleSlides=re(t.visibleSlides)},updateProgress:function(e){const t=this;if(void 0===e){const i=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*i||0}const i=t.params,n=t.maxTranslate()-t.minTranslate();let{progress:s,isBeginning:o,isEnd:r}=t;const a=o,l=r;0===n?(s=0,o=!0,r=!0):(s=(e-t.minTranslate())/n,o=s<=0,r=s>=1),Object.assign(t,{progress:s,isBeginning:o,isEnd:r}),(i.watchSlidesProgress||i.centeredSlides&&i.autoHeight)&&t.updateSlidesProgress(e),o&&!a&&t.emit("reachBeginning toEdge"),r&&!l&&t.emit("reachEnd toEdge"),(a&&!o||l&&!r)&&t.emit("fromEdge"),t.emit("progress",s)},updateSlidesClasses:function(){const e=this,{slides:t,params:i,$wrapperEl:n,activeIndex:s,realIndex:o}=e,r=e.virtual&&i.virtual.enabled;let a;t.removeClass(`${i.slideActiveClass} ${i.slideNextClass} ${i.slidePrevClass} ${i.slideDuplicateActiveClass} ${i.slideDuplicateNextClass} ${i.slideDuplicatePrevClass}`),a=r?e.$wrapperEl.find(`.${i.slideClass}[data-swiper-slide-index="${s}"]`):t.eq(s),a.addClass(i.slideActiveClass),i.loop&&(a.hasClass(i.slideDuplicateClass)?n.children(`.${i.slideClass}:not(.${i.slideDuplicateClass})[data-swiper-slide-index="${o}"]`).addClass(i.slideDuplicateActiveClass):n.children(`.${i.slideClass}.${i.slideDuplicateClass}[data-swiper-slide-index="${o}"]`).addClass(i.slideDuplicateActiveClass));let l=a.nextAll(`.${i.slideClass}`).eq(0).addClass(i.slideNextClass);i.loop&&0===l.length&&(l=t.eq(0),l.addClass(i.slideNextClass));let c=a.prevAll(`.${i.slideClass}`).eq(0).addClass(i.slidePrevClass);i.loop&&0===c.length&&(c=t.eq(-1),c.addClass(i.slidePrevClass)),i.loop&&(l.hasClass(i.slideDuplicateClass)?n.children(`.${i.slideClass}:not(.${i.slideDuplicateClass})[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(i.slideDuplicateNextClass):n.children(`.${i.slideClass}.${i.slideDuplicateClass}[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(i.slideDuplicateNextClass),c.hasClass(i.slideDuplicateClass)?n.children(`.${i.slideClass}:not(.${i.slideDuplicateClass})[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(i.slideDuplicatePrevClass):n.children(`.${i.slideClass}.${i.slideDuplicateClass}[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(i.slideDuplicatePrevClass)),e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,i=t.rtlTranslate?t.translate:-t.translate,{slidesGrid:n,snapGrid:s,params:o,activeIndex:r,realIndex:a,snapIndex:l}=t;let c,d=e;if(void 0===d){for(let e=0;e<n.length;e+=1)void 0!==n[e+1]?i>=n[e]&&i<n[e+1]-(n[e+1]-n[e])/2?d=e:i>=n[e]&&i<n[e+1]&&(d=e+1):i>=n[e]&&(d=e);o.normalizeSlideIndex&&(d<0||void 0===d)&&(d=0)}if(s.indexOf(i)>=0)c=s.indexOf(i);else{const e=Math.min(o.slidesPerGroupSkip,d);c=e+Math.floor((d-e)/o.slidesPerGroup)}if(c>=s.length&&(c=s.length-1),d===r)return void(c!==l&&(t.snapIndex=c,t.emit("snapIndexChange")));const u=parseInt(t.slides.eq(d).attr("data-swiper-slide-index")||d,10);Object.assign(t,{snapIndex:c,realIndex:u,previousIndex:r,activeIndex:d}),t.emit("activeIndexChange"),t.emit("snapIndexChange"),a!==u&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange")},updateClickedSlide:function(e){const t=this,i=t.params,n=re(e).closest(`.${i.slideClass}`)[0];let s,o=!1;if(n)for(let e=0;e<t.slides.length;e+=1)if(t.slides[e]===n){o=!0,s=e;break}if(!n||!o)return t.clickedSlide=void 0,void(t.clickedIndex=void 0);t.clickedSlide=n,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(re(n).attr("data-swiper-slide-index"),10):t.clickedIndex=s,i.slideToClickedSlide&&void 0!==t.clickedIndex&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}},be={getTranslate:function(e=(this.isHorizontal()?"x":"y")){const{params:t,rtlTranslate:i,translate:n,$wrapperEl:s}=this;if(t.virtualTranslate)return i?-n:n;if(t.cssMode)return n;let o=function(e,t="x"){const i=Z();let n,s,o;const r=function(e){const t=Z();let i;return t.getComputedStyle&&(i=t.getComputedStyle(e,null)),!i&&e.currentStyle&&(i=e.currentStyle),i||(i=e.style),i}(e);return i.WebKitCSSMatrix?(s=r.transform||r.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map((e=>e.replace(",","."))).join(", ")),o=new i.WebKitCSSMatrix("none"===s?"":s)):(o=r.MozTransform||r.OTransform||r.MsTransform||r.msTransform||r.transform||r.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=o.toString().split(",")),"x"===t&&(s=i.WebKitCSSMatrix?o.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(s=i.WebKitCSSMatrix?o.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),s||0}(s[0],e);return i&&(o=-o),o||0},setTranslate:function(e,t){const i=this,{rtlTranslate:n,params:s,$wrapperEl:o,wrapperEl:r,progress:a}=i;let l,c=0,d=0;i.isHorizontal()?c=n?-e:e:d=e,s.roundLengths&&(c=Math.floor(c),d=Math.floor(d)),s.cssMode?r[i.isHorizontal()?"scrollLeft":"scrollTop"]=i.isHorizontal()?-c:-d:s.virtualTranslate||o.transform(`translate3d(${c}px, ${d}px, 0px)`),i.previousTranslate=i.translate,i.translate=i.isHorizontal()?c:d;const u=i.maxTranslate()-i.minTranslate();l=0===u?0:(e-i.minTranslate())/u,l!==a&&i.updateProgress(e),i.emit("setTranslate",i.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e=0,t=this.params.speed,i=!0,n=!0,s){const o=this,{params:r,wrapperEl:a}=o;if(o.animating&&r.preventInteractionOnTransition)return!1;const l=o.minTranslate(),c=o.maxTranslate();let d;if(d=n&&e>l?l:n&&e<c?c:e,o.updateProgress(d),r.cssMode){const e=o.isHorizontal();if(0===t)a[e?"scrollLeft":"scrollTop"]=-d;else{if(!o.support.smoothScroll)return he({swiper:o,targetPosition:-d,side:e?"left":"top"}),!0;a.scrollTo({[e?"left":"top"]:-d,behavior:"smooth"})}return!0}return 0===t?(o.setTransition(0),o.setTranslate(d),i&&(o.emit("beforeTransitionStart",t,s),o.emit("transitionEnd"))):(o.setTransition(t),o.setTranslate(d),i&&(o.emit("beforeTransitionStart",t,s),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(e){o&&!o.destroyed&&e.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,i&&o.emit("transitionEnd"))}),o.$wrapperEl[0].addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd))),!0}};function _e({swiper:e,runCallbacks:t,direction:i,step:n}){const{activeIndex:s,previousIndex:o}=e;let r=i;if(r||(r=s>o?"next":s<o?"prev":"reset"),e.emit(`transition${n}`),t&&s!==o){if("reset"===r)return void e.emit(`slideResetTransition${n}`);e.emit(`slideChangeTransition${n}`),"next"===r?e.emit(`slideNextTransition${n}`):e.emit(`slidePrevTransition${n}`)}}const xe={setTransition:function(e,t){const i=this;i.params.cssMode||i.$wrapperEl.transition(e),i.emit("setTransition",e,t)},transitionStart:function(e=!0,t){const i=this,{params:n}=i;n.cssMode||(n.autoHeight&&i.updateAutoHeight(),_e({swiper:i,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e=!0,t){const i=this,{params:n}=i;i.animating=!1,n.cssMode||(i.setTransition(0),_e({swiper:i,runCallbacks:e,direction:t,step:"End"}))}},we={slideTo:function(e=0,t=this.params.speed,i=!0,n,s){if("number"!=typeof e&&"string"!=typeof e)throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof e}] given.`);if("string"==typeof e){const t=parseInt(e,10);if(!isFinite(t))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${e}] given.`);e=t}const o=this;let r=e;r<0&&(r=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:d,activeIndex:u,rtlTranslate:h,wrapperEl:p,enabled:f}=o;if(o.animating&&a.preventInteractionOnTransition||!f&&!n&&!s)return!1;const m=Math.min(o.params.slidesPerGroupSkip,r);let g=m+Math.floor((r-m)/o.params.slidesPerGroup);g>=l.length&&(g=l.length-1);const v=-l[g];if(a.normalizeSlideIndex)for(let e=0;e<c.length;e+=1){const t=-Math.floor(100*v),i=Math.floor(100*c[e]),n=Math.floor(100*c[e+1]);void 0!==c[e+1]?t>=i&&t<n-(n-i)/2?r=e:t>=i&&t<n&&(r=e+1):t>=i&&(r=e)}if(o.initialized&&r!==u){if(!o.allowSlideNext&&v<o.translate&&v<o.minTranslate())return!1;if(!o.allowSlidePrev&&v>o.translate&&v>o.maxTranslate()&&(u||0)!==r)return!1}let y;if(r!==(d||0)&&i&&o.emit("beforeSlideChangeStart"),o.updateProgress(v),y=r>u?"next":r<u?"prev":"reset",h&&-v===o.translate||!h&&v===o.translate)return o.updateActiveIndex(r),a.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),"slide"!==a.effect&&o.setTranslate(v),"reset"!==y&&(o.transitionStart(i,y),o.transitionEnd(i,y)),!1;if(a.cssMode){const e=o.isHorizontal(),i=h?v:-v;if(0===t){const t=o.virtual&&o.params.virtual.enabled;t&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),p[e?"scrollLeft":"scrollTop"]=i,t&&requestAnimationFrame((()=>{o.wrapperEl.style.scrollSnapType="",o._swiperImmediateVirtual=!1}))}else{if(!o.support.smoothScroll)return he({swiper:o,targetPosition:i,side:e?"left":"top"}),!0;p.scrollTo({[e?"left":"top"]:i,behavior:"smooth"})}return!0}return o.setTransition(t),o.setTranslate(v),o.updateActiveIndex(r),o.updateSlidesClasses(),o.emit("beforeTransitionStart",t,n),o.transitionStart(i,y),0===t?o.transitionEnd(i,y):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(e){o&&!o.destroyed&&e.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(i,y))}),o.$wrapperEl[0].addEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e=0,t=this.params.speed,i=!0,n){if("string"==typeof e){const t=parseInt(e,10);if(!isFinite(t))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${e}] given.`);e=t}const s=this;let o=e;return s.params.loop&&(o+=s.loopedSlides),s.slideTo(o,t,i,n)},slideNext:function(e=this.params.speed,t=!0,i){const n=this,{animating:s,enabled:o,params:r}=n;if(!o)return n;let a=r.slidesPerGroup;"auto"===r.slidesPerView&&1===r.slidesPerGroup&&r.slidesPerGroupAuto&&(a=Math.max(n.slidesPerViewDynamic("current",!0),1));const l=n.activeIndex<r.slidesPerGroupSkip?1:a;if(r.loop){if(s&&r.loopPreventsSlide)return!1;n.loopFix(),n._clientLeft=n.$wrapperEl[0].clientLeft}return r.rewind&&n.isEnd?n.slideTo(0,e,t,i):n.slideTo(n.activeIndex+l,e,t,i)},slidePrev:function(e=this.params.speed,t=!0,i){const n=this,{params:s,animating:o,snapGrid:r,slidesGrid:a,rtlTranslate:l,enabled:c}=n;if(!c)return n;if(s.loop){if(o&&s.loopPreventsSlide)return!1;n.loopFix(),n._clientLeft=n.$wrapperEl[0].clientLeft}function d(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const u=d(l?n.translate:-n.translate),h=r.map((e=>d(e)));let p=r[h.indexOf(u)-1];if(void 0===p&&s.cssMode){let e;r.forEach(((t,i)=>{u>=t&&(e=i)})),void 0!==e&&(p=r[e>0?e-1:e])}let f=0;if(void 0!==p&&(f=a.indexOf(p),f<0&&(f=n.activeIndex-1),"auto"===s.slidesPerView&&1===s.slidesPerGroup&&s.slidesPerGroupAuto&&(f=f-n.slidesPerViewDynamic("previous",!0)+1,f=Math.max(f,0))),s.rewind&&n.isBeginning){const s=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(s,e,t,i)}return n.slideTo(f,e,t,i)},slideReset:function(e=this.params.speed,t=!0,i){return this.slideTo(this.activeIndex,e,t,i)},slideToClosest:function(e=this.params.speed,t=!0,i,n=.5){const s=this;let o=s.activeIndex;const r=Math.min(s.params.slidesPerGroupSkip,o),a=r+Math.floor((o-r)/s.params.slidesPerGroup),l=s.rtlTranslate?s.translate:-s.translate;if(l>=s.snapGrid[a]){const e=s.snapGrid[a];l-e>(s.snapGrid[a+1]-e)*n&&(o+=s.params.slidesPerGroup)}else{const e=s.snapGrid[a-1];l-e<=(s.snapGrid[a]-e)*n&&(o-=s.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,s.slidesGrid.length-1),s.slideTo(o,e,t,i)},slideToClickedSlide:function(){const e=this,{params:t,$wrapperEl:i}=e,n="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let s,o=e.clickedIndex;if(t.loop){if(e.animating)return;s=parseInt(re(e.clickedSlide).attr("data-swiper-slide-index"),10),t.centeredSlides?o<e.loopedSlides-n/2||o>e.slides.length-e.loopedSlides+n/2?(e.loopFix(),o=i.children(`.${t.slideClass}[data-swiper-slide-index="${s}"]:not(.${t.slideDuplicateClass})`).eq(0).index(),ae((()=>{e.slideTo(o)}))):e.slideTo(o):o>e.slides.length-n?(e.loopFix(),o=i.children(`.${t.slideClass}[data-swiper-slide-index="${s}"]:not(.${t.slideDuplicateClass})`).eq(0).index(),ae((()=>{e.slideTo(o)}))):e.slideTo(o)}else e.slideTo(o)}};function ke(e){const t=this,i=K(),n=Z(),s=t.touchEventsData,{params:o,touches:r,enabled:a}=t;if(!a)return;if(t.animating&&o.preventInteractionOnTransition)return;!t.animating&&o.cssMode&&o.loop&&t.loopFix();let l=e;l.originalEvent&&(l=l.originalEvent);let c=re(l.target);if("wrapper"===o.touchEventsTarget&&!c.closest(t.wrapperEl).length)return;if(s.isTouchEvent="touchstart"===l.type,!s.isTouchEvent&&"which"in l&&3===l.which)return;if(!s.isTouchEvent&&"button"in l&&l.button>0)return;if(s.isTouched&&s.isMoved)return;const d=!!o.noSwipingClass&&""!==o.noSwipingClass,u=e.composedPath?e.composedPath():e.path;d&&l.target&&l.target.shadowRoot&&u&&(c=re(u[0]));const h=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,p=!(!l.target||!l.target.shadowRoot);if(o.noSwiping&&(p?function(e,t=this){return function t(i){if(!i||i===K()||i===Z())return null;i.assignedSlot&&(i=i.assignedSlot);const n=i.closest(e);return n||i.getRootNode?n||t(i.getRootNode().host):null}(t)}(h,c[0]):c.closest(h)[0]))return void(t.allowClick=!0);if(o.swipeHandler&&!c.closest(o.swipeHandler)[0])return;r.currentX="touchstart"===l.type?l.targetTouches[0].pageX:l.pageX,r.currentY="touchstart"===l.type?l.targetTouches[0].pageY:l.pageY;const f=r.currentX,m=r.currentY,g=o.edgeSwipeDetection||o.iOSEdgeSwipeDetection,v=o.edgeSwipeThreshold||o.iOSEdgeSwipeThreshold;if(g&&(f<=v||f>=n.innerWidth-v)){if("prevent"!==g)return;e.preventDefault()}if(Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),r.startX=f,r.startY=m,s.touchStartTime=le(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,o.threshold>0&&(s.allowThresholdMove=!1),"touchstart"!==l.type){let e=!0;c.is(s.focusableElements)&&(e=!1,"SELECT"===c[0].nodeName&&(s.isTouched=!1)),i.activeElement&&re(i.activeElement).is(s.focusableElements)&&i.activeElement!==c[0]&&i.activeElement.blur();const n=e&&t.allowTouchMove&&o.touchStartPreventDefault;!o.touchStartForcePreventDefault&&!n||c[0].isContentEditable||l.preventDefault()}t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!o.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",l)}function Se(e){const t=K(),i=this,n=i.touchEventsData,{params:s,touches:o,rtlTranslate:r,enabled:a}=i;if(!a)return;let l=e;if(l.originalEvent&&(l=l.originalEvent),!n.isTouched)return void(n.startMoving&&n.isScrolling&&i.emit("touchMoveOpposite",l));if(n.isTouchEvent&&"touchmove"!==l.type)return;const c="touchmove"===l.type&&l.targetTouches&&(l.targetTouches[0]||l.changedTouches[0]),d="touchmove"===l.type?c.pageX:l.pageX,u="touchmove"===l.type?c.pageY:l.pageY;if(l.preventedByNestedSwiper)return o.startX=d,void(o.startY=u);if(!i.allowTouchMove)return re(l.target).is(n.focusableElements)||(i.allowClick=!1),void(n.isTouched&&(Object.assign(o,{startX:d,startY:u,currentX:d,currentY:u}),n.touchStartTime=le()));if(n.isTouchEvent&&s.touchReleaseOnEdges&&!s.loop)if(i.isVertical()){if(u<o.startY&&i.translate<=i.maxTranslate()||u>o.startY&&i.translate>=i.minTranslate())return n.isTouched=!1,void(n.isMoved=!1)}else if(d<o.startX&&i.translate<=i.maxTranslate()||d>o.startX&&i.translate>=i.minTranslate())return;if(n.isTouchEvent&&t.activeElement&&l.target===t.activeElement&&re(l.target).is(n.focusableElements))return n.isMoved=!0,void(i.allowClick=!1);if(n.allowTouchCallbacks&&i.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;o.currentX=d,o.currentY=u;const h=o.currentX-o.startX,p=o.currentY-o.startY;if(i.params.threshold&&Math.sqrt(h**2+p**2)<i.params.threshold)return;if(void 0===n.isScrolling){let e;i.isHorizontal()&&o.currentY===o.startY||i.isVertical()&&o.currentX===o.startX?n.isScrolling=!1:h*h+p*p>=25&&(e=180*Math.atan2(Math.abs(p),Math.abs(h))/Math.PI,n.isScrolling=i.isHorizontal()?e>s.touchAngle:90-e>s.touchAngle)}if(n.isScrolling&&i.emit("touchMoveOpposite",l),void 0===n.startMoving&&(o.currentX===o.startX&&o.currentY===o.startY||(n.startMoving=!0)),n.isScrolling)return void(n.isTouched=!1);if(!n.startMoving)return;i.allowClick=!1,!s.cssMode&&l.cancelable&&l.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&l.stopPropagation(),n.isMoved||(s.loop&&!s.cssMode&&i.loopFix(),n.startTranslate=i.getTranslate(),i.setTransition(0),i.animating&&i.$wrapperEl.trigger("webkitTransitionEnd transitionend"),n.allowMomentumBounce=!1,!s.grabCursor||!0!==i.allowSlideNext&&!0!==i.allowSlidePrev||i.setGrabCursor(!0),i.emit("sliderFirstMove",l)),i.emit("sliderMove",l),n.isMoved=!0;let f=i.isHorizontal()?h:p;o.diff=f,f*=s.touchRatio,r&&(f=-f),i.swipeDirection=f>0?"prev":"next",n.currentTranslate=f+n.startTranslate;let m=!0,g=s.resistanceRatio;if(s.touchReleaseOnEdges&&(g=0),f>0&&n.currentTranslate>i.minTranslate()?(m=!1,s.resistance&&(n.currentTranslate=i.minTranslate()-1+(-i.minTranslate()+n.startTranslate+f)**g)):f<0&&n.currentTranslate<i.maxTranslate()&&(m=!1,s.resistance&&(n.currentTranslate=i.maxTranslate()+1-(i.maxTranslate()-n.startTranslate-f)**g)),m&&(l.preventedByNestedSwiper=!0),!i.allowSlideNext&&"next"===i.swipeDirection&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!i.allowSlidePrev&&"prev"===i.swipeDirection&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),i.allowSlidePrev||i.allowSlideNext||(n.currentTranslate=n.startTranslate),s.threshold>0){if(!(Math.abs(f)>s.threshold||n.allowThresholdMove))return void(n.currentTranslate=n.startTranslate);if(!n.allowThresholdMove)return n.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,n.currentTranslate=n.startTranslate,void(o.diff=i.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY)}s.followFinger&&!s.cssMode&&((s.freeMode&&s.freeMode.enabled&&i.freeMode||s.watchSlidesProgress)&&(i.updateActiveIndex(),i.updateSlidesClasses()),i.params.freeMode&&s.freeMode.enabled&&i.freeMode&&i.freeMode.onTouchMove(),i.updateProgress(n.currentTranslate),i.setTranslate(n.currentTranslate))}function Te(e){const t=this,i=t.touchEventsData,{params:n,touches:s,rtlTranslate:o,slidesGrid:r,enabled:a}=t;if(!a)return;let l=e;if(l.originalEvent&&(l=l.originalEvent),i.allowTouchCallbacks&&t.emit("touchEnd",l),i.allowTouchCallbacks=!1,!i.isTouched)return i.isMoved&&n.grabCursor&&t.setGrabCursor(!1),i.isMoved=!1,void(i.startMoving=!1);n.grabCursor&&i.isMoved&&i.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const c=le(),d=c-i.touchStartTime;if(t.allowClick){const e=l.path||l.composedPath&&l.composedPath();t.updateClickedSlide(e&&e[0]||l.target),t.emit("tap click",l),d<300&&c-i.lastClickTime<300&&t.emit("doubleTap doubleClick",l)}if(i.lastClickTime=le(),ae((()=>{t.destroyed||(t.allowClick=!0)})),!i.isTouched||!i.isMoved||!t.swipeDirection||0===s.diff||i.currentTranslate===i.startTranslate)return i.isTouched=!1,i.isMoved=!1,void(i.startMoving=!1);let u;if(i.isTouched=!1,i.isMoved=!1,i.startMoving=!1,u=n.followFinger?o?t.translate:-t.translate:-i.currentTranslate,n.cssMode)return;if(t.params.freeMode&&n.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:u});let h=0,p=t.slidesSizesGrid[0];for(let e=0;e<r.length;e+=e<n.slidesPerGroupSkip?1:n.slidesPerGroup){const t=e<n.slidesPerGroupSkip-1?1:n.slidesPerGroup;void 0!==r[e+t]?u>=r[e]&&u<r[e+t]&&(h=e,p=r[e+t]-r[e]):u>=r[e]&&(h=e,p=r[r.length-1]-r[r.length-2])}let f=null,m=null;n.rewind&&(t.isBeginning?m=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(f=0));const g=(u-r[h])/p,v=h<n.slidesPerGroupSkip-1?1:n.slidesPerGroup;if(d>n.longSwipesMs){if(!n.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(g>=n.longSwipesRatio?t.slideTo(n.rewind&&t.isEnd?f:h+v):t.slideTo(h)),"prev"===t.swipeDirection&&(g>1-n.longSwipesRatio?t.slideTo(h+v):null!==m&&g<0&&Math.abs(g)>n.longSwipesRatio?t.slideTo(m):t.slideTo(h))}else{if(!n.shortSwipes)return void t.slideTo(t.activeIndex);!t.navigation||l.target!==t.navigation.nextEl&&l.target!==t.navigation.prevEl?("next"===t.swipeDirection&&t.slideTo(null!==f?f:h+v),"prev"===t.swipeDirection&&t.slideTo(null!==m?m:h)):l.target===t.navigation.nextEl?t.slideTo(h+v):t.slideTo(h)}}function Ce(){const e=this,{params:t,el:i}=e;if(i&&0===i.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:n,allowSlidePrev:s,snapGrid:o}=e;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses(),("auto"===t.slidesPerView||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=s,e.allowSlideNext=n,e.params.watchOverflow&&o!==e.snapGrid&&e.checkOverflow()}function Ee(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function Ae(){const e=this,{wrapperEl:t,rtlTranslate:i,enabled:n}=e;if(!n)return;let s;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const o=e.maxTranslate()-e.minTranslate();s=0===o?0:(e.translate-e.minTranslate())/o,s!==e.progress&&e.updateProgress(i?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}let Ie=!1;function Me(){}const Oe=(e,t)=>{const i=K(),{params:n,touchEvents:s,el:o,wrapperEl:r,device:a,support:l}=e,c=!!n.nested,d="on"===t?"addEventListener":"removeEventListener",u=t;if(l.touch){const t=!("touchstart"!==s.start||!l.passiveListener||!n.passiveListeners)&&{passive:!0,capture:!1};o[d](s.start,e.onTouchStart,t),o[d](s.move,e.onTouchMove,l.passiveListener?{passive:!1,capture:c}:c),o[d](s.end,e.onTouchEnd,t),s.cancel&&o[d](s.cancel,e.onTouchEnd,t)}else o[d](s.start,e.onTouchStart,!1),i[d](s.move,e.onTouchMove,c),i[d](s.end,e.onTouchEnd,!1);(n.preventClicks||n.preventClicksPropagation)&&o[d]("click",e.onClick,!0),n.cssMode&&r[d]("scroll",e.onScroll),n.updateOnWindowResize?e[u](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",Ce,!0):e[u]("observerUpdate",Ce,!0)},De={attachEvents:function(){const e=this,t=K(),{params:i,support:n}=e;e.onTouchStart=ke.bind(e),e.onTouchMove=Se.bind(e),e.onTouchEnd=Te.bind(e),i.cssMode&&(e.onScroll=Ae.bind(e)),e.onClick=Ee.bind(e),n.touch&&!Ie&&(t.addEventListener("touchstart",Me),Ie=!0),Oe(e,"on")},detachEvents:function(){Oe(this,"off")}},Pe=(e,t)=>e.grid&&t.grid&&t.grid.rows>1,Le={setBreakpoint:function(){const e=this,{activeIndex:t,initialized:i,loopedSlides:n=0,params:s,$el:o}=e,r=s.breakpoints;if(!r||r&&0===Object.keys(r).length)return;const a=e.getBreakpoint(r,e.params.breakpointsBase,e.el);if(!a||e.currentBreakpoint===a)return;const l=(a in r?r[a]:void 0)||e.originalParams,c=Pe(e,s),d=Pe(e,l),u=s.enabled;c&&!d?(o.removeClass(`${s.containerModifierClass}grid ${s.containerModifierClass}grid-column`),e.emitContainerClasses()):!c&&d&&(o.addClass(`${s.containerModifierClass}grid`),(l.grid.fill&&"column"===l.grid.fill||!l.grid.fill&&"column"===s.grid.fill)&&o.addClass(`${s.containerModifierClass}grid-column`),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach((t=>{const i=s[t]&&s[t].enabled,n=l[t]&&l[t].enabled;i&&!n&&e[t].disable(),!i&&n&&e[t].enable()}));const h=l.direction&&l.direction!==s.direction,p=s.loop&&(l.slidesPerView!==s.slidesPerView||h);h&&i&&e.changeDirection(),de(e.params,l);const f=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),u&&!f?e.disable():!u&&f&&e.enable(),e.currentBreakpoint=a,e.emit("_beforeBreakpoint",l),p&&i&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-n+e.loopedSlides,0,!1)),e.emit("breakpoint",l)},getBreakpoint:function(e,t="window",i){if(!e||"container"===t&&!i)return;let n=!1;const s=Z(),o="window"===t?s.innerHeight:i.clientHeight,r=Object.keys(e).map((e=>{if("string"==typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:o*t,point:e}}return{value:e,point:e}}));r.sort(((e,t)=>parseInt(e.value,10)-parseInt(t.value,10)));for(let e=0;e<r.length;e+=1){const{point:o,value:a}=r[e];"window"===t?s.matchMedia(`(min-width: ${a}px)`).matches&&(n=o):a<=i.clientWidth&&(n=o)}return n||"max"}},je={addClasses:function(){const e=this,{classNames:t,params:i,rtl:n,$el:s,device:o,support:r}=e,a=function(e,t){const i=[];return e.forEach((e=>{"object"==typeof e?Object.keys(e).forEach((n=>{e[n]&&i.push(t+n)})):"string"==typeof e&&i.push(t+e)})),i}(["initialized",i.direction,{"pointer-events":!r.touch},{"free-mode":e.params.freeMode&&i.freeMode.enabled},{autoheight:i.autoHeight},{rtl:n},{grid:i.grid&&i.grid.rows>1},{"grid-column":i.grid&&i.grid.rows>1&&"column"===i.grid.fill},{android:o.android},{ios:o.ios},{"css-mode":i.cssMode},{centered:i.cssMode&&i.centeredSlides},{"watch-progress":i.watchSlidesProgress}],i.containerModifierClass);t.push(...a),s.addClass([...t].join(" ")),e.emitContainerClasses()},removeClasses:function(){const{$el:e,classNames:t}=this;e.removeClass(t.join(" ")),this.emitContainerClasses()}},Be={loadImage:function(e,t,i,n,s,o){const r=Z();let a;function l(){o&&o()}re(e).parent("picture")[0]||e.complete&&s?l():t?(a=new r.Image,a.onload=l,a.onerror=l,n&&(a.sizes=n),i&&(a.srcset=i),t&&(a.src=t)):l()},preloadImages:function(){const e=this;function t(){null!=e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(let i=0;i<e.imagesToLoad.length;i+=1){const n=e.imagesToLoad[i];e.loadImage(n,n.currentSrc||n.getAttribute("src"),n.srcset||n.getAttribute("srcset"),n.sizes||n.getAttribute("sizes"),!0,t)}}},Re={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function Ne(e,t){return function(i={}){const n=Object.keys(i)[0],s=i[n];"object"==typeof s&&null!==s?(["navigation","pagination","scrollbar"].indexOf(n)>=0&&!0===e[n]&&(e[n]={auto:!0}),n in e&&"enabled"in s?(!0===e[n]&&(e[n]={enabled:!0}),"object"!=typeof e[n]||"enabled"in e[n]||(e[n].enabled=!0),e[n]||(e[n]={enabled:!1}),de(t,i)):de(t,i)):de(t,i)}}const Ue={eventsEmitter:ve,update:ye,translate:be,transition:xe,slide:we,loop:{loopCreate:function(){const e=this,t=K(),{params:i,$wrapperEl:n}=e,s=n.children().length>0?re(n.children()[0].parentNode):n;s.children(`.${i.slideClass}.${i.slideDuplicateClass}`).remove();let o=s.children(`.${i.slideClass}`);if(i.loopFillGroupWithBlank){const e=i.slidesPerGroup-o.length%i.slidesPerGroup;if(e!==i.slidesPerGroup){for(let n=0;n<e;n+=1){const e=re(t.createElement("div")).addClass(`${i.slideClass} ${i.slideBlankClass}`);s.append(e)}o=s.children(`.${i.slideClass}`)}}"auto"!==i.slidesPerView||i.loopedSlides||(i.loopedSlides=o.length),e.loopedSlides=Math.ceil(parseFloat(i.loopedSlides||i.slidesPerView,10)),e.loopedSlides+=i.loopAdditionalSlides,e.loopedSlides>o.length&&e.params.loopedSlidesLimit&&(e.loopedSlides=o.length);const r=[],a=[];o.each(((e,t)=>{re(e).attr("data-swiper-slide-index",t)}));for(let t=0;t<e.loopedSlides;t+=1){const e=t-Math.floor(t/o.length)*o.length;a.push(o.eq(e)[0]),r.unshift(o.eq(o.length-e-1)[0])}for(let e=0;e<a.length;e+=1)s.append(re(a[e].cloneNode(!0)).addClass(i.slideDuplicateClass));for(let e=r.length-1;e>=0;e-=1)s.prepend(re(r[e].cloneNode(!0)).addClass(i.slideDuplicateClass))},loopFix:function(){const e=this;e.emit("beforeLoopFix");const{activeIndex:t,slides:i,loopedSlides:n,allowSlidePrev:s,allowSlideNext:o,snapGrid:r,rtlTranslate:a}=e;let l;e.allowSlidePrev=!0,e.allowSlideNext=!0;const c=-r[t]-e.getTranslate();t<n?(l=i.length-3*n+t,l+=n,e.slideTo(l,0,!1,!0)&&0!==c&&e.setTranslate((a?-e.translate:e.translate)-c)):t>=i.length-n&&(l=-i.length+t+n,l+=n,e.slideTo(l,0,!1,!0)&&0!==c&&e.setTranslate((a?-e.translate:e.translate)-c)),e.allowSlidePrev=s,e.allowSlideNext=o,e.emit("loopFix")},loopDestroy:function(){const{$wrapperEl:e,params:t,slides:i}=this;e.children(`.${t.slideClass}.${t.slideDuplicateClass},.${t.slideClass}.${t.slideBlankClass}`).remove(),i.removeAttr("data-swiper-slide-index")}},grabCursor:{setGrabCursor:function(e){const t=this;if(t.support.touch||!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const i="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;i.style.cursor="move",i.style.cursor=e?"grabbing":"grab"},unsetGrabCursor:function(){const e=this;e.support.touch||e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}},events:De,breakpoints:Le,checkOverflow:{checkOverflow:function(){const e=this,{isLocked:t,params:i}=e,{slidesOffsetBefore:n}=i;if(n){const t=e.slides.length-1,i=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*n;e.isLocked=e.size>i}else e.isLocked=1===e.snapGrid.length;!0===i.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===i.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:je,images:Be},Fe={};class ze{constructor(...e){let t,i;if(1===e.length&&e[0].constructor&&"Object"===Object.prototype.toString.call(e[0]).slice(8,-1)?i=e[0]:[t,i]=e,i||(i={}),i=de({},i),t&&!i.el&&(i.el=t),i.el&&re(i.el).length>1){const e=[];return re(i.el).each((t=>{const n=de({},i,{el:t});e.push(new ze(n))})),e}const n=this;n.__swiper__=!0,n.support=ge(),n.device=function(e={}){return fe||(fe=function({userAgent:e}={}){const t=ge(),i=Z(),n=i.navigator.platform,s=e||i.navigator.userAgent,o={ios:!1,android:!1},r=i.screen.width,a=i.screen.height,l=s.match(/(Android);?[\s\/]+([\d.]+)?/);let c=s.match(/(iPad).*OS\s([\d_]+)/);const d=s.match(/(iPod)(.*OS\s([\d_]+))?/),u=!c&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h="Win32"===n;let p="MacIntel"===n;return!c&&p&&t.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${r}x${a}`)>=0&&(c=s.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),p=!1),l&&!h&&(o.os="android",o.android=!0),(c||u||d)&&(o.os="ios",o.ios=!0),o}(e)),fe}({userAgent:i.userAgent}),n.browser=(me||(me=function(){const e=Z();return{isSafari:function(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),me),n.eventsListeners={},n.eventsAnyListeners=[],n.modules=[...n.__modules__],i.modules&&Array.isArray(i.modules)&&n.modules.push(...i.modules);const s={};n.modules.forEach((e=>{e({swiper:n,extendParams:Ne(i,s),on:n.on.bind(n),once:n.once.bind(n),off:n.off.bind(n),emit:n.emit.bind(n)})}));const o=de({},Re,s);return n.params=de({},o,Fe,i),n.originalParams=de({},n.params),n.passedParams=de({},i),n.params&&n.params.on&&Object.keys(n.params.on).forEach((e=>{n.on(e,n.params.on[e])})),n.params&&n.params.onAny&&n.onAny(n.params.onAny),n.$=re,Object.assign(n,{enabled:n.params.enabled,el:t,classNames:[],slides:re(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===n.params.direction,isVertical:()=>"vertical"===n.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev,touchEvents:function(){const e=["touchstart","touchmove","touchend","touchcancel"],t=["pointerdown","pointermove","pointerup"];return n.touchEventsTouch={start:e[0],move:e[1],end:e[2],cancel:e[3]},n.touchEventsDesktop={start:t[0],move:t[1],end:t[2]},n.support.touch||!n.params.simulateTouch?n.touchEventsTouch:n.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:n.params.focusableElements,lastClickTime:le(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:n.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),n.emit("_swiper"),n.params.init&&n.init(),n}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const i=this;e=Math.min(Math.max(e,0),1);const n=i.minTranslate(),s=(i.maxTranslate()-n)*e+n;i.translateTo(s,void 0===t?0:t),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter((t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter((e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass))).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.each((i=>{const n=e.getSlideClasses(i);t.push({slideEl:i,classNames:n}),e.emit("_slideClass",i,n)})),e.emit("_slideClasses",t)}slidesPerViewDynamic(e="current",t=!1){const{params:i,slides:n,slidesGrid:s,slidesSizesGrid:o,size:r,activeIndex:a}=this;let l=1;if(i.centeredSlides){let e,t=n[a].swiperSlideSize;for(let i=a+1;i<n.length;i+=1)n[i]&&!e&&(t+=n[i].swiperSlideSize,l+=1,t>r&&(e=!0));for(let i=a-1;i>=0;i-=1)n[i]&&!e&&(t+=n[i].swiperSlideSize,l+=1,t>r&&(e=!0))}else if("current"===e)for(let e=a+1;e<n.length;e+=1)(t?s[e]+o[e]-s[a]<r:s[e]-s[a]<r)&&(l+=1);else for(let e=a-1;e>=0;e-=1)s[a]-s[e]<r&&(l+=1);return l}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:i}=e;function n(){const t=e.rtlTranslate?-1*e.translate:e.translate,i=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(i),e.updateActiveIndex(),e.updateSlidesClasses()}let s;i.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode&&e.params.freeMode.enabled?(n(),e.params.autoHeight&&e.updateAutoHeight()):(s=("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),s||n()),i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t=!0){const i=this,n=i.params.direction;return e||(e="horizontal"===n?"vertical":"horizontal"),e===n||"horizontal"!==e&&"vertical"!==e||(i.$el.removeClass(`${i.params.containerModifierClass}${n}`).addClass(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.each((t=>{"vertical"===e?t.style.width="":t.style.height=""})),i.emit("changeDirection"),t&&i.update()),i}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.$el.addClass(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.$el.removeClass(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;const i=re(e||t.params.el);if(!(e=i[0]))return!1;e.swiper=t;const n=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let s=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const t=re(e.shadowRoot.querySelector(n()));return t.children=e=>i.children(e),t}return i.children?i.children(n()):re(i).children(n())})();if(0===s.length&&t.params.createElements){const e=K().createElement("div");s=re(e),e.className=t.params.wrapperClass,i.append(e),i.children(`.${t.params.slideClass}`).each((e=>{s.append(e)}))}return Object.assign(t,{$el:i,el:e,$wrapperEl:s,wrapperEl:s[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===i.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===i.css("direction")),wrongRTL:"-webkit-box"===s.css("display")}),!0}init(e){const t=this;return t.initialized||!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t}destroy(e=!0,t=!0){const i=this,{params:n,$el:s,$wrapperEl:o,slides:r}=i;return void 0===i.params||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),n.loop&&i.loopDestroy(),t&&(i.removeClasses(),s.removeAttr("style"),o.removeAttr("style"),r&&r.length&&r.removeClass([n.slideVisibleClass,n.slideActiveClass,n.slideNextClass,n.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),i.emit("destroy"),Object.keys(i.eventsListeners).forEach((e=>{i.off(e)})),!1!==e&&(i.$el[0].swiper=null,function(e){const t=e;Object.keys(t).forEach((e=>{try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}}))}(i)),i.destroyed=!0),null}static extendDefaults(e){de(Fe,e)}static get extendedDefaults(){return Fe}static get defaults(){return Re}static installModule(e){ze.prototype.__modules__||(ze.prototype.__modules__=[]);const t=ze.prototype.__modules__;"function"==typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach((e=>ze.installModule(e))),ze):(ze.installModule(e),ze)}}Object.keys(Ue).forEach((e=>{Object.keys(Ue[e]).forEach((t=>{ze.prototype[t]=Ue[e][t]}))})),ze.use([function({swiper:e,on:t,emit:i}){const n=Z();let s=null,o=null;const r=()=>{e&&!e.destroyed&&e.initialized&&(i("beforeResize"),i("resize"))},a=()=>{e&&!e.destroyed&&e.initialized&&i("orientationchange")};t("init",(()=>{e.params.resizeObserver&&void 0!==n.ResizeObserver?e&&!e.destroyed&&e.initialized&&(s=new ResizeObserver((t=>{o=n.requestAnimationFrame((()=>{const{width:i,height:n}=e;let s=i,o=n;t.forEach((({contentBoxSize:t,contentRect:i,target:n})=>{n&&n!==e.el||(s=i?i.width:(t[0]||t).inlineSize,o=i?i.height:(t[0]||t).blockSize)})),s===i&&o===n||r()}))})),s.observe(e.el)):(n.addEventListener("resize",r),n.addEventListener("orientationchange",a))})),t("destroy",(()=>{o&&n.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null),n.removeEventListener("resize",r),n.removeEventListener("orientationchange",a)}))},function({swiper:e,extendParams:t,on:i,emit:n}){const s=[],o=Z(),r=(e,t={})=>{const i=new(o.MutationObserver||o.WebkitMutationObserver)((e=>{if(1===e.length)return void n("observerUpdate",e[0]);const t=function(){n("observerUpdate",e[0])};o.requestAnimationFrame?o.requestAnimationFrame(t):o.setTimeout(t,0)}));i.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),s.push(i)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",(()=>{if(e.params.observer){if(e.params.observeParents){const t=e.$el.parents();for(let e=0;e<t.length;e+=1)r(t[e])}r(e.$el[0],{childList:e.params.observeSlideChildren}),r(e.$wrapperEl[0],{attributes:!1})}})),i("destroy",(()=>{s.forEach((e=>{e.disconnect()})),s.splice(0,s.length)}))}]);const He=ze;function Ve({swiper:e,extendParams:t,emit:i,once:n}){t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(e,{freeMode:{onTouchStart:function(){const t=e.getTranslate();e.setTranslate(t),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})},onTouchMove:function(){const{touchEventsData:t,touches:i}=e;0===t.velocities.length&&t.velocities.push({position:i[e.isHorizontal()?"startX":"startY"],time:t.touchStartTime}),t.velocities.push({position:i[e.isHorizontal()?"currentX":"currentY"],time:le()})},onTouchEnd:function({currentPos:t}){const{params:s,$wrapperEl:o,rtlTranslate:r,snapGrid:a,touchEventsData:l}=e,c=le()-l.touchStartTime;if(t<-e.minTranslate())e.slideTo(e.activeIndex);else if(t>-e.maxTranslate())e.slides.length<a.length?e.slideTo(a.length-1):e.slideTo(e.slides.length-1);else{if(s.freeMode.momentum){if(l.velocities.length>1){const t=l.velocities.pop(),i=l.velocities.pop(),n=t.position-i.position,o=t.time-i.time;e.velocity=n/o,e.velocity/=2,Math.abs(e.velocity)<s.freeMode.minimumVelocity&&(e.velocity=0),(o>150||le()-t.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=s.freeMode.momentumVelocityRatio,l.velocities.length=0;let t=1e3*s.freeMode.momentumRatio;const c=e.velocity*t;let d=e.translate+c;r&&(d=-d);let u,h=!1;const p=20*Math.abs(e.velocity)*s.freeMode.momentumBounceRatio;let f;if(d<e.maxTranslate())s.freeMode.momentumBounce?(d+e.maxTranslate()<-p&&(d=e.maxTranslate()-p),u=e.maxTranslate(),h=!0,l.allowMomentumBounce=!0):d=e.maxTranslate(),s.loop&&s.centeredSlides&&(f=!0);else if(d>e.minTranslate())s.freeMode.momentumBounce?(d-e.minTranslate()>p&&(d=e.minTranslate()+p),u=e.minTranslate(),h=!0,l.allowMomentumBounce=!0):d=e.minTranslate(),s.loop&&s.centeredSlides&&(f=!0);else if(s.freeMode.sticky){let t;for(let e=0;e<a.length;e+=1)if(a[e]>-d){t=e;break}d=Math.abs(a[t]-d)<Math.abs(a[t-1]-d)||"next"===e.swipeDirection?a[t]:a[t-1],d=-d}if(f&&n("transitionEnd",(()=>{e.loopFix()})),0!==e.velocity){if(t=r?Math.abs((-d-e.translate)/e.velocity):Math.abs((d-e.translate)/e.velocity),s.freeMode.sticky){const i=Math.abs((r?-d:d)-e.translate),n=e.slidesSizesGrid[e.activeIndex];t=i<n?s.speed:i<2*n?1.5*s.speed:2.5*s.speed}}else if(s.freeMode.sticky)return void e.slideToClosest();s.freeMode.momentumBounce&&h?(e.updateProgress(u),e.setTransition(t),e.setTranslate(d),e.transitionStart(!0,e.swipeDirection),e.animating=!0,o.transitionEnd((()=>{e&&!e.destroyed&&l.allowMomentumBounce&&(i("momentumBounce"),e.setTransition(s.speed),setTimeout((()=>{e.setTranslate(u),o.transitionEnd((()=>{e&&!e.destroyed&&e.transitionEnd()}))}),0))}))):e.velocity?(i("_freeModeNoMomentumRelease"),e.updateProgress(d),e.setTransition(t),e.setTranslate(d),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,o.transitionEnd((()=>{e&&!e.destroyed&&e.transitionEnd()})))):e.updateProgress(d),e.updateActiveIndex(),e.updateSlidesClasses()}else{if(s.freeMode.sticky)return void e.slideToClosest();s.freeMode&&i("_freeModeNoMomentumRelease")}(!s.freeMode.momentum||c>=s.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}}}})}function qe(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function $e(e,t){const i=["__proto__","constructor","prototype"];Object.keys(t).filter((e=>i.indexOf(e)<0)).forEach((i=>{void 0===e[i]?e[i]=t[i]:qe(t[i])&&qe(e[i])&&Object.keys(t[i]).length>0?t[i].__swiper__?e[i]=t[i]:$e(e[i],t[i]):e[i]=t[i]}))}function We(e={}){return e.navigation&&void 0===e.navigation.nextEl&&void 0===e.navigation.prevEl}function Ge(e={}){return e.pagination&&void 0===e.pagination.el}function Ye(e={}){return e.scrollbar&&void 0===e.scrollbar.el}function Xe(e=""){const t=e.split(" ").map((e=>e.trim())).filter((e=>!!e)),i=[];return t.forEach((e=>{i.indexOf(e)<0&&i.push(e)})),i.join(" ")}const Ke=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopedSlidesLimit","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];function Qe(e={},t=!0){const i={on:{}},n={},s={};$e(i,He.defaults),$e(i,He.extendedDefaults),i._emitClasses=!0,i.init=!1;const o={},r=Ke.map((e=>e.replace(/_/,""))),a=Object.assign({},e);return Object.keys(a).forEach((a=>{void 0!==e[a]&&(r.indexOf(a)>=0?qe(e[a])?(i[a]={},s[a]={},$e(i[a],e[a]),$e(s[a],e[a])):(i[a]=e[a],s[a]=e[a]):0===a.search(/on[A-Z]/)&&"function"==typeof e[a]?t?n[`${a[2].toLowerCase()}${a.substr(3)}`]=e[a]:i.on[`${a[2].toLowerCase()}${a.substr(3)}`]=e[a]:o[a]=e[a])})),["navigation","pagination","scrollbar"].forEach((e=>{!0===i[e]&&(i[e]={}),!1===i[e]&&delete i[e]})),{params:i,passedParams:s,rest:o,events:n}}const Ze=(e,t)=>{let i=t.slidesPerView;if(t.breakpoints){const e=He.prototype.getBreakpoint(t.breakpoints),n=e in t.breakpoints?t.breakpoints[e]:void 0;n&&n.slidesPerView&&(i=n.slidesPerView)}let n=Math.ceil(parseFloat(t.loopedSlides||i,10));return n+=t.loopAdditionalSlides,n>e.length&&t.loopedSlidesLimit&&(n=e.length),n};function Je(e,t,i){void 0===e&&(e={});const n=[],s={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},o=(e,t)=>{Array.isArray(e)&&e.forEach((e=>{const i="symbol"==typeof e.type;"default"===t&&(t="container-end"),i&&e.children?o(e.children,"default"):!e.type||"SwiperSlide"!==e.type.name&&"AsyncComponentWrapper"!==e.type.name?s[t]&&s[t].push(e):n.push(e)}))};return Object.keys(e).forEach((t=>{if("function"!=typeof e[t])return;const i=e[t]();o(i,t)})),i.value=t.value,t.value=n,{slides:n,slots:s}}const et={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},spaceBetween:{type:Number,default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},preloadImages:{type:Boolean,default:void 0},updateOnImagesReady:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopAdditionalSlides:{type:Number,default:void 0},loopedSlides:{type:Number,default:void 0},loopedSlidesLimit:{type:Boolean,default:!0},loopFillGroupWithBlank:{type:Boolean,default:void 0},loopPreventsSlide:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideDuplicateActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideDuplicateClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slideDuplicateNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},slideDuplicatePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},lazy:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","imagesReady","init","keyPress","lazyImageLoad","lazyImageReady","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(e,i){let{slots:n,emit:s}=i;const{tag:o,wrapperTag:r}=e,l=(0,a.iH)("swiper"),c=(0,a.iH)(null),d=(0,a.iH)(!1),u=(0,a.iH)(!1),h=(0,a.iH)(null),p=(0,a.iH)(null),f=(0,a.iH)(null),m={value:[]},g={value:[]},v=(0,a.iH)(null),y=(0,a.iH)(null),b=(0,a.iH)(null),_=(0,a.iH)(null),{params:x,passedParams:w}=Qe(e,!1);if(Je(n,m,g),f.value=w,g.value=m.value,x.onAny=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];s(e,...i)},Object.assign(x.on,{_beforeBreakpoint:()=>{Je(n,m,g),d.value=!0},_containerClasses(e,t){l.value=t}}),p.value=new He(x),p.value.loopCreate=()=>{},p.value.loopDestroy=()=>{},x.loop&&(p.value.loopedSlides=Ze(m.value,x)),p.value.virtual&&p.value.params.virtual.enabled){p.value.virtual.slides=m.value;const e={cache:!1,slides:m.value,renderExternal:e=>{c.value=e},renderExternalUpdate:!1};$e(p.value.params.virtual,e),$e(p.value.originalParams.virtual,e)}function k(e){return x.virtual?function(e,i,n){if(!n)return null;const s=e.value.isHorizontal()?{[e.value.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`};return i.filter(((e,t)=>t>=n.from&&t<=n.to)).map((i=>(i.props||(i.props={}),i.props.style||(i.props.style={}),i.props.swiperRef=e,i.props.style=s,(0,t.h)(i.type,{...i.props},i.children))))}(p,e,c.value):!x.loop||p.value&&p.value.destroyed?(e.forEach((e=>{e.props||(e.props={}),e.props.swiperRef=p})),e):function(e,i,n){const s=i.map(((t,i)=>(t.props||(t.props={}),t.props.swiperRef=e,t.props["data-swiper-slide-index"]=i,t)));function o(e,i,s){return e.props||(e.props={}),(0,t.h)(e.type,{...e.props,key:`${e.key}-duplicate-${i}-${s}`,class:`${e.props.className||""} ${n.slideDuplicateClass} ${e.props.class||""}`},e.children)}if(n.loopFillGroupWithBlank){const e=n.slidesPerGroup-s.length%n.slidesPerGroup;if(e!==n.slidesPerGroup)for(let i=0;i<e;i+=1){const e=(0,t.h)("div",{class:`${n.slideClass} ${n.slideBlankClass}`});s.push(e)}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=s.length);const r=Ze(s,n),a=[],l=[];for(let e=0;e<r;e+=1){const t=e-Math.floor(e/s.length)*s.length;l.push(o(s[t],e,"append")),a.unshift(o(s[s.length-t-1],e,"prepend"))}return e.value&&(e.value.loopedSlides=r),[...a,...s,...l]}(p,e,x)}return(0,t.ic)((()=>{!u.value&&p.value&&(p.value.emitSlidesClasses(),u.value=!0);const{passedParams:t}=Qe(e,!1),i=function(e,t,i,n,s){const o=[];if(!t)return o;const r=e=>{o.indexOf(e)<0&&o.push(e)};if(i&&n){const e=n.map(s),t=i.map(s);e.join("")!==t.join("")&&r("children"),n.length!==i.length&&r("children")}return Ke.filter((e=>"_"===e[0])).map((e=>e.replace(/_/,""))).forEach((i=>{if(i in e&&i in t)if(qe(e[i])&&qe(t[i])){const n=Object.keys(e[i]),s=Object.keys(t[i]);n.length!==s.length?r(i):(n.forEach((n=>{e[i][n]!==t[i][n]&&r(i)})),s.forEach((n=>{e[i][n]!==t[i][n]&&r(i)})))}else e[i]!==t[i]&&r(i)})),o}(t,f.value,m.value,g.value,(e=>e.props&&e.props.key));f.value=t,(i.length||d.value)&&p.value&&!p.value.destroyed&&function({swiper:e,slides:t,passedParams:i,changedParams:n,nextEl:s,prevEl:o,scrollbarEl:r,paginationEl:a}){const l=n.filter((e=>"children"!==e&&"direction"!==e)),{params:c,pagination:d,navigation:u,scrollbar:h,virtual:p,thumbs:f}=e;let m,g,v,y,b;n.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&c.thumbs&&!c.thumbs.swiper&&(m=!0),n.includes("controller")&&i.controller&&i.controller.control&&c.controller&&!c.controller.control&&(g=!0),n.includes("pagination")&&i.pagination&&(i.pagination.el||a)&&(c.pagination||!1===c.pagination)&&d&&!d.el&&(v=!0),n.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||r)&&(c.scrollbar||!1===c.scrollbar)&&h&&!h.el&&(y=!0),n.includes("navigation")&&i.navigation&&(i.navigation.prevEl||o)&&(i.navigation.nextEl||s)&&(c.navigation||!1===c.navigation)&&u&&!u.prevEl&&!u.nextEl&&(b=!0),l.forEach((t=>{if(qe(c[t])&&qe(i[t]))$e(c[t],i[t]);else{const s=i[t];!0!==s&&!1!==s||"navigation"!==t&&"pagination"!==t&&"scrollbar"!==t?c[t]=i[t]:!1===s&&e[n=t]&&(e[n].destroy(),"navigation"===n?(c[n].prevEl=void 0,c[n].nextEl=void 0,e[n].prevEl=void 0,e[n].nextEl=void 0):(c[n].el=void 0,e[n].el=void 0))}var n})),l.includes("controller")&&!g&&e.controller&&e.controller.control&&c.controller&&c.controller.control&&(e.controller.control=c.controller.control),n.includes("children")&&t&&p&&c.virtual.enabled?(p.slides=t,p.update(!0)):n.includes("children")&&e.lazy&&e.params.lazy.enabled&&e.lazy.load(),m&&f.init()&&f.update(!0),g&&(e.controller.control=c.controller.control),v&&(a&&(c.pagination.el=a),d.init(),d.render(),d.update()),y&&(r&&(c.scrollbar.el=r),h.init(),h.updateSize(),h.setTranslate()),b&&(s&&(c.navigation.nextEl=s),o&&(c.navigation.prevEl=o),u.init(),u.update()),n.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),n.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),n.includes("direction")&&e.changeDirection(i.direction,!1),e.update()}({swiper:p.value,slides:m.value,passedParams:t,changedParams:i,nextEl:v.value,prevEl:y.value,scrollbarEl:_.value,paginationEl:b.value}),d.value=!1})),(0,t.JJ)("swiper",p),(0,t.YP)(c,(()=>{(0,t.Y3)((()=>{var e;!(e=p.value)||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.lazy&&e.params.lazy.enabled&&e.lazy.load(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())}))})),(0,t.bv)((()=>{h.value&&(function({el:e,nextEl:t,prevEl:i,paginationEl:n,scrollbarEl:s,swiper:o},r){We(r)&&t&&i&&(o.params.navigation.nextEl=t,o.originalParams.navigation.nextEl=t,o.params.navigation.prevEl=i,o.originalParams.navigation.prevEl=i),Ge(r)&&n&&(o.params.pagination.el=n,o.originalParams.pagination.el=n),Ye(r)&&s&&(o.params.scrollbar.el=s,o.originalParams.scrollbar.el=s),o.init(e)}({el:h.value,nextEl:v.value,prevEl:y.value,paginationEl:b.value,scrollbarEl:_.value,swiper:p.value},x),s("swiper",p.value))})),(0,t.Jd)((()=>{p.value&&!p.value.destroyed&&p.value.destroy(!0,!1)})),()=>{const{slides:i,slots:s}=Je(n,m,g);return(0,t.h)(o,{ref:h,class:Xe(l.value)},[s["container-start"],(0,t.h)(r,{class:"swiper-wrapper"},[s["wrapper-start"],k(i),s["wrapper-end"]]),We(e)&&[(0,t.h)("div",{ref:y,class:"swiper-button-prev"}),(0,t.h)("div",{ref:v,class:"swiper-button-next"})],Ye(e)&&(0,t.h)("div",{ref:_,class:"swiper-scrollbar"}),Ge(e)&&(0,t.h)("div",{ref:b,class:"swiper-pagination"}),s["container-end"]])}}};Boolean;var tt=i(2886),it=i.n(tt),nt=i(7788),st=i.n(nt),ot=i(1122),rt=i.n(ot),at=i(6791),lt=i.n(at),ct=i(8611),dt=i.n(ct),ut=i(6671),ht=i.n(ut),pt=i(3391),ft={};ft.styleTagTransform=ht(),ft.setAttributes=lt(),ft.insert=rt().bind(null,"head"),ft.domAPI=st(),ft.insertStyleElement=dt(),it()(pt.Z,ft),pt.Z&&pt.Z.locals&&pt.Z.locals;var mt=i(9322),gt={};gt.styleTagTransform=ht(),gt.setAttributes=lt(),gt.insert=rt().bind(null,"head"),gt.domAPI=st(),gt.insertStyleElement=dt(),it()(mt.Z,gt),mt.Z&&mt.Z.locals&&mt.Z.locals;const vt={components:{Swiper:et},props:{customClass:{type:String,default:""},slideCount:{type:Number,default:3},showPagination:{type:Boolean,default:!1},slidePerView:{type:String,default:"auto"},spaceBetween:{type:Number,default:15},freeMode:{type:Boolean,default:!0},swiperClass:{type:String,default:"pr-6"},currentSlidePosition:{type:Number,default:0},direction:{type:String,default:"horizontal"},enabled:{type:Boolean,default:!0},baseData:{type:Array,default:[]}},name:"SofaSwiper",emits:["update:modelValue"],setup(e,i){const n=(0,a.iH)(0),s=(0,a.Vh)(e,"baseData"),o=(0,a.iH)(),r=(0,a.Vh)(e,"currentSlidePosition");return(0,t.YP)(r,(()=>{o.value.slideTo(r.value),o.value.update()})),(0,t.YP)(s,(()=>{console.log("youi ")})),{onSwiper:e=>{o.value=e},onSlideChange:e=>{n.value=e.activeIndex,i.emit("update:modelValue",n.value)},modules:[Ve],activeSlide:n,swiperInstance:o}}},yt=(0,d.Z)(vt,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("swiper");return(0,t.wg)(),(0,t.iD)("div",{class:(0,n.normalizeClass)(`w-full col-span-full ${s.customClass} `)},[(0,t.Wm)(l,{"slides-per-view":s.slidePerView,"space-between":s.spaceBetween,onSwiper:o.onSwiper,freeMode:s.freeMode,modules:o.modules,onSlideChange:o.onSlideChange,class:(0,n.normalizeClass)(s.swiperClass),direction:s.direction,enabled:s.enabled,"initial-slide":s.currentSlidePosition},{default:(0,t.w5)((()=>[(0,t.WI)(e.$slots,"default")])),_:3},8,["slides-per-view","space-between","onSwiper","freeMode","modules","onSlideChange","class","direction","enabled","initial-slide"]),s.showPagination?((0,t.wg)(),(0,t.iD)("div",W,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.slideCount,((e,i)=>((0,t.wg)(),(0,t.iD)("span",{class:(0,n.normalizeClass)("rounded w-[25px] h-[3px] "+(o.activeSlide==i?"bg-primaryPurple":"bg-[#B8B8B]  bg-opacity-60")),key:i},null,2)))),128))])):(0,t.kq)("",!0)],2)}]]),bt={class:"w-full flex flex-col"},_t={class:"flex flex-row items-center space-x-2"},xt={class:"w-[45px] text-right"},wt=(0,t.aZ)({components:{SofaIcon:h,SofaNormalText:P},props:{customClass:{type:String,default:" "},data:{type:Object},showArrow:{type:Boolean,default:!0}},name:"SofaIconCard"}),kt=(0,d.Z)(wt,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-icon"),c=(0,t.up)("sofa-normal-text");return(0,t.wg)(),(0,t.iD)("div",{class:(0,n.normalizeClass)(`w-[280px] mdlg:!w-full ${e.customClass} cursor-pointer  mdlg:!px-4 mdlg:!py-4 px-3 py-3 flex flex-row justify-between items-center mdlg:!bg-ligthGray bg-white shadow-custom mdlg:!shadow-none space-x-3 rounded-tl-[16px] rounded-br-[16px] rounded-tr-[8px] rounded-bl-[8px]`)},[(0,t._)("div",{class:(0,n.normalizeClass)(`flex flex-row items-center space-x-3 flex-grow  ${e.data.isDone?"opacity-50":""} `)},[(0,t._)("div",null,[(0,t.Wm)(l,{"custom-class":e.data.iconSize,name:e.data.icon},null,8,["custom-class","name"])]),(0,t._)("div",bt,[(0,t._)("div",_t,[(0,t.WI)(e.$slots,"title"),e.showArrow?((0,t.wg)(),(0,t.j4)(l,{key:0,customClass:"h-[12px]",name:"right-arrow"})):(0,t.kq)("",!0)]),(0,t.Wm)(c,{customClass:"text-left w-full !line-clamp-1"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.data.subTitle),1)])),_:1})])],2),(0,t._)("div",xt,[e.data.isDone?((0,t.wg)(),(0,t.j4)(l,{key:0,customClass:"h-[22px] inline-block",name:"selected"})):(0,t.kq)("",!0)])],2)}]]),St={class:"w-[65px]"},Tt={class:"w-full flex flex-col space-y-1"},Ct={class:"w-full flex flex-row space-x-2 items-center flex-nowrap"},Et={key:0,class:"flex flex-row items-center space-x-1"},At={key:0,class:"w-full flex flex-row space-x-2 items-center"},It={class:"flex flex-row space-x-1 items-center"},Mt=(0,t.aZ)({components:{SofaIcon:h,SofaImageLoader:v,SofaNormalText:P,SofaBadge:k,SofaButton:f,SofaAvatar:x},props:{customClass:{type:String,default:""},user:{type:Object}},name:"SofaUserCard",setup:()=>({Logic:b})}),Ot=(0,d.Z)(Mt,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-avatar"),c=(0,t.up)("sofa-normal-text"),d=(0,t.up)("sofa-icon");return(0,t.wg)(),(0,t.iD)("div",{class:(0,n.normalizeClass)(`col-span-1  flex flex-row items-center shadow-custom space-x-3 px-3 py-3 custom-border bg-white ${e.customClass}`)},[(0,t._)("div",St,[(0,t.Wm)(l,{photoUrl:e.user.profile_image,size:"65",customClass:"relative"},{default:(0,t.w5)((()=>[e.user.status?((0,t.wg)(),(0,t.iD)("span",{key:0,class:(0,n.normalizeClass)("w-[12px] h-[12px] border-[2px] border-white absolute bottom-0 right-0 rounded-full "+("online"==e.user.status?"bg-primaryGreen":"bg-grayColor"))},null,2)):(0,t.kq)("",!0)])),_:1},8,["photoUrl"])]),(0,t._)("div",Tt,[(0,t._)("div",Ct,[(0,t.Wm)(c,{customClass:"!font-bold"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.user.name),1)])),_:1}),e.user.icons?((0,t.wg)(),(0,t.iD)("span",Et,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.user.icons,((e,i)=>((0,t.wg)(),(0,t.j4)(d,{key:i,customClass:"verify"==e?"h-[16px]":"h-[18px]",name:e},null,8,["customClass","name"])))),128))])):(0,t.kq)("",!0)]),(0,t.Wm)(c,{customClass:"w-full flex flex-row text-left !line-clamp-1",color:e.user.ratings?"text-bodyBlack":"text-grayColor"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.user.subTitle),1)])),_:1},8,["color"]),e.user.ratings?((0,t.wg)(),(0,t.iD)("div",At,[(0,t.Wm)(d,{name:"star-full","custom-class":"h-[16px]"}),(0,t._)("div",It,[(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.user.ratings.total),1)])),_:1}),(0,t.Wm)(c,{color:"text-grayColor"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.user.ratings.label),1)])),_:1})])])):(0,t.kq)("",!0)])],2)}]]),Dt={class:"w-[110px] flex flex-col"},Pt={class:"flex flex-col w-full space-y-2"},Lt={class:"w-full flex flex-row items-center justify-between"},jt={class:"w-full flex flex-row items-center space-x-3"},Bt={class:"w-full flex flex-row items-center justify-between"},Rt={key:0,class:"flex flex-row items-center space-x-2"},Nt=(0,t.aZ)({components:{SofaIcon:h,SofaImageLoader:v,SofaNormalText:P,SofaBadge:k,SofaButton:f},props:{customClass:{type:String,default:""},content:{type:Object}},name:"SofaProgressItemCard",setup:()=>({Logic:b})}),Ut=(0,d.Z)(Nt,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-image-loader"),c=(0,t.up)("sofa-normal-text"),d=(0,t.up)("sofa-icon");return(0,t.wg)(),(0,t.iD)("div",{class:(0,n.normalizeClass)(`col-span-1 flex flex-row  space-x-3 px-3 py-3 custom-border bg-white ${e.customClass}`)},[(0,t._)("div",Dt,[(0,t.Wm)(l,{"custom-class":"w-[110px] h-[78px] mdlg:h-[80px] custom-border relative","photo-url":e.content.image},null,8,["photo-url"])]),(0,t._)("div",Pt,[(0,t._)("div",Lt,[(0,t.Wm)(c,{customClass:"!font-bold !line-clamp-1"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.content.title),1)])),_:1})]),(0,t._)("div",jt,[(0,t.Wm)(c,{color:"text-grayColor"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.content.type),1)])),_:1})]),(0,t._)("div",Bt,[(0,t.Wm)(c,{color:e.content.label_color,customClass:"font-semibold"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.content.label),1)])),_:1},8,["color"]),"game"==e.content.entity_type?((0,t.wg)(),(0,t.iD)("div",Rt,[(0,t.Wm)(c,{color:"text-grayColor"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.content.participants),1)])),_:1}),(0,t.Wm)(d,{name:"participant",customClass:"h-[15px]"})])):(0,t.kq)("",!0)])])],2)}]]),Ft={class:"w-full flex mdlg:!flex md:!flex-row mdlg:!flex-none flex-col relative mdlg:!items-start h-auto items-start justify-start mdlg:!space-x-3 mdlg:!space-y-0 space-y-3 space-x-0"},zt={key:0,class:"flex flex-row space-x-2 items-center justify-end absolute bottom-0 left-0 w-full px-2 py-2"},Ht={class:"w-full flex flex-row items-center justify-between"},Vt={class:"mdlg:!flex flex-row items-center justify-end space-x-4 hidden"},qt={class:"flex flex-row space-x-2 items-center"},$t={key:0,class:"w-full flex flex-row space-x-2 items-center"},Wt={class:"flex flex-row space-x-1 items-center"},Gt={class:"w-full flex flex-row items-center space-x-2 justify-between"},Yt={class:"flex flex-row items-center space-x-2"},Xt={key:0,class:"space-x-2 flex flex-row items-center"},Kt={key:1,class:(0,n.normalizeClass)("h-[5px] w-[5px] rounded-full bg-bodyBlack")},Qt={key:0,class:"md:!flex hidden flex-col"},Zt={key:1,class:"md:!flex hidden flex-col"},Jt={class:"w-full flex flex-row space-x-3 items-center py-2 flex-nowrap overflow-x-auto scrollbar-hide"},ei={key:0,class:"w-full flex flex-col space-y-3 h-full overflow-y-auto"},ti={class:"flex flex-row items-center space-x-2"},ii=(0,t._)("span",{class:"w-[5px] h-[5px] rounded-full bg-grayColor"},null,-1),ni={key:1,class:"w-full flex flex-col space-y-3 pb-4"},si={key:2,class:"w-full flex flex-row items-center justify-center mdlg:!pt-3 mdlg:!relative fixed bottom-0 mdlg:!pb-0 mdlg:hidden pt-4 pb-4 mdlg:!px-0 px-4 z-[50] bg-white left-0 mdlg:!bottom-auto mdlg:!left-auto"},oi={class:"md:!w-auto w-full flex flex-col"},ri={class:"w-full bg-[#F1F6FA] custom-border px-4 py-4 flex flex-row space-x-4 mdlg:!items-center items-start"},ai={class:"flex flex-col space-y-1"},li={class:"flex flex-row space-x-2 items-center"},ci={class:"w-full flex flex-row items-center space-x-4 pt-3"},di={class:"flex flex-row space-x-2 items-center"},ui={class:"flex flex-col space-y-1 items-start justify-start"},hi={class:"flex flex-row space-x-2 items-center"},pi={class:"flex flex-col space-y-1 items-start justify-start"},fi={class:"flex flex-row space-x-2 items-center"},mi={class:"flex flex-col space-y-1 items-start justify-start"},gi={key:0,class:"lg:!w-full mdlg:!flex mdlg:!flex-col mdlg:!space-y-4 flex flex-row space-x-3 mdlg:!space-x-0 flex-nowrap overflow-x-auto scrollbar-hide"},vi={class:"mdlg:!w-full mdlg:!flex mdlg:!flex-col mdlg:!space-y-4 flex flex-row space-x-3 mdlg:!space-x-0 mdlg:px-0 py-2 mdlg:!py-0 mdlg:pt-0 mdlg:!pr-0 pr-4"},yi={key:1,class:"w-full flex flex-col space-y-3"},bi={key:0,class:"md:!hidden flex flex-col w-full fixed left-0 bottom-0 bg-white px-4 py-4"},_i=["onClick"],xi={class:"bg-white w-full flex flex-col lg:!px-6 md:!space-y-5 space-y-3 relative lg:!py-6 mdlg:!px-6 mdlg:!py-6 md:!py-4 md:!px-4 md:!rounded-[16px] rounded-t-[16px] items-center justify-center"},wi={class:"w-full hidden flex-col space-y-1 justify-center items-center md:flex"},ki={class:"w-full flex flex-row justify-between items-center sticky top-0 left-0 md:!hidden py-2 pt-3 border-[#F1F6FA] border-b-[1px] px-4"},Si={class:"w-full flex flex-col space-y-3 mdlg:!px-0 px-4 mdlg:!pb-0 pb-4"},Ti={components:{SofaIcon:h},props:{count:{type:Number,default:5},customClass:{type:String,default:""},readonly:{type:Boolean,default:!0},size:{type:String,default:"h-[13px] mdlg:!h-[17px]"}},emits:["update:modelValue"],name:"SofaRatings",setup(e,i){const n=(0,a.iH)(0);return(0,t.bv)((()=>{e.count&&(n.value=Math.round(e.count))})),(0,t.YP)(n,(()=>{i.emit("update:modelValue",n.value)})),{ratings:n}}},Ci=(0,d.Z)(Ti,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-icon");return(0,t.wg)(),(0,t.iD)("div",{class:(0,n.normalizeClass)(`flex flex-row items-center space-x-1 ${s.customClass}`)},[(0,t.Wm)(l,{name:o.ratings>=1?"star-full":"star","custom-class":s.size,onClick:i[0]||(i[0]=e=>s.readonly?"":o.ratings=1)},null,8,["name","custom-class"]),(0,t.Wm)(l,{name:o.ratings>=2?"star-full":"star","custom-class":s.size,onClick:i[1]||(i[1]=e=>s.readonly?"":o.ratings=2)},null,8,["name","custom-class"]),(0,t.Wm)(l,{name:o.ratings>=3?"star-full":"star","custom-class":s.size,onClick:i[2]||(i[2]=e=>s.readonly?"":o.ratings=3)},null,8,["name","custom-class"]),(0,t.Wm)(l,{name:o.ratings>=4?"star-full":"star","custom-class":s.size,onClick:i[3]||(i[3]=e=>s.readonly?"":o.ratings=4)},null,8,["name","custom-class"]),(0,t.Wm)(l,{name:o.ratings>=5?"star-full":"star","custom-class":s.size,onClick:i[4]||(i[4]=e=>s.readonly?"":o.ratings=5)},null,8,["name","custom-class"])],2)}]]),Ei={class:"w-full flex flex-col space-y-3 pb-4"},Ai={class:"flex flex-row items-center justify-between"},Ii={class:"flex flex-row items-center space-x-3"},Mi=(0,t._)("span",{class:(0,n.normalizeClass)("h-[5px] w-[5px] rounded-full bg-bodyBlack")},null,-1),Oi=["onClick"],Di={class:"flex flex-row items-center space-x-2"},Pi={class:"flex flex-col space-y-1"},Li={class:"flex flex-row items-center space-x-2"},ji={key:1,class:(0,n.normalizeClass)("h-[5px] w-[5px] rounded-full bg-grayColor  hidden md:!inline-block")},Bi=(0,t.aZ)({components:{SofaIcon:h,SofaBadge:k,SofaImageLoader:v,SofaNormalText:P,SofaButton:f},props:{customClass:{type:String,default:"bg-ligthGray"},data:{type:Object,required:!0},itemIsPurchased:{type:Boolean,default:!1}},name:"SofaContent",setup:()=>({Logic:b})}),Ri=(0,d.Z)(Bi,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-normal-text"),c=(0,t.up)("sofa-icon");return(0,t.wg)(),(0,t.iD)("div",Ei,[(0,t._)("div",Ai,[(0,t._)("div",Ii,[(0,t.Wm)(l,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.data.sections.length)+" sections ",1)])),_:1}),Mi,(0,t.Wm)(l,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.data.materialsCount)+" materials",1)])),_:1})])]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.data.sections,((i,s)=>((0,t.wg)(),(0,t.iD)("div",{class:"w-full flex flex-col space-y-3",key:s},[(0,t._)("div",{class:"w-full bg-[#F1F6FA] cursor-pointer custom-border px-4 py-4 flex flex-row items-center justify-between",onClick:(0,y.withModifiers)((e=>i.opened?i.opened=!1:i.opened=!0),["stop"])},[(0,t.Wm)(l,{customClass:"!font-bold text-left !line-clamp-1"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(i.title),1)])),_:2},1024),(0,t._)("div",Di,[(0,t.Wm)(l,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(i.data.length)+" materials ",1)])),_:2},1024),(0,t.Wm)(c,{customClass:"h-[7px]",name:i.opened?"chevron-up":"chevron-down"},null,8,["name"])])],8,Oi),i.opened?((0,t.wg)(!0),(0,t.iD)(t.HY,{key:0},(0,t.Ko)(i.data,((i,s)=>((0,t.wg)(),(0,t.iD)("div",{class:(0,n.normalizeClass)("w-full bg-[#F1F6FA] custom-border px-4 py-4 flex flex-row items-center justify-between   "),key:s},[(0,t._)("div",{class:(0,n.normalizeClass)("flex flex-row items-center space-x-3 "+(e.itemIsPurchased?"":"opacity-50"))},[(0,t.Wm)(c,{customClass:"h-[42px]",name:`${i.type.toLowerCase()}-content`},null,8,["name"]),(0,t._)("div",Pi,[(0,t.Wm)(l,{customClass:"!font-bold text-left  !line-clamp-1"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(i.title),1)])),_:2},1024),(0,t._)("div",Li,["sm"!=e.Logic.Common.mediaQuery()?((0,t.wg)(),(0,t.j4)(l,{key:0,color:"text-grayColor",customClass:"text-left !line-clamp-1 "},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(i.type),1)])),_:2},1024)):(0,t.kq)("",!0),"sm"!=e.Logic.Common.mediaQuery()?((0,t.wg)(),(0,t.iD)("span",ji)):(0,t.kq)("",!0),(0,t.Wm)(l,{color:"text-grayColor",customClass:"text-left !line-clamp-1"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(i.sub),1)])),_:2},1024)])])],2),e.itemIsPurchased?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(c,{key:0,customClass:"h-[40px]",name:"locked-content"}))])))),128)):(0,t.kq)("",!0)])))),128))])}]]),Ni={class:"flex flex-col py-4 px-2 mdlg:!w-[200px] w-[200px]"},Ui={class:"mdlg:!px-7 px-3 py-4 flex flex-col space-y-2 items-center justify-center border-r-[2px] border-[#E1E6EB]"},Fi={class:"flex flex-row"},zi={class:"w-full flex flex-col space-y-2"},Hi={class:"flex-grow h-[8px] rounded-[8px] bg-[#E1E6EB] relative"},Vi={class:"flex flex-col space-y-1"},qi=(0,t.aZ)({components:{SofaIcon:h,SofaBadge:k,SofaImageLoader:v,SofaNormalText:P,SofaButton:f,SofaRatings:Ci,SofaAvatar:x},props:{customClass:{type:String,default:"bg-ligthGray"},data:{type:Object,required:!0},hasWhiteBox:{type:Boolean,default:!1}},name:"SofaContentRatings"}),$i=(0,d.Z)(qi,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-normal-text"),c=(0,t.up)("sofa-ratings"),d=(0,t.up)("sofa-avatar");return(0,t.wg)(),(0,t.iD)("div",{class:(0,n.normalizeClass)(`w-full flex flex-col ${e.hasWhiteBox?"space-y-4":"space-y-3"}  pb-4`)},[(0,t._)("div",{class:(0,n.normalizeClass)(`w-full  ${e.hasWhiteBox?"bg-white shadow-custom":"bg-[#F1F6FA]"} custom-border mdlg:!px-4 mdlg:!py-4 px-3 py-3 flex flex-row space-x-3 items-center`)},[(0,t._)("div",Ni,[(0,t._)("div",Ui,[(0,t._)("div",Fi,[(0,t.Wm)(l,{customClass:"mdlg:!text-xl !text-lg"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.data.total),1)])),_:1}),(0,t.Wm)(l,{customClass:"mdlg:!text-xl  !text-lg",color:"text-grayColor"},{default:(0,t.w5)((()=>[(0,t.Uk)(" /5 ")])),_:1})]),(0,t.Wm)(c,{count:e.data.total,size:"h-[15px] mdlg:!h-[17px]"},null,8,["count"]),(0,t.Wm)(l,{color:"text-grayColor"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.data.label),1)])),_:1})])]),(0,t._)("div",zi,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.data.stats,((i,s)=>((0,t.wg)(),(0,t.iD)("div",{class:"w-full flex flex-row items-center justify-between space-x-3",key:s},[(0,t.Wm)(l,{customClass:"!text-xs mdlg:!text-xs",color:0==e.data.stats[s]?"text-grayColor":"text-bodyBlack"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(s)+" stars ",1)])),_:2},1032,["color"]),(0,t._)("div",Hi,[(0,t._)("div",{class:"h-full absolute top-0 left-0 bg-primaryYellow rounded-[8px]",style:(0,n.normalizeStyle)(`width: ${e.data.stats[s]/e.data.totalCount*100}%;`)},null,4)]),(0,t.Wm)(l,{customClass:"!text-xs mdlg:!text-xs",color:0==e.data.stats[s]?"text-grayColor":"text-bodyBlack"},{default:(0,t.w5)((()=>[(0,t.Uk)(" ("+(0,n.toDisplayString)(e.data.stats[s])+") ",1)])),_:2},1032,["color"])])))),128))])],2),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.data.reviews,((i,s)=>((0,t.wg)(),(0,t.iD)("div",{class:(0,n.normalizeClass)(`w-full  ${e.hasWhiteBox?"bg-white shadow-custom":"bg-[#F1F6FA]"}  custom-border mdlg:!px-4 mdlg:!py-4 px-3 py-3 flex flex-row space-x-3 items-start`),key:s},[(0,t._)("div",null,[(0,t.Wm)(d,{photoUrl:i.user.photoUrl,size:"44",userId:i.user.id},null,8,["photoUrl","userId"])]),(0,t._)("div",Vi,[(0,t.Wm)(l,{customClass:"!font-semibold"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(i.user.name),1)])),_:2},1024),(0,t.Wm)(c,{count:i.rating,size:"h-[14px] mdlg:!h-[16px]"},null,8,["count"]),(0,t.Wm)(l,{customClass:"text-left"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(i.review),1)])),_:2},1024)])],2)))),128))],2)}]]),Wi={class:"relative w-full flex flex-col mdlg:!justify-start justify-start items-center mdlg:!h-[85%] h-full overflow-y-auto overflow-x-hidden"},Gi={class:"w-full flex flex-col mdlg:h-auto h-full md:!justify-center justify-end items-center overflow-x-hidden"},Yi=t.lR,Xi={props:{canClose:{type:Boolean,default:!0},close:{type:Function,required:!0},customClass:{type:String,default:""}},name:"RoofModal",setup:e=>({closeModal:()=>{e.canClose&&e.close()},Teleport:Yi})},Ki=(0,d.Z)(Xi,[["render",function(e,i,s,o,r,a){return(0,t.wg)(),(0,t.j4)((0,t.LL)(o.Teleport),{to:"body"},{default:(0,t.w5)((()=>[(0,t.Wm)(y.Transition,{name:"fade",appear:""},{default:(0,t.w5)((()=>[(0,t._)("div",{class:(0,n.normalizeClass)(`fixed top-0 w-screen h-screen bg-black !bg-opacity-40 flex flex-col overflow-y-hidden items-center mdlg:!justify-center justify-end ${s.customClass}`),style:{"z-index":"9999999"},onClick:i[0]||(i[0]=e=>o.closeModal()),id:"innerModal"},[(0,t._)("div",Wi,[(0,t._)("div",Gi,[(0,t.WI)(e.$slots,"default")])])],2)])),_:3})])),_:3})}]]),Qi={class:"w-full flex flex-col space-y-2 justify-center items-center py-2"},Zi=(0,t.aZ)({components:{SofaIcon:h,SofaButton:f,SofaNormalText:P,SofaHeaderText:M},props:{customClass:{type:String,default:""},title:{type:String,default:""},titleStyle:{type:String,default:""},subTitle:{type:String,default:""},action:{type:Function},actionLabel:{type:String,default:""},icon:{type:Object}},name:"SofaEmptyState"}),Ji=(0,d.Z)(Zi,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-icon"),c=(0,t.up)("sofa-header-text"),d=(0,t.up)("sofa-normal-text"),u=(0,t.up)("sofa-button");return(0,t.wg)(),(0,t.iD)("div",{class:(0,n.normalizeClass)(`w-full flex flex-col space-y-3 justify-center items-center py-9 px-6 custom-border bg-primaryPurple ${e.customClass}`)},[(0,t.Wm)(l,{customClass:e.icon?e.icon.size:"h-[28px]",name:e.icon?e.icon.name:"attention-white"},null,8,["customClass","name"]),(0,t._)("div",Qi,[(0,t.Wm)(c,{color:"text-white",customClass:`!font-semibold ${e.titleStyle}`},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.title),1)])),_:1},8,["customClass"]),(0,t.Wm)(d,{color:"text-white","custom-class":"w-full flex !font-lighter flex-row items-center text-center justify-center "},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.subTitle),1)])),_:1})]),e.action?((0,t.wg)(),(0,t.j4)(u,{key:0,"custom-class":"!whitespace-nowrap",bgColor:"bg-white",padding:"py-1 px-4",onClick:i[0]||(i[0]=t=>e.action?e.action():null),textColor:"text-[#141618] !font-semibold"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.actionLabel),1)])),_:1})):(0,t.kq)("",!0)],2)}]]),en=(0,t.aZ)({components:{SofaIcon:h,SofaImageLoader:v,SofaNormalText:P,SofaBadge:k,SofaButton:f,SofaHeaderText:M,SofaRatings:Ci,SofaAvatar:x,SofaContent:Ri,SofaContentRatings:$i,SofaActivityCard:$,SofaModal:Ki,SofaIconCard:kt,SofaEmptyState:Ji},props:{customClass:{type:String,default:""},content:{type:Object},close:{type:Function,required:!1},padding:{type:String,default:"px-3 pt-3 mdlg:!px-4 mdlg:!pt-4"},hasPadding:{type:Boolean,default:!0},type:{type:String,default:"course"},contentId:{type:String,default:""},showBuyButton:{type:Boolean,default:!1},buyAction:{type:Function},itemIsPurchased:{type:Boolean,default:!1},isMinimal:{type:Boolean,default:!1},similarContents:{type:Array},actions:{type:Object}},name:"SofaContentDetails",setup(e){const i=(0,a.iH)("content"),n=(0,a.iH)([]),s=(0,a.iH)(!1),o=(0,a.Vh)(e,"type"),r=()=>{n.value.length=0,"quiz"==e.type?(n.value.push({name:"Questions",key:"questions"}),i.value="questions"):(n.value.push({name:"Content",key:"content"}),i.value="content"),e.isMinimal||n.value.push({name:"Ratings",key:"ratings"}),"course"==e.type&&n.value.push({name:"Similar courses",key:"similar_courses"})};return(0,t.YP)(o,(()=>{r()})),(0,t.bv)((()=>{r()})),{Logic:b,selectedTab:i,tabs:n,showStudyMode:s,otherTasks:[{title:"Practice",subTitle:"Interactive and comfortable learning",icon:"learn-quiz",iconSize:"h-[46px]",key:"practice"},{title:"Test",subTitle:"Evaluate your level of knowledge",icon:"test",iconSize:"h-[46px]",key:"test"},{title:"Flashcards",subTitle:"Digital cards to memorize answers",icon:"study-flashcard",iconSize:"h-[46px]",key:"flashcard"}],goToStudyMode:t=>{b.Study.GoToStudyMode(t,e.contentId)}}}}),tn=(0,d.Z)(en,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-badge"),c=(0,t.up)("sofa-image-loader"),d=(0,t.up)("sofa-header-text"),u=(0,t.up)("sofa-icon"),h=(0,t.up)("sofa-normal-text"),p=(0,t.up)("sofa-ratings"),f=(0,t.up)("sofa-avatar"),m=(0,t.up)("sofa-button"),g=(0,t.up)("sofa-content"),v=(0,t.up)("sofa-empty-state"),b=(0,t.up)("sofa-content-ratings"),_=(0,t.up)("sofa-activity-card"),x=(0,t.up)("sofa-icon-card"),w=(0,t.up)("sofa-modal");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",{class:(0,n.normalizeClass)(`w-full flex flex-col space-y-2 h-full relative bg-white mdlg:!rounded-[16px] mdlg:!overflow-y-auto overflow-y-auto  custom-border ${e.customClass}`)},[(0,t._)("div",{class:(0,n.normalizeClass)(`w-full flex flex-col space-y-2 ${e.padding} relative`)},[(0,t._)("div",Ft,[(0,t._)("div",{class:(0,n.normalizeClass)(` ${e.hasPadding?"mdlg:!w-[25%]":"mdlg:!w-[33%]"} w-full h-full mdlg:!absolute top-0 left-0`)},[(0,t.Wm)(c,{customClass:"mdlg:!w-full w-full mdlg:!h-full h-[200px] custom-border relative",photoUrl:e.content.image},{default:(0,t.w5)((()=>[e.content.price>0&&!e.itemIsPurchased?((0,t.wg)(),(0,t.iD)("div",zt,[(0,t.Wm)(l,{customClass:"!bg-[#141618] !bg-opacity-50 !text-white !px-4 !py-2 custom-border"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.content.price>0?`${e.Logic.Common.convertToMoney(e.content.price,!1,"ngn")}`:"Start"),1)])),_:1})])):(0,t.kq)("",!0)])),_:1},8,["photoUrl"])],2),(0,t._)("div",{class:(0,n.normalizeClass)("flex flex-col space-y-2 flex-grow   "+(e.hasPadding?"mdlg:!w-[75%] mdlg:!pl-[25%]":"mdlg:!w-[67%] mdlg:!pl-[33%]"))},[(0,t._)("div",Ht,[(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.content.title),1)])),_:1}),(0,t._)("div",Vt,[(0,t.Wm)(u,{name:"flag",customClass:"h-[16px] cursor-pointer ",onClick:i[0]||(i[0]=t=>e.actions.report())}),(0,t.Wm)(u,{name:"share",customClass:"h-[16px] cursor-pointer",onClick:i[1]||(i[1]=t=>e.actions.share())}),(0,t.Wm)(u,{name:"save",customClass:"h-[16px] cursor-pointer",onClick:i[2]||(i[2]=t=>e.actions.save())})])]),(0,t.Wm)(h,{customClass:"text-left"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.content.info),1)])),_:1}),(0,t._)("div",qt,[(0,t.Wm)(h,{color:"pink"==e.content.labels.color?"text-primaryPurplePink":"text-primaryPurple"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.content.labels.main),1)])),_:1},8,["color"]),(0,t._)("span",{class:(0,n.normalizeClass)("h-[5px] w-[5px] rounded-full "+("pink"==e.content.labels.color?"bg-primaryPurplePink":"bg-primaryPurple"))},null,2),(0,t.Wm)(h,{color:"pink"==e.content.labels.color?"text-primaryPurplePink":"text-primaryPurple"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.content.labels.sub),1)])),_:1},8,["color"])]),e.isMinimal?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",$t,[(0,t._)("div",Wt,[(0,t.Wm)(p,{count:e.content.ratings.total,size:"h-[14px] mdlg:!h-[15px]"},null,8,["count"]),(0,t.Wm)(h,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.content.ratings.total)+".0 ",1)])),_:1}),(0,t.Wm)(h,{color:"text-grayColor pl-2"},{default:(0,t.w5)((()=>[(0,t.Uk)(" ("+(0,n.toDisplayString)(e.content.ratings.label)+") ",1)])),_:1})])])),(0,t._)("div",Gt,[(0,t._)("div",Yt,[e.isMinimal?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",Xt,[(0,t.Wm)(f,{size:"20",photoUrl:e.content.user.photoUrl,bgColor:"bg-grayColor"},{default:(0,t.w5)((()=>[e.content.user.photoUrl?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(u,{key:0,customClass:"h-[12px]",name:"user"}))])),_:1},8,["photoUrl"]),(0,t.Wm)(h,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.content.user.name),1)])),_:1})])),e.isMinimal?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("span",Kt)),(0,t.Wm)(h,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.content.lastUpdated),1)])),_:1})]),e.showBuyButton&&"course"==e.type?((0,t.wg)(),(0,t.iD)("div",Qt,[e.itemIsPurchased?((0,t.wg)(),(0,t.j4)(m,{key:1,padding:"px-6 py-1",customClass:"w-auto",onClick:i[4]||(i[4]=t=>e.Logic.Common.GoToRoute("/course/"+e.content.courseId))},{default:(0,t.w5)((()=>[(0,t.Uk)(" Go to course ")])),_:1})):((0,t.wg)(),(0,t.j4)(m,{key:0,padding:"px-6 py-1",customClass:"published"==e.content.status?"":"bg-opacity-50",onClick:i[3]||(i[3]=t=>e.buyAction&&"published"==e.content.status?e.buyAction():null)},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.content.price>0?`Buy ${e.Logic.Common.convertToMoney(e.content.price,!1,"ngn")}`:"Start"),1)])),_:1},8,["customClass"]))])):(0,t.kq)("",!0),"quiz"==e.type?((0,t.wg)(),(0,t.iD)("div",Zt,[(0,t.Wm)(m,{padding:"px-6 py-1",onClick:i[5]||(i[5]=t=>e.itemIsPurchased?e.showStudyMode=!0:e.Logic.Common.GoToRoute(`/marketplace/${e.content.id}?type=course`))},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.itemIsPurchased?"Start":"Go to course"),1)])),_:1})])):(0,t.kq)("",!0)])],2)]),(0,t._)("div",Jt,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.content.tags,((e,i)=>((0,t.wg)(),(0,t.iD)("div",{class:"px-4 py-1 border-[1px] custom-border border-grayColor",key:i},[(0,t.Wm)(h,{color:"text-grayColor",customClass:"!whitespace-nowrap"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e),1)])),_:2},1024)])))),128))])],2),(0,t._)("div",{class:(0,n.normalizeClass)("w-full flex flex-row space-x-4 items-center border-b-[1px] border-[#F1F6FA] mdlg:!relative sticky mdlg:!pr-5 pr-4 top-0 left-0 z-50 bg-white pt-3 mdlg:!pt-0  "+(e.hasPadding?"px-4":""))},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.tabs,((i,s)=>((0,t.wg)(),(0,t.j4)(h,{color:e.selectedTab==i.key?"text-bodyBlack":"text-grayColor",customClass:"!font-semibold cursor-pointer pb-2  "+(e.selectedTab!=i.key||e.isMinimal?"":"border-b-[2px] border-bodyBlack"),onClick:t=>e.selectedTab=i.key,key:s},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(i.name),1)])),_:2},1032,["color","customClass","onClick"])))),128))],2),"content"==e.selectedTab?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,n.normalizeClass)(`w-full flex flex-col rounded-b-[16px] ${e.hasPadding?"px-4":""}  mdlg:!overflow-y-auto overflow-y-visible py-2 relative`)},[(0,t.Wm)(g,{data:e.content.content,itemIsPurchased:e.itemIsPurchased},null,8,["data","itemIsPurchased"])],2)):(0,t.kq)("",!0),"questions"==e.selectedTab?((0,t.wg)(),(0,t.iD)("div",{key:1,class:(0,n.normalizeClass)(`w-full flex flex-col h-full  rounded-b-[16px]  ${e.hasPadding?"px-4":""}  mdlg:!overflow-y-auto overflow-y-auto py-2 relative`)},[e.itemIsPurchased?((0,t.wg)(),(0,t.iD)("div",ei,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.content.questions,((e,i)=>((0,t.wg)(),(0,t.iD)("div",{class:"w-full bg-backgroundGray px-4 py-4 flex flex-col space-y-2 custom-border",key:i},[(0,t._)("div",ti,[(0,t.Wm)(h,{color:"text-grayColor"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.type),1)])),_:2},1024),ii,(0,t.Wm)(h,{color:"text-grayColor"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.duration),1)])),_:2},1024)]),(0,t.Wm)(h,{customClass:"text-left !font-bold"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.content),1)])),_:2},1024)])))),128))])):(0,t.kq)("",!0),e.itemIsPurchased?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",ni,[(0,t.Wm)(v,{title:"You have no access",subTitle:"Purchase the course it is in to use",actionLabel:"Go to course",action:()=>{e.Logic.Common.GoToRoute(`/marketplace/${e.content.courseId}?type=course`)},icon:{name:"lock-white",size:"h-[28px]"}},null,8,["action"])])),"quiz"==e.type?((0,t.wg)(),(0,t.iD)("div",si,[(0,t._)("div",oi,[(0,t.Wm)(m,{padding:"md:!py-1 py-3 px-4",customClass:"md:!w-auto w-full",onClick:i[6]||(i[6]=t=>e.itemIsPurchased?e.showStudyMode=!0:e.Logic.Common.GoToRoute(`/marketplace/${e.content.courseId}?type=course`))},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.itemIsPurchased?"Start":"Go to course"),1)])),_:1})])])):(0,t.kq)("",!0)],2)):(0,t.kq)("",!0),"ratings"==e.selectedTab?((0,t.wg)(),(0,t.iD)("div",{key:2,class:(0,n.normalizeClass)(`w-full flex flex-col rounded-b-[16px] ${e.hasPadding?"px-4":""} mdlg:!overflow-y-auto overflow-y-visible py-2 relative`)},[(0,t.Wm)(b,{data:e.content.ratings},null,8,["data"])],2)):(0,t.kq)("",!0),"creator"==e.selectedTab?((0,t.wg)(),(0,t.iD)("div",{key:3,class:(0,n.normalizeClass)(`w-full flex flex-col rounded-b-[16px] ${e.hasPadding?"px-4":""} mdlg:!overflow-y-auto overflow-y-visible py-2 relative pb-4`)},[(0,t._)("div",ri,[(0,t._)("div",null,[(0,t.Wm)(f,{photoUrl:e.content.user.photoUrl,size:"150",customClass:"hidden mdlg:!inline-block"},null,8,["photoUrl"]),(0,t.Wm)(f,{photoUrl:e.content.user.photoUrl,size:"100",customClass:"mdlg:!hidden "},null,8,["photoUrl"])]),(0,t._)("div",ai,[(0,t._)("div",li,[(0,t.Wm)(h,{customClass:"!font-bold"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.content.user.name),1)])),_:1}),(0,t.Wm)(u,{customClass:"h-[16px]",name:"verify"})]),(0,t.Wm)(h,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.content.user.role),1)])),_:1}),(0,t._)("div",ci,[(0,t._)("div",di,[(0,t.Wm)(u,{customClass:"h-[40px] hidden mdlg:!inline-block",name:"profile-quiz"}),(0,t._)("div",ui,[(0,t.Wm)(h,null,{default:(0,t.w5)((()=>[(0,t.Uk)(" Quizzes ")])),_:1}),(0,t.Wm)(h,{customClass:"!font-bold mdlg:!text-base"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.content.user.stats.quizzes),1)])),_:1})])]),(0,t._)("div",hi,[(0,t.Wm)(u,{customClass:"h-[40px] hidden mdlg:!inline-block",name:"profile-course"}),(0,t._)("div",pi,[(0,t.Wm)(h,null,{default:(0,t.w5)((()=>[(0,t.Uk)(" Courses ")])),_:1}),(0,t.Wm)(h,{customClass:"!font-bold mdlg:!text-base"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.content.user.stats.courses),1)])),_:1})])]),(0,t._)("div",fi,[(0,t.Wm)(u,{customClass:"h-[40px] hidden mdlg:!inline-block",name:"profile-followers"}),(0,t._)("div",mi,[(0,t.Wm)(h,null,{default:(0,t.w5)((()=>[(0,t.Uk)(" Followers ")])),_:1}),(0,t.Wm)(h,{customClass:"!font-bold mdlg:!text-base"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.content.user.stats.followers),1)])),_:1})])])])])])],2)):(0,t.kq)("",!0),"similar_courses"==e.selectedTab&&"course"==e.type?((0,t.wg)(),(0,t.iD)("div",{key:4,class:(0,n.normalizeClass)(`w-full flex flex-col rounded-b-[16px] ${e.hasPadding?"px-4":""} mdlg:!overflow-y-auto overflow-y-visible py-2 relative pb-4`)},[e.similarContents?.length?((0,t.wg)(),(0,t.iD)("div",gi,[(0,t._)("div",vi,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.similarContents,((i,n)=>((0,t.wg)(),(0,t.j4)(_,{key:n,activity:i,customClass:"!bg-[#F1F6FA] cursor-pointer",onClick:t=>e.Logic.Common.GoToRoute(`/marketplace/${i.id}`)},null,8,["activity","onClick"])))),128))])])):((0,t.wg)(),(0,t.iD)("div",yi,[(0,t.Wm)(v,{title:"No similar course found",subTitle:"Discover thousands of materials to buy, created by verified experts",actionLabel:"Marketplace",action:()=>{e.Logic.Common.GoToRoute("/marketplace")}},null,8,["action"])]))],2)):(0,t.kq)("",!0),(0,t.kq)("",!0)],2),e.showBuyButton&&"course"==e.type?((0,t.wg)(),(0,t.iD)("div",bi,[e.itemIsPurchased?((0,t.wg)(),(0,t.j4)(m,{key:1,padding:"px-6 py-3",customClass:"w-full",onClick:i[9]||(i[9]=t=>e.Logic.Common.GoToRoute("/course/"+e.content.courseId))},{default:(0,t.w5)((()=>[(0,t.Uk)(" Go to course ")])),_:1})):((0,t.wg)(),(0,t.j4)(m,{key:0,padding:"px-6 py-3",customClass:("published"==e.content.status?"":"bg-opacity-50")+" w-full",onClick:i[8]||(i[8]=t=>e.buyAction&&"published"==e.content.status?e.buyAction():null)},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.content.price>0?`Buy ${e.Logic.Common.convertToMoney(e.content.price,!1,"ngn")}`:"Start"),1)])),_:1},8,["customClass"]))])):(0,t.kq)("",!0),e.showStudyMode?((0,t.wg)(),(0,t.j4)(w,{key:1,close:()=>{e.showStudyMode=!1}},{default:(0,t.w5)((()=>[(0,t._)("div",{class:"mdlg:!w-[50%] lg:!w-[50%] mdlg:!h-full w-full h-auto md:w-[70%] flex flex-col items-center relative",onClick:(0,y.withModifiers)((()=>{}),["stop"])},[(0,t._)("div",xi,[(0,t._)("div",wi,[(0,t.Wm)(d,{customClass:"text-xl"},{default:(0,t.w5)((()=>[(0,t.Uk)(" Choose Study Mode ")])),_:1}),(0,t.Wm)(h,null,{default:(0,t.w5)((()=>[(0,t.Uk)(" Complete at least one to make progress ")])),_:1})]),(0,t._)("div",ki,[(0,t.Wm)(h,{customClass:"!font-bold !text-base"},{default:(0,t.w5)((()=>[(0,t.Uk)(" Choose Study Mode ")])),_:1}),(0,t.Wm)(u,{customClass:"h-[19px]",name:"circle-close",onClick:i[10]||(i[10]=t=>e.showStudyMode=!1)})]),(0,t._)("div",Si,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.otherTasks,((i,s)=>((0,t.wg)(),(0,t.j4)(x,{data:i,key:s,onClick:t=>e.goToStudyMode(i.key),customClass:"!bg-[#F1F6FA] !w-full !shadow-none"},{title:(0,t.w5)((()=>[(0,t.Wm)(h,{customClass:"!font-bold"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(i.title),1)])),_:2},1024)])),_:2},1032,["data","onClick"])))),128))])])],8,_i)])),_:1},8,["close"])):(0,t.kq)("",!0)],64)}]]),nn={class:"mdlg:!hidden flex flex-row space-x-2 justify-between items-center px-4 py-4 border-b-[1px] sticky top-0 left-0 bg-white border-[#F2F5F8]"},sn={class:"flex flex-col space-y-6 h-full px-4"},on={key:0,class:"w-full flex flex-col space-y-2 relative"},rn={class:"w-full flex flex-row items-center justify-between cursor-pointer sticky top-0 bg-white pb-2"},an={class:"flex flex-row items-center space-x-2"},ln={class:"flex flex-row items-center space-x-2"},cn={key:0,class:"w-full flex flex-row flex-wrap gap-3"},dn=["onMouseenter","onMouseleave","onClick"],un={key:1,class:"w-full grid grid-cols-2 gap-3"},hn=["onClick"],pn=(0,t._)("div",{class:"h-[130px] w-full"},null,-1),fn={class:"sticky bottom-0 left-0 bg-white rounded-b-[12px] w-full px-4 py-4 border-t-[2px] border-[#F2F5F8] z-50 flex flex-col space-y-4 scrollbar-hide"},mn=["onClick"],gn={class:"bg-white w-full flex flex-col lg:!px-6 md:!space-y-5 space-y-3 py-0 relative lg:!py-6 mdlg:!px-6 mdlg:!py-6 md:!py-0 md:!px-0 mdlg:!rounded-[16px] rounded-t-[16px] items-center justify-center"},vn={class:"w-full hidden flex-col space-y-3 justify-center items-center mdlg:!flex"},yn={class:"w-full flex flex-row justify-between items-center sticky top-0 left-0 mdlg:!hidden py-2 border-[#F1F6FA] border-b-[1px] px-4"},bn={class:"w-full flex flex-row items-start justify-center mdlg:!hidden px-4 pt-3"},_n={class:"w-full md:flex flex-row justify-between items-center grid grid-cols-2 md:gap-0 gap-3 mdlg:!px-0 px-4 mdlg:!py-0 py-4"},xn=(0,t.aZ)({components:{SofaIcon:h,SofaNormalText:P,SofaHeaderText:M,SofaModal:Ki,SofaButton:f},props:{close:{type:Function},customClass:{type:String,default:""},title:{type:String,default:""},subTitle:{type:String,default:""},buttons:{type:Object}},name:"SofaDeletePrompt",setup:()=>({showModal:(0,a.iH)(!0)})}),wn=(0,d.Z)(xn,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-header-text"),c=(0,t.up)("sofa-normal-text"),d=(0,t.up)("sofa-icon"),u=(0,t.up)("sofa-button"),h=(0,t.up)("sofa-modal");return(0,t.wg)(),(0,t.j4)(h,{close:()=>{e.close&&e.close()}},{default:(0,t.w5)((()=>[(0,t._)("div",{class:"mdlg:!w-[40%] lg:!w-[35%] mdlg:!h-full w-full h-auto md:w-full flex flex-col items-center relative",onClick:(0,y.withModifiers)((()=>{}),["stop"])},[(0,t._)("div",gn,[(0,t._)("div",vn,[(0,t.Wm)(l,{customClass:"text-xl"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.title),1)])),_:1}),(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.subTitle),1)])),_:1})]),(0,t._)("div",yn,[(0,t.Wm)(c,{customClass:"!font-bold !text-base"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.title),1)])),_:1}),(0,t.Wm)(d,{customClass:"h-[19px]",name:"circle-close",onClick:i[0]||(i[0]=t=>e.close?e.close():null)})]),(0,t._)("div",bn,[(0,t.Wm)(c,{customClass:"text-center"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.subTitle),1)])),_:1})]),(0,t._)("div",_n,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.buttons,((e,i)=>((0,t.wg)(),(0,t.iD)("div",{class:"md:!-auto col-span-1 flex flex-col",key:i},[(0,t.Wm)(u,{textColor:e.isClose?"text-grayColor":"text-white",bgColor:e.isClose?"bg-white":"bg-primaryRed",padding:"px-4 py-2",onClick:t=>e.action?e.action():null,customClass:(e.isClose?"border-[2px] border-gray-100 md:!min-w-[100px]":"border-[2px] border-transparent")+" md:!w-auto w-full"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.label),1)])),_:2},1032,["textColor","bgColor","onClick","customClass"])])))),128))])])],8,mn)])),_:1},8,["close"])}]]),kn=(0,t.aZ)({components:{SofaIcon:h,SofaNormalText:P,SofaDeletePrompt:wn},props:{customClass:{type:String,default:""},close:{type:Function,required:!1}},name:"SofaQuestionOptions",setup(e,i){const n=(0,a.iH)(!1),s=(0,a.iH)(!1),o=(0,a.iH)("question-type"),r={"question-type":{name:"Question type",options:[{name:"Multiple choice",active:!1,image:"multiple-choice-type",itemType:"multipleChoice",type:"multiple_choice"},{name:"True/False",active:!1,image:"true-false-type",itemType:"trueOrFalse",type:"true_false"},{name:"Write answer",active:!1,image:"write-answer-type",itemType:"writeAnswer",type:"write_answer"},{name:"Fill in blank(s)",active:!1,image:"fill-in-blanks-type",itemType:"fillInBlanks",type:"fill_in_blank"},{name:"Drag answers",active:!1,image:"drag-answers-type",itemType:"dragAnswers",type:"drag_answer"},{name:"Match",active:!1,image:"match-type",itemType:"match",type:"match"},{name:"Sequence",active:!1,image:"sequence-type",itemType:"sequence",type:"sequence"}],opened:!0,show:!0,hasImage:!0,icon:"question-type",type:"question-type",value:"Multiple choice",itemType:"multipleChoice",questionType:"multiple_choice"},"time-limit":{name:"Time limit",options:[{name:"5s",active:!1,image:""},{name:"10s",active:!1,image:""},{name:"20s",active:!1,image:""},{name:"30s",active:!1,image:""},{name:"1m",active:!0,image:""},{name:"1m 30s",active:!1,image:""},{name:"2m",active:!1,image:""},{name:"3m",active:!1,image:""},{name:"4m",active:!1,image:""},{name:"5m",active:!1,image:""}],opened:!0,show:!0,icon:"time-limit",type:"time-limit",value:"30s"},"total-options":{name:"Total options",options:[{name:"2",active:!1,image:""},{name:"3",active:!1,image:""},{name:"4",active:!1,image:""},{name:"5",active:!1,image:""},{name:"6",active:!1,image:""}],show:!1,opened:!0,icon:"total-options",type:"total-options",value:"4"},"sequence-total":{name:"Sequence Total",options:[{name:"4",active:!1,image:""},{name:"5",active:!1,image:""},{name:"6",active:!1,image:""}],show:!1,opened:!0,icon:"total-options",type:"sequence-total",value:"4"},"match-total":{name:"Match Total",options:[{name:"4",active:!1,image:""},{name:"5",active:!1,image:""},{name:"6",active:!1,image:""}],show:!1,opened:!0,icon:"total-options",type:"match-total",value:"4"},"correct-anwsers":{name:"Correct answer(s)",options:[{name:"1",active:!1,image:""},{name:"2",active:!1,image:""},{name:"3",active:!1,image:""},{name:"4",active:!1,image:""}],show:!1,opened:!0,icon:"correct-anwsers",type:"correct-anwsers",value:"2"}},l=(0,a.qj)([]),c=(0,a.iH)("multipleChoice"),d=b.Study.questionTypes,u=(0,a.iH)(!1),h=(0,a.iH)(b.Study.selectedQuestion),p=(0,a.iH)(),f=()=>{if(p.value){l.length=0;let e=b.Study.questionTypes[c.value].settings;c.value==p.value.key&&(e=p.value.settings),e?.forEach((e=>{const t=r[e.type];t.value=e.value,l.push(t)}))}};return(0,t.bv)((()=>{b.Study.watchProperty("selectedQuestion",h),p.value=h.value,c.value=p.value?.key,f()})),(0,t.YP)(p,(()=>{c.value=p.value?.key})),(0,t.YP)(c,(()=>{f()})),(0,t.YP)(h,(()=>{p.value=h.value})),{questionOptions:l,selectedType:o,showScrollBar:u,showDeleteQuestion:n,selectedQuestionType:c,Logic:b,showDeleteQuiz:s,toggleOption:e=>{e.opened?(e.opened=!1,o.value=""):(e.opened=!0,o.value=e.type),l.forEach((t=>{e.type!=t.type&&(t.opened=!1)}))},deleteQuestion:()=>{b.Study.DeleteQuestion(p.value.id,b.Study.SingleQuiz.id).then((e=>{e&&(b.Common.showLoader({show:!0,loading:!1,message:"Question has been deleted.",type:"success"}),n.value=!1)})).catch((()=>{b.Common.showLoader({show:!0,loading:!1,message:"Unable to delete question. Please try again",type:"error"})}))},duplicateQuestion:()=>{const e=d[c.value];b.Study.CreateQuestionForm=b.Study.convertQuestionToInput(e,c.value),b.Study.CreateQuestion(!0,b.Study.SingleQuiz.id),b.Common.showLoader({show:!0,loading:!1,message:"Question duplicated",type:"success"})},saveSettings:()=>{b.Study.AllQuestions.results.forEach((e=>{e.id==p.value?.id&&(e.data.type=c.value)})),b.Study.questionSettings=JSON.parse(JSON.stringify(l))},deleteQuiz:()=>{b.Study.DeleteQuiz(b.Study.SingleQuiz.id)}}}}),Sn=(0,d.Z)(kn,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-normal-text"),c=(0,t.up)("sofa-icon"),d=(0,t.up)("sofa-delete-prompt");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",{class:(0,n.normalizeClass)("w-full flex flex-col h-full mdlg:!space-y-0 space-y-4 relative overflow-y-auto scrollbar-thumb-gray-300 scrollbar-track-gray-100 "+(e.showScrollBar?"mdlg:!scrollbar-thin":"scrollbar-none")),onMouseover:i[4]||(i[4]=t=>e.showScrollBar=!0),onMouseleave:i[5]||(i[5]=t=>e.showScrollBar=!1)},[(0,t._)("div",nn,[(0,t.Wm)(l,{customClass:"!text-sm !font-bold"},{default:(0,t.w5)((()=>[(0,t.Uk)(" Options ")])),_:1}),(0,t.Wm)(c,{customClass:"h-[19px]",name:"circle-close",onClick:i[0]||(i[0]=t=>e.close())})]),(0,t._)("div",sn,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.questionOptions,((i,s)=>((0,t.wg)(),(0,t.iD)(t.HY,{key:s},[i.show?((0,t.wg)(),(0,t.iD)("div",on,[(0,t._)("div",rn,[(0,t._)("div",an,[(0,t.Wm)(c,{customClass:"h-[18px]",name:i.icon},null,8,["name"]),(0,t.Wm)(l,{customClass:"!font-bold"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(i.name),1)])),_:2},1024)]),(0,t._)("div",ln,[(0,t.Wm)(l,{color:"text-grayColor"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(i.value),1)])),_:2},1024)])]),i.hasImage?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",cn,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(i.options,((s,o)=>((0,t.wg)(),(0,t.iD)("span",{onMouseenter:e=>s.active=!0,onMouseleave:e=>s.active=!1,class:(0,n.normalizeClass)(`px-4 py-2  ${s.name==i.value?"bg-primaryPurple":"bg-[#EFF2F5]"} rounded-[8px] flex flex-row items-center justify-center space-x-1  cursor-pointer`),key:o,onClick:t=>{i.value=s.name,e.saveSettings()}},[(0,t.Wm)(l,{color:(s.name==i.value?"text-white":"text-deepGray")+" "},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(s.name),1)])),_:2},1032,["color"])],42,dn)))),128))])),i.hasImage?((0,t.wg)(),(0,t.iD)("div",un,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(i.options,((s,o)=>((0,t.wg)(),(0,t.iD)("div",{class:(0,n.normalizeClass)(`col-span-1 px-3 py-3 flex flex-col space-y-2 items-center justify-center cursor-pointer ${s.name==i.value?"bg-[#E6F5FF]":"bg-[#F2F5F8]"}  rounded-[8px] `),key:o,onClick:t=>{i.value=s.name,i.itemType=s.itemType,i.questionType=s.type,e.selectedQuestionType=s.itemType,e.saveSettings()}},[(0,t.Wm)(c,{name:s.image,"custom-class":"h-[50px]"},null,8,["name"]),(0,t.Wm)(l,{customClass:"text-center"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(s.name),1)])),_:2},1024)],10,hn)))),128))])):(0,t.kq)("",!0)])):(0,t.kq)("",!0)],64)))),128)),pn]),(0,t._)("div",fn,["sm"==e.Logic.Common.mediaQuery()?((0,t.wg)(),(0,t.iD)("div",{key:0,class:"w-full flex flex-row items-center justify-start space-x-3 cursor-pointer",onClick:i[1]||(i[1]=t=>e.duplicateQuestion())},[(0,t.Wm)(c,{name:"copy",customClass:"h-[16px]"}),(0,t.Wm)(l,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Duplicate question")])),_:1})])):(0,t.kq)("",!0),"sm"==e.Logic.Common.mediaQuery()?((0,t.wg)(),(0,t.iD)("div",{key:1,class:"w-full flex flex-row items-center justify-start space-x-3 cursor-pointer",onClick:i[2]||(i[2]=t=>e.showDeleteQuestion=!0)},[(0,t.Wm)(c,{name:"trash",customClass:"h-[16px]"}),(0,t.Wm)(l,{color:"text-primaryRed"},{default:(0,t.w5)((()=>[(0,t.Uk)("Delete question")])),_:1})])):(0,t.kq)("",!0),(0,t._)("div",{class:"w-full flex flex-row items-center justify-start space-x-3 cursor-pointer",onClick:i[3]||(i[3]=t=>e.showDeleteQuiz=!0)},[(0,t.Wm)(c,{name:"trash",customClass:"h-[16px]"}),(0,t.Wm)(l,{color:"text-primaryRed"},{default:(0,t.w5)((()=>[(0,t.Uk)("Delete Quiz")])),_:1})])])],34),e.showDeleteQuiz?((0,t.wg)(),(0,t.j4)(d,{key:0,title:"Are you sure you?",subTitle:"This action is permanent. You will loss all saved questions in this quiz.",close:()=>{e.showDeleteQuiz=!1},buttons:[{label:"No",isClose:!0,action:()=>{e.showDeleteQuiz=!1}},{label:"Yes, delete",isClose:!1,action:()=>{e.deleteQuiz()}}]},null,8,["subTitle","close","buttons"])):(0,t.kq)("",!0),e.showDeleteQuestion?((0,t.wg)(),(0,t.j4)(d,{key:1,title:"Are you sure you?",subTitle:"This action is permanent. You won't be able to undo this.",close:()=>{e.showDeleteQuestion=!1},buttons:[{label:"No",isClose:!0,action:()=>{e.showDeleteQuestion=!1}},{label:"Yes, delete",isClose:!1,action:()=>{e.deleteQuestion()}}]},null,8,["subTitle","close","buttons"])):(0,t.kq)("",!0)],64)}]]),Tn={class:"w-full flex flex-col h-full py-2 mdlg:!py-0 mdlg:!space-y-0 space-y-4 relative overflow-y-auto overflow-x-hidden"},Cn={class:"flex flex-col space-y-6 h-full w-full"},En=["onClick"],An={class:"flex flex-row items-center space-x-2"},In=["onClick","onUpdate:modelValue","onBlur"],Mn={class:"flex flex-row items-center space-x-3"},On=["onMouseover","onMouseleave","onClick"],Dn={class:"flex flex-row items-center space-x-2"},Pn={class:"flex flex-row space-x-2 items-center absolute h-full w-auto right-0 bottom-0 bg-lightBlue px-2 rounded-[8px]"},Ln=["onClick"];var jn=i(9653),Bn=i.n(jn);const Rn=(0,t.aZ)({components:{SofaIcon:h,SofaNormalText:P,draggable:Bn()},props:{customClass:{type:String,default:""},close:{type:Function,required:!0},sectionInput:{type:Object},updateSections:{type:Function,default:()=>{}}},name:"SofaCourseSections",emits:["update:modelValue","OnMaterialSelected"],setup(e,i){const s=(0,a.iH)(b.Study.SingleCourse),o=(0,a.iH)(b.Study.SingleFile),r=(0,a.iH)(b.Study.SingleQuiz),l=(0,a.iH)(b.Study.SingleCourseFiles),c=(0,a.iH)(b.Study.SingleCourseQuizzes),d=(0,a.iH)(b.Study.NewCoursableItem),u=(0,a.iH)(b.Study.CoursableItemRemoved),h=(0,a.iH)(b.Study.SelectedMaterialDetails),p=(0,a.iH)(b.Study.UpdatedFile),f=(0,a.iH)(0),m=(0,a.qj)([]),g=(0,a.iH)([]),v=(0,a.iH)([]),y=(t,i)=>{b.Common.debounce((()=>{e.sectionInput.sections[f.value].items.push({id:t,type:i}),setTimeout((()=>{e.updateSections()}),1e3)}),300)},_=(e,t,i=!1,s)=>{if(e){const t=`${process.env.VUE_APP_API_URL}/study/files/${e.id}/media?AccessToken=${JSON.parse(localStorage.getItem("AuthTokens")).accessToken}`;"image"==e.type&&g.value[s].materials.push({name:e.title,id:e.id,type:"image-course",details:{title:e.title,description:e.description,id:e.id},data:{zoom:100,fullScreen:!1,imageUrl:t},hover:!1}),"video"==e.type&&g.value[s].materials.push({name:e.title,id:e.id,type:"video-course",hover:!1,details:{title:e.title,link:t,duration:"4m 44s",description:e.description,id:e.id},data:{zoom:100,fullScreen:!1,videoUrl:t}}),"document"==e.type&&g.value[s].materials.push({name:e.title,id:e.id,type:"document-course",hover:!1,details:{title:e.title,pages:"3",description:e.description,id:e.id},data:{pages:{total:3,current:1},zoom:100,fullScreen:!1,documentUrl:t}}),i&&y(o.value.id,"file")}t&&b.Study.GetQuestions(t.id).then((e=>{if(e){const o=e.results.map((e=>{let t="";return"multipleChoice"==e.data.type?t=e.data.options[e.data.answers[0]]:"trueOrFalse"==e.data.type?t=`${(0,n.capitalize)(e.data.answer.toString())}`:"writeAnswer"==e.data.type||"sequence"==e.data.type||"dragAnswers"==e.data.type||"fillInBlanks"==e.data.type?t=(0,n.capitalize)(e.data.answers?.join(", ")):"match"==e.data.type&&(t=(0,n.capitalize)(e.data.set.map((e=>e.a)).join(", "))),{type:b.Study.questionTypes[e.data.type].type,duration:b.Common.EquivalentsSecondsInString[`${e.timeLimit}`],content:e.question,answer:t}}));g.value[s].materials.push({name:t.title,id:t.id,type:"quiz-course",details:{image_url:t.photo?.link||"",title:t.title,type:"Quiz",questions:`${t.questions.length} questions`,description:t.description,ratings:{total:Math.round(t.ratings.avg),label:`${t.ratings.count} rating${t.ratings.count>1?"s":""}`},user:{photoUrl:`${t.user.bio?.photo?.link}`,name:`${t.user.bio?.name?.full}`},last_updated:`${b.Common.momentInstance(t.createdAt).format("DD/MM/YYYY")}`},data:o,hover:!1}),i&&y(r.value.id,"quiz")}}))};(0,t.YP)(s,(()=>{m.length<s.value.sections.length&&w(s.value.sections.length-1)})),(0,t.YP)(d,(()=>{m.length&&b.Common.debounce((()=>{_(o.value,r.value,!0,f.value)}),500)})),(0,t.YP)(u,(()=>{w(),k.value=void 0,S()}));const x=(e,t)=>{if("quiz"==e.type){const i=c.value?.filter((t=>t.id==e.id));i.length&&_(void 0,i[0],!1,t)}else{const i=l.value?.filter((t=>t.id==e.id));_(i[0],void 0,!1,t)}},w=(t=0)=>{g.value.length=0,v.value.length=0,f.value=t,s.value.sections.forEach(((e,t)=>{g.value.push({name:e.label,id:b.Common.makeid(9),materials:[],opened:t==f.value,edit:!1}),v.value.push({items:e.items,label:e.label}),e.items.map((e=>{x(e,t)}))}));let i=JSON.parse(JSON.stringify(s.value.coursables));s.value.sections.forEach((e=>{e.items.forEach((e=>{-1!=i.findIndex((t=>t.id==e.id))&&(i=i.filter((t=>t.id!=e.id)))}))}));const n=s.value.sections.filter((e=>"unsectioned"==e.label));let o=s.value.sections.length-1;0==n.length&&(g.value.push({name:"unsectioned",id:b.Common.makeid(9),materials:[],opened:!0,edit:!1,items:[]}),v.value.push({items:[],label:"unsectioned"}),o++),i.map((e=>{x(e,o)})),m.length=0,m.push(...g.value),e.sectionInput.sections.length=0,e.sectionInput.sections.push(...v.value)};(0,t.bv)((()=>{b.Study.watchProperty("SingleCourse",s),b.Study.watchProperty("SingleFile",o),b.Study.watchProperty("SingleCourseFiles",l),b.Study.watchProperty("SingleCourseQuizzes",c),b.Study.watchProperty("NewCoursableItem",d),b.Study.watchProperty("CoursableItemRemoved",u),b.Study.watchProperty("UpdatedFile",p),b.Study.watchProperty("SingleQuiz",r),b.Study.watchProperty("SelectedMaterialDetails",h),s.value&&w()})),(0,t.YP)(m,(()=>{m.forEach(((t,i)=>{t?(e.sectionInput.sections[i].items=t.materials.map((e=>({id:e.id,type:e.type.includes("quiz")?"quiz":"file"}))),e.sectionInput.sections[i].label=t.name):e.sectionInput.sections=e.sectionInput.sections.filter(((e,t)=>i!=t))})),e.updateSections()})),(0,t.YP)(f,(()=>{m.forEach(((e,t)=>{f.value==t?e.opened=!0:e.opened=!1}))})),(0,t.YP)(h,(()=>{console.log("I got the changes")}));const k=(0,a.iH)();(0,t.YP)(k,(()=>{i.emit("update:modelValue",k.value)}));const S=()=>{i.emit("OnMaterialSelected",k.value)};return(0,t.YP)(p,(()=>{m.forEach((e=>{e.materials.forEach((e=>{e.id==p.value.id&&(e.name=p.value.title)}))})),l.value.forEach((e=>{p.value.id==e.id&&(e.title=p.value.title,e.description=p.value.description)}))})),{sectionOptions:m,selectedMaterial:k,handleItemSelected:S,addNewSection:()=>{const t=e.sectionInput.sections.length,i=t-1<0?0:t-1;e.sectionInput.sections.splice(i,0,{items:[],label:`Section ${m.length}`}),m.splice(i,0,{name:`Section ${m.length}`,id:b.Common.makeid(9),materials:[],opened:!0,edit:!1,items:[]}),s.value.sections.splice(i,0,{items:[],label:`Section ${m.length}`}),b.Study.SingleCourse.sections.splice(i,0,{items:[],label:`Section ${m.length}`}),e.updateSections(),b.Common.showLoader({show:!0,loading:!1,message:"New section added",type:"success"})},selectedSection:f,removeSection:e=>{s.value.sections=s.value.sections.filter(((t,i)=>e!=i)),w()}}}}),Nn=(0,d.Z)(Rn,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-normal-text"),c=(0,t.up)("sofa-icon"),d=(0,t.up)("draggable");return(0,t.wg)(),(0,t.iD)("div",Tn,[(0,t._)("div",Cn,[e.sectionOptions.length?((0,t.wg)(!0),(0,t.iD)(t.HY,{key:0},(0,t.Ko)(e.sectionOptions,((i,s)=>((0,t.wg)(),(0,t.iD)("div",{key:s,class:(0,n.normalizeClass)("flex flex-col w-full space-y-3")},[i?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t._)("div",{class:"w-full flex flex-row items-center justify-between cursor-pointer",onClick:e=>i.opened=!i?.opened},[(0,t._)("div",An,[i.edit?(0,t.wy)(((0,t.wg)(),(0,t.iD)("input",{key:1,onClick:(0,y.withModifiers)((e=>null),["stop"]),class:"outline-none focus:outline-slate-200 font-semibold px-2 placeholder:font-normal mdlg:text-base text-xs w-full border-[1px] !bg-white border-gray-100 rounded !text-bodyBlack","onUpdate:modelValue":e=>i.name=e,autofocus:"",placeholder:"Section name",onBlur:e=>i.edit=!1},null,40,In)),[[y.vModelText,i.name]]):((0,t.wg)(),(0,t.j4)(l,{key:0,customClass:"!font-bold"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)("unsectioned"==i.name?"Unsectioned":i.name),1)])),_:2},1024))]),(0,t._)("div",Mn,["unsectioned"!=i.name?((0,t.wg)(),(0,t.j4)(c,{key:0,onClick:(0,y.withModifiers)((e=>i.edit=!0),["stop"]),customClass:"h-[15px] cursor-pointer",name:"edit-gray"},null,8,["onClick"])):(0,t.kq)("",!0),"unsectioned"!=i.name?((0,t.wg)(),(0,t.j4)(c,{key:1,onClick:(0,y.withModifiers)((t=>e.removeSection(s)),["stop"]),customClass:"h-[15px] cursor-pointer",name:"trash-gray"},null,8,["onClick"])):(0,t.kq)("",!0),(0,t.Wm)(c,{customClass:"h-[7px] cursor-pointer",name:i.opened?"chevron-up":"chevron-down"},null,8,["name"])])],8,En),i.opened?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Wm)(d,{modelValue:i.materials,"onUpdate:modelValue":e=>i.materials=e,group:"course-item",class:"w-full space-y-3","item-key":"id",handle:".handle"},{item:(0,t.w5)((({element:i})=>[(0,t._)("div",{class:(0,n.normalizeClass)("w-full flex flex-row items-center relative justify-between space-x-2 px-2 py-2  rounded-[8px] cursor-pointer hover:bg-lightBlue "+(e.selectedMaterial?.id==i.id?"bg-lightBlue":"bg-white")),onMouseover:e=>i.hover=!0,onMouseleave:e=>i.hover=!1,onClick:(0,y.withModifiers)((t=>{e.selectedMaterial={id:i.id,data:i.data,details:i.details,type:i.type.split("-")[0]},e.handleItemSelected()}),["stop"])},[(0,t._)("div",Dn,[(0,t.Wm)(c,{customClass:"h-[17px]",name:i.type},null,8,["name"]),(0,t.Wm)(l,{customClass:"px-3 !line-clamp-2  text-left whitespace-nowrap overflow-x-hidden"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(i.name),1)])),_:2},1024)]),(0,t._)("div",Pn,[(0,t.Wm)(c,{customClass:"h-[19px] handle",name:"reorder-gray"})])],42,On)])),_:2},1032,["modelValue","onUpdate:modelValue"]),"unsectioned"!=i.name?((0,t.wg)(),(0,t.iD)("div",{key:0,class:"px-2 py-2 flex flex-row w-full items-center space-x-2 cursor-pointer",onClick:t=>{e.selectedMaterial=void 0,e.selectedSection=s,e.handleItemSelected()}},[(0,t.Wm)(c,{customClass:"h-[17px]",name:"box-add-purple"}),(0,t.Wm)(l,{color:"text-primaryPurple"},{default:(0,t.w5)((()=>[(0,t.Uk)(" Add study material ")])),_:1})],8,Ln)):(0,t.kq)("",!0)],64)):(0,t.kq)("",!0)],64)):(0,t.kq)("",!0)])))),128)):(0,t.kq)("",!0),(0,t._)("div",{class:"py-2 pt-0 flex flex-row w-full items-center space-x-2 cursor-pointer",onClick:i[0]||(i[0]=(0,y.withModifiers)((t=>e.addNewSection()),["stop"]))},[(0,t.Wm)(c,{customClass:"h-[17px]",name:"box-add-pink"}),(0,t.Wm)(l,{color:"text-primaryPink"},{default:(0,t.w5)((()=>[(0,t.Uk)(" Add section ")])),_:1})])])])}]]),Un={key:0,class:"w-full flex flex-col h-full space-y-4 relative"},Fn={class:"flex flex-row space-x-2 justify-between items-center px-4 py-4 mdlg:!pt-0 border-b-[1px] sticky top-0 left-0 bg-white border-[#F2F5F8]"},zn={class:"flex flex-col space-y-3 h-full w-full px-4"},Hn={class:"w-full flex items-center space-x-2 flex-row"},Vn=(0,t._)("span",{class:"w-[4px] h-[4px] rounded-full bg-primaryPurple"},null,-1),qn={class:"w-full flex flex-col space-y-2"},$n={class:"flex flex-row space-x-1 items-center"},Wn={class:"w-full flex flex-row items-center"},Gn={class:"space-x-2 flex flex-row items-center"},Yn={class:"w-full flex flex-row items-center space-x-2"},Xn={key:4,class:"w-full flex flex-row items-center justify-end"},Kn={class:"sticky bottom-0 left-0 bg-white rounded-b-[12px] w-full px-4 py-4 border-t-[2px] border-[#F2F5F8] z-50 flex flex-col space-y-3 scrollbar-hide"},Qn=["id","tabindex"],Zn={class:"w-full flex flex-row space-x-1 items-center"},Jn=["value","placeholder"],es=["id"],ts=["onClick"],is={key:0,class:"w-full py-2 sticky top-0 bg-white space-x-3 flex flex-row items-center justify-between"},ns={key:1,class:"w-full flex flex-row py-2 bg-white"},ss=["onClick"],os={key:0,class:"w-full flex flex-row space-x-3 items-center"},rs=["onClick"],as={class:"flex items-center flex-col justify-center sticky top-0 space-y-2 bg-white w-full pt-3 pb-1"},ls=(0,t._)("div",{class:"w-full flex items-center justify-center"},[(0,t._)("span",{class:"bg-gray-200 rounded-full w-[30px] h-[4px]"})],-1),cs={key:0,class:"border-[1px] w-full border-gray-200 rounded bg-white"},ds=["placeholder"],us={key:1,class:"w-full flex flex-col space-y-2"},hs={class:"flex w-full flex-col relative"},ps=["tabindex"],fs=["placeholder","disabled","type"],ms={class:"flex flex-row space-x-2 items-center"},gs={key:1,class:"w-full flex flex-row pt-1 justify-start"},vs=(0,t.aZ)({components:{SofaNormalText:P,SofaIcon:h},props:{padding:{type:String,default:"py-3 px-3"},placeholder:{type:String,default:""},customClass:{type:String,default:""},hasTitle:{type:Boolean,default:!1},rules:{type:Object,required:!1},modelValue:{default:""},defaultValue:{type:String,default:""},type:{type:String,default:"text"},name:{type:String,default:""},disabled:{type:Boolean,default:!1},updateValue:{type:String,default:""},isFormatted:{type:Boolean,default:!1},borderColor:{type:String,default:"border-darkLightGray"}},name:"SofaTextField",emits:["update:modelValue","onEnter"],setup(e,i){const n=(0,a.iH)(""),s=(0,a.iH)("text");(0,t.YP)(n,(()=>{i.emit("update:modelValue",n.value),setTimeout((()=>{f()}),500)}));const o=(0,a.Vh)(e,"defaultValue");(0,t.YP)(o,(()=>{n.value=e.defaultValue})),(0,t.bv)((()=>{e.modelValue&&(n.value=e.modelValue),e.defaultValue&&(n.value=e.defaultValue),e.type&&(s.value=e.type),e.isFormatted&&(n.value=b.Common.convertToMoney(n.value?n.value.toString().replace(/,/g,""):0,!1,"",!1))}));const r=(0,a.iH)(!0),l=(0,a.iH)(""),c=t=>{n.value.length<t?r.value=!0:(r.value=!1,l.value=`${e.name} must be less than ${t} characters`)},d=t=>{n.value.length==t?r.value=!0:(r.value=!1,l.value=`${e.name} must be ${t} characters`)},u=(e,t)=>{e?r.value=!0:(r.value=!1,l.value=t)},h=t=>{n.value.length>=t?r.value=!0:(r.value=!1,l.value=`${e.name} must be more than ${t-1} characters`)},p=t=>{n.value.length<=t?r.value=!0:(r.value=!1,l.value=`${e.name} must be less than ${t+1} characters`)},f=()=>{if(e.rules)for(let o=0;o<e.rules.length;o++){const a=e.rules[o];"isRequired"==a.type&&(n.value?r.value=!0:(r.value=!1,l.value=`${e.name} is required`)),"isGreaterThan"==a.type&&(s=a.value,n.value.length>s?r.value=!0:(r.value=!1,l.value=`${e.name} must be more than ${s} characters`)),"isLessThan"==a.type&&c(a.value),"isEqualsTo"==a.type&&d(a.value),"isGreaterThanOrEqualsTo"==a.type&&h(a.value),"isLessThanOrEqualsTo"==a.type&&p(a.value),"isRegex"==a.type&&(t=a.value,i=a.errorMessage,n.value.match(t)?r.value=!0:(r.value=!1,l.value=i)),"isCondition"==a.type&&u(a.value,a.errorMessage)}var t,i,s};(0,t.YP)(n,(()=>{f(),e.isFormatted&&(n.value=b.Common.convertToMoney(n.value?n.value.toString().replace(/,/g,""):0,!1,"",!1))})),(0,t.YP)(e,(()=>{e.updateValue&&("empty"==e.updateValue?n.value="":n.value=e.updateValue)}));const m=(0,a.iH)(!1),g=Math.random();return{content:n,checkValidation:f,isNumber:t=>{if("tel"!=e.type)return!0;var i=(t=t||window.event).which?t.which:t.keyCode;if(!(i>31&&(i<48||i>57)&&46!==i))return!0;t.preventDefault()},errorMessage:l,validationStatus:r,showError:e=>{r.value=!1,l.value=e},isFocused:m,tabIndex:g,fieldType:s,Logic:b,emptyValue:()=>{n.value=""},detectKey:e=>{"Enter"!==e.key&&13!==e.keyCode||i.emit("onEnter",n.value)}}}}),ys=(0,d.Z)(vs,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-normal-text"),c=(0,t.up)("sofa-icon");return(0,t.wg)(),(0,t.iD)("div",hs,[e.hasTitle?((0,t.wg)(),(0,t.j4)(l,{key:0,customClass:"!pb-2 !font-bold"},{default:(0,t.w5)((()=>[(0,t.WI)(e.$slots,"title")])),_:3})):(0,t.kq)("",!0),(0,t._)("div",{class:(0,n.normalizeClass)("w-full flex flex-row items-center "+(e.disabled?"opacity-50":"")),tabindex:e.tabIndex,onFocus:i[6]||(i[6]=t=>e.isFocused=!0),onBlur:i[7]||(i[7]=t=>e.isFocused=!1)},[(0,t.WI)(e.$slots,"outer-prefix"),(0,t._)("div",{class:(0,n.normalizeClass)(`flew-grow w-full space-x-1 flex-row flex items-center justify-between lg:text-sm mdlg:text-[12px] text-xs  ${e.borderColor}   ${e.padding} ${e.customClass}  bg-transparent rounded-[8px] ${e.isFocused?"!border-primaryBlue ":""} ${0==e.validationStatus?"!border-red-500 !border-[1px]":""}`)},[(0,t._)("span",null,[(0,t.WI)(e.$slots,"inner-prefix")]),(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":i[0]||(i[0]=t=>e.content=t),placeholder:e.placeholder,onFocus:i[1]||(i[1]=t=>e.isFocused=!0),onBlur:i[2]||(i[2]=t=>{e.isFocused=!1,e.checkValidation()}),onKeypress:i[3]||(i[3]=(...t)=>e.isNumber&&e.isNumber(...t)),disabled:e.disabled,type:e.fieldType,onKeyup:i[4]||(i[4]=(...t)=>e.detectKey&&e.detectKey(...t)),class:(0,n.normalizeClass)(" text-bodyDark flex-grow bg-transparent text-darkBody placeholder-grayColor focus input w-full focus:outline-none lg:text-sm mdlg:text-[12px] text-xs ")},null,40,fs),[[y.vModelDynamic,e.content]]),(0,t.WI)(e.$slots,"inner-suffix"),(0,t._)("span",ms,["password"==e.type?((0,t.wg)(),(0,t.j4)(c,{key:0,name:"password"==e.fieldType?"show":"hide",customClass:"password"==e.fieldType?"md:!h-[18px] h-[14px]":"md:!h-[13px] h-[10px]",onClick:i[5]||(i[5]=(0,y.withModifiers)((t=>"password"==e.fieldType?e.fieldType="text":e.fieldType="password"),["stop"]))},null,8,["name","customClass"])):(0,t.kq)("",!0),e.validationStatus?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(c,{key:1,name:"error-state",customClass:"md:!h-[18px] h-[15px]"}))])],2),(0,t.WI)(e.$slots,"outer-suffix")],42,ps),e.validationStatus?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",gs,[(0,t.Wm)(l,{customClass:" text-left !font-normal ",color:"text-primaryRed"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.Logic.Common.capitalizeFirstLetter(e.errorMessage)),1)])),_:1})]))])}]]),bs={class:"flex w-full flex-col space-y-2"},_s=["onClick"],xs={class:"flex flex-row space-x-2 items-center justify-between w-full"},ws={class:"flex flex-row space-x-2 items-center justify-start"},ks={class:"h-full flex items-start justify-center"},Ss={components:{SofaNormalText:P,SofaIcon:h},props:{options:{type:Array,required:!0},modelValue:{required:!1}},name:"SofaRadio",emits:["update:modelValue"],setup(e,i){const n=(0,a.iH)("");return(0,t.YP)(n,(()=>{i.emit("update:modelValue",n.value)})),(0,t.bv)((()=>{e.modelValue&&(n.value=e.modelValue)})),{selectedOption:n}}},Ts=(0,d.Z)(Ss,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-normal-text");return(0,t.wg)(),(0,t.iD)("div",bs,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.options,((e,i)=>((0,t.wg)(),(0,t.iD)("div",{key:i,onClick:(0,y.withModifiers)((t=>o.selectedOption=e.key),["stop"]),class:"flex w-full flex-row items-center justify-between cursor-pointer py-3 border-[1px] custom-border px-3 border-gray-200"},[(0,t._)("div",xs,[(0,t._)("div",ws,[(0,t._)("span",ks,[(0,t._)("span",{class:(0,n.normalizeClass)("h-[11px] w-[11px] rounded-full "+(o.selectedOption==e.key?"bg-primaryBlue":"bg-[#D9D9D9]"))},null,2)]),(0,t.Wm)(l,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.value),1)])),_:2},1024)])])],8,_s)))),128))])}]]),Cs={class:"flex flex-row space-x-2 items-center lg:text-sm mdlg:text-[12px] text-xs"},Es=(0,t.aZ)({props:{extraData:{type:Object,default:""},defaultValue:{type:Boolean,default:!1},customClass:{type:String,default:""},iconWidth:{type:String,default:"w-[25px]"}},components:{SofaIcon:u},name:"SofaCheckbox",emits:["update:modelValue","onSelected"],setup(e,i){const n=(0,a.iH)(!1);(0,t.YP)(n,(()=>{i.emit("update:modelValue",n.value),i.emit("onSelected",e.extraData)}));const s=(0,a.Vh)(e,"defaultValue");return(0,t.YP)(s,(()=>{n.value=s.value})),(0,t.bv)((()=>{n.value=e.defaultValue})),{selected:n}}}),As=(0,d.Z)(Es,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-icon");return(0,t.wg)(),(0,t.iD)("div",{class:(0,n.normalizeClass)(`flex w-full flex-col space-y-2 ${e.customClass}`)},[(0,t._)("div",{onClick:i[0]||(i[0]=t=>e.selected?e.selected=!1:e.selected=!0),class:"flex w-full flex-row space-x-2 items-center cursor-pointer"},[(0,t._)("span",{class:(0,n.normalizeClass)(`${e.iconWidth}`)},[(0,t.Wm)(l,{name:e.selected?"checkbox-active":"checkbox",customClass:"md:!h-[18px] h-[20px]"},null,8,["name"])],2),(0,t._)("div",Cs,[(0,t.WI)(e.$slots,"default")])])],2)}]]),Is=(0,t.aZ)({name:"SofaSelect",components:{SofaIcon:u,SofaNormalText:P,SofaModal:Ki,SofaTextField:ys,SofaRadio:Ts,SofaBadge:k,SofaCheckbox:As},props:{withKey:{type:Boolean,default:!1},placeholder:{type:String,default:""},options:{type:Array,default:[]},paddings:{type:String,default:"py-4 px-3"},padding:{type:String,default:"py-4 px-3"},customClass:{type:String,default:""},defaultOptions:{required:!1,default:[]},modelValue:{type:String||Array,default:!1},isMultiple:{type:Boolean,default:!1},hasTitle:{type:Boolean,default:!1},defaultSize:{type:String,default:"w-full"},autoComplete:{type:Boolean,default:!1},labelStyle:{type:String,default:""},isAbsolute:{type:Boolean,default:!0},updateValue:{type:String,default:""}},emits:["update:modelValue","OnOptionSelected","OnSearch"],setup(e,i){const s=(0,a.iH)(!1),o=(0,a.iH)(!1),r=Math.random(),l=(0,a.iH)(!1),c=(0,a.iH)([]),d=(0,a.iH)([]),u=(0,a.iH)(),h=(0,a.iH)(""),p=(0,a.iH)(""),f=(0,a.iH)(""),m=(0,a.iH)(!1),g=(0,a.iH)([]),v=(0,a.Vh)(e,"updateValue"),y=(0,a.Vh)(e,"options"),_=(0,a.Vh)(e,"defaultOptions");(0,t.YP)(y,(()=>{}));const x=()=>{g.value.length=0,Array.isArray(d.value)&&d.value.forEach((t=>{g.value.push({key:t.key,value:`${t.value}${e.withKey?` (${t.key})`:""}`,hasIcon:!!t.hasIcon&&t.hasIcon,extras:t.extras?t.extras:"",isImage:!!t.isImage&&t.isImage})}))};(0,t.YP)(u,(()=>{if(0!=u.value){const e=d.value.filter((e=>e.key==u.value));T(e[0]),l.value=!1}}));const w=(0,a.iH)([]);(0,t.YP)(e,(()=>{e.options&&(c.value=e.options,d.value=e.options,e.isMultiple||k(e.modelValue)),x()})),(0,t.YP)(_,(()=>{e.isMultiple&&(w.value=_.value)}));const k=e=>{const t=d.value.filter((t=>t.key==e));u.value=e,t.length>0?T(t[0]):(p.value="",h.value="")};(0,t.bv)((()=>{e.modelValue.length>0&&e.isMultiple&&(w.value=e.modelValue),e.options&&(c.value=e.options,d.value=e.options),e.autoComplete&&(m.value=e.autoComplete),(e.modelValue||""==e.modelValue)&&k(e.modelValue),x()})),(0,t.YP)(v,(()=>{k(v.value)}));const S=e=>w.value.filter((t=>t==e)).length>0,T=t=>{if(t)if(!e.autoComplete||e.isMultiple||(i.emit("OnOptionSelected",t),s.value=!1,m.value=!1,e.withKey?h.value=t.key:(h.value=t.value,p.value=t.value),i.emit("update:modelValue",t.key),document.getElementById("container"+r)?.blur(),e.hasConfirmation||e.isMultiple||(l.value=!1),e.isMultiple))if(e.isMultiple){if(S(t.key)){const n=JSON.parse(JSON.stringify(w.value));return w.value=n.filter((e=>e!=t.key)),document.getElementById("mutipleItemContainer"+r)?.scrollTo({left:8e3}),i.emit("update:modelValue",w.value),void i.emit("OnOptionSelected",{selectedItems:w.value,extraData:e.extraData})}w.value.push(t.key),document.getElementById("mutipleItemContainer"+r)?.scrollTo({left:8e3}),i.emit("update:modelValue",w.value),i.emit("OnOptionSelected",{selectedItems:w.value,extraData:e.extraData})}else i.emit("update:modelValue",t.key),i.emit("OnOptionSelected",t),e.withKey?h.value=t.key:(h.value=t.value,p.value=t.value),s.value=!1,o.value=!1,document.getElementById("container"+r)?.blur(),e.hasConfirmation||(l.value=!1);else o.value=!1},C=()=>{e.autoComplete&&(d.value=b.Common.searchArray(c.value,(0,n.capitalize)(f.value)))};return(0,t.YP)(f,(()=>{C()})),(0,t.YP)(c,(()=>{C()})),(0,t.YP)(d,(()=>{x()})),{showOption:o,valueData:h,isFocused:s,selectValue:T,tabIndex:r,textValue:p,itemIsSelected:S,selectedItems:w,getSelectedOption:e=>{const t=d.value.filter((t=>t.key==e));if(t[0])return t[0].value},ShowSelectModal:l,selectOptions:g,selectedKey:u,searchValue:f,searchResult:d,hasAutoComplete:m,hideOptions:()=>{e.autoComplete||(o.value=!1)},showAutoComplete:()=>{e.autoComplete&&(m.value=!0,o.value=!0)},emptyValue:()=>{w.value.length=0,u.value="",i.emit("OnOptionSelected",""),i.emit("update:modelValue","")}}}}),Ms=(0,d.Z)(Is,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-normal-text"),c=(0,t.up)("sofa-badge"),d=(0,t.up)("sofa-icon"),u=(0,t.up)("sofa-text-field"),h=(0,t.up)("sofa-radio"),p=(0,t.up)("sofa-checkbox"),f=(0,t.up)("sofa-modal");return(0,t.wg)(),(0,t.iD)("div",{class:(0,n.normalizeClass)(`flex flex-col space-y-2 ${e.defaultSize} `)},[e.hasTitle?((0,t.wg)(),(0,t.j4)(l,{key:0,customClass:""},{default:(0,t.w5)((()=>[(0,t.WI)(e.$slots,"title")])),_:3})):(0,t.kq)("",!0),(0,t._)("div",{class:(0,n.normalizeClass)(`flex relative flex-col items-center space-x-1 justify-between w-full rounded-md ${e.customClass} bg-grey100 ${e.paddings}`),id:"container"+e.tabIndex,onFocus:i[6]||(i[6]=t=>{e.showOption=!0,e.isFocused=!0,e.ShowSelectModal=!0,e.hasAutoComplete=!0}),onBlur:i[7]||(i[7]=t=>{e.isFocused=!1,e.hideOptions()}),tabindex:e.tabIndex,onClick:i[8]||(i[8]=t=>e.showAutoComplete())},[(0,t._)("div",Zn,[e.isMultiple?((0,t.wg)(),(0,t.iD)("div",{key:1,class:"w-full flex flex-row whitespace-nowrap overflow-x-auto z-30 scrollbar-hide space-x-2 focus text-darkBody",id:"mutipleItemContainer"+e.tabIndex},[e.selectedItems.length?((0,t.wg)(!0),(0,t.iD)(t.HY,{key:0},(0,t.Ko)(e.selectedItems,((i,s)=>((0,t.wg)(),(0,t.iD)(t.HY,{key:s},[e.getSelectedOption(i)?((0,t.wg)(),(0,t.j4)(c,{key:0,color:"blue"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.getSelectedOption(i)),1)])),_:2},1024)):(0,t.kq)("",!0)],64)))),128)):((0,t.wg)(),(0,t.j4)(l,{key:1,color:"text-grayColor"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.placeholder),1)])),_:1}))],8,es)):((0,t.wg)(),(0,t.iD)("input",{key:0,ref:"select",value:e.withKey?e.valueData:e.textValue,placeholder:e.placeholder,disabled:"",class:(0,n.normalizeClass)(" text-bodyDark flex-grow bg-transparent placeholder-grayColor text-darkBody focus input w-full focus:outline-none   lg:text-sm mdlg:text-[12px] text-xs focus:border-primaryOrange")},null,8,Jn)),(0,t._)("span",{class:"pr-1 cursor-pointer z-30",onClick:i[1]||(i[1]=t=>e.showOption=!0)},[(0,t.Wm)(d,{onClick:i[0]||(i[0]=(0,y.withModifiers)((t=>{e.showOption=!0,e.isFocused=!0}),["stop"])),name:"angle-small-down","custom-class":" h-[7px] cursor-pointer"})])]),e.showOption?((0,t.wg)(),(0,t.iD)("div",{key:0,onClick:(0,y.withModifiers)((e=>null),["stop"]),class:(0,n.normalizeClass)(`w-full hidden mdlg:!flex flex-col top-[101%] left-0 bg-white z-[999999999999] max-h-[320px] ${e.isAbsolute?"min-w-[200px]":" mt-3"}  overflow-y-auto rounded-md pb-3 px-3 shadow-md  ${e.isAbsolute?"absolute":""}`)},[e.autoComplete?((0,t.wg)(),(0,t.iD)("div",is,[(0,t.Wm)(u,{placeholder:"Search",modelValue:e.searchValue,"onUpdate:modelValue":i[2]||(i[2]=t=>e.searchValue=t),"custom-class":"w-full !border-none !border-b-[1px] !bg-[whitesmoke]"},null,8,["modelValue"]),(0,t._)("div",{class:"pr-2 cursor-pointer",onClick:i[3]||(i[3]=(0,y.withModifiers)((t=>e.showOption=!1),["stop"]))},[(0,t.Wm)(d,{customClass:"h-[16px]",name:"circle-close"})])])):(0,t.kq)("",!0),e.autoComplete?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",ns)),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.searchResult,((i,s)=>((0,t.wg)(),(0,t.iD)("div",{class:"py-3 px-3 w-full flex flex-row items-center hover:!bg-gray-100 cursor-pointer",key:s,onClick:(0,y.withModifiers)((t=>e.selectValue(i)),["stop"])},[e.isMultiple?((0,t.wg)(),(0,t.iD)("div",os,[(0,t.Wm)(d,{name:e.itemIsSelected(i.key)?"checkbox-active":"checkbox","custom-class":"h-[16px]"},null,8,["name"]),(0,t.Wm)(l,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(i.value),1)])),_:2},1024)])):((0,t.wg)(),(0,t.j4)(l,{key:1},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(i.value),1)])),_:2},1024))],8,ss)))),128))],10,ts)):(0,t.kq)("",!0),e.ShowSelectModal?((0,t.wg)(),(0,t.j4)(f,{key:1,canClose:!0,"custom-class":"mdlg:!hidden",close:()=>{e.ShowSelectModal=!1}},{default:(0,t.w5)((()=>[(0,t._)("div",{onClick:(0,y.withModifiers)((e=>!0),["stop"]),class:"rounded-t-md flex flex-col space-y-4 bg-white w-full absolute overflow-y-auto h-auto max-h-[80%] bottom-0 left-0 pb-3 px-3 lg:!text-sm mdlg:!text-[12px] text-xs"},[(0,t._)("div",as,[ls,e.autoComplete?((0,t.wg)(),(0,t.iD)("div",cs,[(0,t.wy)((0,t._)("input",{ref:"select",placeholder:e.placeholder,"onUpdate:modelValue":i[4]||(i[4]=t=>e.searchValue=t),autofocus:"",class:(0,n.normalizeClass)("py-3 px-3 flex-grow cursor-pointer bg-transparent placeholder-gray-600 focus input w-full filled focus:outline-none rounded-md focus:border-primary")},null,8,ds),[[y.vModelText,e.searchValue]])])):(0,t.kq)("",!0)]),e.isMultiple?((0,t.wg)(),(0,t.iD)("div",us,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.selectOptions,((i,s)=>((0,t.wg)(),(0,t.iD)("div",{key:s,class:"flex w-full flex-row items-center justify-between cursor-pointer py-3 border-[1px] custom-border px-3 border-gray-200"},[(0,t.Wm)(p,{extraData:i,defaultValue:e.itemIsSelected(i.key),onClick:(0,y.withModifiers)((t=>e.selectValue(i)),["stop"])},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(i.value),1)])),_:2},1032,["extraData","defaultValue","onClick"])])))),128))])):((0,t.wg)(),(0,t.j4)(h,{key:0,options:e.selectOptions,modelValue:e.selectedKey,"onUpdate:modelValue":i[5]||(i[5]=t=>e.selectedKey=t),onClick:(0,y.withModifiers)((e=>!0),["stop"])},null,8,["options","modelValue","onClick"]))],8,rs)])),_:1},8,["close"])):(0,t.kq)("",!0)],42,Qn)],2)}]]),Os={class:"flex flex-row items-center justify-around space-x-1 z-40"},Ds=["id","onUpdate:modelValue","disabled","onKeyup","onInput"],Ps=(0,t.aZ)({name:"SofaOTPInput",props:{isDisabled:{type:Boolean,required:!1,default:!1},uniqueKey:{type:String,default:"otpDigit"},isError:{type:Boolean,required:!1,default:!1},shouldResetOTP:{type:Boolean,required:!1,default:!1},numberOfInput:{type:Number,required:!1,default:4},otpInputStyle:{type:Object,required:!1,default:function(){return{width:"40px",height:"40px","margin-right":"10px","text-align":"center","font-size":"20px",appearance:"none","-webkit-appearance":"none","border-radius":"2px"}}},error:{type:Object,required:!1,default:function(){return{"border-color":"red"}}},onChangeOTP:{type:Function,required:!0},type:{type:String,default:"text"}},emits:["update:modelValue"],setup(e,i){const n=(0,a.iH)([]),s=(0,t.Fl)((()=>{const e=n.value.join("");return e?parseInt(e,10):null})),o=(0,a.iH)(!1),r=(0,t.Fl)((()=>e.isError?{...e.otpInputStyle,...e.error}:{...e.otpInputStyle}));(0,t.YP)(o,((e,t)=>{e===!t&&(n.value=[])}));const l=e=>{const t=document.getElementById(e);t&&t.focus()},c=()=>{i.emit("update:modelValue",s.value)};return{otp:s,inputStyle:r,onPaste:t=>{const i=(t.clipboardData||t.originalEvent.clipboardData).getData("Text").split("");i.length>6&&i.slice(0,6),n.value=i;const s=`${e.uniqueKey}${i.length}`;l(s),t.preventDefault(),c()},onInput:(t,i)=>{if(e.onChangeOTP(s.value),"deleteContentBackward"===t.inputType)return!1;l(i),t.preventDefault()},onKeyPress:e=>{if(1===e.target.value.length)return e.preventDefault()},focusInputByRef:l,otps:n,setValue:c}}}),Ls=(0,d.Z)(Ps,[["render",function(e,i,n,s,o,r){return(0,t.wg)(),(0,t.iD)("div",Os,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.numberOfInput,(n=>((0,t.wg)(),(0,t.iD)("span",{key:n+""+e.uniqueKey},[(0,t.wy)((0,t._)("input",{id:""+e.uniqueKey+n,"onUpdate:modelValue":t=>e.otps[n-1]=t,type:"tel",class:"md:!w-[53px] md:!h-[53px] w-[40px] h-[40px] text-lg text-center text-darkBody focus:outline-none !bg-lightGrayVaraint custom-border",disabled:e.isDisabled,onKeypress:i[0]||(i[0]=(...t)=>e.onKeyPress&&e.onKeyPress(...t)),onKeyup:[(0,y.withKeys)((t=>e.focusInputByRef(""+e.uniqueKey+(n+1))),["right"]),(0,y.withKeys)((t=>e.focusInputByRef(""+e.uniqueKey+(n-1))),["left"]),(0,y.withKeys)((t=>e.focusInputByRef(""+e.uniqueKey+(n-1))),["delete"])],onPaste:i[1]||(i[1]=(...t)=>e.onPaste&&e.onPaste(...t)),onInput:t=>{e.onInput(t,""+e.uniqueKey+(n+1)),e.setValue()}},null,40,Ds),[[y.vModelText,e.otps[n-1]]])])))),128))])}]]),js={class:"flex w-full flex-col space-y-2 px-3"},Bs={class:"w-full grid grid-cols-12 gap-6"},Rs=["onClick"],Ns={class:"col-span-4 flex flex-row items-center justify-center"},Us={class:"w-[43px] h-[43px] rounded-full border-[1px] border-transparent hover:bg-gray-50 flex flex-row items-center justify-center"},Fs={class:"col-span-4 flex flex-row items-center justify-center"},zs={class:"col-span-4 flex flex-row items-center justify-center"},Hs={components:{SofaNormalText:P,SofaIcon:h},props:{padding:{type:String,default:"py-3 px-3"},placeholder:{type:String,default:""},customClass:{type:String,default:""},hasTitle:{type:Boolean,default:!1},hasFingerPrint:{type:Boolean,default:!0},modelValue:{required:!1}},name:"SofaKeyboard",emits:["update:modelValue"],setup(e,i){const n=(0,a.iH)("");(0,t.YP)(n,(()=>{i.emit("update:modelValue",n.value)})),(0,t.YP)(e,(()=>{""==e.modelValue&&(n.value="")}));const s=(0,a.iH)(!1),o=Math.random();return{content:n,tabIndex:o,isFocused:s}}},Vs=(0,d.Z)(Hs,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-normal-text"),c=(0,t.up)("sofa-icon");return(0,t.wg)(),(0,t.iD)("div",js,[(0,t._)("div",Bs,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(Array.from(Array(9).keys()),((e,i)=>((0,t.wg)(),(0,t.iD)("div",{class:"col-span-4 flex flex-row items-center justify-center",key:i},[(0,t._)("span",{onClick:t=>o.content+=`${e+1}`,class:"w-[43px] h-[43px] rounded-full border-[1px] border-transparent hover:bg-gray-50 flex flex-row items-center justify-center"},[(0,t.Wm)(l,{customClass:"!text-lg"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e+1),1)])),_:2},1024)],8,Rs)])))),128)),(0,t._)("div",Ns,[(0,t._)("span",Us,[s.hasFingerPrint?((0,t.wg)(),(0,t.j4)(c,{key:0,name:"fingerprint",customClass:"h-[30px]"})):(0,t.kq)("",!0)])]),(0,t._)("div",Fs,[(0,t._)("span",{onClick:i[0]||(i[0]=e=>o.content+="0"),class:"w-[43px] h-[43px] rounded-full border-[1px] border-transparent hover:bg-gray-50 flex flex-row items-center justify-center"},[(0,t.Wm)(l,{customClass:"!text-lg"},{default:(0,t.w5)((()=>[(0,t.Uk)(" 0 ")])),_:1})])]),(0,t._)("div",zs,[(0,t._)("span",{onClick:i[1]||(i[1]=e=>o.content=`${o.content.slice(0,-1)}`),class:"w-[43px] h-[43px] rounded-full border-[1px] border-transparent hover:bg-gray-50 flex flex-row items-center justify-center"},[(0,t.Wm)(c,{name:"chevron-left-gray",customClass:"h-[15px]"})])])])])}]]),qs={id:"form-wrapper"},$s=(0,t.aZ)({components:{},props:{parentRefs:{required:!0}},name:"RoofFormWrapper",setup(e){const i=(0,a.iH)(null),n=(0,a.iH)();return(0,t.YP)(e,(()=>{n.value=e.parentRefs})),{formWrapper:i,validate:()=>{let e=!0;for(const t in n.value){const i=t,s=n.value[i];s&&("checkValidation"in s&&(s.checkValidation(),e=e&&s.validationStatus),s[0]&&"checkValidation"in s[0]&&(s[0].checkValidation(),e=e&&s[0].validationStatus))}return e},fieldsToValidate:n}}}),Ws=(0,d.Z)($s,[["render",function(e,i,n,s,o,r){return(0,t.wg)(),(0,t.iD)("form",qs,[(0,t.WI)(e.$slots,"default")])}]]),Gs={key:0,class:"flex flex-row flex-wrap w-full relative"},Ys=["accept","multiple"],Xs={class:"w-full flex flex-col justify-center items-center"},Ks={key:1,class:"rounded flex flex-row items-center justify-start relative space-x-2 px-1 py-4 bg-grayBackground border-dashed"},Qs=["accept","multiple"],Zs=(0,t.aZ)({components:{SofaNormalText:P,SofaIcon:u},props:{placeholder:{type:String,default:"Upload File"},iconName:{type:String,default:"upload"},accept:{type:String,default:"*"},modelValue:{required:!1},isWrapper:{type:Boolean,default:!1},isMultiple:{type:Boolean,default:!1},customClass:{type:String,default:""}},emits:["update:modelValue","update:localFileUrl","update:base64Data"],name:"SofaFileAttachment",setup(e,i){const n=(0,a.iH)(),s=(0,a.iH)(""),o=(0,a.iH)([]);return(0,t.YP)(n,(()=>{if(n.value){o.value=[];for(let e=0;e<n.value.length;e++){const t=n.value?.item(e);o.value.push(t)}i.emit("update:modelValue",e.isMultiple?o.value:o.value[0])}})),(0,t.YP)(e,(()=>{e.placeholder&&(s.value="")})),(0,t.bv)((()=>{e.modelValue&&(o.value=e.modelValue)})),{uploadHandler:t=>{const o=t.target;if(e.isMultiple)n.value=o.files;else{n.value=o.files,s.value=o.files[0].name;const e=new FileReader;n.value&&(e.readAsDataURL(n.value[0]),e.addEventListener("load",(()=>{var t,n;i.emit("update:localFileUrl",e.result?.toString()?e.result?.toString():""),t=e.result?.toString()||"",(n=new XMLHttpRequest).onload=function(){var e=new FileReader;e.onloadend=function(){var t;t=e.result,i.emit("update:base64Data",t)},e.readAsDataURL(n.response)},n.open("GET",t),n.responseType="blob",n.send()})))}},fileListArray:o,removeFile:t=>{o.value=o.value.filter(((e,i)=>i!=t)),i.emit("update:modelValue",e.isMultiple?o.value:o.value[0])},selectedFileName:s}}}),Js=(0,d.Z)(Zs,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-icon"),c=(0,t.up)("sofa-normal-text");return(0,t.wg)(),(0,t.iD)("div",{class:(0,n.normalizeClass)(`flex w-full flex-col space-y-2 ${e.customClass}`)},[e.isWrapper?((0,t.wg)(),(0,t.iD)("div",Gs,[(0,t._)("input",{type:"file",style:"\n            opacity: 0;\n            width: 100%;\n            height: 100%;\n            left: 0;\n            overflow: hidden;\n            position: absolute;\n            z-index: 999999;\n          ",accept:e.accept,multiple:e.isMultiple,onChange:i[0]||(i[0]=(...t)=>e.uploadHandler&&e.uploadHandler(...t))},null,40,Ys),(0,t._)("div",Xs,[(0,t.WI)(e.$slots,"content")])])):((0,t.wg)(),(0,t.iD)("div",Ks,[(0,t._)("input",{type:"file",style:{opacity:"0",width:"100%",height:"100%",left:"0",overflow:"hidden",position:"absolute","z-index":"10"},accept:e.accept,multiple:e.isMultiple,onChange:i[1]||(i[1]=(...t)=>e.uploadHandler&&e.uploadHandler(...t))},null,40,Qs),(0,t.Wm)(l,{name:`${e.iconName}`,customClass:"h-[15px]"},null,8,["name"]),(0,t.Wm)(c,{color:"text-paragraphTextLight",customClass:"w-full text-left line-clamp-1"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(""!=e.selectedFileName?e.selectedFileName:e.placeholder),1)])),_:1})]))],2)}]]),eo={class:"flex w-full flex-col space-y-2 content"},to=["id"],io=["placeholder"];function no(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function so(){}typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"&&self,Object.assign(so,{default:so,register:so,revert:function(){},__esModule:!0}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){const t=(this.document||this.ownerDocument).querySelectorAll(e);let i=t.length;for(;--i>=0&&t.item(i)!==this;);return i>-1}),Element.prototype.closest||(Element.prototype.closest=function(e){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t);return null}),Element.prototype.prepend||(Element.prototype.prepend=function(e){const t=document.createDocumentFragment();Array.isArray(e)||(e=[e]),e.forEach((e=>{const i=e instanceof Node;t.appendChild(i?e:document.createTextNode(e))})),this.insertBefore(t,this.firstChild)}),Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(e){e=0===arguments.length||!!e;const t=this.parentNode,i=window.getComputedStyle(t,null),n=parseInt(i.getPropertyValue("border-top-width")),s=parseInt(i.getPropertyValue("border-left-width")),o=this.offsetTop-t.offsetTop<t.scrollTop,r=this.offsetTop-t.offsetTop+this.clientHeight-n>t.scrollTop+t.clientHeight,a=this.offsetLeft-t.offsetLeft<t.scrollLeft,l=this.offsetLeft-t.offsetLeft+this.clientWidth-s>t.scrollLeft+t.clientWidth,c=o&&!r;(o||r)&&e&&(t.scrollTop=this.offsetTop-t.offsetTop-t.clientHeight/2-n+this.clientHeight/2),(a||l)&&e&&(t.scrollLeft=this.offsetLeft-t.offsetLeft-t.clientWidth/2-s+this.clientWidth/2),(o||r||a||l)&&!e&&this.scrollIntoView(c)}),window.requestIdleCallback=window.requestIdleCallback||function(e){const t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},window.cancelIdleCallback=window.cancelIdleCallback||function(e){clearTimeout(e)};var oo=(e=>(e.VERBOSE="VERBOSE",e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR",e))(oo||{});const ro=13,ao=38,lo=40;function co(e,t,i="log",n,s="color: inherit"){if(!("console"in window)||!window.console[i])return;const o=["info","log","warn","error"].includes(i),r=[];switch(co.logLevel){case"ERROR":if("error"!==i)return;break;case"WARN":if(!["error","warn"].includes(i))return;break;case"INFO":if(!o||e)return}n&&r.push(n);const a="Editor.js 2.28.0";e&&(o?(r.unshift("line-height: 1em;\n            color: #006FEA;\n            display: inline-block;\n            font-size: 11px;\n            line-height: 1em;\n            background-color: #fff;\n            padding: 4px 9px;\n            border-radius: 30px;\n            border: 1px solid rgba(56, 138, 229, 0.16);\n            margin: 4px 5px 4px 0;",s),t=`%c${a}%c ${t}`):t=`( ${a} )${t}`);try{o?n?console[i](`${t} %o`,...r):console[i](t,...r):console[i](t)}catch{}}co.logLevel="VERBOSE";const uo=co.bind(window,!1),ho=co.bind(window,!0);function po(e){return Object.prototype.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function fo(e){return"function"===po(e)||"asyncfunction"===po(e)}function mo(e){return"object"===po(e)}function go(e){return"string"===po(e)}function vo(e){return"number"===po(e)}function yo(e){return"undefined"===po(e)}function bo(e){return!e||0===Object.keys(e).length&&e.constructor===Object}function _o(e){return e>47&&e<58||32===e||13===e||229===e||e>64&&e<91||e>95&&e<112||e>185&&e<193||e>218&&e<223}function xo(e){return Array.prototype.slice.call(e)}function wo(e,t){return function(){const i=this,n=arguments;window.setTimeout((()=>e.apply(i,n)),t)}}function ko(e,t,i=void 0){let n,s,o,r=null,a=0;i||(i={});const l=function(){a=!1===i.leading?0:Date.now(),r=null,o=e.apply(n,s),r||(n=s=null)};return function(){const c=Date.now();!a&&!1===i.leading&&(a=c);const d=t-(c-a);return n=this,s=arguments,d<=0||d>t?(r&&(clearTimeout(r),r=null),a=c,o=e.apply(n,s),r||(n=s=null)):!r&&!1!==i.trailing&&(r=setTimeout(l,d)),o}}function So(e){return e[0].toUpperCase()+e.slice(1)}function To(e,...t){if(!t.length)return e;const i=t.shift();if(mo(e)&&mo(i))for(const t in i)mo(i[t])?(e[t]||Object.assign(e,{[t]:{}}),To(e[t],i[t])):Object.assign(e,{[t]:i[t]});return To(e,...t)}function Co(e){const t=function(){const e={win:!1,mac:!1,x11:!1,linux:!1},t=Object.keys(e).find((e=>-1!==window.navigator.appVersion.toLowerCase().indexOf(e)));return t&&(e[t]=!0),e}();return e=e.replace(/shift/gi,"⇧").replace(/backspace/gi,"⌫").replace(/enter/gi,"⏎").replace(/up/gi,"↑").replace(/left/gi,"→").replace(/down/gi,"↓").replace(/right/gi,"←").replace(/escape/gi,"⎋").replace(/insert/gi,"Ins").replace(/delete/gi,"␡").replace(/\+/gi," + "),t.mac?e.replace(/ctrl|cmd/gi,"⌘").replace(/alt/gi,"⌥"):e.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN")}function Eo(){return((e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")),""))(10)}function Ao(e,t,i){e&&ho(`«${t}» is deprecated and will be removed in the next major release. Please use the «${i}» instead.`,"warn")}function Io(e,t,i){const n=i.value?"value":"get",s=i[n],o=`#${t}Cache`;if(i[n]=function(...e){return void 0===this[o]&&(this[o]=s.apply(this,...e)),this[o]},"get"===n&&i.set){const t=i.set;i.set=function(i){delete e[o],t.apply(this,i)}}return i}function Mo(){return window.matchMedia("(max-width: 650px)").matches}const Oo=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1);class Do{static isSingleTag(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}static isLineBreakTag(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}static make(e,t=null,i={}){const n=document.createElement(e);Array.isArray(t)?n.classList.add(...t):t&&n.classList.add(t);for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e]);return n}static text(e){return document.createTextNode(e)}static append(e,t){Array.isArray(t)?t.forEach((t=>e.appendChild(t))):e.appendChild(t)}static prepend(e,t){Array.isArray(t)?(t=t.reverse()).forEach((t=>e.prepend(t))):e.prepend(t)}static swap(e,t){const i=document.createElement("div"),n=e.parentNode;n.insertBefore(i,e),n.insertBefore(e,t),n.insertBefore(t,i),n.removeChild(i)}static find(e=document,t){return e.querySelector(t)}static get(e){return document.getElementById(e)}static findAll(e=document,t){return e.querySelectorAll(t)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map((e=>`input[type="${e}"]`)).join(", ")}static findAllInputs(e){return xo(e.querySelectorAll(Do.allInputsSelector)).reduce(((e,t)=>Do.isNativeInput(t)||Do.containsOnlyInlineElements(t)?[...e,t]:[...e,...Do.getDeepestBlockElements(t)]),[])}static getDeepestNode(e,t=!1){const i=t?"lastChild":"firstChild",n=t?"previousSibling":"nextSibling";if(e&&e.nodeType===Node.ELEMENT_NODE&&e[i]){let s=e[i];if(Do.isSingleTag(s)&&!Do.isNativeInput(s)&&!Do.isLineBreakTag(s))if(s[n])s=s[n];else{if(!s.parentNode[n])return s.parentNode;s=s.parentNode[n]}return this.getDeepestNode(s,t)}return e}static isElement(e){return!vo(e)&&e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE}static isFragment(e){return!vo(e)&&e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(e){return"true"===e.contentEditable}static isNativeInput(e){return!(!e||!e.tagName)&&["INPUT","TEXTAREA"].includes(e.tagName)}static canSetCaret(e){let t=!0;if(Do.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":t=!1}else t=Do.isContentEditable(e);return t}static isNodeEmpty(e){let t;return!(this.isSingleTag(e)&&!this.isLineBreakTag(e))&&(t=this.isElement(e)&&this.isNativeInput(e)?e.value:e.textContent.replace("​",""),0===t.trim().length)}static isLeaf(e){return!!e&&0===e.childNodes.length}static isEmpty(e){e.normalize();const t=[e];for(;t.length>0;)if(e=t.shift()){if(this.isLeaf(e)&&!this.isNodeEmpty(e))return!1;e.childNodes&&t.push(...Array.from(e.childNodes))}return!0}static isHTMLString(e){const t=Do.make("div");return t.innerHTML=e,t.childElementCount>0}static getContentLength(e){return Do.isNativeInput(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:e.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(e){let t;go(e)?(t=document.createElement("div"),t.innerHTML=e):t=e;const i=e=>!Do.blockElements.includes(e.tagName.toLowerCase())&&Array.from(e.children).every(i);return Array.from(t.children).every(i)}static getDeepestBlockElements(e){return Do.containsOnlyInlineElements(e)?[e]:Array.from(e.children).reduce(((e,t)=>[...e,...Do.getDeepestBlockElements(t)]),[])}static getHolder(e){return go(e)?document.getElementById(e):e}static isAnchor(e){return"a"===e.tagName.toLowerCase()}static offset(e){const t=e.getBoundingClientRect(),i=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop,s=t.top+n,o=t.left+i;return{top:s,left:o,bottom:s+t.height,right:o+t.width}}}const Po={ui:{blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":""}},toolNames:{Text:"",Link:"",Bold:"",Italic:""},tools:{link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},blockTunes:{delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}}},Lo=class{static ui(e,t){return Lo._t(e,t)}static t(e,t){return Lo._t(e,t)}static setDictionary(e){Lo.currentDictionary=e}static _t(e,t){const i=Lo.getNamespace(e);return i&&i[t]?i[t]:t}static getNamespace(e){return e.split(".").reduce(((e,t)=>e&&Object.keys(e).length?e[t]:{}),Lo.currentDictionary)}};let jo=Lo;jo.currentDictionary=Po;class Bo extends Error{}class Ro{constructor(){this.subscribers={}}on(e,t){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(t)}once(e,t){e in this.subscribers||(this.subscribers[e]=[]);const i=n=>{const s=t(n),o=this.subscribers[e].indexOf(i);return-1!==o&&this.subscribers[e].splice(o,1),s};this.subscribers[e].push(i)}emit(e,t){bo(this.subscribers)||!this.subscribers[e]||this.subscribers[e].reduce(((e,t)=>{const i=t(e);return void 0!==i?i:e}),t)}off(e,t){if(void 0!==this.subscribers[e]){for(let i=0;i<this.subscribers[e].length;i++)if(this.subscribers[e][i]===t){delete this.subscribers[e][i];break}}else console.warn(`EventDispatcher .off(): there is no subscribers for event "${e.toString()}". Probably, .off() called before .on()`)}destroy(){this.subscribers={}}}function No(e){Object.setPrototypeOf(this,{get id(){return e.id},get name(){return e.name},get config(){return e.config},get holder(){return e.holder},get isEmpty(){return e.isEmpty},get selected(){return e.selected},set stretched(t){e.stretched=t},get stretched(){return e.stretched},call:(t,i)=>e.call(t,i),save:()=>e.save(),validate:t=>e.validate(t),dispatchChange(){e.dispatchChange()}})}class Uo{constructor(){this.allListeners=[]}on(e,t,i,n=!1){const s=function(e=""){return`${e}${Math.floor(1e8*Math.random()).toString(16)}`}("l"),o={id:s,element:e,eventType:t,handler:i,options:n};if(!this.findOne(e,t,i))return this.allListeners.push(o),e.addEventListener(t,i,n),s}off(e,t,i,n){const s=this.findAll(e,t,i);s.forEach(((e,t)=>{const i=this.allListeners.indexOf(s[t]);i>-1&&(this.allListeners.splice(i,1),e.element.removeEventListener(e.eventType,e.handler,e.options))}))}offById(e){const t=this.findById(e);t&&t.element.removeEventListener(t.eventType,t.handler,t.options)}findOne(e,t,i){const n=this.findAll(e,t,i);return n.length>0?n[0]:null}findAll(e,t,i){let n;const s=e?this.findByEventTarget(e):[];return n=e&&t&&i?s.filter((e=>e.eventType===t&&e.handler===i)):e&&t?s.filter((e=>e.eventType===t)):s,n}removeAll(){this.allListeners.map((e=>{e.element.removeEventListener(e.eventType,e.handler,e.options)})),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(e){return this.allListeners.filter((t=>{if(t.element===e)return t}))}findByType(e){return this.allListeners.filter((t=>{if(t.eventType===e)return t}))}findByHandler(e){return this.allListeners.filter((t=>{if(t.handler===e)return t}))}findById(e){return this.allListeners.find((t=>t.id===e))}}class Fo{constructor({config:e,eventsDispatcher:t}){if(this.nodes={},this.listeners=new Uo,this.readOnlyMutableListeners={on:(e,t,i,n=!1)=>{this.mutableListenerIds.push(this.listeners.on(e,t,i,n))},clearAll:()=>{for(const e of this.mutableListenerIds)this.listeners.offById(e);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===Fo)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=t}set state(e){this.Editor=e}removeAllNodes(){for(const e in this.nodes){const t=this.nodes[e];t instanceof HTMLElement&&t.remove()}}get isRtl(){return"rtl"===this.config.i18n.direction}}class zo{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){const e=window.getSelection();if(!e)return null;const t=e.anchorNode;return t?Do.isElement(t)?t:t.parentElement:null}static get anchorOffset(){const e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){const e=window.getSelection();return e?e.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(zo.get())}static isSelectionAtEditor(e){if(!e)return!1;let t=e.anchorNode||e.focusNode;t&&t.nodeType===Node.TEXT_NODE&&(t=t.parentNode);let i=null;return t&&t instanceof Element&&(i=t.closest(`.${zo.CSS.editorZone}`)),!!i&&i.nodeType===Node.ELEMENT_NODE}static isRangeAtEditor(e){if(!e)return;let t=e.startContainer;t&&t.nodeType===Node.TEXT_NODE&&(t=t.parentNode);let i=null;return t&&t instanceof Element&&(i=t.closest(`.${zo.CSS.editorZone}`)),!!i&&i.nodeType===Node.ELEMENT_NODE}static get isSelectionExists(){return!!zo.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(e){return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){let e,t=document.selection,i={x:0,y:0,width:0,height:0};if(t&&"Control"!==t.type)return e=t.createRange(),i.x=e.boundingLeft,i.y=e.boundingTop,i.width=e.boundingWidth,i.height=e.boundingHeight,i;if(!window.getSelection)return uo("Method window.getSelection is not supported","warn"),i;if(t=window.getSelection(),null===t.rangeCount||isNaN(t.rangeCount))return uo("Method SelectionUtils.rangeCount is not supported","warn"),i;if(0===t.rangeCount)return i;if(e=t.getRangeAt(0).cloneRange(),e.getBoundingClientRect&&(i=e.getBoundingClientRect()),0===i.x&&0===i.y){const t=document.createElement("span");if(t.getBoundingClientRect){t.appendChild(document.createTextNode("​")),e.insertNode(t),i=t.getBoundingClientRect();const n=t.parentNode;n.removeChild(t),n.normalize()}}return i}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e,t=0){const i=document.createRange(),n=window.getSelection();return Do.isNativeInput(e)?Do.canSetCaret(e)?(e.focus(),e.selectionStart=e.selectionEnd=t,e.getBoundingClientRect()):void 0:(i.setStart(e,t),i.setEnd(e,t),n.removeAllRanges(),n.addRange(i),i.getBoundingClientRect())}static isRangeInsideContainer(e){const t=zo.range;return null!==t&&e.contains(t.startContainer)}static addFakeCursor(){const e=zo.range;if(null===e)return;const t=Do.make("span","codex-editor__fake-cursor");t.dataset.mutationFree="true",e.collapse(),e.insertNode(t)}static isFakeCursorInsideContainer(e){return null!==Do.find(e,".codex-editor__fake-cursor")}static removeFakeCursor(e=document.body){const t=Do.find(e,".codex-editor__fake-cursor");t&&t.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=zo.range}restore(){if(!this.savedSelectionRange)return;const e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(e.focusNode),t.collapse(!1),e.removeAllRanges(),e.addRange(t)}findParentTag(e,t,i=10){const n=window.getSelection();let s=null;return n&&n.anchorNode&&n.focusNode?([n.anchorNode,n.focusNode].forEach((n=>{let o=i;for(;o>0&&n.parentNode&&(n.tagName!==e||(s=n,t&&n.classList&&!n.classList.contains(t)&&(s=null),!s));)n=n.parentNode,o--})),s):null}expandToTag(e){const t=window.getSelection();t.removeAllRanges();const i=document.createRange();i.selectNodeContents(e),t.addRange(i)}}const Ho="redactor dom changed",Vo="block changed",qo="fake cursor is about to be toggled",$o="fake cursor have been set";function Wo(e,t){return e.mergeable&&e.name===t.name}var Go=(e=>(e.APPEND_CALLBACK="appendCallback",e.RENDERED="rendered",e.MOVED="moved",e.UPDATED="updated",e.REMOVED="removed",e.ON_PASTE="onPaste",e))(Go||{});class Yo extends Ro{constructor({id:e=Eo(),data:t,tool:i,api:n,readOnly:s,tunesData:o},r){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(e=void 0)=>{const t=void 0===e,i=e instanceof InputEvent;let n;!t&&!i&&this.detectToolRootChange(e),n=!(!t&&!i&&e.length>0&&e.every((e=>{const{addedNodes:t,removedNodes:i,target:n}=e;return[...Array.from(t),...Array.from(i),n].some((e=>!!Do.isElement(e)&&"true"===e.dataset.mutationFree))}))),n&&(this.dropInputsCache(),this.updateCurrentInput(),this.call("updated"),this.emit("didMutated",this))},this.name=i.name,this.id=e,this.settings=i.settings,this.config=i.settings.config||{},this.api=n,this.editorEventBus=r||null,this.blockAPI=new No(this),this.tool=i,this.toolInstance=i.create(t,this.blockAPI,s),this.tunes=i.tunes,this.composeTunes(o),this.holder=this.compose(),window.requestIdleCallback((()=>{this.watchBlockMutations(),this.addInputEvents()}))}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",focused:"ce-block--focused",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(0!==this.cachedInputs.length)return this.cachedInputs;const e=Do.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(e){const t=this.inputs.findIndex((t=>t===e||t.contains(e)));-1!==t&&(this.inputIndex=t)}get firstInput(){return this.inputs[0]}get lastInput(){const e=this.inputs;return e[e.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then((e=>e&&!bo(e.data)?e.data:{}))}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return fo(this.toolInstance.merge)}get isEmpty(){const e=Do.isEmpty(this.pluginsContent),t=!this.hasMedia;return e&&t}get hasMedia(){return!!this.holder.querySelector(["img","iframe","video","audio","source","input","textarea","twitterwidget"].join(","))}set focused(e){this.holder.classList.toggle(Yo.CSS.focused,e)}get focused(){return this.holder.classList.contains(Yo.CSS.focused)}set selected(e){var t,i;this.holder.classList.toggle(Yo.CSS.selected,e);const n=!0===e&&zo.isRangeInsideContainer(this.holder),s=!1===e&&zo.isFakeCursorInsideContainer(this.holder);(n||s)&&(null==(t=this.editorEventBus)||t.emit(qo,{state:e}),n?zo.addFakeCursor():zo.removeFakeCursor(this.holder),null==(i=this.editorEventBus)||i.emit($o,{state:e}))}get selected(){return this.holder.classList.contains(Yo.CSS.selected)}set stretched(e){this.holder.classList.toggle(Yo.CSS.wrapperStretched,e)}get stretched(){return this.holder.classList.contains(Yo.CSS.wrapperStretched)}set dropTarget(e){this.holder.classList.toggle(Yo.CSS.dropTarget,e)}get pluginsContent(){return this.toolRenderedElement}call(e,t){if(fo(this.toolInstance[e])){"appendCallback"===e&&uo("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,t)}catch(t){uo(`Error during '${e}' call: ${t.message}`,"error")}}}async mergeWith(e){await this.toolInstance.merge(e)}async save(){const e=await this.toolInstance.save(this.pluginsContent),t=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach((([e,i])=>{if(fo(i.save))try{t[e]=i.save()}catch(e){uo(`Tune ${i.constructor.name} save method throws an Error %o`,"warn",e)}}));const i=window.performance.now();let n;return Promise.resolve(e).then((e=>(n=window.performance.now(),{id:this.id,tool:this.name,data:e,tunes:t,time:n-i}))).catch((e=>{uo(`Saving process for ${this.name} tool failed due to the ${e}`,"log","red")}))}async validate(e){let t=!0;return this.toolInstance.validate instanceof Function&&(t=await this.toolInstance.validate(e)),t}getTunes(){const e=document.createElement("div"),t=[];return["function"==typeof this.toolInstance.renderSettings?this.toolInstance.renderSettings():[],[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map((e=>e.render()))].flat().forEach((i=>{Do.isElement(i)?e.appendChild(i):Array.isArray(i)?t.push(...i):t.push(i)})),[t,e]}updateCurrentInput(){this.currentInput=Do.isNativeInput(document.activeElement)||!zo.anchorNode?document.activeElement:zo.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),fo(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const e=this.tool.toolbox;if(1===e.length)return Promise.resolve(this.tool.toolbox[0]);const t=await this.data;return e.find((e=>Object.entries(e.data).some((([e,i])=>t[e]&&function(e,t){const i=Array.isArray(e)||mo(e),n=Array.isArray(t)||mo(t);return i||n?JSON.stringify(e)===JSON.stringify(t):e===t}(t[e],i)))))}async exportDataAsString(){return function(e,t){const i=null==t?void 0:t.export;return fo(i)?i(e):go(i)?e[i]:(void 0!==i&&uo("Conversion «export» property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),"")}(await this.data,this.tool.conversionConfig)}compose(){const e=Do.make("div",Yo.CSS.wrapper),t=Do.make("div",Yo.CSS.content),i=this.toolInstance.render();e.dataset.id=this.id,this.toolRenderedElement=i,t.appendChild(this.toolRenderedElement);let n=t;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach((e=>{if(fo(e.wrap))try{n=e.wrap(n)}catch(t){uo(`Tune ${e.constructor.name} wrap method throws an Error %o`,"warn",t)}})),e.appendChild(n),e}composeTunes(e){Array.from(this.tunes.values()).forEach((t=>{(t.isInternal?this.defaultTunesInstances:this.tunesInstances).set(t.name,t.create(e[t.name],this.blockAPI))})),Object.entries(e).forEach((([e,t])=>{this.tunesInstances.has(e)||(this.unavailableTunesData[e]=t)}))}addInputEvents(){this.inputs.forEach((e=>{e.addEventListener("focus",this.handleFocus),Do.isNativeInput(e)&&e.addEventListener("input",this.didMutated)}))}removeInputEvents(){this.inputs.forEach((e=>{e.removeEventListener("focus",this.handleFocus),Do.isNativeInput(e)&&e.removeEventListener("input",this.didMutated)}))}watchBlockMutations(){var e;this.redactorDomChangedCallback=e=>{const{mutations:t}=e;t.some((e=>function(e,t){const{type:i,target:n,addedNodes:s,removedNodes:o}=e;if(n===t)return!0;if(["characterData","attributes"].includes(i)){const e=n.nodeType===Node.TEXT_NODE?n.parentNode:n;return t.contains(e)}const r=Array.from(s).some((e=>t.contains(e))),a=Array.from(o).some((e=>t.contains(e)));return r||a}(e,this.toolRenderedElement)))&&this.didMutated(t)},null==(e=this.editorEventBus)||e.on(Ho,this.redactorDomChangedCallback)}unwatchBlockMutations(){var e;null==(e=this.editorEventBus)||e.off(Ho,this.redactorDomChangedCallback)}detectToolRootChange(e){e.forEach((e=>{if(Array.from(e.removedNodes).includes(this.toolRenderedElement)){const t=e.addedNodes[e.addedNodes.length-1];this.toolRenderedElement=t}}))}dropInputsCache(){this.cachedInputs=[]}}class Xo extends Fo{static getNamespace(e){return e.isTune()?`blockTunes.${e.name}`:`tools.${e.name}`}get methods(){return{t:()=>{ho("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(e){return Object.assign(this.methods,{t:t=>jo.t(Xo.getNamespace(e),t)})}}var Ko={},Qo={get exports(){return Ko},set exports(e){Ko=e}};window,Qo.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i(i.s=0)}([function(e,t,i){var n,s;i(1),e.exports=(n=i(6),"cdx-notify--bounce-in",s=null,{show:function(e){if(e.message){!function(){if(s)return!0;s=n.getWrapper(),document.body.appendChild(s)}();var t=null,i=e.time||8e3;switch(e.type){case"confirm":t=n.confirm(e);break;case"prompt":t=n.prompt(e);break;default:t=n.alert(e),window.setTimeout((function(){t.remove()}),i)}s.appendChild(t),t.classList.add("cdx-notify--bounce-in")}}})},function(e,t,i){var n=i(2);"string"==typeof n&&(n=[[e.i,n,""]]);i(4)(n,{hmr:!0,transform:void 0,insertInto:void 0}),n.locals&&(e.exports=n.locals)},function(e,t,i){(e.exports=i(3)(!1)).push([e.i,'.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:\'\';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:\'\';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}',""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i,n=e[1]||"",s=e[3];if(!s)return n;if(t&&"function"==typeof btoa){var o=(i=s,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),r=s.sources.map((function(e){return"/*# sourceURL="+s.sourceRoot+e+" */"}));return[n].concat(r).concat([o]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i})).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},s=0;s<this.length;s++){var o=this[s][0];"number"==typeof o&&(n[o]=!0)}for(s=0;s<e.length;s++){var r=e[s];"number"==typeof r[0]&&n[r[0]]||(i&&!r[2]?r[2]=i:i&&(r[2]="("+r[2]+") and ("+i+")"),t.push(r))}},t}},function(e,t,i){var n,s,o,r={},a=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===s&&(s=n.apply(this,arguments)),s}),l=(o={},function(e){if("function"==typeof e)return e();if(void 0===o[e]){var t=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch{t=null}o[e]=t}return o[e]}),c=null,d=0,u=[],h=i(5);function p(e,t){for(var i=0;i<e.length;i++){var n=e[i],s=r[n.id];if(s){s.refs++;for(var o=0;o<s.parts.length;o++)s.parts[o](n.parts[o]);for(;o<n.parts.length;o++)s.parts.push(b(n.parts[o],t))}else{var a=[];for(o=0;o<n.parts.length;o++)a.push(b(n.parts[o],t));r[n.id]={id:n.id,refs:1,parts:a}}}}function f(e,t){for(var i=[],n={},s=0;s<e.length;s++){var o=e[s],r=t.base?o[0]+t.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};n[r]?n[r].parts.push(a):i.push(n[r]={id:r,parts:[a]})}return i}function m(e,t){var i=l(e.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=u[u.length-1];if("top"===e.insertAt)n?n.nextSibling?i.insertBefore(t,n.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),u.push(t);else if("bottom"===e.insertAt)i.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var s=l(e.insertInto+" "+e.insertAt.before);i.insertBefore(t,s)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function v(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),y(t,e.attrs),m(e,t),t}function y(e,t){Object.keys(t).forEach((function(i){e.setAttribute(i,t[i])}))}function b(e,t){var i,n,s,o,r,a;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var l=d++;i=c||(c=v(t)),n=w.bind(null,i,l,!1),s=w.bind(null,i,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=t,a=document.createElement("link"),void 0===r.attrs.type&&(r.attrs.type="text/css"),r.attrs.rel="stylesheet",y(a,r.attrs),m(r,a),n=function(e,t,i){var n=i.css,s=i.sourceMap,o=void 0===t.convertToAbsoluteUrls&&s;(t.convertToAbsoluteUrls||o)&&(n=h(n)),s&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */");var r=new Blob([n],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(r),a&&URL.revokeObjectURL(a)}.bind(null,i=a,t),s=function(){g(i),i.href&&URL.revokeObjectURL(i.href)}):(i=v(t),n=function(e,t){var i=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}.bind(null,i),s=function(){g(i)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else s()}}e.exports=function(e,t){if(typeof DEBUG<"u"&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var i=f(e,t);return p(i,t),function(e){for(var n=[],s=0;s<i.length;s++){var o=i[s];(a=r[o.id]).refs--,n.push(a)}for(e&&p(f(e,t),t),s=0;s<n.length;s++){var a;if(0===(a=n[s]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete r[a.id]}}}};var _,x=(_=[],function(e,t){return _[e]=t,_.filter(Boolean).join("\n")});function w(e,t,i,n){var s=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=x(t,s);else{var o=document.createTextNode(s),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(o,r[t]):e.appendChild(o)}}},function(e,t){e.exports=function(e){var t=typeof window<"u"&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var i=t.protocol+"//"+t.host,n=i+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var s,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(s=0===o.indexOf("//")?o:0===o.indexOf("/")?i+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(s)+")")}))}},function(e,t,i){var n,s,o,r,a,l;e.exports=("cdx-notifies",n="cdx-notify",s="cdx-notify__cross",o="cdx-notify__button--confirm","cdx-notify__button--cancel","cdx-notify__input",r="cdx-notify__button",a="cdx-notify__btns-wrapper",{alert:l=function(e){var t=document.createElement("DIV"),i=document.createElement("DIV"),o=e.message,r=e.style;return t.classList.add(n),r&&t.classList.add(n+"--"+r),t.innerHTML=o,i.classList.add(s),i.addEventListener("click",t.remove.bind(t)),t.appendChild(i),t},confirm:function(e){var t=l(e),i=document.createElement("div"),n=document.createElement("button"),c=document.createElement("button"),d=t.querySelector("."+s),u=e.cancelHandler,h=e.okHandler;return i.classList.add(a),n.innerHTML=e.okText||"Confirm",c.innerHTML=e.cancelText||"Cancel",n.classList.add(r),c.classList.add(r),n.classList.add(o),c.classList.add("cdx-notify__button--cancel"),u&&"function"==typeof u&&(c.addEventListener("click",u),d.addEventListener("click",u)),h&&"function"==typeof h&&n.addEventListener("click",h),n.addEventListener("click",t.remove.bind(t)),c.addEventListener("click",t.remove.bind(t)),i.appendChild(n),i.appendChild(c),t.appendChild(i),t},prompt:function(e){var t=l(e),i=document.createElement("div"),n=document.createElement("button"),c=document.createElement("input"),d=t.querySelector("."+s),u=e.cancelHandler,h=e.okHandler;return i.classList.add(a),n.innerHTML=e.okText||"Ok",n.classList.add(r),n.classList.add(o),c.classList.add("cdx-notify__input"),e.placeholder&&c.setAttribute("placeholder",e.placeholder),e.default&&(c.value=e.default),e.inputType&&(c.type=e.inputType),u&&"function"==typeof u&&d.addEventListener("click",u),h&&"function"==typeof h&&n.addEventListener("click",(function(){h(c.value)})),n.addEventListener("click",t.remove.bind(t)),i.appendChild(c),i.appendChild(n),t.appendChild(i),t},getWrapper:function(){var e=document.createElement("DIV");return e.classList.add("cdx-notifies"),e}})}]);const Zo=no(Ko);class Jo{show(e){Zo.show(e)}}var er={},tr={get exports(){return er},set exports(e){er=e}};tr.exports=function(){function e(e){var t=e.tags;if(!Object.keys(t).map((function(e){return typeof t[e]})).every((function(e){return"object"===e||"boolean"===e||"function"===e})))throw new Error("The configuration was invalid");this.config=e}var t=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function i(e){return-1!==t.indexOf(e.nodeName)}var n=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function s(e){return-1!==n.indexOf(e.nodeName)}function o(e,t,i){return"function"==typeof e.tags[t]?e.tags[t](i):e.tags[t]}function r(e,t){return typeof t>"u"||"boolean"==typeof t&&!t}function a(e,t,i){var n=e.name.toLowerCase();return!0!==t&&("function"==typeof t[n]?!t[n](e.value,i):typeof t[n]>"u"||!1===t[n]||"string"==typeof t[n]&&t[n]!==e.value)}return e.prototype.clean=function(e){const t=document.implementation.createHTMLDocument(),i=t.createElement("div");return i.innerHTML=e,this._sanitize(t,i),i.innerHTML},e.prototype._sanitize=function(e,t){var n=function(e,t){return e.createTreeWalker(t,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}(e,t),l=n.firstChild();if(l)do{if(l.nodeType!==Node.TEXT_NODE){if(l.nodeType===Node.COMMENT_NODE){t.removeChild(l),this._sanitize(e,t);break}var c,d=s(l);d&&(c=Array.prototype.some.call(l.childNodes,i));var u=!!t.parentNode,h=i(t)&&i(l)&&u,p=l.nodeName.toLowerCase(),f=o(this.config,p,l);if(d&&c||r(0,f)||!this.config.keepNestedBlockElements&&h){if("SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName)for(;l.childNodes.length>0;)t.insertBefore(l.childNodes[0],l);t.removeChild(l),this._sanitize(e,t);break}for(var m=0;m<l.attributes.length;m+=1){var g=l.attributes[m];a(g,f,l)&&(l.removeAttribute(g.name),m-=1)}this._sanitize(e,l)}else if(""===l.data.trim()&&(l.previousElementSibling&&i(l.previousElementSibling)||l.nextElementSibling&&i(l.nextElementSibling))){t.removeChild(l),this._sanitize(e,t);break}}while(l=n.nextSibling())},e}();const ir=er;function nr(e,t){return e.map((e=>{const i=fo(t)?t(e.tool):t;return bo(i)||(e.data=or(e.data,i)),e}))}function sr(e,t={}){return new ir({tags:t}).clean(e)}function or(e,t){return Array.isArray(e)?function(e,t){return e.map((e=>or(e,t)))}(e,t):mo(e)?function(e,t){const i={};for(const n in e){if(!Object.prototype.hasOwnProperty.call(e,n))continue;const s=e[n],o=rr(t[n])?t[n]:t;i[n]=or(s,o)}return i}(e,t):go(e)?function(e,t){return mo(t)?sr(e,t):!1===t?sr(e,{}):e}(e,t):e}function rr(e){return mo(e)||function(e){return"boolean"===po(e)}(e)||fo(e)}var ar={},lr={get exports(){return ar},set exports(e){ar=e}};!function(e,t){window,e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){e.exports=i(1)},function(e,t,i){i.r(t),i.d(t,"default",(function(){return n}));class n{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(e,t,i){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const n=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},i);if(n.hidingDelay&&(this.hidingDelay=n.hidingDelay),this.nodes.content.innerHTML="","string"==typeof t)this.nodes.content.appendChild(document.createTextNode(t));else{if(!(t instanceof Node))throw Error("[CodeX Tooltip] Wrong type of «content» passed. It should be an instance of Node or String. But "+typeof t+" given.");this.nodes.content.appendChild(t)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),n.placement){case"top":this.placeTop(e,n);break;case"left":this.placeLeft(e,n);break;case"right":this.placeRight(e,n);break;default:this.placeBottom(e,n)}n&&n.delay?this.showingTimeout=setTimeout((()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0}),n.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(e=!1){if(this.hidingDelay&&!e)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout((()=>{this.hide(!0)}),this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(e,t,i){e.addEventListener("mouseenter",(()=>{this.show(e,t,i)})),e.addEventListener("mouseleave",(()=>{this.hide()}))}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const e="codex-tooltips-style";if(document.getElementById(e))return;const t=i(2),n=this.make("style",null,{textContent:t.toString(),id:e});this.prepend(document.head,n)}placeBottom(e,t){const i=e.getBoundingClientRect(),n=i.left+e.clientWidth/2-this.nodes.wrapper.offsetWidth/2,s=i.bottom+window.pageYOffset+this.offsetTop+t.marginTop;this.applyPlacement("bottom",n,s)}placeTop(e,t){const i=e.getBoundingClientRect(),n=i.left+e.clientWidth/2-this.nodes.wrapper.offsetWidth/2,s=i.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",n,s)}placeLeft(e,t){const i=e.getBoundingClientRect(),n=i.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-t.marginLeft,s=i.top+window.pageYOffset+e.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",n,s)}placeRight(e,t){const i=e.getBoundingClientRect(),n=i.right+this.offsetRight+t.marginRight,s=i.top+window.pageYOffset+e.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",n,s)}applyPlacement(e,t,i){this.nodes.wrapper.classList.add(this.CSS.placement[e]),this.nodes.wrapper.style.left=t+"px",this.nodes.wrapper.style.top=i+"px"}make(e,t=null,i={}){const n=document.createElement(e);Array.isArray(t)?n.classList.add(...t):t&&n.classList.add(t);for(const e in i)i.hasOwnProperty(e)&&(n[e]=i[e]);return n}append(e,t){Array.isArray(t)?t.forEach((t=>e.appendChild(t))):e.appendChild(t)}prepend(e,t){Array.isArray(t)?(t=t.reverse()).forEach((t=>e.prepend(t))):e.prepend(t)}}},function(e,t){e.exports='.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>\') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}'}]).default}(lr);const cr=no(ar);class dr{constructor(){this.lib=new cr}destroy(){this.lib.destroy()}show(e,t,i){this.lib.show(e,t,i)}hide(e=!1){this.lib.hide(e)}onHover(e,t,i){this.lib.onHover(e,t,i)}}const ur=function e(t,i){const n={};return Object.entries(t).forEach((([t,s])=>{if(mo(s)){const o=i?`${i}.${t}`:t;Object.values(s).every((e=>go(e)))?n[t]=o:n[t]=e(s,o)}else n[t]=s})),n}(Po),hr='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',pr='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>';class fr{constructor(e){this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{this.nodes.root.classList.remove(fr.CSS.noFocus)},this.removeSpecialHoverBehavior=()=>{this.nodes.root.classList.remove(fr.CSS.noHover)},this.onErrorAnimationEnd=()=>{this.nodes.icon.classList.remove(fr.CSS.wobbleAnimation),this.nodes.icon.removeEventListener("animationend",this.onErrorAnimationEnd)},this.params=e,this.nodes.root=this.make(e)}get isDisabled(){return this.params.isDisabled}get toggle(){return this.params.toggle}get title(){return this.params.title}get closeOnActivate(){return this.params.closeOnActivate}get isConfirmationStateEnabled(){return null!==this.confirmationState}get isFocused(){return this.nodes.root.classList.contains(fr.CSS.focused)}static get CSS(){return{container:"ce-popover-item",title:"ce-popover-item__title",secondaryTitle:"ce-popover-item__secondary-title",icon:"ce-popover-item__icon",active:"ce-popover-item--active",disabled:"ce-popover-item--disabled",focused:"ce-popover-item--focused",hidden:"ce-popover-item--hidden",confirmationState:"ce-popover-item--confirmation",noHover:"ce-popover-item--no-hover",noFocus:"ce-popover-item--no-focus",wobbleAnimation:"wobble"}}getElement(){return this.nodes.root}handleClick(){this.isConfirmationStateEnabled?this.activateOrEnableConfirmationMode(this.confirmationState):this.activateOrEnableConfirmationMode(this.params)}toggleActive(e){this.nodes.root.classList.toggle(fr.CSS.active,e)}toggleHidden(e){this.nodes.root.classList.toggle(fr.CSS.hidden,e)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(e){const t=Do.make("div",fr.CSS.container);return e.name&&(t.dataset.itemName=e.name),this.nodes.icon=Do.make("div",fr.CSS.icon,{innerHTML:e.icon||'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>'}),t.appendChild(this.nodes.icon),t.appendChild(Do.make("div",fr.CSS.title,{innerHTML:e.title||""})),e.secondaryLabel&&t.appendChild(Do.make("div",fr.CSS.secondaryTitle,{textContent:e.secondaryLabel})),e.isActive&&t.classList.add(fr.CSS.active),e.isDisabled&&t.classList.add(fr.CSS.disabled),t}enableConfirmationMode(e){const t={...this.params,...e,confirmation:e.confirmation},i=this.make(t);this.nodes.root.innerHTML=i.innerHTML,this.nodes.root.classList.add(fr.CSS.confirmationState),this.confirmationState=e,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){const e=this.make(this.params);this.nodes.root.innerHTML=e.innerHTML,this.nodes.root.classList.remove(fr.CSS.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){this.nodes.root.classList.add(fr.CSS.noHover),this.nodes.root.classList.add(fr.CSS.noFocus),this.nodes.root.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),this.nodes.root.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(e){if(void 0===e.confirmation)try{e.onActivate(e),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(e.confirmation)}animateError(){this.nodes.icon.classList.contains(fr.CSS.wobbleAnimation)||(this.nodes.icon.classList.add(fr.CSS.wobbleAnimation),this.nodes.icon.addEventListener("animationend",this.onErrorAnimationEnd))}}const mr=class{constructor(e,t){this.cursor=-1,this.items=[],this.items=e||[],this.focusedCssClass=t}get currentItem(){return-1===this.cursor?null:this.items[this.cursor]}setCursor(e){e<this.items.length&&e>=-1&&(this.dropCursor(),this.cursor=e,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(e){this.items=e}next(){this.cursor=this.leafNodesAndReturnIndex(mr.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(mr.directions.LEFT)}dropCursor(){-1!==this.cursor&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(e){if(0===this.items.length)return this.cursor;let t=this.cursor;return-1===t?t=e===mr.directions.RIGHT?-1:0:this.items[t].classList.remove(this.focusedCssClass),t=e===mr.directions.RIGHT?(t+1)%this.items.length:(this.items.length+t-1)%this.items.length,Do.canSetCaret(this.items[t])&&wo((()=>zo.setCursor(this.items[t])),50)(),this.items[t].classList.add(this.focusedCssClass),t}};let gr=mr;gr.directions={RIGHT:"right",LEFT:"left"};class vr{constructor(e){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=e=>{if(this.isEventReadyForHandling(e))switch(vr.usedKeys.includes(e.keyCode)&&e.preventDefault(),e.keyCode){case 9:this.handleTabPress(e);break;case 37:case ao:this.flipLeft();break;case 39:case lo:this.flipRight();break;case ro:this.handleEnterPress(e)}},this.iterator=new gr(e.items,e.focusedItemClass),this.activateCallback=e.activateCallback,this.allowedKeys=e.allowedKeys||vr.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[9,37,39,ro,ao,lo]}activate(e,t){this.activated=!0,e&&this.iterator.setItems(e),void 0!==t&&this.iterator.setCursor(t),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(e){this.flipCallbacks.push(e)}removeOnFlip(e){this.flipCallbacks=this.flipCallbacks.filter((t=>t!==e))}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}handleTabPress(e){switch(e.shiftKey?gr.directions.LEFT:gr.directions.RIGHT){case gr.directions.RIGHT:this.flipRight();break;case gr.directions.LEFT:this.flipLeft()}}handleEnterPress(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),fo(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach((e=>e()))}}class yr{static get CSS(){return{wrapper:"cdx-search-field",icon:"cdx-search-field__icon",input:"cdx-search-field__input"}}constructor({items:e,onSearch:t,placeholder:i}){this.listeners=new Uo,this.items=e,this.onSearch=t,this.render(i)}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.onSearch("",this.foundItems)}destroy(){this.listeners.removeAll()}render(e){this.wrapper=Do.make("div",yr.CSS.wrapper);const t=Do.make("div",yr.CSS.icon,{innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>'});this.input=Do.make("input",yr.CSS.input,{placeholder:e}),this.wrapper.appendChild(t),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",(()=>{this.searchQuery=this.input.value,this.onSearch(this.searchQuery,this.foundItems)}))}get foundItems(){return this.items.filter((e=>this.checkItem(e)))}checkItem(e){var t;const i=(null==(t=e.title)?void 0:t.toLowerCase())||"",n=this.searchQuery.toLowerCase();return i.includes(n)}}const br=class{lock(){Oo?this.lockHard():document.body.classList.add(br.CSS.scrollLocked)}unlock(){Oo?this.unlockHard():document.body.classList.remove(br.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(br.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(br.CSS.scrollLockedHard),null!==this.scrollPosition&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};let _r=br;_r.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};var xr=Object.defineProperty,wr=Object.getOwnPropertyDescriptor,kr=(e=>(e.Close="close",e))(kr||{});const Sr=class extends Ro{constructor(e){super(),this.scopeElement=document.body,this.listeners=new Uo,this.scrollLocker=new _r,this.nodes={wrapper:null,popover:null,nothingFoundMessage:null,customContent:null,items:null,overlay:null},this.messages={nothingFound:"Nothing found",search:"Search"},this.onFlip=()=>{this.items.find((e=>e.isFocused)).onFocus()},this.items=e.items.map((e=>new fr(e))),void 0!==e.scopeElement&&(this.scopeElement=e.scopeElement),e.messages&&(this.messages={...this.messages,...e.messages}),e.customContentFlippableItems&&(this.customContentFlippableItems=e.customContentFlippableItems),this.make(),e.customContent&&this.addCustomContent(e.customContent),e.searchable&&this.addSearch(),this.initializeFlipper()}static get CSS(){return{popover:"ce-popover",popoverOpenTop:"ce-popover--open-top",popoverOpened:"ce-popover--opened",search:"ce-popover__search",nothingFoundMessage:"ce-popover__nothing-found-message",nothingFoundMessageDisplayed:"ce-popover__nothing-found-message--displayed",customContent:"ce-popover__custom-content",customContentHidden:"ce-popover__custom-content--hidden",items:"ce-popover__items",overlay:"ce-popover__overlay",overlayHidden:"ce-popover__overlay--hidden"}}getElement(){return this.nodes.wrapper}hasFocus(){return this.flipper.hasFocus()}show(){this.shouldOpenBottom||(this.nodes.popover.style.setProperty("--popover-height",this.height+"px"),this.nodes.popover.classList.add(Sr.CSS.popoverOpenTop)),this.nodes.overlay.classList.remove(Sr.CSS.overlayHidden),this.nodes.popover.classList.add(Sr.CSS.popoverOpened),this.flipper.activate(this.flippableElements),void 0!==this.search&&setTimeout((()=>{this.search.focus()}),100),Mo()&&this.scrollLocker.lock()}hide(){this.nodes.popover.classList.remove(Sr.CSS.popoverOpened),this.nodes.popover.classList.remove(Sr.CSS.popoverOpenTop),this.nodes.overlay.classList.add(Sr.CSS.overlayHidden),this.flipper.deactivate(),this.items.forEach((e=>e.reset())),void 0!==this.search&&this.search.clear(),Mo()&&this.scrollLocker.unlock(),this.emit("close")}destroy(){this.flipper.deactivate(),this.listeners.removeAll(),Mo()&&this.scrollLocker.unlock()}make(){this.nodes.popover=Do.make("div",[Sr.CSS.popover]),this.nodes.nothingFoundMessage=Do.make("div",[Sr.CSS.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popover.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=Do.make("div",[Sr.CSS.items]),this.items.forEach((e=>{this.nodes.items.appendChild(e.getElement())})),this.nodes.popover.appendChild(this.nodes.items),this.listeners.on(this.nodes.popover,"click",(e=>{const t=this.getTargetItem(e);void 0!==t&&this.handleItemClick(t)})),this.nodes.wrapper=Do.make("div"),this.nodes.overlay=Do.make("div",[Sr.CSS.overlay,Sr.CSS.overlayHidden]),this.listeners.on(this.nodes.overlay,"click",(()=>{this.hide()})),this.nodes.wrapper.appendChild(this.nodes.overlay),this.nodes.wrapper.appendChild(this.nodes.popover)}addSearch(){this.search=new yr({items:this.items,placeholder:this.messages.search,onSearch:(e,t)=>{this.items.forEach((e=>{const i=!t.includes(e);e.toggleHidden(i)})),this.toggleNothingFoundMessage(0===t.length),this.toggleCustomContent(""!==e);const i=""===e?this.flippableElements:t.map((e=>e.getElement()));this.flipper.isActivated&&(this.flipper.deactivate(),this.flipper.activate(i))}});const e=this.search.getElement();e.classList.add(Sr.CSS.search),this.nodes.popover.insertBefore(e,this.nodes.popover.firstChild)}addCustomContent(e){this.nodes.customContent=e,this.nodes.customContent.classList.add(Sr.CSS.customContent),this.nodes.popover.insertBefore(e,this.nodes.popover.firstChild)}getTargetItem(e){return this.items.find((t=>e.composedPath().includes(t.getElement())))}handleItemClick(e){e.isDisabled||(this.items.filter((t=>t!==e)).forEach((e=>e.reset())),e.handleClick(),this.toggleItemActivenessIfNeeded(e),e.closeOnActivate&&this.hide())}initializeFlipper(){this.flipper=new vr({items:this.flippableElements,focusedItemClass:fr.CSS.focused,allowedKeys:[9,ao,lo,ro]}),this.flipper.onFlip(this.onFlip)}get flippableElements(){const e=this.items.map((e=>e.getElement()));return(this.customContentFlippableItems||[]).concat(e)}get height(){let e=0;if(null===this.nodes.popover)return e;const t=this.nodes.popover.cloneNode(!0);return t.style.visibility="hidden",t.style.position="absolute",t.style.top="-1000px",t.classList.add(Sr.CSS.popoverOpened),document.body.appendChild(t),e=t.offsetHeight,t.remove(),e}get shouldOpenBottom(){const e=this.nodes.popover.getBoundingClientRect(),t=this.scopeElement.getBoundingClientRect(),i=this.height,n=e.top+i,s=e.top-i,o=Math.min(window.innerHeight,t.bottom);return s<t.top||n<=o}toggleNothingFoundMessage(e){this.nodes.nothingFoundMessage.classList.toggle(Sr.CSS.nothingFoundMessageDisplayed,e)}toggleCustomContent(e){var t;null==(t=this.nodes.customContent)||t.classList.toggle(Sr.CSS.customContentHidden,e)}toggleItemActivenessIfNeeded(e){if(!0===e.toggle&&e.toggleActive(),"string"==typeof e.toggle){const t=this.items.filter((t=>t.toggle===e.toggle));if(1===t.length)return void e.toggleActive();t.forEach((t=>{t.toggleActive(t===e)}))}}};let Tr=Sr;((e,t,i,n)=>{for(var s,o=wr(t,i),r=e.length-1;r>=0;r--)(s=e[r])&&(o=s(t,i,o)||o);o&&xr(t,i,o)})([Io],Tr.prototype,"height");class Cr extends Fo{constructor(){super(...arguments),this.opened=!1,this.tools=[],this.flipper=null,this.togglingCallback=null}static get CSS(){return{conversionToolbarWrapper:"ce-conversion-toolbar",conversionToolbarShowed:"ce-conversion-toolbar--showed",conversionToolbarTools:"ce-conversion-toolbar__tools",conversionToolbarLabel:"ce-conversion-toolbar__label",conversionTool:"ce-conversion-tool",conversionToolHidden:"ce-conversion-tool--hidden",conversionToolIcon:"ce-conversion-tool__icon",conversionToolSecondaryLabel:"ce-conversion-tool__secondary-label",conversionToolFocused:"ce-conversion-tool--focused",conversionToolActive:"ce-conversion-tool--active"}}make(){this.nodes.wrapper=Do.make("div",[Cr.CSS.conversionToolbarWrapper,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.tools=Do.make("div",Cr.CSS.conversionToolbarTools);const e=Do.make("div",Cr.CSS.conversionToolbarLabel,{textContent:jo.ui(ur.ui.inlineToolbar.converter,"Convert to")});return this.addTools(),this.enableFlipper(),Do.append(this.nodes.wrapper,e),Do.append(this.nodes.wrapper,this.nodes.tools),this.nodes.wrapper}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}toggle(e){this.opened?this.close():this.open(),fo(e)&&(this.togglingCallback=e)}open(){this.filterTools(),this.opened=!0,this.nodes.wrapper.classList.add(Cr.CSS.conversionToolbarShowed),window.requestAnimationFrame((()=>{this.flipper.activate(this.tools.map((e=>e.button)).filter((e=>!e.classList.contains(Cr.CSS.conversionToolHidden)))),this.flipper.focusFirst(),fo(this.togglingCallback)&&this.togglingCallback(!0)}))}close(){this.opened=!1,this.flipper.deactivate(),this.nodes.wrapper.classList.remove(Cr.CSS.conversionToolbarShowed),fo(this.togglingCallback)&&this.togglingCallback(!1)}hasTools(){return 1!==this.tools.length||this.tools[0].name!==this.config.defaultBlock}async replaceWithBlock(e,t){const{BlockManager:i,BlockSelection:n,InlineToolbar:s,Caret:o}=this.Editor;i.convert(this.Editor.BlockManager.currentBlock,e,t),n.clearSelection(),this.close(),s.close(),window.requestAnimationFrame((()=>{o.setToBlock(this.Editor.BlockManager.currentBlock,o.positions.END)}))}addTools(){const e=this.Editor.Tools.blockTools;Array.from(e.entries()).forEach((([e,t])=>{var i;const n=t.conversionConfig;!n||!n.import||null==(i=t.toolbox)||i.forEach((t=>this.addToolIfValid(e,t)))}))}addToolIfValid(e,t){bo(t)||!t.icon||this.addTool(e,t)}addTool(e,t){var i;const n=Do.make("div",[Cr.CSS.conversionTool]),s=Do.make("div",[Cr.CSS.conversionToolIcon]);n.dataset.tool=e,s.innerHTML=t.icon,Do.append(n,s),Do.append(n,Do.text(jo.t(ur.toolNames,t.title||So(e))));const o=null==(i=this.Editor.Tools.blockTools.get(e))?void 0:i.shortcut;if(o){const e=Do.make("span",Cr.CSS.conversionToolSecondaryLabel,{innerText:Co(o)});Do.append(n,e)}Do.append(this.nodes.tools,n),this.tools.push({name:e,button:n,toolboxItem:t}),this.listeners.on(n,"click",(async()=>{await this.replaceWithBlock(e,t.data)}))}async filterTools(){const{currentBlock:e}=this.Editor.BlockManager,t=await e.getActiveToolboxEntry();this.tools.forEach((i=>{let n=!1;if(t){const s=function(e,t){return e.icon===t.icon&&e.title===t.title}(t,i.toolboxItem);n=i.button.dataset.tool===e.name&&s}i.button.hidden=n,i.button.classList.toggle(Cr.CSS.conversionToolHidden,n)}))}enableFlipper(){this.flipper=new vr({focusedItemClass:Cr.CSS.conversionToolFocused})}}var Er={},Ar={get exports(){return Er},set exports(e){Er=e}};!function(e,t){window,e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}i.r(t);var o=function(){function e(t){var i=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.commands={},this.keys={},this.name=t.name,this.parseShortcutName(t.name),this.element=t.on,this.callback=t.callback,this.executeShortcut=function(e){i.execute(e)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return s(e,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),s(e,[{key:"parseShortcutName",value:function(t){t=t.split("+");for(var i=0;i<t.length;i++){t[i]=t[i].toUpperCase();var n=!1;for(var s in e.supportedCommands)if(e.supportedCommands[s].includes(t[i])){n=this.commands[s]=!0;break}n||(this.keys[t[i]]=!0)}for(var o in e.supportedCommands)this.commands[o]||(this.commands[o]=!1)}},{key:"execute",value:function(t){var i,n={CMD:t.ctrlKey||t.metaKey,SHIFT:t.shiftKey,ALT:t.altKey},s=!0;for(i in this.commands)this.commands[i]!==n[i]&&(s=!1);var o,r=!0;for(o in this.keys)r=r&&t.keyCode===e.keyCodes[o];s&&r&&this.callback(t)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),e}();t.default=o}]).default}(Ar);const Ir=no(Er),Mr=new class{constructor(){this.registeredShortcuts=new Map}add(e){if(this.findShortcut(e.on,e.name))throw Error(`Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`);const t=new Ir({name:e.name,on:e.on,callback:e.handler}),i=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[...i,t])}remove(e,t){const i=this.findShortcut(e,t);if(!i)return;i.remove();const n=this.registeredShortcuts.get(e);this.registeredShortcuts.set(e,n.filter((e=>e!==i)))}findShortcut(e,t){return(this.registeredShortcuts.get(e)||[]).find((({name:e})=>e===t))}};var Or=Object.defineProperty,Dr=Object.getOwnPropertyDescriptor,Pr=(e,t,i,n)=>{for(var s,o=n>1?void 0:n?Dr(t,i):t,r=e.length-1;r>=0;r--)(s=e[r])&&(o=(n?s(t,i,o):s(o))||o);return n&&o&&Or(t,i,o),o},Lr=(e=>(e.Opened="toolbox-opened",e.Closed="toolbox-closed",e.BlockAdded="toolbox-block-added",e))(Lr||{});const jr=class extends Ro{constructor({api:e,tools:t,i18nLabels:i}){super(),this.opened=!1,this.nodes={toolbox:null},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=e,this.tools=t,this.i18nLabels=i}get isEmpty(){return 0===this.toolsToBeDisplayed.length}static get CSS(){return{toolbox:"ce-toolbox"}}make(){return this.popover=new Tr({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(kr.Close,this.onPopoverClose),this.enableShortcuts(),this.nodes.toolbox=this.popover.getElement(),this.nodes.toolbox.classList.add(jr.CSS.toolbox),this.nodes.toolbox}hasFocus(){var e;return null==(e=this.popover)?void 0:e.hasFocus()}destroy(){var e;super.destroy(),this.nodes&&this.nodes.toolbox&&(this.nodes.toolbox.remove(),this.nodes.toolbox=null),this.removeAllShortcuts(),null==(e=this.popover)||e.off(kr.Close,this.onPopoverClose)}toolButtonActivated(e,t){this.insertNewBlock(e,t)}open(){var e;this.isEmpty||(null==(e=this.popover)||e.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var e;null==(e=this.popover)||e.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}get toolsToBeDisplayed(){const e=[];return this.tools.forEach((t=>{t.toolbox&&e.push(t)})),e}get toolboxItemsToBeDisplayed(){const e=(e,t)=>({icon:e.icon,title:jo.t(ur.toolNames,e.title||So(t.name)),name:t.name,onActivate:()=>{this.toolButtonActivated(t.name,e.data)},secondaryLabel:t.shortcut?Co(t.shortcut):""});return this.toolsToBeDisplayed.reduce(((t,i)=>(Array.isArray(i.toolbox)?i.toolbox.forEach((n=>{t.push(e(n,i))})):void 0!==i.toolbox&&t.push(e(i.toolbox,i)),t)),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach((e=>{const t=e.shortcut;t&&this.enableShortcutForTool(e.name,t)}))}enableShortcutForTool(e,t){Mr.add({name:t,on:this.api.ui.nodes.redactor,handler:t=>{t.preventDefault();const i=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(i);if(n)try{return this.api.blocks.convert(n.id,e),void window.requestAnimationFrame((()=>{this.api.caret.setToBlock(i,"end")}))}catch{}this.insertNewBlock(e)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach((e=>{const t=e.shortcut;t&&Mr.remove(this.api.ui.nodes.redactor,t)}))}async insertNewBlock(e,t){const i=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(i);if(!n)return;const s=n.isEmpty?i:i+1;let o;if(t){const i=await this.api.blocks.composeBlockData(e);o=Object.assign(i,t)}const r=this.api.blocks.insert(e,o,void 0,s,void 0,n.isEmpty);r.call(Go.APPEND_CALLBACK),this.api.caret.setToBlock(s),this.emit("toolbox-block-added",{block:r}),this.api.toolbar.close()}};let Br=jr;Pr([Io],Br.prototype,"toolsToBeDisplayed",1),Pr([Io],Br.prototype,"toolboxItemsToBeDisplayed",1);const Rr="block hovered";var Nr=(e=>(e[e.Block=0]="Block",e[e.Inline=1]="Inline",e[e.Tune=2]="Tune",e))(Nr||{}),Ur=(e=>(e.Shortcut="shortcut",e.Toolbox="toolbox",e.EnabledInlineTools="inlineToolbar",e.EnabledBlockTunes="tunes",e.Config="config",e))(Ur||{}),Fr=(e=>(e.Shortcut="shortcut",e.SanitizeConfig="sanitize",e))(Fr||{}),zr=(e=>(e.IsEnabledLineBreaks="enableLineBreaks",e.Toolbox="toolbox",e.ConversionConfig="conversionConfig",e.IsReadOnlySupported="isReadOnlySupported",e.PasteConfig="pasteConfig",e))(zr||{}),Hr=(e=>(e.IsInline="isInline",e.Title="title",e))(Hr||{}),Vr=(e=>(e.IsTune="isTune",e))(Vr||{});class qr{constructor({name:e,constructable:t,config:i,api:n,isDefault:s,isInternal:o=!1,defaultPlaceholder:r}){this.api=n,this.name=e,this.constructable=t,this.config=i,this.isDefault=s,this.isInternal=o,this.defaultPlaceholder=r}get settings(){const e=this.config.config||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}reset(){if(fo(this.constructable.reset))return this.constructable.reset()}prepare(){if(fo(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const e=this.constructable.shortcut;return this.config.shortcut||e}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return 1===this.type}isBlock(){return 0===this.type}isTune(){return 2===this.type}}class $r{constructor(e){this.blocks=[],this.workingArea=e}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return xo(this.workingArea.children)}static set(e,t,i){return isNaN(Number(t))?(Reflect.set(e,t,i),!0):(e.insert(+t,i),!0)}static get(e,t){return isNaN(Number(t))?Reflect.get(e,t):e.get(+t)}push(e){this.blocks.push(e),this.insertToDOM(e)}swap(e,t){const i=this.blocks[t];Do.swap(this.blocks[e].holder,i.holder),this.blocks[t]=this.blocks[e],this.blocks[e]=i}move(e,t){const i=this.blocks.splice(t,1)[0],n=e-1,s=Math.max(0,n),o=this.blocks[s];e>0?this.insertToDOM(i,"afterend",o):this.insertToDOM(i,"beforebegin",o),this.blocks.splice(e,0,i);const r=this.composeBlockEvent("move",{fromIndex:t,toIndex:e});i.call(Go.MOVED,r)}insert(e,t,i=!1){if(!this.length)return void this.push(t);e>this.length&&(e=this.length),i&&(this.blocks[e].holder.remove(),this.blocks[e].call(Go.REMOVED));const n=i?1:0;if(this.blocks.splice(e,n,t),e>0){const i=this.blocks[e-1];this.insertToDOM(t,"afterend",i)}else{const i=this.blocks[e+1];i?this.insertToDOM(t,"beforebegin",i):this.insertToDOM(t)}}replace(e,t){if(void 0===this.blocks[e])throw Error("Incorrect index");this.blocks[e].holder.replaceWith(t.holder),this.blocks[e]=t}insertMany(e,t){const i=new DocumentFragment;for(const t of e)i.appendChild(t.holder);if(this.length>0){if(t>0){const e=Math.min(t-1,this.length-1);this.blocks[e].holder.after(i)}else 0===t&&this.workingArea.prepend(i);this.blocks.splice(t,0,...e)}else this.blocks.push(...e),this.workingArea.appendChild(i);e.forEach((e=>e.call(Go.RENDERED)))}remove(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(Go.REMOVED),this.blocks.splice(e,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach((e=>e.call(Go.REMOVED))),this.blocks.length=0}insertAfter(e,t){const i=this.blocks.indexOf(e);this.insert(i+1,t)}get(e){return this.blocks[e]}indexOf(e){return this.blocks.indexOf(e)}insertToDOM(e,t,i){t?i.holder.insertAdjacentElement(t,e.holder):this.workingArea.appendChild(e.holder),e.call(Go.RENDERED)}composeBlockEvent(e,t){return new CustomEvent(e,{detail:t})}}const Wr="block-removed",Gr="block-added",Yr="block-changed";class Xr{constructor(){this.completed=Promise.resolve()}add(e){return new Promise(((t,i)=>{this.completed=this.completed.then(e).then(t).catch(i)}))}}class Kr extends Fo{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}get isAtStart(){const e=zo.get(),t=Do.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput);let i=e.focusNode;if(Do.isNativeInput(t))return 0===t.selectionEnd;if(!e.anchorNode)return!1;let n=i.textContent.search(/\S/);-1===n&&(n=0);let s=e.focusOffset;return i.nodeType!==Node.TEXT_NODE&&i.childNodes.length&&(i.childNodes[s]?(i=i.childNodes[s],s=0):(i=i.childNodes[s-1],s=i.textContent.length)),!(!Do.isLineBreakTag(t)&&!Do.isEmpty(t)||!this.getHigherLevelSiblings(i,"left").every((e=>{const t=Do.isLineBreakTag(e),i=1===e.children.length&&Do.isLineBreakTag(e.children[0]),n=t||i;return Do.isEmpty(e)&&!n}))||s!==n)||null===t||i===t&&s<=n}get isAtEnd(){const e=zo.get();let t=e.focusNode;const i=Do.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput,!0);if(Do.isNativeInput(i))return i.selectionEnd===i.value.length;if(!e.focusNode)return!1;let n=e.focusOffset;if(t.nodeType!==Node.TEXT_NODE&&t.childNodes.length&&(t.childNodes[n-1]?(t=t.childNodes[n-1],n=t.textContent.length):(t=t.childNodes[0],n=0)),Do.isLineBreakTag(i)||Do.isEmpty(i)){const e=this.getHigherLevelSiblings(t,"right");if(e.every(((t,i)=>i===e.length-1&&Do.isLineBreakTag(t)||Do.isEmpty(t)&&!Do.isLineBreakTag(t)))&&n===t.textContent.length)return!0}const s=i.textContent.replace(/\s+$/,"");return t===i&&n>=s.length}setToBlock(e,t=this.positions.DEFAULT,i=0){const{BlockManager:n}=this.Editor;let s;switch(t){case this.positions.START:s=e.firstInput;break;case this.positions.END:s=e.lastInput;break;default:s=e.currentInput}if(!s)return;const o=Do.getDeepestNode(s,t===this.positions.END),r=Do.getContentLength(o);switch(!0){case t===this.positions.START:i=0;break;case t===this.positions.END:case i>r:i=r}wo((()=>{this.set(o,i)}),20)(),n.setCurrentBlockByChildNode(e.holder),n.currentBlock.currentInput=s}setToInput(e,t=this.positions.DEFAULT,i=0){const{currentBlock:n}=this.Editor.BlockManager,s=Do.getDeepestNode(e);switch(t){case this.positions.START:this.set(s,0);break;case this.positions.END:this.set(s,Do.getContentLength(s));break;default:i&&this.set(s,i)}n.currentInput=e}set(e,t=0){const{top:i,bottom:n}=zo.setCursor(e,t),{innerHeight:s}=window;i<0&&window.scrollBy(0,i),n>s&&window.scrollBy(0,n-s)}setToTheLastBlock(){const e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{const e=this.Editor.BlockManager.insertAtEnd();this.setToBlock(e)}}extractFragmentFromCaretPosition(){const e=zo.get();if(e.rangeCount){const t=e.getRangeAt(0),i=this.Editor.BlockManager.currentBlock.currentInput;if(t.deleteContents(),i){if(Do.isNativeInput(i)){const e=i,t=document.createDocumentFragment(),n=e.value.substring(0,e.selectionStart),s=e.value.substring(e.selectionStart);return t.textContent=s,e.value=n,t}{const e=t.cloneRange();return e.selectNodeContents(i),e.setStart(t.endContainer,t.endOffset),e.extractContents()}}}}navigateNext(){const{BlockManager:e}=this.Editor,{currentBlock:t,nextContentfulBlock:i}=e,{nextInput:n}=t,s=this.isAtEnd;let o=i;if(!o&&!n){if(t.tool.isDefault||!s)return!1;o=e.insertAtEnd()}return!!s&&(n?this.setToInput(n,this.positions.START):this.setToBlock(o,this.positions.START),!0)}navigatePrevious(){const{currentBlock:e,previousContentfulBlock:t}=this.Editor.BlockManager;if(!e)return!1;const{previousInput:i}=e;return!(!t&&!i||!this.isAtStart||(i?this.setToInput(i,this.positions.END):this.setToBlock(t,this.positions.END),0))}createShadow(e){const t=document.createElement("span");t.classList.add(Kr.CSS.shadowCaret),e.insertAdjacentElement("beforeend",t)}restoreCaret(e){const t=e.querySelector(`.${Kr.CSS.shadowCaret}`);if(!t)return;(new zo).expandToTag(t);const i=document.createRange();i.selectNode(t),i.extractContents()}insertContentAtCaretPosition(e){const t=document.createDocumentFragment(),i=document.createElement("div"),n=zo.get(),s=zo.range;i.innerHTML=e,Array.from(i.childNodes).forEach((e=>t.appendChild(e))),0===t.childNodes.length&&t.appendChild(new Text);const o=t.lastChild;s.deleteContents(),s.insertNode(t);const r=document.createRange(),a=o.nodeType===Node.TEXT_NODE?o:o.firstChild;null!==a&&null!==a.textContent&&r.setStart(a,a.textContent.length),n.removeAllRanges(),n.addRange(r)}getHigherLevelSiblings(e,t){let i=e;const n=[];for(;i.parentNode&&"true"!==i.parentNode.contentEditable;)i=i.parentNode;const s="left"===t?"previousSibling":"nextSibling";for(;i[s];)i=i[s],n.push(i);return n}}const Qr=class extends Fo{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=e=>{try{const t=e.create({},{},!1);if(!1===e.pasteConfig)return void this.exceptionList.push(e.name);if(!fo(t.onPaste))return;this.getTagsConfig(e),this.getFilesConfig(e),this.getPatternsConfig(e)}catch(t){uo(`Paste handling for «${e.name}» Tool hasn't been set up because of the error`,"warn",t)}},this.handlePasteEvent=async e=>{const{BlockManager:t,Toolbar:i}=this.Editor,n=t.setCurrentBlockByChildNode(e.target);!n||this.isNativeBehaviour(e.target)&&!e.clipboardData.types.includes("Files")||n&&this.exceptionList.includes(n.name)||(e.preventDefault(),this.processDataTransfer(e.clipboardData),t.clearFocused(),i.close())}}async prepare(){this.processTools()}toggleReadOnly(e){e?this.unsetCallback():this.setCallback()}async processDataTransfer(e,t=!1){const{Tools:i}=this.Editor,n=e.types;if((n.includes?n.includes("Files"):n.contains("Files"))&&!bo(this.toolsFiles))return void await this.processFiles(e.files);const s=e.getData(this.MIME_TYPE),o=e.getData("text/plain");let r=e.getData("text/html");if(s)try{return void this.insertEditorJSData(JSON.parse(s))}catch{}t&&o.trim()&&r.trim()&&(r="<p>"+(r.trim()?r:o)+"</p>");const a=Object.keys(this.toolsTags).reduce(((e,t)=>(e[t.toLowerCase()]=this.toolsTags[t].sanitizationConfig??{},e)),{}),l=sr(r,Object.assign({},a,i.getAllInlineToolsSanitizeConfig(),{br:{}}));l.trim()&&l.trim()!==o&&Do.isHTMLString(l)?await this.processText(l,!0):await this.processText(o)}async processText(e,t=!1){const{Caret:i,BlockManager:n}=this.Editor,s=t?this.processHTML(e):this.processPlain(e);if(!s.length)return;if(1===s.length)return void(s[0].isBlock?this.processSingleBlock(s.pop()):this.processInlinePaste(s.pop()));const o=n.currentBlock&&n.currentBlock.tool.isDefault&&n.currentBlock.isEmpty;s.map((async(e,t)=>this.insertBlock(e,0===t&&o))),n.currentBlock&&i.setToBlock(n.currentBlock,i.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const e=this.Editor.Tools.blockTools;Array.from(e.values()).forEach(this.processTool)}collectTagNames(e){return go(e)?[e]:mo(e)?Object.keys(e):[]}getTagsConfig(e){if(!1===e.pasteConfig)return;const t=e.pasteConfig.tags||[],i=[];t.forEach((t=>{const n=this.collectTagNames(t);i.push(...n),n.forEach((i=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,i))return void uo(`Paste handler for «${e.name}» Tool on «${i}» tag is skipped because it is already used by «${this.toolsTags[i].tool.name}» Tool.`,"warn");const n=mo(t)?t[i]:null;this.toolsTags[i.toUpperCase()]={tool:e,sanitizationConfig:n}}))})),this.tagsByTool[e.name]=i.map((e=>e.toUpperCase()))}getFilesConfig(e){if(!1===e.pasteConfig)return;const{files:t={}}=e.pasteConfig;let{extensions:i,mimeTypes:n}=t;!i&&!n||(i&&!Array.isArray(i)&&(uo(`«extensions» property of the onDrop config for «${e.name}» Tool should be an array`),i=[]),n&&!Array.isArray(n)&&(uo(`«mimeTypes» property of the onDrop config for «${e.name}» Tool should be an array`),n=[]),n&&(n=n.filter((t=>!!function(e){return/^[-\w]+\/([-+\w]+|\*)$/.test(e)}(t)||(uo(`MIME type value «${t}» for the «${e.name}» Tool is not a valid MIME type`,"warn"),!1)))),this.toolsFiles[e.name]={extensions:i||[],mimeTypes:n||[]})}getPatternsConfig(e){!1===e.pasteConfig||!e.pasteConfig.patterns||bo(e.pasteConfig.patterns)||Object.entries(e.pasteConfig.patterns).forEach((([t,i])=>{i instanceof RegExp||uo(`Pattern ${i} for «${e.name}» Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:t,pattern:i,tool:e})}))}isNativeBehaviour(e){return Do.isNativeInput(e)}async processFiles(e){const{BlockManager:t}=this.Editor;let i;i=await Promise.all(Array.from(e).map((e=>this.processFile(e)))),i=i.filter((e=>!!e));const n=t.currentBlock.tool.isDefault&&t.currentBlock.isEmpty;i.forEach(((e,i)=>{t.paste(e.type,e.event,0===i&&n)}))}async processFile(e){const t=function(e){return e.name.split(".").pop()}(e),i=Object.entries(this.toolsFiles).find((([i,{mimeTypes:n,extensions:s}])=>{const[o,r]=e.type.split("/"),a=s.find((e=>e.toLowerCase()===t.toLowerCase())),l=n.find((e=>{const[t,i]=e.split("/");return t===o&&(i===r||"*"===i)}));return!!a||!!l}));if(!i)return;const[n]=i;return{event:this.composePasteEvent("file",{file:e}),type:n}}processHTML(e){const{Tools:t}=this.Editor,i=Do.make("DIV");return i.innerHTML=e,this.getNodes(i).map((e=>{let i,n=t.defaultTool,s=!1;switch(e.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:i=Do.make("div"),i.appendChild(e);break;case Node.ELEMENT_NODE:i=e,s=!0,this.toolsTags[i.tagName]&&(n=this.toolsTags[i.tagName].tool)}const{tags:o}=n.pasteConfig||{tags:[]},r=o.reduce(((e,t)=>(this.collectTagNames(t).forEach((i=>{const n=mo(t)?t[i]:null;e[i.toLowerCase()]=n||{}})),e)),{}),a=Object.assign({},r,n.baseSanitizeConfig);if("table"===i.tagName.toLowerCase()){const e=sr(i.outerHTML,a);i=Do.make("div",void 0,{innerHTML:e}).firstChild}else i.innerHTML=sr(i.innerHTML,a);const l=this.composePasteEvent("tag",{data:i});return{content:i,isBlock:s,tool:n.name,event:l}})).filter((e=>{const t=Do.isEmpty(e.content),i=Do.isSingleTag(e.content);return!t||i}))}processPlain(e){const{defaultBlock:t}=this.config;if(!e)return[];const i=t;return e.split(/\r?\n/).filter((e=>e.trim())).map((e=>{const t=Do.make("div");t.textContent=e;const n=this.composePasteEvent("tag",{data:t});return{content:t,tool:i,isBlock:!1,event:n}}))}async processSingleBlock(e){const{Caret:t,BlockManager:i}=this.Editor,{currentBlock:n}=i;n&&e.tool===n.name&&Do.containsOnlyInlineElements(e.content.innerHTML)?t.insertContentAtCaretPosition(e.content.innerHTML):this.insertBlock(e,(null==n?void 0:n.tool.isDefault)&&n.isEmpty)}async processInlinePaste(e){const{BlockManager:t,Caret:i}=this.Editor,{content:n}=e;if(t.currentBlock&&t.currentBlock.tool.isDefault&&n.textContent.length<Qr.PATTERN_PROCESSING_MAX_LENGTH){const e=await this.processPattern(n.textContent);if(e){const n=t.currentBlock&&t.currentBlock.tool.isDefault&&t.currentBlock.isEmpty,s=t.paste(e.tool,e.event,n);return void i.setToBlock(s,i.positions.END)}}if(t.currentBlock&&t.currentBlock.currentInput){const e=t.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,sr(n.innerHTML,e))}else this.insertBlock(e)}async processPattern(e){const t=this.toolsPatterns.find((t=>{const i=t.pattern.exec(e);return!!i&&e===i.shift()}));return t?{event:this.composePasteEvent("pattern",{key:t.key,data:e}),tool:t.tool.name}:void 0}insertBlock(e,t=!1){const{BlockManager:i,Caret:n}=this.Editor,{currentBlock:s}=i;let o;if(t&&s&&s.isEmpty)return o=i.paste(e.tool,e.event,!0),void n.setToBlock(o,n.positions.END);o=i.paste(e.tool,e.event),n.setToBlock(o,n.positions.END)}insertEditorJSData(e){const{BlockManager:t,Caret:i,Tools:n}=this.Editor;nr(e,(e=>n.blockTools.get(e).sanitizeConfig)).forEach((({tool:e,data:n},s)=>{let o=!1;0===s&&(o=t.currentBlock&&t.currentBlock.tool.isDefault&&t.currentBlock.isEmpty);const r=t.insert({tool:e,data:n,replace:o});i.setToBlock(r,i.positions.END)}))}processElementNode(e,t,i){const n=Object.keys(this.toolsTags),s=e,{tool:o}=this.toolsTags[s.tagName]||{},r=this.tagsByTool[null==o?void 0:o.name]||[],a=n.includes(s.tagName),l=Do.blockElements.includes(s.tagName.toLowerCase()),c=Array.from(s.children).some((({tagName:e})=>n.includes(e)&&!r.includes(e))),d=Array.from(s.children).some((({tagName:e})=>Do.blockElements.includes(e.toLowerCase())));return l||a||c?a&&!c||l&&!d&&!c?[...t,i,s]:void 0:(i.appendChild(s),[...t,i])}getNodes(e){const t=Array.from(e.childNodes);let i;const n=(e,t)=>{if(Do.isEmpty(t)&&!Do.isSingleTag(t))return e;const s=e[e.length-1];let o=new DocumentFragment;switch(s&&Do.isFragment(s)&&(o=e.pop()),t.nodeType){case Node.ELEMENT_NODE:if(i=this.processElementNode(t,e,o),i)return i;break;case Node.TEXT_NODE:return o.appendChild(t),[...e,o];default:return[...e,o]}return[...e,...Array.from(t.childNodes).reduce(n,[])]};return t.reduce(n,[])}composePasteEvent(e,t){return new CustomEvent(e,{detail:t})}};let Zr=Qr;Zr.PATTERN_PROCESSING_MAX_LENGTH=450;class Jr extends Fo{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(e,t){const i=document.elementFromPoint(e-window.pageXOffset,t-window.pageYOffset);i.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const n=[`.${Yo.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],s=i.closest("."+this.Editor.UI.CSS.editorWrapper),o=n.some((e=>!!i.closest(e)));!s||o||(this.mousedown=!0,this.startX=e,this.startY=t)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:e}=this.genHTML();this.listeners.on(e,"mousedown",(e=>{this.processMouseDown(e)}),!1),this.listeners.on(document.body,"mousemove",ko((e=>{this.processMouseMove(e)}),10),{passive:!0}),this.listeners.on(document.body,"mouseleave",(()=>{this.processMouseLeave()})),this.listeners.on(window,"scroll",ko((e=>{this.processScroll(e)}),10),{passive:!0}),this.listeners.on(document.body,"mouseup",(()=>{this.processMouseUp()}),!1)}processMouseDown(e){e.button===this.MAIN_MOUSE_BUTTON&&(null!==e.target.closest(Do.allInputsSelector)||this.startSelection(e.pageX,e.pageY))}processMouseMove(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(e){this.changingRectangle(e)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(e){this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),this.inScrollZone?this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0):this.isScrolling=!1}genHTML(){const{UI:e}=this.Editor,t=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),i=Do.make("div",Jr.CSS.overlay,{}),n=Do.make("div",Jr.CSS.overlayContainer,{}),s=Do.make("div",Jr.CSS.rect,{});return n.appendChild(s),i.appendChild(n),t.appendChild(i),this.overlayRectangle=s,{container:t,overlay:i}}scrollVertical(e){if(!this.inScrollZone||!this.mousedown)return;const t=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-t,setTimeout((()=>{this.scrollVertical(e)}),0)}changingRectangle(e){if(!this.mousedown)return;void 0!==e.pageY&&(this.mouseX=e.pageX,this.mouseY=e.pageY);const{rightPos:t,leftPos:i,index:n}=this.genInfoForMouseSelection(),s=this.startX>t&&this.mouseX>t,o=this.startX<i&&this.mouseX<i;this.rectCrossesBlocks=!(s||o),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),void 0!==n&&(this.trySelectNextBlock(n),this.inverseSelection(),zo.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=this.startX-window.pageXOffset+"px",this.overlayRectangle.style.top=this.startY-window.pageYOffset+"px",this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e)for(const e of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(e);if(!this.rectCrossesBlocks&&e)for(const e of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(e)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=this.startY-window.pageYOffset+"px",this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=this.mouseY-window.pageYOffset+"px"),this.mouseX>=this.startX?(this.overlayRectangle.style.left=this.startX-window.pageXOffset+"px",this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=this.mouseX-window.pageXOffset+"px")}genInfoForMouseSelection(){const e=document.body.offsetWidth/2,t=this.mouseY-window.pageYOffset,i=document.elementFromPoint(e,t),n=this.Editor.BlockManager.getBlockByChildNode(i);let s;void 0!==n&&(s=this.Editor.BlockManager.blocks.findIndex((e=>e.holder===n.holder)));const o=this.Editor.BlockManager.lastBlock.holder.querySelector("."+Yo.CSS.content),r=Number.parseInt(window.getComputedStyle(o).width,10)/2;return{index:s,leftPos:e-r,rightPos:e+r}}addBlockInSelection(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}trySelectNextBlock(e){const t=this.stackOfSelected[this.stackOfSelected.length-1]===e,i=this.stackOfSelected.length;if(t)return;const n=this.stackOfSelected[i-1]-this.stackOfSelected[i-2]>0;let s=0;i>1&&(s=n?1:-1);const o=e>this.stackOfSelected[i-1]&&1===s,r=e<this.stackOfSelected[i-1]&&-1===s,a=!(o||r||0===s);if(!a&&(e>this.stackOfSelected[i-1]||void 0===this.stackOfSelected[i-1])){let t=this.stackOfSelected[i-1]+1||e;for(;t<=e;t++)this.addBlockInSelection(t);return}if(!a&&e<this.stackOfSelected[i-1]){for(let t=this.stackOfSelected[i-1]-1;t>=e;t--)this.addBlockInSelection(t);return}if(!a)return;let l,c=i-1;for(l=e>this.stackOfSelected[i-1]?()=>e>this.stackOfSelected[c]:()=>e<this.stackOfSelected[c];l();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[c]),this.stackOfSelected.pop(),c--}}var ea={},ta={get exports(){return ea},set exports(e){ea=e}};!function(e,t){window,e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i(i.s=4)}([function(e,t,i){var n=i(1),s=i(2);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]),n(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,i){var n,s,o=(s={},function(e){if(void 0===s[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch{t=null}s[e]=t}return s[e]}),r=[];function a(e){for(var t=-1,i=0;i<r.length;i++)if(r[i].identifier===e){t=i;break}return t}function l(e,t){for(var i={},n=[],s=0;s<e.length;s++){var o=e[s],l=t.base?o[0]+t.base:o[0],c=i[l]||0,d="".concat(l," ").concat(c);i[l]=c+1;var u=a(d),h={css:o[1],media:o[2],sourceMap:o[3]};-1!==u?(r[u].references++,r[u].updater(h)):r.push({identifier:d,updater:g(h,t),references:1}),n.push(d)}return n}function c(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var s=i.nc;s&&(n.nonce=s)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var r=o(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}return t}var d,u=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function h(e,t,i,n){var s=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=u(t,s);else{var o=document.createTextNode(s),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(o,r[t]):e.appendChild(o)}}function p(e,t,i){var n=i.css,s=i.media,o=i.sourceMap;if(s?e.setAttribute("media",s):e.removeAttribute("media"),o&&btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var f=null,m=0;function g(e,t){var i,n,s;if(t.singleton){var o=m++;i=f||(f=c(t)),n=h.bind(null,i,o,!1),s=h.bind(null,i,o,!0)}else i=c(t),n=p.bind(null,i,t),s=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(i)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else s()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===n&&(n=!(!(window&&document&&document.all)||window.atob)),n));var i=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<i.length;n++){var s=a(i[n]);r[s].references--}for(var o=l(e,t),c=0;c<i.length;c++){var d=a(i[c]);0===r[d].references&&(r[d].updater(),r.splice(d,1))}i=o}}}},function(e,t,i){(t=i(3)(!1)).push([e.i,".ce-paragraph {\n    line-height: 1.6em;\n    outline: none;\n}\n\n.ce-paragraph[data-placeholder]:empty::before{\n  content: attr(data-placeholder);\n  color: #707684;\n  font-weight: normal;\n  opacity: 0;\n}\n\n/** Show placeholder at the first paragraph if Editor is empty */\n.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {\n  opacity: 1;\n}\n\n.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,\n.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {\n  opacity: 0;\n}\n\n.ce-paragraph p:first-of-type{\n    margin-top: 0;\n}\n\n.ce-paragraph p:last-of-type{\n    margin-bottom: 0;\n}\n",""]),e.exports=t},function(e,t,i){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i,n,s,o=e[1]||"",r=e[3];if(!r)return o;if(t&&"function"==typeof btoa){var a=(i=r,n=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),"/*# ".concat(s," */")),l=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[o].concat(l).concat([a]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(i,"}"):i})).join("")},t.i=function(e,i,n){"string"==typeof e&&(e=[[null,e,""]]);var s={};if(n)for(var o=0;o<this.length;o++){var r=this[o][0];null!=r&&(s[r]=!0)}for(var a=0;a<e.length;a++){var l=[].concat(e[a]);n&&s[l[0]]||(i&&(l[2]?l[2]="".concat(i," and ").concat(l[2]):l[2]=i),t.push(l))}},t}},function(e,t,i){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}i.r(t),i.d(t,"default",(function(){return o})),i(0);var o=function(){function e(t){var i=t.data,n=t.config,s=t.api,o=t.readOnly;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.api=s,this.readOnly=o,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=n.placeholder?n.placeholder:e.DEFAULT_PLACEHOLDER,this._data={},this._element=null,this._preserveBlank=void 0!==n.preserveBlank&&n.preserveBlank,this.data=i}return s(e,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}}]),s(e,[{key:"onKeyUp",value:function(e){"Backspace"!==e.code&&"Delete"!==e.code||""===this._element.textContent&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var e=document.createElement("DIV");return e.classList.add(this._CSS.wrapper,this._CSS.block),e.contentEditable=!1,e.dataset.placeholder=this.api.i18n.t(this._placeholder),this.readOnly||(e.contentEditable=!0,e.addEventListener("keyup",this.onKeyUp)),e}},{key:"render",value:function(){return null===this._element&&(this._element=this.drawView()),this.hydrate(),this._element}},{key:"merge",value:function(e){var t={text:this.data.text+e.text};this.data=t}},{key:"validate",value:function(e){return!(""===e.text.trim()&&!this._preserveBlank)}},{key:"save",value:function(e){return{text:e.innerHTML}}},{key:"onPaste",value:function(e){var t={text:e.detail.data.innerHTML};this.data=t}},{key:"hydrate",value:function(){var e=this;window.requestAnimationFrame((function(){e._element.innerHTML=e._data.text||""}))}},{key:"data",get:function(){if(null!==this._element){var e=this._element.innerHTML;this._data.text=e}return this._data},set:function(e){this._data=e||{},null!==this._element&&this.hydrate()}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>',title:"Text"}}}]),e}()}]).default}(ta);const ia=no(ea);class na{constructor(){this.commandName="bold",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--bold"},this.nodes={button:void 0}}static get sanitize(){return{b:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+B"}}na.isInline=!0,na.title="Bold";class sa{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+I"}}sa.isInline=!0,sa.title="Italic";class oa{constructor({api:e}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=e.toolbar,this.inlineToolbar=e.inlineToolbar,this.notifier=e.notifier,this.i18n=e.i18n,this.selection=new zo}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=pr,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",(e=>{e.keyCode===this.ENTER_KEY&&this.enterPressed(e)})),this.nodes.input}surround(e){if(e){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const e=this.selection.findParentTag("A");if(e)return this.selection.expandToTag(e),this.unlink(),this.closeActions(),this.checkState(),void this.toolbar.close()}this.toggleActions()}checkState(){const e=this.selection.findParentTag("A");if(e){this.nodes.button.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const t=e.getAttribute("href");this.nodes.input.value="null"!==t?t:"",this.selection.save()}else this.nodes.button.innerHTML=pr,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!e}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(e=!1){this.nodes.input.classList.add(this.CSS.inputShowed),e&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(e=!0){if(this.selection.isFakeBackgroundEnabled){const e=new zo;e.save(),this.selection.restore(),this.selection.removeFakeBackground(),e.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",e&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(e){let t=this.nodes.input.value||"";return t.trim()?this.validateURL(t)?(t=this.prepareLink(t),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(t),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.selection.collapseToEnd(),void this.inlineToolbar.close()):(this.notifier.show({message:"Pasted link is not valid.",style:"error"}),void uo("Incorrect Link pasted","warn",t)):(this.selection.restore(),this.unlink(),e.preventDefault(),void this.closeActions())}validateURL(e){return!/\s/.test(e)}prepareLink(e){return e=e.trim(),this.addProtocol(e)}addProtocol(e){if(/^(\w+):(\/\/)?/.test(e))return e;const t=/^\/[^/\s]/.test(e),i="#"===e.substring(0,1),n=/^\/\/[^/\s]/.test(e);return!t&&!i&&!n&&(e="http://"+e),e}insertLink(e){const t=this.selection.findParentTag("A");t&&this.selection.expandToTag(t),document.execCommand(this.commandLink,!1,e)}unlink(){document.execCommand(this.commandUnlink)}}oa.isInline=!0,oa.title="Link";class ra{constructor({data:e,api:t}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=t,this.title=e.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=e.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const e=Do.make("div",this.CSS.wrapper),t=Do.make("div",this.CSS.info),i=Do.make("div",this.CSS.title,{textContent:this.title}),n=Do.make("div",this.CSS.subtitle,{textContent:this.subtitle});return e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>',t.appendChild(i),t.appendChild(n),e.appendChild(t),e}}ra.isReadOnlySupported=!0;class aa extends qr{constructor(){super(...arguments),this.type=Nr.Inline}get title(){return this.constructable[Hr.Title]}create(){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings})}}class la extends qr{constructor(){super(...arguments),this.type=Nr.Tune}create(e,t){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings,block:t,data:e})}}class ca extends Map{get blockTools(){const e=Array.from(this.entries()).filter((([,e])=>e.isBlock()));return new ca(e)}get inlineTools(){const e=Array.from(this.entries()).filter((([,e])=>e.isInline()));return new ca(e)}get blockTunes(){const e=Array.from(this.entries()).filter((([,e])=>e.isTune()));return new ca(e)}get internalTools(){const e=Array.from(this.entries()).filter((([,e])=>e.isInternal));return new ca(e)}get externalTools(){const e=Array.from(this.entries()).filter((([,e])=>!e.isInternal));return new ca(e)}}var da=Object.defineProperty,ua=Object.getOwnPropertyDescriptor,ha=(e,t,i,n)=>{for(var s,o=n>1?void 0:n?ua(t,i):t,r=e.length-1;r>=0;r--)(s=e[r])&&(o=(n?s(t,i,o):s(o))||o);return n&&o&&da(t,i,o),o};class pa extends qr{constructor(){super(...arguments),this.type=Nr.Block,this.inlineTools=new ca,this.tunes=new ca}create(e,t,i){return new this.constructable({data:e,block:t,readOnly:i,api:this.api.getMethodsForTool(this),config:this.settings})}get isReadOnlySupported(){return!0===this.constructable[zr.IsReadOnlySupported]}get isLineBreaksEnabled(){return this.constructable[zr.IsEnabledLineBreaks]}get toolbox(){const e=this.constructable[zr.Toolbox],t=this.config[Ur.Toolbox];if(!bo(e)&&!1!==t)return t?Array.isArray(e)?Array.isArray(t)?t.map(((t,i)=>{const n=e[i];return n?{...n,...t}:t})):[t]:Array.isArray(t)?t:[{...e,...t}]:Array.isArray(e)?e:[e]}get conversionConfig(){return this.constructable[zr.ConversionConfig]}get enabledInlineTools(){return this.config[Ur.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[Ur.EnabledBlockTunes]}get pasteConfig(){return this.constructable[zr.PasteConfig]??{}}get sanitizeConfig(){const e=super.sanitizeConfig,t=this.baseSanitizeConfig;if(bo(e))return t;const i={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const s=e[n];mo(s)?i[n]=Object.assign({},t,s):i[n]=s}return i}get baseSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach((t=>Object.assign(e,t.sanitizeConfig))),Array.from(this.tunes.values()).forEach((t=>Object.assign(e,t.sanitizeConfig))),e}}ha([Io],pa.prototype,"sanitizeConfig",1),ha([Io],pa.prototype,"baseSanitizeConfig",1);class fa{constructor(e,t,i){this.api=i,this.config=e,this.editorConfig=t}get(e){const{class:t,isInternal:i=!1,...n}=this.config[e];return new(this.getConstructor(t))({name:e,constructable:t,config:n,api:this.api,isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:i})}getConstructor(e){switch(!0){case e[Hr.IsInline]:return aa;case e[Vr.IsTune]:return la;default:return pa}}}class ma{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:hr,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),t=this.api.blocks.getBlockByIndex(e+1);if(!t)throw new Error("Unable to move Block down since it is already the last");const i=t.holder,n=i.getBoundingClientRect();let s=Math.abs(window.innerHeight-i.offsetHeight);n.top<window.innerHeight&&(s=window.scrollY+i.offsetHeight),window.scrollTo(0,s),this.api.blocks.move(e+1),this.api.toolbar.toggleBlockSettings(!0)}}ma.isTune=!0;class ga{constructor({api:e}){this.api=e}render(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}}ga.isTune=!0;class va{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),t=this.api.blocks.getBlockByIndex(e),i=this.api.blocks.getBlockByIndex(e-1);if(0===e||!t||!i)throw new Error("Unable to move Block up since it is already the first");const n=t.holder,s=i.holder,o=n.getBoundingClientRect(),r=s.getBoundingClientRect();let a;a=r.top>0?Math.abs(o.top)-Math.abs(r.top):Math.abs(o.top)+r.height,window.scrollBy(0,-1*a),this.api.blocks.move(e-1),this.api.toolbar.toggleBlockSettings(!0)}}va.isTune=!0;var ya=Object.defineProperty,ba=Object.getOwnPropertyDescriptor;class _a extends Fo{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new ca,this.toolsUnavailable=new ca}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=To({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||0===Object.keys(this.config.tools).length)throw Error("Can't start without tools");const e=this.prepareConfig();this.factory=new fa(e,this.config,this.Editor.API);const t=this.getListOfPrepareFunctions(e);if(0===t.length)return Promise.resolve();await async function(e,t=(()=>{}),i=(()=>{})){return e.reduce((async(e,n)=>(await e,async function(e,t,i){try{await e.function(e.data),await t(yo(e.data)?{}:e.data)}catch{i(yo(e.data)?{}:e.data)}}(n,t,i))),Promise.resolve())}(t,(e=>{this.toolPrepareMethodSuccess(e)}),(e=>{this.toolPrepareMethodFallback(e)})),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach((t=>{Object.assign(e,t.sanitizeConfig)})),e}destroy(){Object.values(this.available).forEach((async e=>{fo(e.reset)&&await e.reset()}))}get internalTools(){return{bold:{class:na,isInternal:!0},italic:{class:sa,isInternal:!0},link:{class:oa,isInternal:!0},paragraph:{class:ia,inlineToolbar:!0,isInternal:!0},stub:{class:ra,isInternal:!0},moveUp:{class:va,isInternal:!0},delete:{class:ga,isInternal:!0},moveDown:{class:ma,isInternal:!0}}}toolPrepareMethodSuccess(e){const t=this.factory.get(e.toolName);if(t.isInline()){const e=["render","surround","checkState"].filter((e=>!t.create()[e]));if(e.length)return uo(`Incorrect Inline Tool: ${t.name}. Some of required methods is not implemented %o`,"warn",e),void this.toolsUnavailable.set(t.name,t)}this.toolsAvailable.set(t.name,t)}toolPrepareMethodFallback(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}getListOfPrepareFunctions(e){const t=[];return Object.entries(e).forEach((([e,i])=>{t.push({function:fo(i.class.prepare)?i.class.prepare:()=>{},data:{toolName:e,config:i.config}})})),t}prepareBlockTools(){Array.from(this.blockTools.values()).forEach((e=>{this.assignInlineToolsToBlockTool(e),this.assignBlockTunesToBlockTool(e)}))}assignInlineToolsToBlockTool(e){if(!1!==this.config.inlineToolbar){if(!0===e.enabledInlineTools)return void(e.inlineTools=new ca(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map((e=>[e,this.inlineTools.get(e)])):Array.from(this.inlineTools.entries())));Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new ca(e.enabledInlineTools.map((e=>[e,this.inlineTools.get(e)]))))}}assignBlockTunesToBlockTool(e){if(!1!==e.enabledBlockTunes){if(Array.isArray(e.enabledBlockTunes)){const t=new ca(e.enabledBlockTunes.map((e=>[e,this.blockTunes.get(e)])));return void(e.tunes=new ca([...t,...this.blockTunes.internalTools]))}if(Array.isArray(this.config.tunes)){const t=new ca(this.config.tunes.map((e=>[e,this.blockTunes.get(e)])));return void(e.tunes=new ca([...t,...this.blockTunes.internalTools]))}e.tunes=this.blockTunes.internalTools}}validateTools(){for(const e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;const t=this.config.tools[e];if(!fo(t)&&!fo(t.class))throw Error(`Tool «${e}» must be a constructor function or an object with function in the «class» property`)}}prepareConfig(){const e={};for(const t in this.config.tools)mo(this.config.tools[t])?e[t]=this.config.tools[t]:e[t]={class:this.config.tools[t]};return e}}((e,t,i,n)=>{for(var s,o=ba(t,i),r=e.length-1;r>=0;r--)(s=e[r])&&(o=s(t,i,o)||o);o&&ya(t,i,o)})([Io],_a.prototype,"getAllInlineToolsSanitizeConfig");const xa={BlocksAPI:class extends Fo{constructor(){super(...arguments),this.insert=(e=this.config.defaultBlock,t={},i={},n,s,o,r)=>new No(this.Editor.BlockManager.insert({id:r,tool:e,data:t,index:n,needToFocus:s,replace:o})),this.composeBlockData=async e=>{const t=this.Editor.Tools.blockTools.get(e);return new Yo({tool:t,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=async(e,t)=>{const{BlockManager:i}=this.Editor,n=i.getBlockById(e);if(void 0===n)throw new Error(`Block with id "${e}" not found`);return new No(await i.update(n,t))},this.convert=(e,t,i)=>{var n,s;const{BlockManager:o,Tools:r}=this.Editor,a=o.getBlockById(e);if(!a)throw new Error(`Block with id "${e}" not found`);const l=r.blockTools.get(a.name),c=r.blockTools.get(t);if(!c)throw new Error(`Block Tool with type "${t}" not found`);const d=void 0!==(null==(n=null==l?void 0:l.conversionConfig)?void 0:n.export),u=void 0!==(null==(s=c.conversionConfig)?void 0:s.import);if(!d||!u){const e=[!d&&So(a.name),!u&&So(t)].filter(Boolean).join(" and ");throw new Error(`Conversion from "${a.name}" to "${t}" is not possible. ${e} tool(s) should provide a "conversionConfig"`)}o.convert(a,t,i)},this.insertMany=(e,t=this.Editor.BlockManager.blocks.length-1)=>{this.validateIndex(t);const i=e.map((({id:e,type:t,data:i})=>this.Editor.BlockManager.composeBlock({id:e,tool:t||this.config.defaultBlock,data:i})));return this.Editor.BlockManager.insertMany(i,t),i.map((e=>new No(e)))}}get methods(){return{clear:()=>this.clear(),render:e=>this.render(e),renderFromHTML:e=>this.renderFromHTML(e),delete:e=>this.delete(e),swap:(e,t)=>this.swap(e,t),move:(e,t)=>this.move(e,t),getBlockByIndex:e=>this.getBlockByIndex(e),getById:e=>this.getById(e),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:e=>this.getBlockIndex(e),getBlocksCount:()=>this.getBlocksCount(),stretchBlock:(e,t=!0)=>this.stretchBlock(e,t),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,insertMany:this.insertMany,update:this.update,composeBlockData:this.composeBlockData,convert:this.convert}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(e){const t=this.Editor.BlockManager.getBlockById(e);if(t)return this.Editor.BlockManager.getBlockIndex(t);ho("There is no block with id `"+e+"`","warn")}getBlockByIndex(e){const t=this.Editor.BlockManager.getBlockByIndex(e);if(void 0!==t)return new No(t);ho("There is no block at index `"+e+"`","warn")}getById(e){const t=this.Editor.BlockManager.getBlockById(e);return void 0===t?(ho("There is no block with id `"+e+"`","warn"),null):new No(t)}swap(e,t){uo("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,t)}move(e,t){this.Editor.BlockManager.move(e,t)}delete(e=this.Editor.BlockManager.currentBlockIndex){try{const t=this.Editor.BlockManager.getBlockByIndex(e);this.Editor.BlockManager.removeBlock(t)}catch(e){return void ho(e,"warn")}0===this.Editor.BlockManager.blocks.length&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}async clear(){await this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}async render(e){if(void 0===e||void 0===e.blocks)throw new Error("Incorrect data passed to the render() method");this.Editor.ModificationsObserver.disable(),await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(e.blocks),this.Editor.ModificationsObserver.enable()}renderFromHTML(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}stretchBlock(e,t=!0){Ao(!0,"blocks.stretchBlock()","BlockAPI");const i=this.Editor.BlockManager.getBlockByIndex(e);i&&(i.stretched=t)}insertNewBlock(){uo("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}validateIndex(e){if("number"!=typeof e)throw new Error("Index should be a number");if(e<0)throw new Error("Index should be greater than or equal to 0");if(null===e)throw new Error("Index should be greater than or equal to 0")}},CaretAPI:class extends Fo{constructor(){super(...arguments),this.setToFirstBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>!!this.Editor.BlockManager.firstBlock&&(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,e,t),!0),this.setToLastBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>!!this.Editor.BlockManager.lastBlock&&(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,e,t),!0),this.setToPreviousBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>!!this.Editor.BlockManager.previousBlock&&(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,e,t),!0),this.setToNextBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>!!this.Editor.BlockManager.nextBlock&&(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,e,t),!0),this.setToBlock=(e,t=this.Editor.Caret.positions.DEFAULT,i=0)=>!!this.Editor.BlockManager.blocks[e]&&(this.Editor.Caret.setToBlock(this.Editor.BlockManager.blocks[e],t,i),!0),this.focus=(e=!1)=>e?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}},EventsAPI:class extends Fo{get methods(){return{emit:(e,t)=>this.emit(e,t),off:(e,t)=>this.off(e,t),on:(e,t)=>this.on(e,t)}}on(e,t){this.eventsDispatcher.on(e,t)}emit(e,t){this.eventsDispatcher.emit(e,t)}off(e,t){this.eventsDispatcher.off(e,t)}},I18nAPI:Xo,API:class extends Fo{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(e){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e)})}},InlineToolbarAPI:class extends Fo{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}},ListenersAPI:class extends Fo{get methods(){return{on:(e,t,i,n)=>this.on(e,t,i,n),off:(e,t,i,n)=>this.off(e,t,i,n),offById:e=>this.offById(e)}}on(e,t,i,n){return this.listeners.on(e,t,i,n)}off(e,t,i,n){this.listeners.off(e,t,i,n)}offById(e){this.listeners.offById(e)}},NotifierAPI:class extends Fo{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.notifier=new Jo}get methods(){return{show:e=>this.show(e)}}show(e){return this.notifier.show(e)}},ReadOnlyAPI:class extends Fo{get methods(){const e=()=>this.isEnabled;return{toggle:e=>this.toggle(e),get isEnabled(){return e()}}}toggle(e){return this.Editor.ReadOnly.toggle(e)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}},SanitizerAPI:class extends Fo{get methods(){return{clean:(e,t)=>this.clean(e,t)}}clean(e,t){return sr(e,t)}},SaverAPI:class extends Fo{get methods(){return{save:()=>this.save()}}save(){const e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(ho(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}},SelectionAPI:class extends Fo{get methods(){return{findParentTag:(e,t)=>this.findParentTag(e,t),expandToTag:e=>this.expandToTag(e)}}findParentTag(e,t){return(new zo).findParentTag(e,t)}expandToTag(e){(new zo).expandToTag(e)}},StylesAPI:class extends Fo{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}},ToolbarAPI:class extends Fo{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:e=>this.toggleBlockSettings(e),toggleToolbox:e=>this.toggleToolbox(e)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(e){-1!==this.Editor.BlockManager.currentBlockIndex?e??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close():ho("Could't toggle the Toolbar because there is no block selected ","warn")}toggleToolbox(e){-1!==this.Editor.BlockManager.currentBlockIndex?e??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close():ho("Could't toggle the Toolbox because there is no block selected ","warn")}},TooltipAPI:class extends Fo{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.tooltip=new dr}destroy(){this.tooltip.destroy()}get methods(){return{show:(e,t,i)=>this.show(e,t,i),hide:()=>this.hide(),onHover:(e,t,i)=>this.onHover(e,t,i)}}show(e,t,i){this.tooltip.show(e,t,i)}hide(){this.tooltip.hide()}onHover(e,t,i){this.tooltip.onHover(e,t,i)}},UiAPI:class extends Fo{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}},BlockSettings:class extends Fo{constructor(){super(...arguments),this.opened=!1,this.selection=new zo,this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var e;return null==(e=this.popover)?void 0:e.flipper}make(){this.nodes.wrapper=Do.make("div",[this.CSS.settings])}destroy(){this.removeAllNodes()}open(e=this.Editor.BlockManager.currentBlock){this.opened=!0,this.selection.save(),e.selected=!0,this.Editor.BlockSelection.clearCache();const[t,i]=e.getTunes();this.eventsDispatcher.emit(this.events.opened),this.popover=new Tr({searchable:!0,items:t.map((e=>this.resolveTuneAliases(e))),customContent:i,customContentFlippableItems:this.getControls(i),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:jo.ui(ur.ui.popover,"Nothing found"),search:jo.ui(ur.ui.popover,"Filter")}}),this.popover.on(kr.Close,this.onPopoverClose),this.nodes.wrapper.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}close(){this.opened=!1,zo.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&(this.Editor.BlockManager.currentBlock.selected=!1),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(kr.Close,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null)}getControls(e){const{StylesAPI:t}=this.Editor,i=e.querySelectorAll(`.${t.classes.settingsButton}, ${Do.allInputsSelector}`);return Array.from(i)}resolveTuneAliases(e){const t=function(e,t){const i={};return Object.keys(e).forEach((n=>{const s=t[n];void 0!==s?i[s]=e[n]:i[n]=e[n]})),i}(e,{label:"title"});return e.confirmation&&(t.confirmation=this.resolveTuneAliases(e.confirmation)),t}},ConversionToolbar:Cr,Toolbar:class extends Fo{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.toolboxInstance=null,this.tooltip=new dr}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){var e;return{opened:null==(e=this.toolboxInstance)?void 0:e.opened,close:()=>{var e;null==(e=this.toolboxInstance)||e.close()},open:()=>{null!==this.toolboxInstance?(this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()):uo("toolbox.open() called before initialization is finished","warn")},toggle:()=>{null!==this.toolboxInstance?this.toolboxInstance.toggle():uo("toolbox.toggle() called before initialization is finished","warn")},hasFocus:()=>{var e;return null==(e=this.toolboxInstance)?void 0:e.hasFocus()}}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):window.requestIdleCallback((()=>{this.drawUI(),this.enableModuleBindings()}),{timeout:2e3})}moveAndOpen(e=this.Editor.BlockManager.currentBlock){if(null===this.toolboxInstance)return void uo("Can't open Toolbar since Editor initialization is not finished yet","warn");if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!e)return;this.hoveredBlock=e;const t=e.holder,{isMobile:i}=this.Editor.UI,n=e.pluginsContent,s=window.getComputedStyle(n),o=parseInt(s.paddingTop,10),r=t.offsetHeight;let a;a=i?t.offsetTop+r:t.offsetTop+o,this.nodes.wrapper.style.top=`${Math.floor(a)}px`,1===this.Editor.BlockManager.blocks.length&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){var e;this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),null==(e=this.toolboxInstance)||e.close(),this.Editor.BlockSettings.close())}open(e=!0){wo((()=>{this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),e?this.blockActions.show():this.blockActions.hide()}),50)()}make(){this.nodes.wrapper=Do.make("div",this.CSS.toolbar),["content","actions"].forEach((e=>{this.nodes[e]=Do.make("div",this.CSS[e])})),Do.append(this.nodes.wrapper,this.nodes.content),Do.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=Do.make("div",this.CSS.plusButton,{innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>'}),Do.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",(()=>{this.tooltip.hide(!0),this.plusButtonClicked()}),!1);const e=Do.make("div");e.appendChild(document.createTextNode(jo.ui(ur.ui.toolbar.toolbox,"Add"))),e.appendChild(Do.make("div",this.CSS.plusButtonShortcut,{textContent:"⇥ Tab"})),this.tooltip.onHover(this.nodes.plusButton,e,{hidingDelay:400}),this.nodes.settingsToggler=Do.make("span",this.CSS.settingsToggler,{innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>'}),Do.append(this.nodes.actions,this.nodes.settingsToggler),this.tooltip.onHover(this.nodes.settingsToggler,jo.ui(ur.ui.blockTunes.toggler,"Click to tune"),{hidingDelay:400}),Do.append(this.nodes.actions,this.makeToolbox()),Do.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),Do.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new Br({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:jo.ui(ur.ui.popover,"Filter"),nothingFound:jo.ui(ur.ui.popover,"Nothing found")}}),this.toolboxInstance.on(Lr.Opened,(()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)})),this.toolboxInstance.on(Lr.Closed,(()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)})),this.toolboxInstance.on(Lr.BlockAdded,(({block:e})=>{const{BlockManager:t,Caret:i}=this.Editor,n=t.getBlockById(e.id);0===n.inputs.length&&(n===t.lastBlock?(t.insertAtEnd(),i.setToBlock(t.lastBlock)):i.setToBlock(t.nextBlock))})),this.toolboxInstance.make()}plusButtonClicked(){var e;this.Editor.BlockManager.currentBlock=this.hoveredBlock,null==(e=this.toolboxInstance)||e.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",(e=>{var t;e.stopPropagation(),this.settingsTogglerClicked(),null!=(t=this.toolboxInstance)&&t.opened&&this.toolboxInstance.close(),this.tooltip.hide(!0)}),!0),Mo()||this.eventsDispatcher.on(Rr,(e=>{var t;this.Editor.BlockSettings.opened||null!=(t=this.toolboxInstance)&&t.opened||this.moveAndOpen(e.block)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy(),this.tooltip.destroy()}},InlineToolbar:class extends Fo{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.CSS={inlineToolbar:"ce-inline-toolbar",inlineToolbarShowed:"ce-inline-toolbar--showed",inlineToolbarLeftOriented:"ce-inline-toolbar--left-oriented",inlineToolbarRightOriented:"ce-inline-toolbar--right-oriented",inlineToolbarShortcut:"ce-inline-toolbar__shortcut",buttonsWrapper:"ce-inline-toolbar__buttons",actionsWrapper:"ce-inline-toolbar__actions",inlineToolButton:"ce-inline-tool",inputField:"cdx-input",focusedButton:"ce-inline-tool--focused",conversionToggler:"ce-inline-toolbar__dropdown",conversionTogglerArrow:"ce-inline-toolbar__dropdown-arrow",conversionTogglerHidden:"ce-inline-toolbar__dropdown--hidden",conversionTogglerContent:"ce-inline-toolbar__dropdown-content",togglerAndButtonsWrapper:"ce-inline-toolbar__toggler-and-button-wrapper"},this.opened=!1,this.toolbarVerticalMargin=Mo()?20:6,this.buttonsList=null,this.width=0,this.flipper=null,this.tooltip=new dr}toggleReadOnly(e){e?(this.destroy(),this.Editor.ConversionToolbar.destroy()):window.requestIdleCallback((()=>{this.make()}),{timeout:2e3})}tryToShow(e=!1,t=!0){this.allowedToShow()?(this.move(),this.open(t),this.Editor.Toolbar.close()):e&&this.close()}move(){const e=zo.rect,t=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),i={x:e.x-t.left,y:e.y+e.height-t.top+this.toolbarVerticalMargin};e.width&&(i.x+=Math.floor(e.width/2));const n=i.x-this.width/2,s=i.x+this.width/2;this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarLeftOriented,n<this.Editor.UI.contentRect.left),this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarRightOriented,s>this.Editor.UI.contentRect.right),this.nodes.wrapper.style.left=Math.floor(i.x)+"px",this.nodes.wrapper.style.top=Math.floor(i.y)+"px"}close(){this.opened&&(this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed),Array.from(this.toolsInstances.entries()).forEach((([e,t])=>{const i=this.getToolShortcut(e);i&&Mr.remove(this.Editor.UI.nodes.redactor,i),fo(t.clear)&&t.clear()})),this.opened=!1,this.flipper.deactivate(),this.Editor.ConversionToolbar.close()))}open(e=!0){if(this.opened)return;this.addToolsFiltered(),this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed),this.buttonsList=this.nodes.buttons.querySelectorAll(`.${this.CSS.inlineToolButton}`),this.opened=!0,e&&this.Editor.ConversionToolbar.hasTools()?this.setConversionTogglerContent():this.nodes.conversionToggler.hidden=!0;let t=Array.from(this.buttonsList);t.unshift(this.nodes.conversionToggler),t=t.filter((e=>!e.hidden)),this.flipper.activate(t)}containsNode(e){return this.nodes.wrapper.contains(e)}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes(),this.tooltip.destroy()}make(){this.nodes.wrapper=Do.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.togglerAndButtonsWrapper=Do.make("div",this.CSS.togglerAndButtonsWrapper),this.nodes.buttons=Do.make("div",this.CSS.buttonsWrapper),this.nodes.actions=Do.make("div",this.CSS.actionsWrapper),this.listeners.on(this.nodes.wrapper,"mousedown",(e=>{e.target.closest(`.${this.CSS.actionsWrapper}`)||e.preventDefault()})),Do.append(this.nodes.wrapper,[this.nodes.togglerAndButtonsWrapper,this.nodes.actions]),Do.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),this.addConversionToggler(),Do.append(this.nodes.togglerAndButtonsWrapper,this.nodes.buttons),this.prepareConversionToolbar(),window.requestAnimationFrame((()=>{this.recalculateWidth()})),this.enableFlipper()}allowedToShow(){const e=zo.get(),t=zo.text;if(!e||!e.anchorNode||e.isCollapsed||t.length<1)return!1;const i=Do.isElement(e.anchorNode)?e.anchorNode:e.anchorNode.parentElement;if(e&&["IMG","INPUT"].includes(i.tagName)||null===i.closest('[contenteditable="true"]'))return!1;const n=this.Editor.BlockManager.getBlock(e.anchorNode);return!!n&&0!==n.tool.inlineTools.size}recalculateWidth(){this.width=this.nodes.wrapper.offsetWidth}addConversionToggler(){this.nodes.conversionToggler=Do.make("div",this.CSS.conversionToggler),this.nodes.conversionTogglerContent=Do.make("div",this.CSS.conversionTogglerContent);const e=Do.make("div",this.CSS.conversionTogglerArrow,{innerHTML:hr});this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent),this.nodes.conversionToggler.appendChild(e),this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler),this.listeners.on(this.nodes.conversionToggler,"click",(()=>{this.Editor.ConversionToolbar.toggle((e=>{!e&&this.opened?this.flipper.activate():this.opened&&this.flipper.deactivate()}))})),!1===Mo()&&this.tooltip.onHover(this.nodes.conversionToggler,jo.ui(ur.ui.inlineToolbar.converter,"Convert to"),{placement:"top",hidingDelay:100})}async setConversionTogglerContent(){const{BlockManager:e}=this.Editor,{currentBlock:t}=e,i=t.name,n=t.tool.conversionConfig,s=n&&n.export;this.nodes.conversionToggler.hidden=!s,this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden,!s);const o=await t.getActiveToolboxEntry()||{};this.nodes.conversionTogglerContent.innerHTML=o.icon||o.title||So(i)}prepareConversionToolbar(){const e=this.Editor.ConversionToolbar.make();Do.append(this.nodes.wrapper,e)}addToolsFiltered(){const e=zo.get(),t=this.Editor.BlockManager.getBlock(e.anchorNode);this.nodes.buttons.innerHTML="",this.nodes.actions.innerHTML="",this.toolsInstances=new Map,Array.from(t.tool.inlineTools.values()).forEach((e=>{this.addTool(e)})),this.recalculateWidth()}addTool(e){const t=e.create(),i=t.render();if(!i)return void uo("Render method must return an instance of Node","warn",e.name);if(i.dataset.tool=e.name,this.nodes.buttons.appendChild(i),this.toolsInstances.set(e.name,t),fo(t.renderActions)){const e=t.renderActions();this.nodes.actions.appendChild(e)}this.listeners.on(i,"click",(e=>{this.toolClicked(t),e.preventDefault()}));const n=this.getToolShortcut(e.name);if(n)try{this.enableShortcuts(t,n)}catch{}const s=Do.make("div"),o=jo.t(ur.toolNames,e.title||So(e.name));s.appendChild(Do.text(o)),n&&s.appendChild(Do.make("div",this.CSS.inlineToolbarShortcut,{textContent:Co(n)})),!1===Mo()&&this.tooltip.onHover(i,s,{placement:"top",hidingDelay:100}),t.checkState(zo.get())}getToolShortcut(e){const{Tools:t}=this.Editor,i=t.inlineTools.get(e),n=t.internal.inlineTools;return Array.from(n.keys()).includes(e)?this.inlineTools[e][Fr.Shortcut]:i.shortcut}enableShortcuts(e,t){Mr.add({name:t,handler:t=>{const{currentBlock:i}=this.Editor.BlockManager;i&&i.tool.enabledInlineTools&&(t.preventDefault(),this.toolClicked(e))},on:this.Editor.UI.nodes.redactor})}toolClicked(e){const t=zo.range;e.surround(t),this.checkToolsState(),void 0!==e.renderActions&&this.flipper.deactivate()}checkToolsState(){this.toolsInstances.forEach((e=>{e.checkState(zo.get())}))}get inlineTools(){const e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach((([t,i])=>{e[t]=i.create()})),e}enableFlipper(){this.flipper=new vr({focusedItemClass:this.CSS.focusedButton,allowedKeys:[ro,9]})}},BlockEvents:class extends Fo{keydown(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case 8:this.backspace(e);break;case 46:this.delete(e);break;case ro:this.enter(e);break;case lo:case 39:this.arrowRightAndDown(e);break;case ao:case 37:this.arrowLeftAndUp(e);break;case 9:this.tabPressed(e)}}beforeKeydownProcessing(e){this.needToolbarClosing(e)&&_o(e.keyCode)&&(this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||(this.Editor.BlockManager.clearFocused(),this.Editor.BlockSelection.clearSelection(e)))}keyup(e){e.shiftKey||this.Editor.UI.checkEmptiness()}tabPressed(e){this.Editor.BlockSelection.clearSelection(e);const{BlockManager:t,InlineToolbar:i,ConversionToolbar:n}=this.Editor,s=t.currentBlock;if(!s)return;const o=s.isEmpty,r=s.tool.isDefault&&o,a=!o&&n.opened,l=!o&&!zo.isCollapsed&&i.opened;r?this.activateToolbox():!a&&!l&&this.activateBlockSettings()}dragOver(e){this.Editor.BlockManager.getBlockByChildNode(e.target).dropTarget=!0}dragLeave(e){this.Editor.BlockManager.getBlockByChildNode(e.target).dropTarget=!1}handleCommandC(e){const{BlockSelection:t}=this.Editor;t.anyBlockSelected&&t.copySelectedBlocks(e)}handleCommandX(e){const{BlockSelection:t,BlockManager:i,Caret:n}=this.Editor;t.anyBlockSelected&&t.copySelectedBlocks(e).then((()=>{const s=i.removeSelectedBlocks(),o=i.insertDefaultBlockAtIndex(s,!0);n.setToBlock(o,n.positions.START),t.clearSelection(e)}))}enter(e){const{BlockManager:t,UI:i}=this.Editor;if(t.currentBlock.tool.isLineBreaksEnabled||i.someToolbarOpened&&i.someFlipperButtonFocused||e.shiftKey)return;let n=this.Editor.BlockManager.currentBlock;this.Editor.Caret.isAtStart&&!this.Editor.BlockManager.currentBlock.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):n=this.Editor.Caret.isAtEnd?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(n),this.Editor.Toolbar.moveAndOpen(n),e.preventDefault()}backspace(e){const{BlockManager:t,Caret:i}=this.Editor,{currentBlock:n,previousBlock:s}=t;if(zo.isCollapsed&&i.isAtStart)if(e.preventDefault(),this.Editor.Toolbar.close(),n.currentInput===n.firstInput){if(null!==s)if(s.isEmpty)t.removeBlock(s);else if(n.isEmpty){t.removeBlock(n);const e=t.currentBlock;i.setToBlock(e,i.positions.END)}else Wo(n,s)?this.mergeBlocks(s,n):i.setToBlock(s,i.positions.END)}else i.navigatePrevious()}delete(e){const{BlockManager:t,Caret:i}=this.Editor,{currentBlock:n,nextBlock:s}=t;if(zo.isCollapsed&&i.isAtEnd)if(e.preventDefault(),this.Editor.Toolbar.close(),n.currentInput===n.lastInput){if(null!==s){if(!s.isEmpty)return n.isEmpty?(t.removeBlock(n),void i.setToBlock(s,i.positions.START)):void(Wo(n,s)?this.mergeBlocks(n,s):i.setToBlock(s,i.positions.START));t.removeBlock(s)}}else i.navigateNext()}mergeBlocks(e,t){const{BlockManager:i,Caret:n,Toolbar:s}=this.Editor;n.createShadow(e.pluginsContent),i.mergeBlocks(e,t).then((()=>{window.requestAnimationFrame((()=>{n.restoreCaret(e.pluginsContent),e.pluginsContent.normalize(),s.close()}))}))}arrowRightAndDown(e){const t=vr.usedKeys.includes(e.keyCode)&&(!e.shiftKey||9===e.keyCode);if(this.Editor.UI.someToolbarOpened&&t)return;this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();const i=this.Editor.Caret.isAtEnd||this.Editor.BlockSelection.anyBlockSelected;e.shiftKey&&e.keyCode===lo&&i?this.Editor.CrossBlockSelection.toggleBlockSelectedState():((e.keyCode===lo||39===e.keyCode&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious())?e.preventDefault():wo((()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()}),20)(),this.Editor.BlockSelection.clearSelection(e))}arrowLeftAndUp(e){if(this.Editor.UI.someToolbarOpened){if(vr.usedKeys.includes(e.keyCode)&&(!e.shiftKey||9===e.keyCode))return;this.Editor.UI.closeAllToolbars()}this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();const t=this.Editor.Caret.isAtStart||this.Editor.BlockSelection.anyBlockSelected;e.shiftKey&&e.keyCode===ao&&t?this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1):((e.keyCode===ao||37===e.keyCode&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext())?e.preventDefault():wo((()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()}),20)(),this.Editor.BlockSelection.clearSelection(e))}needToolbarClosing(e){const t=e.keyCode===ro&&this.Editor.Toolbar.toolbox.opened,i=e.keyCode===ro&&this.Editor.BlockSettings.opened,n=e.keyCode===ro&&this.Editor.InlineToolbar.opened,s=e.keyCode===ro&&this.Editor.ConversionToolbar.opened,o=9===e.keyCode;return!(e.shiftKey||o||t||i||n||s)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||(this.Editor.BlockManager.currentBlock.focused=!0,this.Editor.Toolbar.moveAndOpen()),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}},BlockManager:class extends Fo{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(e){this._currentBlockIndex=e}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(e){this.currentBlockIndex=this.getBlockIndex(e)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find((e=>!!e.inputs.length))}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find((e=>!!e.inputs.length))}get previousBlock(){return 0===this.currentBlockIndex?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every((e=>e.isEmpty))}prepare(){const e=new $r(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(e,{set:$r.set,get:$r.get}),this.listeners.on(document,"copy",(e=>this.Editor.BlockEvents.handleCommandC(e)))}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:e,data:t={},id:i,tunes:n={}}){const s=this.Editor.ReadOnly.isEnabled,o=this.Editor.Tools.blockTools.get(e),r=new Yo({id:i,data:t,tool:o,api:this.Editor.API,readOnly:s,tunesData:n},this.eventsDispatcher);return s||window.requestIdleCallback((()=>{this.bindBlockEvents(r)}),{timeout:2e3}),r}insert({id:e,tool:t=this.config.defaultBlock,data:i={},index:n,needToFocus:s=!0,replace:o=!1,tunes:r={}}={}){let a=n;void 0===a&&(a=this.currentBlockIndex+(o?0:1));const l=this.composeBlock({id:e,tool:t,data:i,tunes:r});return o&&this.blockDidMutated(Wr,this.getBlockByIndex(a),{index:a}),this._blocks.insert(a,l,o),this.blockDidMutated(Gr,l,{index:a}),s?this.currentBlockIndex=a:a<=this.currentBlockIndex&&this.currentBlockIndex++,l}insertMany(e,t=0){this._blocks.insertMany(e,t)}async update(e,t){const i=await e.data,n=this.composeBlock({id:e.id,tool:e.name,data:Object.assign({},i,t),tunes:e.tunes}),s=this.getBlockIndex(e);return this._blocks.replace(s,n),this.blockDidMutated(Yr,n,{index:s}),n}replace(e,t,i){const n=this.getBlockIndex(e);this.insert({tool:t,data:i,index:n,replace:!0})}paste(e,t,i=!1){const n=this.insert({tool:e,replace:i});try{n.call(Go.ON_PASTE,t)}catch(t){uo(`${e}: onPaste callback call is failed`,"error",t)}return n}insertDefaultBlockAtIndex(e,t=!1){const i=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=i,this.blockDidMutated(Gr,i,{index:e}),t?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,i}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(e,t){const i=await t.data;bo(i)||await e.mergeWith(i),this.removeBlock(t),this.currentBlockIndex=this._blocks.indexOf(e)}removeBlock(e,t=!0){return new Promise((i=>{const n=this._blocks.indexOf(e);if(!this.validateIndex(n))throw new Error("Can't find a Block to remove");e.destroy(),this._blocks.remove(n),this.blockDidMutated(Wr,e,{index:n}),this.currentBlockIndex>=n&&this.currentBlockIndex--,this.blocks.length?0===n&&(this.currentBlockIndex=0):(this.currentBlockIndex=-1,t&&this.insert()),i()}))}removeSelectedBlocks(){let e;for(let t=this.blocks.length-1;t>=0;t--)this.blocks[t].selected&&(this.removeBlock(this.blocks[t]),e=t);return e}removeAllBlocks(){for(let e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.currentBlockIndex=-1,this.insert(),this.currentBlock.firstInput.focus()}split(){const e=this.Editor.Caret.extractFragmentFromCaretPosition(),t=Do.make("div");t.appendChild(e);const i={text:Do.isEmpty(t)?"":t.innerHTML};return this.insert({data:i})}getBlockByIndex(e){return-1===e&&(e=this._blocks.length-1),this._blocks[e]}getBlockIndex(e){return this._blocks.indexOf(e)}getBlockById(e){return this._blocks.array.find((t=>t.id===e))}getBlock(e){Do.isElement(e)||(e=e.parentNode);const t=this._blocks.nodes,i=e.closest(`.${Yo.CSS.wrapper}`),n=t.indexOf(i);if(n>=0)return this._blocks[n]}highlightCurrentNode(){this.clearFocused(),this.currentBlock.focused=!0}clearFocused(){this.blocks.forEach((e=>{e.focused=!1}))}setCurrentBlockByChildNode(e){Do.isElement(e)||(e=e.parentNode);const t=e.closest(`.${Yo.CSS.wrapper}`);if(!t)return;const i=t.closest(`.${this.Editor.UI.CSS.editorWrapper}`);return null!=i&&i.isEqualNode(this.Editor.UI.nodes.wrapper)?(this.currentBlockIndex=this._blocks.nodes.indexOf(t),this.currentBlock.updateCurrentInput(),this.currentBlock):void 0}getBlockByChildNode(e){Do.isElement(e)||(e=e.parentNode);const t=e.closest(`.${Yo.CSS.wrapper}`);return this.blocks.find((e=>e.holder===t))}swap(e,t){this._blocks.swap(e,t),this.currentBlockIndex=t}move(e,t=this.currentBlockIndex){isNaN(e)||isNaN(t)?uo("Warning during 'move' call: incorrect indices provided.","warn"):this.validateIndex(e)&&this.validateIndex(t)?(this._blocks.move(e,t),this.currentBlockIndex=e,this.blockDidMutated("block-moved",this.currentBlock,{fromIndex:t,toIndex:e})):uo("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn")}async convert(e,t,i){if(!await e.save())throw new Error("Could not convert Block. Failed to extract original Block data.");const n=this.Editor.Tools.blockTools.get(t);if(!n)throw new Error(`Could not convert Block. Tool «${t}» not found.`);let s=function(e,t){const i=null==t?void 0:t.import;return fo(i)?i(e):go(i)?{[i]:e}:(void 0!==i&&uo("Conversion «import» property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),{})}(sr(await e.exportDataAsString(),n.sanitizeConfig),n.conversionConfig);i&&(s=Object.assign(s,i)),this.replace(e,n.name,s)}dropPointer(){this.currentBlockIndex=-1,this.clearFocused()}async clear(e=!1){const t=new Xr;this.blocks.forEach((e=>{t.add((async()=>{await this.removeBlock(e,!1)}))})),await t.completed,this.dropPointer(),e&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map((e=>e.destroy())))}bindBlockEvents(e){const{BlockEvents:t}=this.Editor;this.readOnlyMutableListeners.on(e.holder,"keydown",(e=>{t.keydown(e)})),this.readOnlyMutableListeners.on(e.holder,"keyup",(e=>{t.keyup(e)})),this.readOnlyMutableListeners.on(e.holder,"dragover",(e=>{t.dragOver(e)})),this.readOnlyMutableListeners.on(e.holder,"dragleave",(e=>{t.dragLeave(e)})),e.on("didMutated",(e=>this.blockDidMutated(Yr,e,{index:this.getBlockIndex(e)})))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",(e=>this.Editor.BlockEvents.handleCommandX(e))),this.blocks.forEach((e=>{this.bindBlockEvents(e)}))}validateIndex(e){return!(e<0||e>=this._blocks.length)}blockDidMutated(e,t,i){const n=new CustomEvent(e,{detail:{target:new No(t),...i}});return this.eventsDispatcher.emit(Vo,{event:n}),t}},BlockSelection:class extends Fo{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:e}=this.Editor;return e.blocks.every((e=>!0===e.selected))}set allBlocksSelected(e){const{BlockManager:t}=this.Editor;t.blocks.forEach((t=>{t.selected=e})),this.clearCache()}get anyBlockSelected(){const{BlockManager:e}=this.Editor;return null===this.anyBlockSelectedCache&&(this.anyBlockSelectedCache=e.blocks.some((e=>!0===e.selected))),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter((e=>e.selected))}prepare(){this.selection=new zo,Mr.add({name:"CMD+A",handler:e=>{const{BlockManager:t,ReadOnly:i}=this.Editor;if(i.isEnabled)return e.preventDefault(),void this.selectAllBlocks();t.currentBlock&&this.handleCommandA(e)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){zo.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(e){const{BlockManager:t}=this.Editor;let i;i=isNaN(e)?t.currentBlock:t.getBlockByIndex(e),i.selected=!1,this.clearCache()}clearSelection(e,t=!1){const{BlockManager:i,Caret:n,RectangleSelection:s}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const o=e&&e instanceof KeyboardEvent,r=o&&_o(e.keyCode);if(this.anyBlockSelected&&o&&r&&!zo.isSelectionExists){const t=i.removeSelectedBlocks();i.insertDefaultBlockAtIndex(t,!0),n.setToBlock(i.currentBlock),wo((()=>{const t=e.key;n.insertContentAtCaretPosition(t.length>1?"":t)}),20)()}this.Editor.CrossBlockSelection.clear(e),this.anyBlockSelected&&!s.isRectActivated()?(t&&this.selection.restore(),this.allBlocksSelected=!1):this.Editor.RectangleSelection.clearSelection()}copySelectedBlocks(e){e.preventDefault();const t=Do.make("div");this.selectedBlocks.forEach((e=>{const i=sr(e.holder.innerHTML,this.sanitizerConfig),n=Do.make("p");n.innerHTML=i,t.appendChild(n)}));const i=Array.from(t.childNodes).map((e=>e.textContent)).join("\n\n"),n=t.innerHTML;return e.clipboardData.setData("text/plain",i),e.clipboardData.setData("text/html",n),Promise.all(this.selectedBlocks.map((e=>e.save()))).then((t=>{try{e.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(t))}catch{}}))}selectBlockByIndex(e){const{BlockManager:t}=this.Editor;let i;t.clearFocused(),i=isNaN(e)?t.currentBlock:t.getBlockByIndex(e),this.selection.save(),zo.get().removeAllRanges(),i.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}clearCache(){this.anyBlockSelectedCache=null}destroy(){Mr.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(e){if(this.Editor.RectangleSelection.clearSelection(),Do.isNativeInput(e.target)&&!this.readyToBlockSelection)return void(this.readyToBlockSelection=!0);const t=this.Editor.BlockManager.getBlock(e.target).inputs;t.length>1&&!this.readyToBlockSelection?this.readyToBlockSelection=!0:1!==t.length||this.needToSelectAll?this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1,this.Editor.ConversionToolbar.close()):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlockByIndex(),this.needToSelectAll=!0):this.needToSelectAll=!0}selectAllBlocks(){this.selection.save(),zo.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}},Caret:Kr,CrossBlockSelection:class extends Fo{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=e=>{const{BlockManager:t,BlockSelection:i}=this.Editor,n=t.getBlockByChildNode(e.relatedTarget)||this.lastSelectedBlock,s=t.getBlockByChildNode(e.target);if(n&&s&&s!==n){if(n===this.firstSelectedBlock)return zo.get().removeAllRanges(),n.selected=!0,s.selected=!0,void i.clearCache();if(s===this.firstSelectedBlock)return n.selected=!1,s.selected=!1,void i.clearCache();this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(n,s),this.lastSelectedBlock=s}}}async prepare(){this.listeners.on(document,"mousedown",(e=>{this.enableCrossBlockSelection(e)}))}watchSelection(e){if(0!==e.button)return;const{BlockManager:t}=this.Editor;this.firstSelectedBlock=t.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock}toggleBlockSelectedState(e=!0){const{BlockManager:t,BlockSelection:i}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=t.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,i.clearCache(),zo.get().removeAllRanges());const n=t.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),s=t.blocks[n];s&&(this.lastSelectedBlock.selected!==s.selected?(s.selected=!0,i.clearCache()):(this.lastSelectedBlock.selected=!1,i.clearCache()),this.lastSelectedBlock=s,this.Editor.InlineToolbar.close(),s.holder.scrollIntoView({block:"nearest"}))}clear(e){const{BlockManager:t,BlockSelection:i,Caret:n}=this.Editor,s=t.blocks.indexOf(this.firstSelectedBlock),o=t.blocks.indexOf(this.lastSelectedBlock);if(i.anyBlockSelected&&s>-1&&o>-1)if(e&&e instanceof KeyboardEvent)switch(e.keyCode){case lo:case 39:n.setToBlock(t.blocks[Math.max(s,o)],n.positions.END);break;case ao:case 37:n.setToBlock(t.blocks[Math.min(s,o)],n.positions.START);break;default:n.setToBlock(t.blocks[Math.max(s,o)],n.positions.END)}else n.setToBlock(t.blocks[Math.max(s,o)],n.positions.END);this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(e){const{UI:t}=this.Editor;zo.isCollapsed||this.Editor.BlockSelection.clearSelection(e),t.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}toggleBlocksSelectedState(e,t){const{BlockManager:i,BlockSelection:n}=this.Editor,s=i.blocks.indexOf(e),o=i.blocks.indexOf(t),r=e.selected!==t.selected;for(let a=Math.min(s,o);a<=Math.max(s,o);a++){const s=i.blocks[a];s!==this.firstSelectedBlock&&s!==(r?e:t)&&(i.blocks[a].selected=!i.blocks[a].selected,n.clearCache())}}},DragNDrop:class extends Fo{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:e}=this.Editor;this.readOnlyMutableListeners.on(e.nodes.holder,"drop",(async e=>{await this.processDrop(e)}),!0),this.readOnlyMutableListeners.on(e.nodes.holder,"dragstart",(()=>{this.processDragStart()})),this.readOnlyMutableListeners.on(e.nodes.holder,"dragover",(e=>{this.processDragOver(e)}),!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(e){const{BlockManager:t,Caret:i,Paste:n}=this.Editor;e.preventDefault(),t.blocks.forEach((e=>{e.dropTarget=!1})),zo.isAtEditor&&!zo.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const s=t.setCurrentBlockByChildNode(e.target);if(s)this.Editor.Caret.setToBlock(s,i.positions.END);else{const e=t.setCurrentBlockByChildNode(t.lastBlock.holder);this.Editor.Caret.setToBlock(e,i.positions.END)}await n.processDataTransfer(e.dataTransfer,!0)}processDragStart(){zo.isAtEditor&&!zo.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(e){e.preventDefault()}},ModificationsObserver:class extends Fo{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=400,this.mutationObserver=new MutationObserver((e=>{this.redactorChanged(e)})),this.eventsDispatcher.on(Vo,(e=>{this.particularBlockChanged(e.event)})),this.eventsDispatcher.on(qo,(()=>{this.disable()})),this.eventsDispatcher.on($o,(()=>{this.enable()}))}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(e){this.disabled||!fo(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`,e),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout((()=>{let e;e=1===this.batchingOnChangeQueue.size?this.batchingOnChangeQueue.values().next().value:Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,e),this.batchingOnChangeQueue.clear()}),this.batchTime))}redactorChanged(e){this.eventsDispatcher.emit(Ho,{mutations:e})}},Paste:Zr,ReadOnly:class extends Fo{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:e}=this.Editor,{blockTools:t}=e,i=[];Array.from(t.entries()).forEach((([e,t])=>{t.isReadOnlySupported||i.push(e)})),this.toolsDontSupportReadOnly=i,this.config.readOnly&&i.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly)}async toggle(e=!this.readOnlyEnabled){e&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const t=this.readOnlyEnabled;this.readOnlyEnabled=e;for(const t in this.Editor)this.Editor[t].toggleReadOnly&&this.Editor[t].toggleReadOnly(e);if(t===e)return this.readOnlyEnabled;const i=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(i.blocks),this.readOnlyEnabled}throwCriticalError(){throw new Bo(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}},RectangleSelection:Jr,Renderer:class extends Fo{async render(e){return new Promise((t=>{const{Tools:i,BlockManager:n}=this.Editor,s=e.map((({type:e,data:t,tunes:s,id:o})=>{let r;!1===i.available.has(e)&&(ho(`Tool «${e}» is not found. Check 'tools' property at the Editor.js config.`,"warn"),t=this.composeStubDataForTool(e,t,o),e=i.stubTool);try{r=n.composeBlock({id:o,tool:e,data:t,tunes:s})}catch(a){uo(`Block «${e}» skipped because of plugins error`,"error",{data:t,error:a}),t=this.composeStubDataForTool(e,t,o),e=i.stubTool,r=n.composeBlock({id:o,tool:e,data:t,tunes:s})}return r}));n.insertMany(s),window.requestIdleCallback((()=>{t()}),{timeout:2e3})}))}composeStubDataForTool(e,t,i){const{Tools:n}=this.Editor;let s=e;if(n.unavailable.has(e)){const t=n.unavailable.get(e).toolbox;void 0!==t&&void 0!==t[0].title&&(s=t[0].title)}return{savedData:{id:i,type:e,data:t},title:s}}},Saver:class extends Fo{async save(){const{BlockManager:e,Tools:t}=this.Editor,i=e.blocks,n=[];try{i.forEach((e=>{n.push(this.getSavedData(e))}));const e=await Promise.all(n),s=await nr(e,(e=>t.blockTools.get(e).sanitizeConfig));return this.makeOutput(s)}catch(e){ho("Saving failed due to the Error %o","error",e)}}async getSavedData(e){const t=await e.save(),i=t&&await e.validate(t.data);return{...t,isValid:i}}makeOutput(e){const t=[];return e.forEach((({id:e,tool:i,data:n,tunes:s,isValid:o})=>{if(!o)return void uo(`Block «${i}» skipped because saved data is invalid`);if(i===this.Editor.Tools.stubTool)return void t.push(n);const r={id:e,type:i,data:n,...!bo(s)&&{tunes:s}};t.push(r)})),{time:+new Date,blocks:t,version:"2.28.0"}}},Tools:_a,UI:class extends Fo{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=void 0,this.resizeDebouncer=function(e,t,i){let n;return(...t)=>{const i=this;window.clearTimeout(n),n=window.setTimeout((()=>{n=null,e.apply(i,t)}),200)}}((()=>{this.windowResize()}))}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache)return this.contentRectCache;const e=this.nodes.wrapper.querySelector(`.${Yo.CSS.content}`);return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}async prepare(){this.checkIsMobile(),this.make(),this.loadStyles()}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}checkEmptiness(){const{BlockManager:e}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:e,BlockSettings:t,InlineToolbar:i,ConversionToolbar:n}=this.Editor;return t.opened||i.opened||n.opened||e.toolbox.opened}get someFlipperButtonFocused(){return!!this.Editor.Toolbar.toolbox.hasFocus()||Object.entries(this.Editor).filter((([e,t])=>t.flipper instanceof vr)).some((([e,t])=>t.flipper.hasFocus()))}destroy(){this.nodes.holder.innerHTML=""}closeAllToolbars(){const{Toolbar:e,BlockSettings:t,InlineToolbar:i,ConversionToolbar:n}=this.Editor;t.close(),i.close(),n.close(),e.toolbox.close()}checkIsMobile(){this.isMobile=window.innerWidth<650}make(){this.nodes.holder=Do.getHolder(this.config.holder),this.nodes.wrapper=Do.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=Do.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}loadStyles(){const e="editor-js-styles";if(Do.get(e))return;const t=Do.make("style",null,{id:e,textContent:':root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0px;left:0px;right:0px;bottom:0px;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}.codex-editor ::-moz-selection{background-color:#d4ecff}.codex-editor ::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;-webkit-transform:translateX(-50%) translateY(8px) scale(.94);transform:translate(-50%) translateY(8px) scale(.94);opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease,-webkit-transform .15s ease;transition:opacity .25s ease,-webkit-transform .15s ease;transition:transform .15s ease,opacity .25s ease;transition:transform .15s ease,opacity .25s ease,-webkit-transform .15s ease;will-change:transform,opacity;top:0;left:0;z-index:3}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:translateX(-50%);transform:translate(-50%)}.ce-inline-toolbar--left-oriented{-webkit-transform:translateX(-23px) translateY(8px) scale(.94);transform:translate(-23px) translateY(8px) scale(.94)}.ce-inline-toolbar--left-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-23px);transform:translate(-23px)}.ce-inline-toolbar--right-oriented{-webkit-transform:translateX(-100%) translateY(8px) scale(.94);transform:translate(-100%) translateY(8px) scale(.94);margin-left:23px}.ce-inline-toolbar--right-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-100%);transform:translate(-100%)}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;border-radius:0;line-height:normal}.ce-inline-tool svg{width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#eff2f5}}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48);-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:190px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px rgba(201,201,204,.48);box-shadow:0 0 0 1px #c9c9cc7a;border-radius:5px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#fff;-webkit-box-sizing:content-box;box-sizing:content-box;-ms-flex-negative:0;flex-shrink:0;margin-right:10px}.ce-conversion-tool__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-conversion-tool__icon{width:36px;height:36px;border-radius:8px}.ce-conversion-tool__icon svg{width:28px;height:28px}}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important}.ce-conversion-tool--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-conversion-tool__secondary-label{color:#707684;font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-conversion-tool__secondary-label{display:none}}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;line-height:32px}.ce-settings__button svg{width:20px;height:20px}@media (max-width: 650px){.ce-settings__button svg{width:28px;height:28px}}@media (hover: hover){.ce-settings__button:hover{background-color:#eff2f5}}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{background:rgba(34,186,255,.08)!important}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button--disabled{cursor:not-allowed!important}.ce-settings__button--disabled{opacity:.3}.ce-settings__button--selected{color:#388ae5}@media (min-width: 651px){.codex-editor--narrow .ce-settings .ce-popover{right:0;left:auto;left:initial}}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@media (min-width: 651px){.codex-editor--narrow .ce-block--focused{margin-right:-50px;padding-right:50px}}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button svg{width:20px;height:20px}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 18px;margin:10px 0;border-radius:10px;background:#eff2f5;border:1px solid #EFF0F1;color:#707684;font-size:14px}.ce-stub svg{width:20px;height:20px}.ce-stub__info{margin-left:14px}.ce-stub__title{font-weight:500;text-transform:capitalize}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0px;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:rgba(232,232,235,.49);border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #e8e8eb;--color-shadow: rgba(13,20,33,.13);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #eff2f5;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:0;top:calc(100% + var(--offset-from-target));background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}.ce-popover--open-top{top:calc(-1 * (var(--offset-from-target) + var(--popover-height)))}@media (max-width: 650px){.ce-popover{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}.ce-popover .ce-popover__search{display:none}}.ce-popover__search,.ce-popover__custom-content:not(:empty){margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover__custom-content:not(:empty){padding:4px}@media (min-width: 651px){.ce-popover__custom-content:not(:empty){padding:0}}.ce-popover__custom-content--hidden{display:none}.ce-popover-item{--border-radius: 6px;--icon-size: 20px;--icon-size-mobile: 28px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:3px;color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{border-radius:5px;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px var(--color-border-icon);box-shadow:0 0 0 1px var(--color-border-icon);background:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:var(--icon-size-mobile);height:var(--icon-size-mobile)}}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--active .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--disabled .ce-popover-item__icon{-webkit-box-shadow:0 0 0 1px var(--color-border-icon-disabled);box-shadow:0 0 0 1px var(--color-border-icon-disabled)}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--focused:not(.ce-popover-item--no-focus){-webkit-box-shadow:inset 0 0 0px 1px var(--color-shadow-item-focus);box-shadow:inset 0 0 0 1px var(--color-shadow-item-focus)}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}.ce-popover-item:hover .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__icon{color:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}.ce-popover-item--confirmation .ce-popover-item__icon,.ce-popover-item--active .ce-popover-item__icon,.ce-popover-item--focused .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}\n'.toString()});Do.prepend(document.head,t)}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",(e=>{this.redactorClicked(e)}),!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",(e=>{this.documentTouched(e)}),!0),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",(e=>{this.documentTouched(e)}),!0),this.readOnlyMutableListeners.on(document,"keydown",(e=>{this.documentKeydown(e)}),!0),this.readOnlyMutableListeners.on(document,"mousedown",(e=>{this.documentClicked(e)}),!0),this.readOnlyMutableListeners.on(document,"selectionchange",(()=>{this.selectionChanged()}),!0),this.readOnlyMutableListeners.on(window,"resize",(()=>{this.resizeDebouncer()}),{passive:!0}),this.watchBlockHoveredEvents()}watchBlockHoveredEvents(){let e;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",ko((t=>{const i=t.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||i&&e!==i&&(e=i,this.eventsDispatcher.emit(Rr,{block:this.Editor.BlockManager.getBlockByChildNode(i)}))}),20),{passive:!0})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.checkIsMobile()}documentKeydown(e){switch(e.keyCode){case ro:this.enterPressed(e);break;case 8:case 46:this.backspacePressed(e);break;case 27:this.escapePressed(e);break;default:this.defaultBehaviour(e)}}defaultBehaviour(e){const{currentBlock:t}=this.Editor.BlockManager,i=e.target.closest(`.${this.CSS.editorWrapper}`),n=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;void 0===t||null!==i?i||t&&n||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close()):this.Editor.BlockEvents.keydown(e)}backspacePressed(e){const{BlockManager:t,BlockSelection:i,Caret:n}=this.Editor;if(i.anyBlockSelected&&!zo.isSelectionExists){const s=t.removeSelectedBlocks();n.setToBlock(t.insertDefaultBlockAtIndex(s,!0),n.positions.START),i.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}escapePressed(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.ConversionToolbar.opened?this.Editor.ConversionToolbar.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(e){const{BlockManager:t,BlockSelection:i}=this.Editor,n=t.currentBlockIndex>=0;if(i.anyBlockSelected&&!zo.isSelectionExists)return i.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),void e.stopPropagation();if(!this.someToolbarOpened&&n&&"BODY"===e.target.tagName){const e=this.Editor.BlockManager.insert();this.Editor.Caret.setToBlock(e),this.Editor.BlockManager.highlightCurrentNode(),this.Editor.Toolbar.moveAndOpen(e)}this.Editor.BlockSelection.clearSelection(e)}documentClicked(e){if(!e.isTrusted)return;const t=e.target;this.nodes.holder.contains(t)||zo.isAtEditor||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close());const i=this.Editor.BlockSettings.nodes.wrapper.contains(t),n=this.Editor.Toolbar.nodes.settingsToggler.contains(t),s=i||n;if(this.Editor.BlockSettings.opened&&!s){this.Editor.BlockSettings.close();const e=this.Editor.BlockManager.getBlockByChildNode(t);this.Editor.Toolbar.moveAndOpen(e)}this.Editor.BlockSelection.clearSelection(e)}documentTouched(e){let t=e.target;if(t===this.nodes.redactor){const i=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,n=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;t=document.elementFromPoint(i,n)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(t),this.Editor.BlockManager.highlightCurrentNode()}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}redactorClicked(e){const{BlockSelection:t}=this.Editor;if(!zo.isCollapsed)return;const i=()=>{e.stopImmediatePropagation(),e.stopPropagation()},n=e.target,s=e.metaKey||e.ctrlKey;if(Do.isAnchor(n)&&s){i();const e=function(e){try{return new URL(e).href}catch{}return"//"===e.substring(0,2)?window.location.protocol+e:window.location.origin+e}(n.getAttribute("href"));return void function(e){window.open(e,"_blank")}(e)}const o=this.Editor.BlockManager.getBlockByIndex(-1),r=Do.offset(o.holder).bottom,a=e.pageY;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!t.anyBlockSelected&&r<a){i();const{BlockManager:e,Caret:t,Toolbar:n}=this.Editor;(!e.lastBlock.tool.isDefault||!e.lastBlock.isEmpty)&&e.insertAtEnd(),t.setToTheLastBlock(),n.moveAndOpen(e.lastBlock)}}selectionChanged(){const{CrossBlockSelection:e,BlockSelection:t}=this.Editor,i=zo.anchorElement;if(e.isCrossBlockSelectionStarted&&t.anyBlockSelected&&zo.get().removeAllRanges(),!i)return void(zo.range||this.Editor.InlineToolbar.close());const n=null===i.closest(`.${Yo.CSS.content}`);if(n&&(this.Editor.InlineToolbar.containsNode(i)||this.Editor.InlineToolbar.close(),"true"!==i.dataset.inlineToolbar))return;this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(i);const s=!0!==n;this.Editor.InlineToolbar.tryToShow(!0,s)}}};class wa{constructor(e){let t,i;this.moduleInstances={},this.eventsDispatcher=new Ro,this.isReady=new Promise(((e,n)=>{t=e,i=n})),Promise.resolve().then((async()=>{this.configuration=e,this.validate(),this.init(),await this.start(),await this.render();const{BlockManager:i,Caret:n,UI:s,ModificationsObserver:o}=this.moduleInstances;s.checkEmptiness(),o.enable(),this.configuration.autofocus&&(n.setToBlock(i.blocks[0],n.positions.START),i.highlightCurrentNode()),t()})).catch((e=>{uo(`Editor.js is not ready because of ${e}`,"error"),i(e)}))}set configuration(e){var t,i;mo(e)?this.config={...e}:this.config={holder:e},Ao(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),null==this.config.holder&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=oo.VERBOSE),function(e){co.logLevel=e}(this.config.logLevel),Ao(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=void 0!==this.config.minHeight?this.config.minHeight:300;const n={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=!!this.config.hideToolbar&&this.config.hideToolbar,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=void 0===this.config.inlineToolbar||this.config.inlineToolbar,(bo(this.config.data)||!this.config.data.blocks||0===this.config.data.blocks.length)&&(this.config.data={blocks:[n]}),this.config.readOnly=this.config.readOnly||!1,null!=(t=this.config.i18n)&&t.messages&&jo.setDictionary(this.config.i18n.messages),this.config.i18n.direction=(null==(i=this.config.i18n)?void 0:i.direction)||"ltr"}get configuration(){return this.config}validate(){const{holderId:e,holder:t}=this.config;if(e&&t)throw Error("«holderId» and «holder» param can't assign at the same time.");if(go(t)&&!Do.get(t))throw Error(`element with ID «${t}» is missing. Pass correct holder's ID.`);if(t&&mo(t)&&!Do.isElement(t))throw Error("«holder» value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce(((e,t)=>e.then((async()=>{try{await this.moduleInstances[t].prepare()}catch(e){if(e instanceof Bo)throw new Error(e.message);uo(`Module ${t} was skipped because of %o`,"warn",e)}}))),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(xa).forEach((([e,t])=>{try{this.moduleInstances[e]=new t({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(t){uo("[constructModules]",`Module ${e} skipped because`,"error",t)}}))}configureModules(){for(const e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}getModulesDiff(e){const t={};for(const i in this.moduleInstances)i!==e&&(t[i]=this.moduleInstances[i]);return t}}class ka{static get version(){return"2.28.0"}constructor(e){let t=()=>{};mo(e)&&fo(e.onReady)&&(t=e.onReady);const i=new wa(e);this.isReady=i.isReady.then((()=>{this.exportAPI(i),t()}))}exportAPI(e){["configuration"].forEach((t=>{this[t]=e[t]})),this.destroy=()=>{Object.values(e.moduleInstances).forEach((e=>{fo(e.destroy)&&e.destroy(),e.listeners.removeAll()})),e=null;for(const e in this)Object.prototype.hasOwnProperty.call(this,e)&&delete this[e];Object.setPrototypeOf(this,null)},Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach((([t,i])=>{Object.entries(i).forEach((([i,n])=>{this[n]=e.moduleInstances.API.methods[t][i]}))}))}}var Sa=i(1786),Ta=i.n(Sa),Ca=i(1218),Ea=i.n(Ca),Aa=i(9888),Ia=i.n(Aa),Ma=i(1083),Oa=i.n(Ma),Da=i(9095),Pa=i.n(Da),La=i(4459),ja=i.n(La);const Ba=(0,t.aZ)({components:{SofaNormalText:P},props:{modelValue:{type:String,required:!1},hasTitle:{type:Boolean,default:!1},labelStyle:{type:String,default:""},toolsToUse:{type:Array},placeholder:{type:String,default:""},textAreaStyle:{type:String,default:"max-h-[400px] bg-grey100  px-3 py-3 "},updateValue:{type:String,default:""},richEditor:{type:Boolean,default:!0}},name:"SofaTextarea",emits:["update:modelValue"],setup(e,i){const n=Math.random(),s=(0,a.iH)(),o=(0,a.iH)(!1),r=(0,a.iH)("");(0,t.YP)(r,(()=>{s.value&&e.richEditor&&s.value?.isReady.then((e=>{if(r.value){const e=JSON.parse(r.value);0==e.blocks.length&&(e.blocks[0]={data:{text:""},id:"Z7IKqnnfme",type:"paragraph"}),s.value?.render(e)}else s.value?.render({time:1550476186479,blocks:[{data:{text:""},id:"Z7IKqnnfme",type:"paragraph"}],version:"2.26.5"})}))}));const l=(0,a.Vh)(e,"updateValue");return(0,t.YP)(l,(()=>{r.value=e.updateValue})),(0,t.YP)(e,(()=>{e.richEditor?r.value=e.updateValue:e.updateValue&&!o.value&&(r.value=e.updateValue,o.value=!0)})),(0,t.bv)((()=>{if(e.richEditor&&null==s.value){let t={time:1550476186479,blocks:[],version:"2.26.5"},o={};if(e.toolsToUse){const t=e.toolsToUse;t.includes("header")&&(o.header={class:Ta(),inlineToolbar:!0,config:{placeholder:"Header name...",levels:[1,2,3,4,5,6],defaultLevel:4}}),t.includes("image")&&(o.image=Ea()),t.includes("list")&&(o.list={class:Oa(),inlineToolbar:!0,config:{defaultStyle:"unordered"}}),t.includes("checklist")&&(o.checklist={class:Ia(),inlineToolbar:!0}),t.includes("embed")&&(o.embed=Pa()),t.includes("quote")&&(o.quote={class:ja(),inlineToolbar:!0,shortcut:"CMD+SHIFT+O",config:{quotePlaceholder:"Enter a quote",captionPlaceholder:"Quote's author"}})}s.value=new ka({holder:`textarea${n}`,tools:o,placeholder:e.placeholder,onChange:()=>{s.value?.save().then((e=>{i.emit("update:modelValue",JSON.stringify(e))})).catch((e=>{console.log("Saving failed: ",e)}))},data:t,logLevel:"ERROR"})}else e.modelValue&&(r.value=e.modelValue)})),(0,t.YP)(r,(()=>{e.richEditor||i.emit("update:modelValue",r.value)})),{valueContent:r,tabIndex:n,emptyValue:()=>{r.value=""}}}}),Ra=(0,d.Z)(Ba,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-normal-text");return(0,t.wg)(),(0,t.iD)("div",eo,[e.hasTitle?((0,t.wg)(),(0,t.j4)(l,{key:0,customClass:"!pb-2 font-bold"},{default:(0,t.w5)((()=>[(0,t.WI)(e.$slots,"title")])),_:3})):(0,t.kq)("",!0),e.richEditor?((0,t.wg)(),(0,t.iD)("div",{key:1,class:(0,n.normalizeClass)(`w-full h-auto lg:text-sm mdlg:text-[12px] text-darkBody text-xs rounded-md ${e.textAreaStyle}  overflow-y-auto`),id:`textarea${e.tabIndex}`},null,10,to)):(0,t.wy)(((0,t.wg)(),(0,t.iD)("textarea",{key:2,"onUpdate:modelValue":i[0]||(i[0]=t=>e.valueContent=t),placeholder:e.placeholder,class:(0,n.normalizeClass)(`w-full !min-h-[100px] px-3 py-3 text-darkBody placeholder-grayColor lg:text-sm mdlg:text-[12px] bg-white  focus:outline-none text-xs rounded-md ${e.textAreaStyle}  overflow-y-auto`)},"\n    ",10,io)),[[y.vModelText,e.valueContent]])])}]]),Na={class:"flex w-full flex-col space-y-4 content"},Ua={class:"w-full flex flex-col space-y-4"},Fa={class:"w-full flex flex-row items-center space-x-2 justify-between"},za=["onClick"],Ha={class:"flex flex-row items-center space-x-3"},Va={class:"w-[25px]"},qa={class:"w-[25px]"},$a={class:"w-full flex items-center justify-center"},Wa=(0,t.aZ)({components:{SofaNormalText:P,SofaTextField:ys,SofaButton:f,draggable:Bn(),SofaIcon:h},props:{modelValue:{type:String,required:!1},hasTitle:{type:Boolean,default:!1},labelStyle:{type:String,default:""},updateValue:{type:String,default:""},defaultAnswer:{type:String,default:""},extraId:{type:String,default:""}},name:"SofaMultipleChoice",emits:["update:modelValue","onUpdated"],setup(e,i){const n=Math.random(),s=(0,a.iH)(""),o=(0,a.iH)(""),r=(0,a.iH)([]),l=(0,a.iH)("");return(0,t.YP)(l,(()=>{i.emit("update:modelValue",{options:r.value,answer:l.value}),i.emit("onUpdated",{options:r.value,answer:l.value,extraId:e.extraId})})),(0,t.bv)((()=>{if(e.updateValue){const t=JSON.parse(e.updateValue);r.value=t,l.value=e.defaultAnswer}})),{tabIndex:n,optionContent:s,options:r,selectedOption:l,addOption:t=>{t.preventDefault(),s.value.trim()&&(o.value=s.value,r.value.push({key:b.Common.makeid(9),value:s.value}),s.value="",o.value="empty",setTimeout((()=>{o.value=""}),200),1==r.value.length&&(l.value=r.value[0].key),i.emit("update:modelValue",{options:r.value,answer:l.value}),i.emit("onUpdated",{options:r.value,answer:l.value,extraId:e.extraId}))},removeOption:t=>{r.value=r.value.filter((e=>e.key!=t)),t==l.value&&r.value.length>0&&(l.value=r.value[0].key),i.emit("update:modelValue",{options:r.value,answer:l.value}),i.emit("onUpdated",{options:r.value,answer:l.value,extraId:e.extraId})},updateValue:o}}}),Ga=(0,d.Z)(Wa,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-normal-text"),c=(0,t.up)("sofa-text-field"),d=(0,t.up)("sofa-button"),u=(0,t.up)("sofa-icon"),h=(0,t.up)("draggable");return(0,t.wg)(),(0,t.iD)("div",Na,[e.hasTitle?((0,t.wg)(),(0,t.j4)(l,{key:0,customClass:"!pb-2"},{default:(0,t.w5)((()=>[(0,t.WI)(e.$slots,"title")])),_:3})):(0,t.kq)("",!0),(0,t._)("div",Ua,[(0,t._)("div",Fa,[(0,t.Wm)(c,{placeholder:"Enter new option",customClass:"flex flex-grow",modelValue:e.optionContent,"onUpdate:modelValue":i[0]||(i[0]=t=>e.optionContent=t),"update-value":e.updateValue,type:"text"},null,8,["modelValue","update-value"]),(0,t.Wm)(d,{padding:"px-5 py-3",onClick:e.addOption},{default:(0,t.w5)((()=>[(0,t.Uk)("Add")])),_:1},8,["onClick"])]),(0,t.Wm)(h,{class:(0,n.normalizeClass)("w-full grid-cols-1 gap-3 grid  "+(0==e.options.length?"bg-gray-100 h-[140px] rounded-lg":"")),modelValue:e.options,"onUpdate:modelValue":i[1]||(i[1]=t=>e.options=t),"item-key":"key",group:"options"},(0,t.Nv)({item:(0,t.w5)((({element:i,index:s})=>[(0,t._)("div",{onClick:t=>e.selectedOption=i.key,class:(0,n.normalizeClass)(`col-span-1 px-3 py-3 rounded-[15px] flex flex-row space-x-3 justify-between items-center bg-white border-[1px] cursor-pointer ${e.selectedOption==i.key?"border-[#83AF9B]":"border-[#E8E8E8]"} `)},[(0,t._)("div",Ha,[(0,t._)("div",Va,[(0,t._)("div",{class:(0,n.normalizeClass)(`h-[24px] w-[24px] rounded-[8px] flex flex-row items-center justify-center ${e.selectedOption==i.key?"bg-primaryGreen text-white":"bg-[#F7F7F7] text-[#878787]"} `)},(0,n.toDisplayString)(s+1),3)]),(0,t.Wm)(l,{color:"text-[#78867B]",customClass:"text-left"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(i.value),1)])),_:2},1024)]),(0,t._)("div",qa,[(0,t.Wm)(u,{name:"close","custom-class":"h-[15px] cursor-pointer",onClick:t=>e.removeOption(i.key)},null,8,["onClick"])])],10,za)])),_:2},[0==e.options.length?{name:"footer",fn:(0,t.w5)((()=>[(0,t._)("div",$a,[(0,t.Wm)(l,{color:"text-gray-400"},{default:(0,t.w5)((()=>[(0,t.Uk)("Your options would show up here")])),_:1})])])),key:"0"}:void 0]),1032,["class","modelValue"])])])}]]),Ya=["placeholder","id"],Xa=(0,t.aZ)({components:{},props:{modelValue:{required:!1},customClass:{type:String,default:""},placeholder:{type:String,default:""},updateValue:{type:String,default:""},autoFocus:{type:Boolean,default:!1}},name:"SofaCustomInput",emits:["update:modelValue","onBlur","onContentChange"],setup(e,i){const n=(0,a.iH)(""),s=Math.random();(0,t.YP)(n,(()=>{i.emit("update:modelValue",n.value),i.emit("onContentChange",n.value)}));const o=(0,a.Vh)(e,"updateValue");return(0,t.YP)(o,(()=>{n.value=o.value;const e=document.getElementById(`content-${s}`);e&&(e.innerText=n.value)})),(0,t.bv)((()=>{if(e.updateValue&&(n.value=e.updateValue,setTimeout((()=>{const e=document.getElementById(`content-${s}`);e&&(e.innerText=n.value)}),400)),e.autoFocus){const e=document.getElementById(`content-${s}`);setTimeout((()=>{(e=>{const t=document.createRange(),i=window.getSelection();t.selectNodeContents(e),t.collapse(!1),i.removeAllRanges(),i.addRange(t),e.focus(),t.detach(),e.scrollTop=e.scrollHeight})(e)}),500)}})),{textContent:n,tabIndex:s,onInput:e=>{n.value=e.target.innerText},onBlur:()=>{i.emit("onBlur",!0)}}}});var Ka=i(8441),Qa={};Qa.styleTagTransform=ht(),Qa.setAttributes=lt(),Qa.insert=rt().bind(null,"head"),Qa.domAPI=st(),Qa.insertStyleElement=dt(),it()(Ka.Z,Qa),Ka.Z&&Ka.Z.locals&&Ka.Z.locals;const Za=(0,d.Z)(Xa,[["render",function(e,i,s,o,r,a){return(0,t.wg)(),(0,t.iD)("span",{class:(0,n.normalizeClass)(` ${e.customClass} !bg-white !text-left customInput focus:outline-none w-auto !text-bodyBlack placeholder:text-grayColor py-2 px-2`),placeholder:e.placeholder,contenteditable:!0,onInput:i[0]||(i[0]=(...t)=>e.onInput&&e.onInput(...t)),onBlur:i[1]||(i[1]=(...t)=>e.onBlur&&e.onBlur(...t)),id:`content-${e.tabIndex}`},null,42,Ya)}],["__scopeId","data-v-47a5914c"]]),Ja=(0,t.aZ)({components:{SofaIcon:h,SofaNormalText:P,draggable:Bn(),SofaImageLoader:v,SofaRatings:Ci,SofaAvatar:x,SofaTextField:ys,SofaTextarea:Ra,SofaDeletePrompt:wn,SofaButton:f},props:{customClass:{type:String,default:""},close:{type:Function,required:!0},type:{type:String,default:"video"},data:{type:Object}},name:"SofaCourseDetails",setup(e){const i=(0,a.Vh)(e,"data"),n=(0,a.iH)(!1),s=(0,a.iH)(""),o=(0,a.qj)(i.value);(0,t.YP)(i,(()=>{o.title=i.value.title,o.description=i.value.description}));const r=e=>{b.Study.MoveItemToCourseForm={add:!1,coursableId:e,type:"file",id:b.Study.SingleCourse.id},b.Study.MoveItemToCourse(!0).then((t=>{t?b.Study.DeleteFile(e).then((()=>{b.Study.GetCourse(b.Study.SingleCourse.id),b.Common.showLoader({show:!0,loading:!1,message:"Material has been deleted.",type:"success"})})):b.Common.showLoader({show:!0,loading:!1,message:"Unable to delete material. Please try again.",type:"error"}),n.value=!1}))};return{Logic:b,dataReactive:o,showDeleteMaterial:n,selectedMaterialId:s,deleteFile:r,deleteMaterial:()=>{r(s.value)},updateFile:()=>{b.Study.UpdateFileForm={description:o.description,title:o.title,id:i.value.id,tagIds:[],topicId:b.Study.SingleCourse.topicId},b.Common.showLoader({loading:!0,show:!1}),b.Study.UpdateFile(!0,i.value.id)?.then((()=>{b.Common.showLoader({show:!0,loading:!1,message:"All changes have been saved",type:"success"})}))}}}}),el=(0,d.Z)(Ja,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-normal-text"),c=(0,t.up)("sofa-icon"),d=(0,t.up)("sofa-image-loader"),u=(0,t.up)("sofa-ratings"),h=(0,t.up)("sofa-avatar"),p=(0,t.up)("sofa-text-field"),f=(0,t.up)("sofa-textarea"),m=(0,t.up)("sofa-button"),g=(0,t.up)("sofa-delete-prompt");return(0,t.wg)(),(0,t.iD)(t.HY,null,[e.data?((0,t.wg)(),(0,t.iD)("div",Un,[(0,t._)("div",Fn,[(0,t.Wm)(l,{customClass:"!text-sm !font-bold"},{default:(0,t.w5)((()=>[(0,t.Uk)(" Details ")])),_:1}),(0,t.Wm)(c,{customClass:"h-[19px] mdlg:!hidden ",name:"circle-close",onClick:i[0]||(i[0]=t=>e.close())})]),(0,t._)("div",zn,["quiz"==e.type?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Wm)(d,{customClass:"w-full custom-border h-[200px]",photoUrl:e.data.image_url},null,8,["photoUrl"]),(0,t.Wm)(l,{customClass:"text-left font-bold"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.data.title),1)])),_:1}),(0,t._)("div",Hn,[(0,t.Wm)(l,{color:"text-primaryPurple"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.data.type),1)])),_:1}),Vn,(0,t.Wm)(l,{color:"text-primaryPurple"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.data.questions),1)])),_:1})]),(0,t.Wm)(l,{customClass:"text-left"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.data.description),1)])),_:1}),(0,t._)("div",qn,[(0,t._)("div",$n,[(0,t.Wm)(u,{count:e.data.ratings.total,size:"h-[14px] mdlg:!h-[15px]"},null,8,["count"]),(0,t.Wm)(l,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.data.ratings.total)+".0 ",1)])),_:1}),(0,t.Wm)(l,{color:"text-grayColor pl-2"},{default:(0,t.w5)((()=>[(0,t.Uk)(" ("+(0,n.toDisplayString)(e.data.ratings.label)+") ",1)])),_:1})]),(0,t._)("div",Wn,[(0,t._)("div",Gn,[(0,t.Wm)(h,{size:"20",photoUrl:e.data.user.photoUrl},null,8,["photoUrl"]),(0,t.Wm)(l,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.data.user.name),1)])),_:1})])]),(0,t._)("div",Yn,[(0,t.Wm)(c,{customClass:"h-[16px]",name:"calendar-black"}),(0,t.Wm)(l,null,{default:(0,t.w5)((()=>[(0,t.Uk)(" Last updated "+(0,n.toDisplayString)(e.data.last_updated),1)])),_:1})])])],64)):(0,t.kq)("",!0),"document"==e.type?((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t.Wm)(p,{"custom-class":"custom-border !bg-lightGrayVaraint !placeholder:text-grayColor ",padding:"md:!py-3 md:!px-3 px-3 py-3",type:"text",name:"Document title",ref:"document_title",modelValue:e.dataReactive.title,"onUpdate:modelValue":i[1]||(i[1]=t=>e.dataReactive.title=t),updateValue:e.dataReactive.title,placeholder:"Document title",hasTitle:!0,rules:[e.Logic.Form.RequiredRule],borderColor:"border-transparent"},{title:(0,t.w5)((()=>[(0,t.Uk)(" Document title ")])),_:1},8,["modelValue","updateValue","rules"]),(0,t.Wm)(f,{hasTitle:!1,textAreaStyle:"h-[60px] custom-border !bg-lightGrayVaraint !placeholder:text-grayColor md:!py-4 md:!px-4 px-3 py-3 resize-none",placeholder:"Description",richEditor:!1,updateValue:e.dataReactive.description,modelValue:e.dataReactive.description,"onUpdate:modelValue":i[2]||(i[2]=t=>e.dataReactive.description=t)},null,8,["updateValue","modelValue"])],64)):(0,t.kq)("",!0),"image"==e.type?((0,t.wg)(),(0,t.iD)(t.HY,{key:2},[(0,t.Wm)(p,{"custom-class":"custom-border !bg-lightGrayVaraint !placeholder:text-grayColor ",padding:"md:!py-3 md:!px-3 px-3 py-3",type:"text",name:"Image title",ref:"image_title",modelValue:e.dataReactive.title,"onUpdate:modelValue":i[3]||(i[3]=t=>e.dataReactive.title=t),placeholder:"Image title",hasTitle:!0,rules:[e.Logic.Form.RequiredRule],updateValue:e.dataReactive.title,borderColor:"border-transparent"},{title:(0,t.w5)((()=>[(0,t.Uk)(" Image title ")])),_:1},8,["modelValue","rules","updateValue"]),(0,t.Wm)(f,{hasTitle:!1,textAreaStyle:"h-[60px] custom-border !bg-lightGrayVaraint !placeholder:text-grayColor md:!py-4 md:!px-4 px-3 py-3 resize-none",placeholder:"Description",richEditor:!1,updateValue:e.dataReactive.description,modelValue:e.dataReactive.description,"onUpdate:modelValue":i[4]||(i[4]=t=>e.dataReactive.description=t)},null,8,["updateValue","modelValue"])],64)):(0,t.kq)("",!0),"video"==e.type?((0,t.wg)(),(0,t.iD)(t.HY,{key:3},[(0,t.Wm)(p,{"custom-class":"custom-border !bg-lightGrayVaraint !placeholder:text-grayColor ",padding:"md:!py-3 md:!px-3 px-3 py-3",type:"text",name:"Video title",ref:"video_title",modelValue:e.dataReactive.title,"onUpdate:modelValue":i[5]||(i[5]=t=>e.dataReactive.title=t),placeholder:"Video title",hasTitle:!0,rules:[e.Logic.Form.RequiredRule],updateValue:e.dataReactive.title,borderColor:"border-transparent"},{title:(0,t.w5)((()=>[(0,t.Uk)(" Video title ")])),_:1},8,["modelValue","rules","updateValue"]),(0,t.Wm)(f,{hasTitle:!1,textAreaStyle:"h-[60px] custom-border !bg-lightGrayVaraint !placeholder:text-grayColor md:!py-4 md:!px-4 px-3 py-3 resize-none",placeholder:"Description",richEditor:!1,modelValue:e.dataReactive.description,"onUpdate:modelValue":i[6]||(i[6]=t=>e.dataReactive.description=t),updateValue:e.dataReactive.description},null,8,["modelValue","updateValue"])],64)):(0,t.kq)("",!0),"quiz"!=e.type?((0,t.wg)(),(0,t.iD)("div",Xn,[(0,t.Wm)(m,{padding:"px-4 py-2",onClick:i[7]||(i[7]=t=>e.updateFile())},{default:(0,t.w5)((()=>[(0,t.Uk)(" Save changes ")])),_:1})])):(0,t.kq)("",!0)]),(0,t._)("div",Kn,[(0,t._)("div",{class:"w-full flex flex-row items-center justify-start space-x-3 cursor-pointer",onClick:i[8]||(i[8]=t=>{e.selectedMaterialId=e.data.id,e.showDeleteMaterial=!0})},[(0,t.Wm)(c,{name:"trash",customClass:"h-[16px]"}),(0,t.Wm)(l,{color:"text-primaryRed"},{default:(0,t.w5)((()=>[(0,t.Uk)("Delete "+(0,n.toDisplayString)(e.type),1)])),_:1})])])])):(0,t.kq)("",!0),e.showDeleteMaterial?((0,t.wg)(),(0,t.j4)(g,{key:1,title:"Are you sure you?",subTitle:"This action is permanent. You won't be able to undo this.",close:()=>{e.showDeleteMaterial=!1},buttons:[{label:"No",isClose:!0,action:()=>{e.showDeleteMaterial=!1}},{label:"Yes, delete",isClose:!1,action:()=>{e.deleteMaterial()}}]},null,8,["subTitle","close","buttons"])):(0,t.kq)("",!0)],64)}]]),tl=["src"],il=(0,t.aZ)({components:{},props:{customClass:{type:String,default:""},documentUrl:{type:String,default:"https://raw.githubusercontent.com/mozilla/pdf.js/ba2edeae/web/compressed.tracemonkey-pldi-09.pdf"}},name:"SofaDocumentReader",setup(){(0,t.bv)((()=>{}))}}),nl=(0,d.Z)(il,[["render",function(e,i,n,s,o,r){return(0,t.wg)(),(0,t.iD)("iframe",{class:"w-full flex flex-col h-full flex-grow outline-none border-[1px] border-[#F1F6FA] rounded-[8px]",src:`/web/viewer.html?file=${e.documentUrl}`},"\n  ",8,tl)}]]),sl={ref:"videoPlayer",class:"video-js w-full md:!h-[440px] h-[400px] relative !rounded-[12px]"},ol={key:0,class:"flex flex-row items-center justify-center !rounded-[12px] absolute h-full w-full top-0 left-0 bg-black bg-opacity-60 z-index"};var rl=i(4560),al=i.n(rl),ll=i(5786),cl=i.n(ll),dl=i(6725),ul=i.n(dl),hl=i(9266),pl=i.n(hl),fl=i(129),ml=i.n(fl),gl=i(8677),vl=i.n(gl),yl=i(8945),bl=i.n(yl);function _l(){return _l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},_l.apply(this,arguments)}var xl=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var i=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(i,1),i>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var i=t.length,n=0;n<i;++n)t[n].call(this,arguments[1]);else for(var s=Array.prototype.slice.call(arguments,1),o=t.length,r=0;r<o;++r)t[r].apply(this,s)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}();function wl(e){for(var t=function(e){return al().atob?al().atob(e):Buffer.from(e,"base64").toString("binary")}(e),i=new Uint8Array(t.length),n=0;n<t.length;n++)i[n]=t.charCodeAt(n);return i}class kl extends xl{constructor(){super(),this.buffer=""}push(e){let t;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)}}const Sl=String.fromCharCode(9),Tl=function(e){const t=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),i={};return t[1]&&(i.length=parseInt(t[1],10)),t[2]&&(i.offset=parseInt(t[2],10)),i},Cl=function(e){const t={};if(!e)return t;const i=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))'));let n,s=i.length;for(;s--;)""!==i[s]&&(n=/([^=]*)=(.*)/.exec(i[s]).slice(1),n[0]=n[0].replace(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^['"](.*)['"]$/g,"$1"),t[n[0]]=n[1]);return t};class El extends xl{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let t,i;0!==(e=e.trim()).length&&("#"===e[0]?this.tagMappers.reduce(((t,i)=>{const n=i(e);return n===e?t:t.concat([n])}),[e]).forEach((e=>{for(let t=0;t<this.customParsers.length;t++)if(this.customParsers[t].call(this,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e),t)this.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(e),t)return i={type:"tag",tagType:"inf"},t[1]&&(i.duration=parseFloat(t[1])),t[2]&&(i.title=t[2]),void this.trigger("data",i);if(t=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(e),t)return i={type:"tag",tagType:"targetduration"},t[1]&&(i.duration=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-VERSION:([0-9.]*)?/.exec(e),t)return i={type:"tag",tagType:"version"},t[1]&&(i.version=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(e),t)return i={type:"tag",tagType:"media-sequence"},t[1]&&(i.number=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(e),t)return i={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(i.number=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(e),t)return i={type:"tag",tagType:"playlist-type"},t[1]&&(i.playlistType=t[1]),void this.trigger("data",i);if(t=/^#EXT-X-BYTERANGE:(.*)?$/.exec(e),t)return i=_l(Tl(t[1]),{type:"tag",tagType:"byterange"}),void this.trigger("data",i);if(t=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(e),t)return i={type:"tag",tagType:"allow-cache"},t[1]&&(i.allowed=!/NO/.test(t[1])),void this.trigger("data",i);if(t=/^#EXT-X-MAP:(.*)$/.exec(e),t){if(i={type:"tag",tagType:"map"},t[1]){const e=Cl(t[1]);e.URI&&(i.uri=e.URI),e.BYTERANGE&&(i.byterange=Tl(e.BYTERANGE))}this.trigger("data",i)}else if(t=/^#EXT-X-STREAM-INF:(.*)$/.exec(e),t){if(i={type:"tag",tagType:"stream-inf"},t[1]){if(i.attributes=Cl(t[1]),i.attributes.RESOLUTION){const e=i.attributes.RESOLUTION.split("x"),t={};e[0]&&(t.width=parseInt(e[0],10)),e[1]&&(t.height=parseInt(e[1],10)),i.attributes.RESOLUTION=t}i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes["FRAME-RATE"]&&(i.attributes["FRAME-RATE"]=parseFloat(i.attributes["FRAME-RATE"])),i.attributes["PROGRAM-ID"]&&(i.attributes["PROGRAM-ID"]=parseInt(i.attributes["PROGRAM-ID"],10))}this.trigger("data",i)}else{if(t=/^#EXT-X-MEDIA:(.*)$/.exec(e),t)return i={type:"tag",tagType:"media"},t[1]&&(i.attributes=Cl(t[1])),void this.trigger("data",i);if(t=/^#EXT-X-ENDLIST/.exec(e),t)this.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e),t)this.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(e),t)return i={type:"tag",tagType:"program-date-time"},t[1]&&(i.dateTimeString=t[1],i.dateTimeObject=new Date(t[1])),void this.trigger("data",i);if(t=/^#EXT-X-KEY:(.*)$/.exec(e),t)return i={type:"tag",tagType:"key"},t[1]&&(i.attributes=Cl(t[1]),i.attributes.IV&&("0x"===i.attributes.IV.substring(0,2).toLowerCase()&&(i.attributes.IV=i.attributes.IV.substring(2)),i.attributes.IV=i.attributes.IV.match(/.{8}/g),i.attributes.IV[0]=parseInt(i.attributes.IV[0],16),i.attributes.IV[1]=parseInt(i.attributes.IV[1],16),i.attributes.IV[2]=parseInt(i.attributes.IV[2],16),i.attributes.IV[3]=parseInt(i.attributes.IV[3],16),i.attributes.IV=new Uint32Array(i.attributes.IV))),void this.trigger("data",i);if(t=/^#EXT-X-START:(.*)$/.exec(e),t)return i={type:"tag",tagType:"start"},t[1]&&(i.attributes=Cl(t[1]),i.attributes["TIME-OFFSET"]=parseFloat(i.attributes["TIME-OFFSET"]),i.attributes.PRECISE=/YES/.test(i.attributes.PRECISE)),void this.trigger("data",i);if(t=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(e),t)return i={type:"tag",tagType:"cue-out-cont"},t[1]?i.data=t[1]:i.data="",void this.trigger("data",i);if(t=/^#EXT-X-CUE-OUT:(.*)?$/.exec(e),t)return i={type:"tag",tagType:"cue-out"},t[1]?i.data=t[1]:i.data="",void this.trigger("data",i);if(t=/^#EXT-X-CUE-IN:(.*)?$/.exec(e),t)return i={type:"tag",tagType:"cue-in"},t[1]?i.data=t[1]:i.data="",void this.trigger("data",i);if(t=/^#EXT-X-SKIP:(.*)$/.exec(e),t&&t[1])return i={type:"tag",tagType:"skip"},i.attributes=Cl(t[1]),i.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(i.attributes["SKIPPED-SEGMENTS"]=parseInt(i.attributes["SKIPPED-SEGMENTS"],10)),i.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(i.attributes["RECENTLY-REMOVED-DATERANGES"]=i.attributes["RECENTLY-REMOVED-DATERANGES"].split(Sl)),void this.trigger("data",i);if(t=/^#EXT-X-PART:(.*)$/.exec(e),t&&t[1])return i={type:"tag",tagType:"part"},i.attributes=Cl(t[1]),["DURATION"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=parseFloat(i.attributes[e]))})),["INDEPENDENT","GAP"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=/YES/.test(i.attributes[e]))})),i.attributes.hasOwnProperty("BYTERANGE")&&(i.attributes.byterange=Tl(i.attributes.BYTERANGE)),void this.trigger("data",i);if(t=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(e),t&&t[1])return i={type:"tag",tagType:"server-control"},i.attributes=Cl(t[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=parseFloat(i.attributes[e]))})),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=/YES/.test(i.attributes[e]))})),void this.trigger("data",i);if(t=/^#EXT-X-PART-INF:(.*)$/.exec(e),t&&t[1])return i={type:"tag",tagType:"part-inf"},i.attributes=Cl(t[1]),["PART-TARGET"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=parseFloat(i.attributes[e]))})),void this.trigger("data",i);if(t=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(e),t&&t[1])return i={type:"tag",tagType:"preload-hint"},i.attributes=Cl(t[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach((function(e){if(i.attributes.hasOwnProperty(e)){i.attributes[e]=parseInt(i.attributes[e],10);const t="BYTERANGE-LENGTH"===e?"length":"offset";i.attributes.byterange=i.attributes.byterange||{},i.attributes.byterange[t]=i.attributes[e],delete i.attributes[e]}})),void this.trigger("data",i);if(t=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(e),t&&t[1])return i={type:"tag",tagType:"rendition-report"},i.attributes=Cl(t[1]),["LAST-MSN","LAST-PART"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=parseInt(i.attributes[e],10))})),void this.trigger("data",i);if(t=/^#EXT-X-DATERANGE:(.*)$/.exec(e),t&&t[1]){i={type:"tag",tagType:"daterange"},i.attributes=Cl(t[1]),["ID","CLASS"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=String(i.attributes[e]))})),["START-DATE","END-DATE"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=new Date(i.attributes[e]))})),["DURATION","PLANNED-DURATION"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=parseFloat(i.attributes[e]))})),["END-ON-NEXT"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=/YES/i.test(i.attributes[e]))})),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=i.attributes[e].toString(16))}));const e=/^X-([A-Z]+-)+[A-Z]+$/;for(const t in i.attributes){if(!e.test(t))continue;const n=/[0-9A-Fa-f]{6}/g.test(i.attributes[t]),s=/^\d+(\.\d+)?$/.test(i.attributes[t]);i.attributes[t]=n?i.attributes[t].toString(16):s?parseFloat(i.attributes[t]):String(i.attributes[t])}this.trigger("data",i)}else t=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(e),t?this.trigger("data",{type:"tag",tagType:"independent-segments"}):this.trigger("data",{type:"tag",data:e.slice(4)})}}}else this.trigger("data",{type:"comment",text:e.slice(1)})})):this.trigger("data",{type:"uri",uri:e}))}addParser({expression:e,customType:t,dataParser:i,segment:n}){"function"!=typeof i&&(i=e=>e),this.customParsers.push((s=>{if(e.exec(s))return this.trigger("data",{type:"custom",data:i(s),customType:t,segment:n}),!0}))}addTagMapper({expression:e,map:t}){this.tagMappers.push((i=>e.test(i)?t(i):i))}}const Al=function(e){const t={};return Object.keys(e).forEach((function(i){var n;t[(n=i,n.toLowerCase().replace(/-(\w)/g,(e=>e[1].toUpperCase())))]=e[i]})),t},Il=function(e){const{serverControl:t,targetDuration:i,partTargetDuration:n}=e;if(!t)return;const s="#EXT-X-SERVER-CONTROL",o="holdBack",r="partHoldBack",a=i&&3*i,l=n&&2*n;i&&!t.hasOwnProperty(o)&&(t[o]=a,this.trigger("info",{message:`${s} defaulting HOLD-BACK to targetDuration * 3 (${a}).`})),a&&t[o]<a&&(this.trigger("warn",{message:`${s} clamping HOLD-BACK (${t[o]}) to targetDuration * 3 (${a})`}),t[o]=a),n&&!t.hasOwnProperty(r)&&(t[r]=3*n,this.trigger("info",{message:`${s} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${t[r]}).`})),n&&t[r]<l&&(this.trigger("warn",{message:`${s} clamping PART-HOLD-BACK (${t[r]}) to partTargetDuration * 2 (${l}).`}),t[r]=l)};class Ml extends xl{constructor(){super(),this.lineStream=new kl,this.parseStream=new El,this.lineStream.pipe(this.parseStream);const e=this,t=[];let i,n,s={},o=!1;const r=function(){},a={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}};let l=0;this.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};let c=0,d=0;const u={};this.on("end",(()=>{s.uri||!s.parts&&!s.preloadHints||(!s.map&&i&&(s.map=i),!s.key&&n&&(s.key=n),s.timeline||"number"!=typeof l||(s.timeline=l),this.manifest.preloadSegment=s)})),this.parseStream.on("data",(function(h){let p,f;({tag(){({version(){h.version&&(this.manifest.version=h.version)},"allow-cache"(){this.manifest.allowCache=h.allowed,"allowed"in h||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const e={};"length"in h&&(s.byterange=e,e.length=h.length,"offset"in h||(h.offset=c)),"offset"in h&&(s.byterange=e,e.offset=h.offset),c=e.offset+e.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),h.duration>0&&(s.duration=h.duration),0===h.duration&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=t},key(){if(h.attributes)if("NONE"!==h.attributes.METHOD)if(h.attributes.URI){if("com.apple.streamingkeydelivery"===h.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:h.attributes});if("com.microsoft.playready"===h.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.microsoft.playready"]={uri:h.attributes.URI});if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===h.attributes.KEYFORMAT)return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(h.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===h.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==h.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):h.attributes.KEYID&&"0x"===h.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:h.attributes.KEYFORMAT,keyId:h.attributes.KEYID.substring(2)},pssh:wl(h.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}));h.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),n={method:h.attributes.METHOD||"AES-128",uri:h.attributes.URI},void 0!==h.attributes.IV&&(n.iv=h.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else n=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence"(){isFinite(h.number)?this.manifest.mediaSequence=h.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+h.number})},"discontinuity-sequence"(){isFinite(h.number)?(this.manifest.discontinuitySequence=h.number,l=h.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+h.number})},"playlist-type"(){/VOD|EVENT/.test(h.playlistType)?this.manifest.playlistType=h.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+h.playlist})},map(){i={},h.uri&&(i.uri=h.uri),h.byterange&&(i.byterange=h.byterange),n&&(i.key=n)},"stream-inf"(){this.manifest.playlists=t,this.manifest.mediaGroups=this.manifest.mediaGroups||a,h.attributes?(s.attributes||(s.attributes={}),_l(s.attributes,h.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||a,!(h.attributes&&h.attributes.TYPE&&h.attributes["GROUP-ID"]&&h.attributes.NAME))return void this.trigger("warn",{message:"ignoring incomplete or missing media group"});const e=this.manifest.mediaGroups[h.attributes.TYPE];e[h.attributes["GROUP-ID"]]=e[h.attributes["GROUP-ID"]]||{},p=e[h.attributes["GROUP-ID"]],f={default:/yes/i.test(h.attributes.DEFAULT)},f.default?f.autoselect=!0:f.autoselect=/yes/i.test(h.attributes.AUTOSELECT),h.attributes.LANGUAGE&&(f.language=h.attributes.LANGUAGE),h.attributes.URI&&(f.uri=h.attributes.URI),h.attributes["INSTREAM-ID"]&&(f.instreamId=h.attributes["INSTREAM-ID"]),h.attributes.CHARACTERISTICS&&(f.characteristics=h.attributes.CHARACTERISTICS),h.attributes.FORCED&&(f.forced=/yes/i.test(h.attributes.FORCED)),p[h.attributes.NAME]=f},discontinuity(){l+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(t.length)},"program-date-time"(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=h.dateTimeString,this.manifest.dateTimeObject=h.dateTimeObject),s.dateTimeString=h.dateTimeString,s.dateTimeObject=h.dateTimeObject},targetduration(){!isFinite(h.duration)||h.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+h.duration}):(this.manifest.targetDuration=h.duration,Il.call(this,this.manifest))},start(){h.attributes&&!isNaN(h.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:h.attributes["TIME-OFFSET"],precise:h.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out"(){s.cueOut=h.data},"cue-out-cont"(){s.cueOutCont=h.data},"cue-in"(){s.cueIn=h.data},skip(){this.manifest.skip=Al(h.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",h.attributes,["SKIPPED-SEGMENTS"])},part(){o=!0;const e=this.manifest.segments.length,t=Al(h.attributes);s.parts=s.parts||[],s.parts.push(t),t.byterange&&(t.byterange.hasOwnProperty("offset")||(t.byterange.offset=d),d=t.byterange.offset+t.byterange.length);const i=s.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${i} for segment #${e}`,h.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(((e,t)=>{e.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${t} lacks required attribute(s): LAST-PART`})}))},"server-control"(){const e=this.manifest.serverControl=Al(h.attributes);e.hasOwnProperty("canBlockReload")||(e.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),Il.call(this,this.manifest),e.canSkipDateranges&&!e.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const e=this.manifest.segments.length,t=Al(h.attributes),i=t.type&&"PART"===t.type;s.preloadHints=s.preloadHints||[],s.preloadHints.push(t),t.byterange&&(t.byterange.hasOwnProperty("offset")||(t.byterange.offset=i?d:0,i&&(d=t.byterange.offset+t.byterange.length)));const n=s.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${n} for segment #${e}`,h.attributes,["TYPE","URI"]),t.type)for(let i=0;i<s.preloadHints.length-1;i++){const o=s.preloadHints[i];o.type&&o.type===t.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${n} for segment #${e} has the same TYPE ${t.type} as preload hint #${i}`})}},"rendition-report"(){const e=Al(h.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(e);const t=this.manifest.renditionReports.length-1,i=["LAST-MSN","URI"];o&&i.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${t}`,h.attributes,i)},"part-inf"(){this.manifest.partInf=Al(h.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",h.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),Il.call(this,this.manifest)},daterange(){this.manifest.daterange=this.manifest.daterange||[],this.manifest.daterange.push(Al(h.attributes));const e=this.manifest.daterange.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${e}`,h.attributes,["ID","START-DATE"]);const t=this.manifest.daterange[e];t.endDate&&t.startDate&&new Date(t.endDate)<new Date(t.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),t.duration&&t.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),t.plannedDuration&&t.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const i=!!t.endOnNext;if(i&&!t.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),i&&(t.duration||t.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),t.duration&&t.endDate){const i=t.startDate,n=i.setSeconds(i.getSeconds()+t.duration);this.manifest.daterange[e].endDate=new Date(n)}if(t&&!this.manifest.dateTimeString&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),u[t.id]){for(const e in u[t.id])if(u[t.id][e]!==t[e]){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes and same attribute values"});break}}else u[t.id]=t},"independent-segments"(){this.manifest.independentSegments=!0}}[h.tagType]||r).call(e)},uri(){s.uri=h.uri,t.push(s),this.manifest.targetDuration&&!("duration"in s)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),n&&(s.key=n),s.timeline=l,i&&(s.map=i),d=0,s={}},comment(){},custom(){h.segment?(s.custom=s.custom||{},s.custom[h.customType]=h.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[h.customType]=h.data)}})[h.type].call(e)}))}warnOnMissingAttributes_(e,t,i){const n=[];i.forEach((function(e){t.hasOwnProperty(e)||n.push(e)})),n.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${n.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push("\n"),this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var Ol,Dl,Pl={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},Ll=["video","audio","text"],jl=["Video","Audio","Text"],Bl=function(e){return e?e.replace(/avc1\.(\d+)\.(\d+)/i,(function(e,t,i){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(i).toString(16)).slice(-2)})):e},Rl=function(e){void 0===e&&(e="");var t=e.split(","),i=[];return t.forEach((function(e){var t;e=e.trim(),Ll.forEach((function(n){var s=Pl[n].exec(e.toLowerCase());if(s&&!(s.length<=1)){t=n;var o=e.substring(0,s[1].length),r=e.replace(o,"");i.push({type:o,details:r,mediaType:n})}})),t||i.push({type:e,details:"",mediaType:"unknown"})})),i},Nl=function(e){return void 0===e&&(e=""),Pl.audio.test(e.trim().toLowerCase())},Ul=function(e){if(e&&"string"==typeof e){var t,i=e.toLowerCase().split(",").map((function(e){return Bl(e.trim())})),n="video";1===i.length&&Nl(i[0])?n="audio":1===i.length&&(void 0===(t=i[0])&&(t=""),Pl.text.test(t.trim().toLowerCase()))&&(n="application");var s="mp4";return i.every((function(e){return Pl.mp4.test(e)}))?s="mp4":i.every((function(e){return Pl.webm.test(e)}))?s="webm":i.every((function(e){return Pl.ogg.test(e)}))&&(s="ogg"),n+"/"+s+';codecs="'+e+'"'}},Fl=function(e){return void 0===e&&(e=""),al().MediaSource&&al().MediaSource.isTypeSupported&&al().MediaSource.isTypeSupported(Ul(e))||!1},zl=function(e){return void 0===e&&(e=""),e.toLowerCase().split(",").every((function(e){e=e.trim();for(var t=0;t<jl.length;t++)if(Pl["muxer"+jl[t]].test(e))return!0;return!1}))},Hl="mp4a.40.2",Vl=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,ql=/^application\/dash\+xml/i,$l=function(e){return Vl.test(e)?"hls":ql.test(e)?"dash":"application/vnd.videojs.vhs+json"===e?"vhs-json":null},Wl=function(e){return"function"===ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},Gl=function(e){return e instanceof Uint8Array?e:(Array.isArray(e)||Wl(e)||e instanceof ArrayBuffer||(e="number"!=typeof e||"number"==typeof e&&e!=e?0:[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},Yl=al().BigInt||Number,Xl=[Yl("0x1"),Yl("0x100"),Yl("0x10000"),Yl("0x1000000"),Yl("0x100000000"),Yl("0x10000000000"),Yl("0x1000000000000"),Yl("0x100000000000000"),Yl("0x10000000000000000")],Kl=(Ol=new Uint16Array([65484]),255===(Dl=new Uint8Array(Ol.buffer,Ol.byteOffset,Ol.byteLength))[0]||Dl[0],function(e,t){var i=void 0===t?{}:t,n=i.signed,s=void 0!==n&&n,o=i.le,r=void 0!==o&&o;e=Gl(e);var a=r?"reduce":"reduceRight",l=(e[a]?e[a]:Array.prototype[a]).call(e,(function(t,i,n){var s=r?n:Math.abs(n+1-e.length);return t+Yl(i)*Xl[s]}),Yl(0));if(s){var c=Xl[e.length]/Yl(2)-Yl(1);(l=Yl(l))>c&&(l-=c,l-=c,l-=Yl(2))}return Number(l)}),Ql=function(e,t){if("string"!=typeof e&&e&&"function"==typeof e.toString&&(e=e.toString()),"string"!=typeof e)return new Uint8Array;t||(e=unescape(encodeURIComponent(e)));for(var i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i},Zl=function(e,t,i){var n=void 0===i?{}:i,s=n.offset,o=void 0===s?0:s,r=n.mask,a=void 0===r?[]:r;e=Gl(e);var l=(t=Gl(t)).every?t.every:Array.prototype.every;return t.length&&e.length-o>=t.length&&l.call(t,(function(t,i){return t===(a[i]?a[i]&e[o+i]:e[o+i])}))};const Jl=function(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=al().location&&al().location.href||"");var i="function"==typeof al().URL,n=/^\/\//.test(e),s=!al().location&&!/\/\//i.test(e);if(i?e=new(al().URL)(e,al().location||"http://example.com"):/\/\//i.test(e)||(e=bl().buildAbsoluteURL(al().location&&al().location.href||"",e)),i){var o=new URL(t,e);return s?o.href.slice(18):n?o.href.slice(o.protocol.length):o.href}return bl().buildAbsoluteURL(e,t)};var ec=i(6513);const tc=e=>!!e&&"object"==typeof e,ic=(...e)=>e.reduce(((e,t)=>("object"!=typeof t||Object.keys(t).forEach((i=>{Array.isArray(e[i])&&Array.isArray(t[i])?e[i]=e[i].concat(t[i]):tc(e[i])&&tc(t[i])?e[i]=ic(e[i],t[i]):e[i]=t[i]})),e)),{}),nc=e=>Object.keys(e).map((t=>e[t])),sc=e=>e.reduce(((e,t)=>e.concat(t)),[]),oc=e=>{if(!e.length)return[];const t=[];for(let i=0;i<e.length;i++)t.push(e[i]);return t};const rc=({baseUrl:e="",source:t="",range:i="",indexRange:n=""})=>{const s={uri:t,resolvedUri:Jl(e||"",t)};if(i||n){const e=(i||n).split("-");let t,o=al().BigInt?al().BigInt(e[0]):parseInt(e[0],10),r=al().BigInt?al().BigInt(e[1]):parseInt(e[1],10);o<Number.MAX_SAFE_INTEGER&&"bigint"==typeof o&&(o=Number(o)),r<Number.MAX_SAFE_INTEGER&&"bigint"==typeof r&&(r=Number(r)),t="bigint"==typeof r||"bigint"==typeof o?al().BigInt(r)-al().BigInt(o)+al().BigInt(1):r-o+1,"bigint"==typeof t&&t<Number.MAX_SAFE_INTEGER&&(t=Number(t)),s.byterange={length:t,offset:o}}return s},ac=e=>(e&&"number"!=typeof e&&(e=parseInt(e,10)),isNaN(e)?null:e),lc={static(e){const{duration:t,timescale:i=1,sourceDuration:n,periodDuration:s}=e,o=ac(e.endNumber),r=t/i;return"number"==typeof o?{start:0,end:o}:"number"==typeof s?{start:0,end:s/r}:{start:0,end:n/r}},dynamic(e){const{NOW:t,clientOffset:i,availabilityStartTime:n,timescale:s=1,duration:o,periodStart:r=0,minimumUpdatePeriod:a=0,timeShiftBufferDepth:l=1/0}=e,c=ac(e.endNumber),d=(t+i)/1e3,u=n+r,h=d+a-u,p=Math.ceil(h*s/o),f=Math.floor((d-u-l)*s/o),m=Math.floor((d-u)*s/o);return{start:Math.max(0,f),end:"number"==typeof c?c:Math.min(p,m)}}},cc=e=>{const{type:t,duration:i,timescale:n=1,periodDuration:s,sourceDuration:o}=e,{start:r,end:a}=lc[t](e),l=((e,t)=>{const i=[];for(let n=e;n<t;n++)i.push(n);return i})(r,a).map((e=>t=>{const{duration:i,timescale:n=1,periodStart:s,startNumber:o=1}=e;return{number:o+t,duration:i/n,timeline:s,time:t*i}})(e));if("static"===t){const e=l.length-1,t="number"==typeof s?s:o;l[e].duration=t-i/n*e}return l},dc=e=>{const{baseUrl:t,initialization:i={},sourceDuration:n,indexRange:s="",periodStart:o,presentationTime:r,number:a=0,duration:l}=e;if(!t)throw new Error("NO_BASE_URL");const c=rc({baseUrl:t,source:i.sourceURL,range:i.range}),d=rc({baseUrl:t,source:t,indexRange:s});if(d.map=c,l){const t=cc(e);t.length&&(d.duration=t[0].duration,d.timeline=t[0].timeline)}else n&&(d.duration=n,d.timeline=o);return d.presentationTime=r||o,d.number=a,[d]},uc=(e,t,i)=>{const n=e.sidx.map?e.sidx.map:null,s=e.sidx.duration,o=e.timeline||0,r=e.sidx.byterange,a=r.offset+r.length,l=t.timescale,c=t.references.filter((e=>1!==e.referenceType)),d=[],u=e.endList?"static":"dynamic",h=e.sidx.timeline;let p,f=h,m=e.mediaSequence||0;p="bigint"==typeof t.firstOffset?al().BigInt(a)+t.firstOffset:a+t.firstOffset;for(let e=0;e<c.length;e++){const r=t.references[e],a=r.referencedSize,c=r.subsegmentDuration;let g;g="bigint"==typeof p?p+al().BigInt(a)-al().BigInt(1):p+a-1;const v=dc({baseUrl:i,timescale:l,timeline:o,periodStart:h,presentationTime:f,number:m,duration:c,sourceDuration:s,indexRange:`${p}-${g}`,type:u})[0];n&&(v.map=n),d.push(v),p+="bigint"==typeof p?al().BigInt(a):a,f+=c/l,m++}return e.segments=d,e},hc=["AUDIO","SUBTITLES"],pc=e=>{return(t=e,i=({timeline:e})=>e,nc(t.reduce(((e,t)=>(t.forEach((t=>{e[i(t)]=t})),e)),{}))).sort(((e,t)=>e.timeline>t.timeline?1:-1));var t,i},fc=e=>{let t=[];return i=e,hc.forEach((function(e){for(var n in i.mediaGroups[e])for(var s in i.mediaGroups[e][n]){var o=i.mediaGroups[e][n][s];r=o,t=t.concat(r.playlists||[])}var r})),t;var i},mc=({playlist:e,mediaSequence:t})=>{e.mediaSequence=t,e.segments.forEach(((t,i)=>{t.number=e.mediaSequence+i}))},gc=e=>e&&e.uri+"-"+(e=>{let t;return t="bigint"==typeof e.offset||"bigint"==typeof e.length?al().BigInt(e.offset)+al().BigInt(e.length)-al().BigInt(1):e.offset+e.length-1,`${e.offset}-${t}`})(e.byterange),vc=e=>{const t=e.reduce((function(e,t){return e[t.attributes.baseUrl]||(e[t.attributes.baseUrl]=[]),e[t.attributes.baseUrl].push(t),e}),{});let i=[];return Object.values(t).forEach((e=>{const t=nc(e.reduce(((e,t)=>{const i=t.attributes.id+(t.attributes.lang||"");return e[i]?(t.segments&&(t.segments[0]&&(t.segments[0].discontinuity=!0),e[i].segments.push(...t.segments)),t.attributes.contentProtection&&(e[i].attributes.contentProtection=t.attributes.contentProtection)):(e[i]=t,e[i].attributes.timelineStarts=[]),e[i].attributes.timelineStarts.push({start:t.attributes.periodStart,timeline:t.attributes.periodStart}),e}),{}));i=i.concat(t)})),i.map((e=>{var t;return e.discontinuityStarts=(t=e.segments||[],"discontinuity",t.reduce(((e,t,i)=>(t.discontinuity&&e.push(i),e)),[])),e}))},yc=(e,t)=>{const i=gc(e.sidx),n=i&&t[i]&&t[i].sidx;return n&&uc(e,n,e.sidx.resolvedUri),e},bc=(e,t={})=>{if(!Object.keys(t).length)return e;for(const i in e)e[i]=yc(e[i],t);return e},_c=({attributes:e,segments:t,sidx:i,discontinuityStarts:n})=>{const s={attributes:{NAME:e.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:e.width,height:e.height},CODECS:e.codecs,BANDWIDTH:e.bandwidth,"PROGRAM-ID":1},uri:"",endList:"static"===e.type,timeline:e.periodStart,resolvedUri:e.baseUrl||"",targetDuration:e.duration,discontinuityStarts:n,timelineStarts:e.timelineStarts,segments:t};return e.frameRate&&(s.attributes["FRAME-RATE"]=e.frameRate),e.contentProtection&&(s.contentProtection=e.contentProtection),e.serviceLocation&&(s.attributes.serviceLocation=e.serviceLocation),i&&(s.sidx=i),s},xc=({attributes:e})=>"video/mp4"===e.mimeType||"video/webm"===e.mimeType||"video"===e.contentType,wc=({attributes:e})=>"audio/mp4"===e.mimeType||"audio/webm"===e.mimeType||"audio"===e.contentType,kc=({attributes:e})=>"text/vtt"===e.mimeType||"text"===e.contentType,Sc=e=>e?Object.keys(e).reduce(((t,i)=>{const n=e[i];return t.concat(n.playlists)}),[]):[],Tc=({dashPlaylists:e,locations:t,contentSteering:i,sidxMapping:n={},previousManifest:s,eventStream:o})=>{if(!e.length)return{};const{sourceDuration:r,type:a,suggestedPresentationDelay:l,minimumUpdatePeriod:c}=e[0].attributes,d=vc(e.filter(xc)).map(_c),u=vc(e.filter(wc)),h=vc(e.filter(kc)),p=e.map((e=>e.attributes.captionServices)).filter(Boolean),f={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:r,playlists:bc(d,n)};c>=0&&(f.minimumUpdatePeriod=1e3*c),t&&(f.locations=t),i&&(f.contentSteering=i),"dynamic"===a&&(f.suggestedPresentationDelay=l),o&&o.length>0&&(f.eventStream=o);const m=0===f.playlists.length,g=u.length?((e,t={},i=!1)=>{let n;const s=e.reduce(((e,s)=>{const o=s.attributes.role&&s.attributes.role.value||"",r=s.attributes.lang||"";let a=s.attributes.label||"main";if(r&&!s.attributes.label){const e=o?` (${o})`:"";a=`${s.attributes.lang}${e}`}e[a]||(e[a]={language:r,autoselect:!0,default:"main"===o,playlists:[],uri:""});const l=yc((({attributes:e,segments:t,sidx:i,mediaSequence:n,discontinuitySequence:s,discontinuityStarts:o},r)=>{const a={attributes:{NAME:e.id,BANDWIDTH:e.bandwidth,CODECS:e.codecs,"PROGRAM-ID":1},uri:"",endList:"static"===e.type,timeline:e.periodStart,resolvedUri:e.baseUrl||"",targetDuration:e.duration,discontinuitySequence:s,discontinuityStarts:o,timelineStarts:e.timelineStarts,mediaSequence:n,segments:t};return e.contentProtection&&(a.contentProtection=e.contentProtection),e.serviceLocation&&(a.attributes.serviceLocation=e.serviceLocation),i&&(a.sidx=i),r&&(a.attributes.AUDIO="audio",a.attributes.SUBTITLES="subs"),a})(s,i),t);return e[a].playlists.push(l),void 0===n&&"main"===o&&(n=s,n.default=!0),e}),{});return n||(s[Object.keys(s)[0]].default=!0),s})(u,n,m):null,v=h.length?((e,t={})=>e.reduce(((e,i)=>{const n=i.attributes.label||i.attributes.lang||"text";return e[n]||(e[n]={language:n,default:!1,autoselect:!1,playlists:[],uri:""}),e[n].playlists.push(yc((({attributes:e,segments:t,mediaSequence:i,discontinuityStarts:n,discontinuitySequence:s})=>{void 0===t&&(t=[{uri:e.baseUrl,timeline:e.periodStart,resolvedUri:e.baseUrl||"",duration:e.sourceDuration,number:0}],e.duration=e.sourceDuration);const o={NAME:e.id,BANDWIDTH:e.bandwidth,"PROGRAM-ID":1};e.codecs&&(o.CODECS=e.codecs);const r={attributes:o,uri:"",endList:"static"===e.type,timeline:e.periodStart,resolvedUri:e.baseUrl||"",targetDuration:e.duration,timelineStarts:e.timelineStarts,discontinuityStarts:n,discontinuitySequence:s,mediaSequence:i,segments:t};return e.serviceLocation&&(r.attributes.serviceLocation=e.serviceLocation),r})(i),t)),e}),{}))(h,n):null,y=d.concat(Sc(g),Sc(v)),b=y.map((({timelineStarts:e})=>e));var _,x;return f.timelineStarts=pc(b),_=y,x=f.timelineStarts,_.forEach((e=>{e.mediaSequence=0,e.discontinuitySequence=x.findIndex((function({timeline:t}){return t===e.timeline})),e.segments&&e.segments.forEach(((e,t)=>{e.number=t}))})),g&&(f.mediaGroups.AUDIO.audio=g),v&&(f.mediaGroups.SUBTITLES.subs=v),p.length&&(f.mediaGroups["CLOSED-CAPTIONS"].cc=p.reduce(((e,t)=>t?(t.forEach((t=>{const{channel:i,language:n}=t;e[n]={autoselect:!1,default:!1,instreamId:i,language:n},t.hasOwnProperty("aspectRatio")&&(e[n].aspectRatio=t.aspectRatio),t.hasOwnProperty("easyReader")&&(e[n].easyReader=t.easyReader),t.hasOwnProperty("3D")&&(e[n]["3D"]=t["3D"])})),e):e),{})),s?(({oldManifest:e,newManifest:t})=>{const i=e.playlists.concat(fc(e)),n=t.playlists.concat(fc(t));return t.timelineStarts=pc([e.timelineStarts,t.timelineStarts]),(({oldPlaylists:e,newPlaylists:t,timelineStarts:i})=>{t.forEach((t=>{t.discontinuitySequence=i.findIndex((function({timeline:e}){return e===t.timeline}));const n=((e,t)=>{for(let i=0;i<e.length;i++)if(e[i].attributes.NAME===t)return e[i];return null})(e,t.attributes.NAME);if(!n)return;if(t.sidx)return;const s=t.segments[0],o=n.segments.findIndex((function(e){return Math.abs(e.presentationTime-s.presentationTime)<.016666666666666666}));if(-1===o)return mc({playlist:t,mediaSequence:n.mediaSequence+n.segments.length}),t.segments[0].discontinuity=!0,t.discontinuityStarts.unshift(0),void((!n.segments.length&&t.timeline>n.timeline||n.segments.length&&t.timeline>n.segments[n.segments.length-1].timeline)&&t.discontinuitySequence--);n.segments[o].discontinuity&&!s.discontinuity&&(s.discontinuity=!0,t.discontinuityStarts.unshift(0),t.discontinuitySequence--),mc({playlist:t,mediaSequence:n.segments[o].number})}))})({oldPlaylists:i,newPlaylists:n,timelineStarts:t.timelineStarts}),t})({oldManifest:s,newManifest:f}):f},Cc=(e,t,i)=>{const{NOW:n,clientOffset:s,availabilityStartTime:o,timescale:r=1,periodStart:a=0,minimumUpdatePeriod:l=0}=e,c=(n+s)/1e3+l-(o+a);return Math.ceil((c*r-t)/i)},Ec=(e,t)=>{const{type:i,minimumUpdatePeriod:n=0,media:s="",sourceDuration:o,timescale:r=1,startNumber:a=1,periodStart:l}=e,c=[];let d=-1;for(let u=0;u<t.length;u++){const h=t[u],p=h.d,f=h.r||0,m=h.t||0;let g;if(d<0&&(d=m),m&&m>d&&(d=m),f<0){const a=u+1;g=a===t.length?"dynamic"===i&&n>0&&s.indexOf("$Number$")>0?Cc(e,d,p):(o*r-d)/p:(t[a].t-d)/p}else g=f+1;const v=a+c.length+g;let y=a+c.length;for(;y<v;)c.push({number:y,duration:p/r,time:d,timeline:l}),d+=p,y++}return c},Ac=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Ic=(e,t)=>e.replace(Ac,(e=>(t,i,n,s)=>{if("$$"===t)return"$";if(void 0===e[i])return t;const o=""+e[i];return"RepresentationID"===i?o:(s=n?parseInt(s,10):1,o.length>=s?o:`${new Array(s-o.length+1).join("0")}${o}`)})(t)),Mc=(e,t)=>{const i={RepresentationID:e.id,Bandwidth:e.bandwidth||0},{initialization:n={sourceURL:"",range:""}}=e,s=rc({baseUrl:e.baseUrl,source:Ic(n.sourceURL,i),range:n.range}),o=((e,t)=>e.duration||t?e.duration?cc(e):Ec(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}])(e,t);return o.map((t=>{i.Number=t.number,i.Time=t.time;const n=Ic(e.media||"",i),o=e.timescale||1,r=e.presentationTimeOffset||0,a=e.periodStart+(t.time-r)/o;return{uri:n,timeline:t.timeline,duration:t.duration,resolvedUri:Jl(e.baseUrl||"",n),map:s,number:t.number,presentationTime:a}}))},Oc=(e,t)=>{const{duration:i,segmentUrls:n=[],periodStart:s}=e;if(!i&&!t||i&&t)throw new Error("SEGMENT_TIME_UNSPECIFIED");const o=n.map((t=>((e,t)=>{const{baseUrl:i,initialization:n={}}=e,s=rc({baseUrl:i,source:n.sourceURL,range:n.range}),o=rc({baseUrl:i,source:t.media,range:t.mediaRange});return o.map=s,o})(e,t)));let r;i&&(r=cc(e)),t&&(r=Ec(e,t));return r.map(((t,i)=>{if(o[i]){const n=o[i],r=e.timescale||1,a=e.presentationTimeOffset||0;return n.timeline=t.timeline,n.duration=t.duration,n.number=t.number,n.presentationTime=s+(t.time-a)/r,n}})).filter((e=>e))},Dc=({attributes:e,segmentInfo:t})=>{let i,n;t.template?(n=Mc,i=ic(e,t.template)):t.base?(n=dc,i=ic(e,t.base)):t.list&&(n=Oc,i=ic(e,t.list));const s={attributes:e};if(!n)return s;const o=n(i,t.segmentTimeline);if(i.duration){const{duration:e,timescale:t=1}=i;i.duration=e/t}else o.length?i.duration=o.reduce(((e,t)=>Math.max(e,Math.ceil(t.duration))),0):i.duration=0;return s.attributes=i,s.segments=o,t.base&&i.indexRange&&(s.sidx=o[0],s.segments=[]),s},Pc=(e,t)=>oc(e.childNodes).filter((({tagName:e})=>e===t)),Lc=e=>e.textContent.trim(),jc=e=>{const t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!t)return 0;const[i,n,s,o,r,a]=t.slice(1);return 31536e3*parseFloat(i||0)+2592e3*parseFloat(n||0)+86400*parseFloat(s||0)+3600*parseFloat(o||0)+60*parseFloat(r||0)+parseFloat(a||0)},Bc={mediaPresentationDuration:e=>jc(e),availabilityStartTime(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t=e)&&(t+="Z"),Date.parse(t)/1e3;var t},minimumUpdatePeriod:e=>jc(e),suggestedPresentationDelay:e=>jc(e),type:e=>e,timeShiftBufferDepth:e=>jc(e),start:e=>jc(e),width:e=>parseInt(e,10),height:e=>parseInt(e,10),bandwidth:e=>parseInt(e,10),frameRate:e=>(e=>parseFloat(e.split("/").reduce(((e,t)=>e/t))))(e),startNumber:e=>parseInt(e,10),timescale:e=>parseInt(e,10),presentationTimeOffset:e=>parseInt(e,10),duration(e){const t=parseInt(e,10);return isNaN(t)?jc(e):t},d:e=>parseInt(e,10),t:e=>parseInt(e,10),r:e=>parseInt(e,10),presentationTime:e=>parseInt(e,10),DEFAULT:e=>e},Rc=e=>e&&e.attributes?oc(e.attributes).reduce(((e,t)=>{const i=Bc[t.name]||Bc.DEFAULT;return e[t.name]=i(t.value),e}),{}):{},Nc={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Uc=(e,t)=>t.length?sc(e.map((function(e){return t.map((function(t){const i=Lc(t),n=Jl(e.baseUrl,i),s=ic(Rc(t),{baseUrl:n});return n!==i&&!s.serviceLocation&&e.serviceLocation&&(s.serviceLocation=e.serviceLocation),s}))}))):e,Fc=e=>{const t=Pc(e,"SegmentTemplate")[0],i=Pc(e,"SegmentList")[0],n=i&&Pc(i,"SegmentURL").map((e=>ic({tag:"SegmentURL"},Rc(e)))),s=Pc(e,"SegmentBase")[0],o=i||t,r=o&&Pc(o,"SegmentTimeline")[0],a=i||s||t,l=a&&Pc(a,"Initialization")[0],c=t&&Rc(t);c&&l?c.initialization=l&&Rc(l):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});const d={template:c,segmentTimeline:r&&Pc(r,"S").map((e=>Rc(e))),list:i&&ic(Rc(i),{segmentUrls:n,initialization:Rc(l)}),base:s&&ic(Rc(s),{initialization:Rc(l)})};return Object.keys(d).forEach((e=>{d[e]||delete d[e]})),d},zc=e=>sc(Pc(e.node,"EventStream").map((t=>{const i=Rc(t),n=i.schemeIdUri;return Pc(t,"Event").map((t=>{const s=Rc(t),o=s.presentationTime||0,r=i.timescale||1,a=s.duration||0,l=o/r+e.attributes.start;return{schemeIdUri:n,value:i.value,id:s.id,start:l,end:l+a/r,messageData:Lc(t)||s.messageData,contentEncoding:i.contentEncoding,presentationTimeOffset:i.presentationTimeOffset||0}}))}))),Hc=(e,t)=>(i,n)=>{const s=Uc(t,Pc(i.node,"BaseURL")),o=ic(e,{periodStart:i.attributes.start});"number"==typeof i.attributes.duration&&(o.periodDuration=i.attributes.duration);const r=Pc(i.node,"AdaptationSet"),a=Fc(i.node);return sc(r.map(((e,t,i)=>n=>{const s=Rc(n),o=Uc(t,Pc(n,"BaseURL")),r=Pc(n,"Role")[0],a={role:Rc(r)};let l=ic(e,s,a);const c=Pc(n,"Accessibility")[0],d="urn:scte:dash:cc:cea-608:2015"===(u=Rc(c)).schemeIdUri?("string"!=typeof u.value?[]:u.value.split(";")).map((e=>{let t,i;return i=e,/^CC\d=/.test(e)?[t,i]=e.split("="):/^CC\d$/.test(e)&&(t=e),{channel:t,language:i}})):"urn:scte:dash:cc:cea-708:2015"===u.schemeIdUri?("string"!=typeof u.value?[]:u.value.split(";")).map((e=>{const t={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(e)){const[i,n=""]=e.split("=");t.channel=i,t.language=e,n.split(",").forEach((e=>{const[i,n]=e.split(":");"lang"===i?t.language=n:"er"===i?t.easyReader=Number(n):"war"===i?t.aspectRatio=Number(n):"3D"===i&&(t["3D"]=Number(n))}))}else t.language=e;return t.channel&&(t.channel="SERVICE"+t.channel),t})):void 0;var u;d&&(l=ic(l,{captionServices:d}));const h=Pc(n,"Label")[0];if(h&&h.childNodes.length){const e=h.childNodes[0].nodeValue.trim();l=ic(l,{label:e})}const p=Pc(n,"ContentProtection").reduce(((e,t)=>{const i=Rc(t);i.schemeIdUri&&(i.schemeIdUri=i.schemeIdUri.toLowerCase());const n=Nc[i.schemeIdUri];if(n){e[n]={attributes:i};const s=Pc(t,"cenc:pssh")[0];if(s){const t=Lc(s);e[n].pssh=t&&wl(t)}}return e}),{});Object.keys(p).length&&(l=ic(l,{contentProtection:p}));const f=Fc(n),m=Pc(n,"Representation"),g=ic(i,f);return sc(m.map(((e,t,i)=>n=>{const s=Pc(n,"BaseURL"),o=Uc(t,s),r=ic(e,Rc(n)),a=Fc(n);return o.map((e=>({segmentInfo:ic(i,a),attributes:ic(r,e)})))})(l,o,g)))})(o,s,a)))},Vc=(e,t)=>{if(e.length>1&&t({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!e.length)return null;const i=ic({serverURL:Lc(e[0])},Rc(e[0]));return i.queryBeforeStart="true"===i.queryBeforeStart,i},qc=e=>{if(""===e)throw new Error("DASH_EMPTY_MANIFEST");const t=new ec.DOMParser;let i,n;try{i=t.parseFromString(e,"application/xml"),n=i&&"MPD"===i.documentElement.tagName?i.documentElement:null}catch(e){}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error("DASH_INVALID_XML");return n};var $c,Wc=i(6474),Gc=i.n(Wc),Yc=Gl([73,68,51]),Xc=function e(t,i){return void 0===i&&(i=0),(t=Gl(t)).length-i<10||!Zl(t,Yc,{offset:i})?i:(i+=function(e,t){void 0===t&&(t=0);var i=(e=Gl(e))[t+5],n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&i)>>4?n+20:n+10}(t,i),e(t,i))},Kc=(new Uint8Array([79,112,117,115,72,101,97,100]),function(e){return"string"==typeof e?Ql(e):e}),Qc=function(e){e=Gl(e);for(var t=[],i=0;e.length>i;){var n=e[i],s=0,o=0,r=e[++o];for(o++;128&r;)s=(127&r)<<7,r=e[o],o++;s+=127&r;for(var a=0;a<$c.length;a++){var l=$c[a],c=l.id,d=l.parser;if(n===c){t.push(d(e.subarray(o,o+s)));break}}i+=s+o}return t};$c=[{id:3,parser:function(e){var t={tag:3,id:e[0]<<8|e[1],flags:e[2],size:3,dependsOnEsId:0,ocrEsId:0,descriptors:[],url:""};if(128&t.flags&&(t.dependsOnEsId=e[t.size]<<8|e[t.size+1],t.size+=2),64&t.flags){var i=e[t.size];t.url=function(e){if(!e)return"";e=Array.prototype.slice.call(e);var t=String.fromCharCode.apply(null,Gl(e));try{return decodeURIComponent(escape(t))}catch(e){}return t}(e.subarray(t.size+1,t.size+1+i)),t.size+=i}return 32&t.flags&&(t.ocrEsId=e[t.size]<<8|e[t.size+1],t.size+=2),t.descriptors=Qc(e.subarray(t.size))||[],t}},{id:4,parser:function(e){return{tag:4,oti:e[0],streamType:e[1],bufferSize:e[2]<<16|e[3]<<8|e[4],maxBitrate:e[5]<<24|e[6]<<16|e[7]<<8|e[8],avgBitrate:e[9]<<24|e[10]<<16|e[11]<<8|e[12],descriptors:Qc(e.subarray(13))}}},{id:5,parser:function(e){return{tag:5,bytes:e}}},{id:6,parser:function(e){return{tag:6,bytes:e}}}];var Zc=function e(t,i,n){void 0===n&&(n=!1),i=function(e){return Array.isArray(e)?e.map((function(e){return Kc(e)})):[Kc(e)]}(i),t=Gl(t);var s=[];if(!i.length)return s;for(var o=0;o<t.length;){var r=(t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3])>>>0,a=t.subarray(o+4,o+8);if(0===r)break;var l=o+r;if(l>t.length){if(n)break;l=t.length}var c=t.subarray(o+8,l);Zl(a,i[0])&&(1===i.length?s.push(c):s.push.apply(s,e(c,i.slice(1),n))),o=l}return s},Jc={EBML:Gl([26,69,223,163]),DocType:Gl([66,130]),Segment:Gl([24,83,128,103]),SegmentInfo:Gl([21,73,169,102]),Tracks:Gl([22,84,174,107]),Track:Gl([174]),TrackNumber:Gl([215]),DefaultDuration:Gl([35,227,131]),TrackEntry:Gl([174]),TrackType:Gl([131]),FlagDefault:Gl([136]),CodecID:Gl([134]),CodecPrivate:Gl([99,162]),VideoTrack:Gl([224]),AudioTrack:Gl([225]),Cluster:Gl([31,67,182,117]),Timestamp:Gl([231]),TimestampScale:Gl([42,215,177]),BlockGroup:Gl([160]),BlockDuration:Gl([155]),Block:Gl([161]),SimpleBlock:Gl([163])},ed=[128,64,32,16,8,4,2,1],td=function(e,t,i,n){void 0===i&&(i=!0),void 0===n&&(n=!1);var s=function(e){for(var t=1,i=0;i<ed.length&&!(e&ed[i]);i++)t++;return t}(e[t]),o=e.subarray(t,t+s);return i&&((o=Array.prototype.slice.call(e,t,t+s))[0]^=ed[s-1]),{length:s,value:Kl(o,{signed:n}),bytes:o}},id=function e(t){return"string"==typeof t?t.match(/.{1,2}/g).map((function(t){return e(t)})):"number"==typeof t?function(e,t){var i=(void 0===t?{}:t).le,n=void 0!==i&&i;("bigint"!=typeof e&&"number"!=typeof e||"number"==typeof e&&e!=e)&&(e=0);for(var s,o=(s=e=Yl(e),Math.ceil(function(e){return e.toString(2).length}(s)/8)),r=new Uint8Array(new ArrayBuffer(o)),a=0;a<o;a++){var l=n?a:Math.abs(a+1-r.length);r[l]=Number(e/Xl[a]&Yl(255)),e<0&&(r[l]=Math.abs(~r[l]),r[l]-=0===a?1:2)}return r}(t):t},nd=function e(t,i,n){if(n>=i.length)return i.length;var s=td(i,n,!1);if(Zl(t.bytes,s.bytes))return n;var o=td(i,n+s.length);return e(t,i,n+o.length+o.value+s.length)},sd=function e(t,i){i=function(e){return Array.isArray(e)?e.map((function(e){return id(e)})):[id(e)]}(i),t=Gl(t);var n=[];if(!i.length)return n;for(var s=0;s<t.length;){var o=td(t,s,!1),r=td(t,s+o.length),a=s+o.length+r.length;127===r.value&&(r.value=nd(o,t,a),r.value!==t.length&&(r.value-=a));var l=a+r.value>t.length?t.length:a+r.value,c=t.subarray(a,l);Zl(i[0],o.bytes)&&(1===i.length?n.push(c):n=n.concat(e(c,i.slice(1)))),s+=o.length+r.length+c.length}return n},od=Gl([0,0,0,1]),rd=Gl([0,0,1]),ad=Gl([0,0,3]),ld=function(e){for(var t=[],i=1;i<e.length-2;)Zl(e.subarray(i,i+3),ad)&&(t.push(i+2),i++),i++;if(0===t.length)return e;var n=e.length-t.length,s=new Uint8Array(n),o=0;for(i=0;i<n;o++,i++)o===t[0]&&(o++,t.shift()),s[i]=e[o];return s},cd=function(e,t,i,n){void 0===n&&(n=1/0),e=Gl(e),i=[].concat(i);for(var s,o=0,r=0;o<e.length&&(r<n||s);){var a=void 0;if(Zl(e.subarray(o),od)?a=4:Zl(e.subarray(o),rd)&&(a=3),a){if(r++,s)return ld(e.subarray(s,o));var l=void 0;"h264"===t?l=31&e[o+a]:"h265"===t&&(l=e[o+a]>>1&63),-1!==i.indexOf(l)&&(s=o+a),o+=a+("h264"===t?1:2)}else o++}return e.subarray(0,0)},dd={webm:Gl([119,101,98,109]),matroska:Gl([109,97,116,114,111,115,107,97]),flac:Gl([102,76,97,67]),ogg:Gl([79,103,103,83]),ac3:Gl([11,119]),riff:Gl([82,73,70,70]),avi:Gl([65,86,73]),wav:Gl([87,65,86,69]),"3gp":Gl([102,116,121,112,51,103]),mp4:Gl([102,116,121,112]),fmp4:Gl([115,116,121,112]),mov:Gl([102,116,121,112,113,116]),moov:Gl([109,111,111,118]),moof:Gl([109,111,111,102])},ud={aac:function(e){var t=Xc(e);return Zl(e,[255,16],{offset:t,mask:[255,22]})},mp3:function(e){var t=Xc(e);return Zl(e,[255,2],{offset:t,mask:[255,6]})},webm:function(e){var t=sd(e,[Jc.EBML,Jc.DocType])[0];return Zl(t,dd.webm)},mkv:function(e){var t=sd(e,[Jc.EBML,Jc.DocType])[0];return Zl(t,dd.matroska)},mp4:function(e){return!ud["3gp"](e)&&!ud.mov(e)&&(!(!Zl(e,dd.mp4,{offset:4})&&!Zl(e,dd.fmp4,{offset:4}))||!(!Zl(e,dd.moof,{offset:4})&&!Zl(e,dd.moov,{offset:4}))||void 0)},mov:function(e){return Zl(e,dd.mov,{offset:4})},"3gp":function(e){return Zl(e,dd["3gp"],{offset:4})},ac3:function(e){var t=Xc(e);return Zl(e,dd.ac3,{offset:t})},ts:function(e){if(e.length<189&&e.length>=1)return 71===e[0];for(var t=0;t+188<e.length&&t<188;){if(71===e[t]&&71===e[t+188])return!0;t+=1}return!1},flac:function(e){var t=Xc(e);return Zl(e,dd.flac,{offset:t})},ogg:function(e){return Zl(e,dd.ogg)},avi:function(e){return Zl(e,dd.riff)&&Zl(e,dd.avi,{offset:8})},wav:function(e){return Zl(e,dd.riff)&&Zl(e,dd.wav,{offset:8})},h264:function(e){return function(e,t,i){return cd(e,"h264",7,3)}(e).length},h265:function(e){return function(e,t,i){return cd(e,"h265",[32,33],3)}(e).length}},hd=Object.keys(ud).filter((function(e){return"ts"!==e&&"h264"!==e&&"h265"!==e})).concat(["ts","h264","h265"]);hd.forEach((function(e){var t=ud[e];ud[e]=function(e){return t(Gl(e))}}));var pd=ud,fd=function(e){e=Gl(e);for(var t=0;t<hd.length;t++){var i=hd[t];if(pd[i](e))return i}return""},md=i(4860),gd="8.5.2";const vd={},yd=function(e,t){return vd[e]=vd[e]||[],t&&(vd[e]=vd[e].concat(t)),vd[e]},bd=function(e,t){const i=yd(e).indexOf(t);return!(i<=-1||(vd[e]=vd[e].slice(),vd[e].splice(i,1),0))},_d={prefixed:!0},xd=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],wd=xd[0];let kd;for(let e=0;e<xd.length;e++)if(xd[e][1]in cl()){kd=xd[e];break}if(kd){for(let e=0;e<kd.length;e++)_d[wd[e]]=kd[e];_d.prefixed=kd[0]!==wd[0]}let Sd=[];const Td=function e(t){let i,n="info";const s=function(...e){i("log",n,e)};return i=((e,t)=>(i,n,s)=>{const o=t.levels[n],r=new RegExp(`^(${o})$`);if("log"!==i&&s.unshift(i.toUpperCase()+":"),s.unshift(e+":"),Sd){Sd.push([].concat(s));const e=Sd.length-1e3;Sd.splice(0,e>0?e:0)}if(!al().console)return;let a=al().console[i];a||"debug"!==i||(a=al().console.info||al().console.log),a&&o&&r.test(i)&&a[Array.isArray(s)?"apply":"call"](al().console,s)})(t,s),s.createLogger=i=>e(t+": "+i),s.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:n},s.level=e=>{if("string"==typeof e){if(!s.levels.hasOwnProperty(e))throw new Error(`"${e}" in not a valid log level`);n=e}return n},(s.history=()=>Sd?[].concat(Sd):[]).filter=e=>(Sd||[]).filter((t=>new RegExp(`.*${e}.*`).test(t[0]))),s.history.clear=()=>{Sd&&(Sd.length=0)},s.history.disable=()=>{null!==Sd&&(Sd.length=0,Sd=null)},s.history.enable=()=>{null===Sd&&(Sd=[])},s.error=(...e)=>i("error",n,e),s.warn=(...e)=>i("warn",n,e),s.debug=(...e)=>i("debug",n,e),s}("VIDEOJS"),Cd=Td.createLogger,Ed=Object.prototype.toString,Ad=function(e){return Od(e)?Object.keys(e):[]};function Id(e,t){Ad(e).forEach((i=>t(e[i],i)))}function Md(e,t,i=0){return Ad(e).reduce(((i,n)=>t(i,e[n],n)),i)}function Od(e){return!!e&&"object"==typeof e}function Dd(e){return Od(e)&&"[object Object]"===Ed.call(e)&&e.constructor===Object}function Pd(...e){const t={};return e.forEach((e=>{e&&Id(e,((e,i)=>{Dd(e)?(Dd(t[i])||(t[i]={}),t[i]=Pd(t[i],e)):t[i]=e}))})),t}function Ld(e={}){const t=[];for(const i in e)if(e.hasOwnProperty(i)){const n=e[i];t.push(n)}return t}function jd(e,t,i,n=!0){const s=i=>Object.defineProperty(e,t,{value:i,enumerable:!0,writable:!0}),o={configurable:!0,enumerable:!0,get(){const e=i();return s(e),e}};return n&&(o.set=s),Object.defineProperty(e,t,o)}var Bd=Object.freeze({__proto__:null,each:Id,reduce:Md,isObject:Od,isPlain:Dd,merge:Pd,values:Ld,defineLazyProperty:jd});let Rd,Nd=!1,Ud=null,Fd=!1,zd=!1,Hd=!1,Vd=!1,qd=!1,$d=null,Wd=null,Gd=null,Yd=!1,Xd=!1,Kd=!1,Qd=!1;const Zd=Boolean(su()&&("ontouchstart"in al()||al().navigator.maxTouchPoints||al().DocumentTouch&&al().document instanceof al().DocumentTouch)),Jd=al().navigator&&al().navigator.userAgentData;if(Jd&&(Fd="Android"===Jd.platform,Hd=Boolean(Jd.brands.find((e=>"Microsoft Edge"===e.brand))),Vd=Boolean(Jd.brands.find((e=>"Chromium"===e.brand))),qd=!Hd&&Vd,$d=Wd=(Jd.brands.find((e=>"Chromium"===e.brand))||{}).version||null,Xd="Windows"===Jd.platform),!Vd){const e=al().navigator&&al().navigator.userAgent||"";Nd=/iPod/i.test(e),Ud=function(){const t=e.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),Fd=/Android/i.test(e),Rd=function(){const t=e.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;const i=t[1]&&parseFloat(t[1]),n=t[2]&&parseFloat(t[2]);return i&&n?parseFloat(t[1]+"."+t[2]):i||null}(),zd=/Firefox/i.test(e),Hd=/Edg/i.test(e),Vd=/Chrome/i.test(e)||/CriOS/i.test(e),qd=!Hd&&Vd,$d=Wd=function(){const t=e.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),Gd=function(){const t=/MSIE\s(\d+)\.\d/.exec(e);let i=t&&parseFloat(t[1]);return!i&&/Trident\/7.0/i.test(e)&&/rv:11.0/.test(e)&&(i=11),i}(),Yd=/Safari/i.test(e)&&!qd&&!Fd&&!Hd,Xd=/Windows/i.test(e),Kd=/iPad/i.test(e)||Yd&&Zd&&!/iPhone/i.test(e),Qd=/iPhone/i.test(e)&&!Kd}const eu=Qd||Kd||Nd,tu=(Yd||eu)&&!qd;var iu=Object.freeze({__proto__:null,get IS_IPOD(){return Nd},get IOS_VERSION(){return Ud},get IS_ANDROID(){return Fd},get ANDROID_VERSION(){return Rd},get IS_FIREFOX(){return zd},get IS_EDGE(){return Hd},get IS_CHROMIUM(){return Vd},get IS_CHROME(){return qd},get CHROMIUM_VERSION(){return $d},get CHROME_VERSION(){return Wd},get IE_VERSION(){return Gd},get IS_SAFARI(){return Yd},get IS_WINDOWS(){return Xd},get IS_IPAD(){return Kd},get IS_IPHONE(){return Qd},TOUCH_ENABLED:Zd,IS_IOS:eu,IS_ANY_SAFARI:tu});function nu(e){return"string"==typeof e&&Boolean(e.trim())}function su(){return cl()===al().document}function ou(e){return Od(e)&&1===e.nodeType}function ru(){try{return al().parent!==al().self}catch(e){return!0}}function au(e){return function(t,i){if(!nu(t))return cl()[e](null);nu(i)&&(i=cl().querySelector(i));const n=ou(i)?i:cl();return n[e]&&n[e](t)}}function lu(e="div",t={},i={},n){const s=cl().createElement(e);return Object.getOwnPropertyNames(t).forEach((function(e){const i=t[e];"textContent"===e?cu(s,i):s[e]===i&&"tabIndex"!==e||(s[e]=i)})),Object.getOwnPropertyNames(i).forEach((function(e){s.setAttribute(e,i[e])})),n&&Au(s,n),s}function cu(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function du(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function uu(e,t){return function(e){if(e.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}(t),e.classList.contains(t)}function hu(e,...t){return e.classList.add(...t.reduce(((e,t)=>e.concat(t.split(/\s+/))),[])),e}function pu(e,...t){return e?(e.classList.remove(...t.reduce(((e,t)=>e.concat(t.split(/\s+/))),[])),e):(Td.warn("removeClass was called with an element that doesn't exist"),null)}function fu(e,t,i){return"function"==typeof i&&(i=i(e,t)),"boolean"!=typeof i&&(i=void 0),t.split(/\s+/).forEach((t=>e.classList.toggle(t,i))),e}function mu(e,t){Object.getOwnPropertyNames(t).forEach((function(i){const n=t[i];null==n||!1===n?e.removeAttribute(i):e.setAttribute(i,!0===n?"":n)}))}function gu(e){const t={},i=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(e&&e.attributes&&e.attributes.length>0){const n=e.attributes;for(let e=n.length-1;e>=0;e--){const s=n[e].name;let o=n[e].value;i.includes(s)&&(o=null!==o),t[s]=o}}return t}function vu(e,t){return e.getAttribute(t)}function yu(e,t,i){e.setAttribute(t,i)}function bu(e,t){e.removeAttribute(t)}function _u(){cl().body.focus(),cl().onselectstart=function(){return!1}}function xu(){cl().onselectstart=function(){return!0}}function wu(e){if(e&&e.getBoundingClientRect&&e.parentNode){const t=e.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach((e=>{void 0!==t[e]&&(i[e]=t[e])})),i.height||(i.height=parseFloat(Pu(e,"height"))),i.width||(i.width=parseFloat(Pu(e,"width"))),i}}function ku(e){if(!e||e&&!e.offsetParent)return{left:0,top:0,width:0,height:0};const t=e.offsetWidth,i=e.offsetHeight;let n=0,s=0;for(;e.offsetParent&&e!==cl()[_d.fullscreenElement];)n+=e.offsetLeft,s+=e.offsetTop,e=e.offsetParent;return{left:n,top:s,width:t,height:i}}function Su(e,t){const i={x:0,y:0};if(eu){let t=e;for(;t&&"html"!==t.nodeName.toLowerCase();){const e=Pu(t,"transform");if(/^matrix/.test(e)){const t=e.slice(7,-1).split(/,\s/).map(Number);i.x+=t[4],i.y+=t[5]}else if(/^matrix3d/.test(e)){const t=e.slice(9,-1).split(/,\s/).map(Number);i.x+=t[12],i.y+=t[13]}t=t.parentNode}}const n={},s=ku(t.target),o=ku(e),r=o.width,a=o.height;let l=t.offsetY-(o.top-s.top),c=t.offsetX-(o.left-s.left);return t.changedTouches&&(c=t.changedTouches[0].pageX-o.left,l=t.changedTouches[0].pageY+o.top,eu&&(c-=i.x,l-=i.y)),n.y=1-Math.max(0,Math.min(1,l/a)),n.x=Math.max(0,Math.min(1,c/r)),n}function Tu(e){return Od(e)&&3===e.nodeType}function Cu(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function Eu(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map((e=>("function"==typeof e&&(e=e()),ou(e)||Tu(e)?e:"string"==typeof e&&/\S/.test(e)?cl().createTextNode(e):void 0))).filter((e=>e))}function Au(e,t){return Eu(t).forEach((t=>e.appendChild(t))),e}function Iu(e,t){return Au(Cu(e),t)}function Mu(e){return void 0===e.button&&void 0===e.buttons||0===e.button&&void 0===e.buttons||"mouseup"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons}const Ou=au("querySelector"),Du=au("querySelectorAll");function Pu(e,t){if(!e||!t)return"";if("function"==typeof al().getComputedStyle){let i;try{i=al().getComputedStyle(e)}catch(e){return""}return i?i.getPropertyValue(t)||i[t]:""}return""}function Lu(e){[...cl().styleSheets].forEach((t=>{try{const i=[...t.cssRules].map((e=>e.cssText)).join(""),n=cl().createElement("style");n.textContent=i,e.document.head.appendChild(n)}catch(i){const n=cl().createElement("link");n.rel="stylesheet",n.type=t.type,n.media=t.media.mediaText,n.href=t.href,e.document.head.appendChild(n)}}))}var ju=Object.freeze({__proto__:null,isReal:su,isEl:ou,isInFrame:ru,createEl:lu,textContent:cu,prependTo:du,hasClass:uu,addClass:hu,removeClass:pu,toggleClass:fu,setAttributes:mu,getAttributes:gu,getAttribute:vu,setAttribute:yu,removeAttribute:bu,blockTextSelection:_u,unblockTextSelection:xu,getBoundingClientRect:wu,findPosition:ku,getPointerPosition:Su,isTextNode:Tu,emptyEl:Cu,normalizeContent:Eu,appendContent:Au,insertContent:Iu,isSingleLeftClick:Mu,$:Ou,$$:Du,computedStyle:Pu,copyStyleSheetsToWindow:Lu});let Bu,Ru=!1;const Nu=function(){if(!1===Bu.options.autoSetup)return;const e=Array.prototype.slice.call(cl().getElementsByTagName("video")),t=Array.prototype.slice.call(cl().getElementsByTagName("audio")),i=Array.prototype.slice.call(cl().getElementsByTagName("video-js")),n=e.concat(t,i);if(n&&n.length>0)for(let e=0,t=n.length;e<t;e++){const t=n[e];if(!t||!t.getAttribute){Uu(1);break}void 0===t.player&&null!==t.getAttribute("data-setup")&&Bu(t)}else Ru||Uu(1)};function Uu(e,t){su()&&(t&&(Bu=t),al().setTimeout(Nu,e))}function Fu(){Ru=!0,al().removeEventListener("load",Fu)}su()&&("complete"===cl().readyState?Fu():al().addEventListener("load",Fu));const zu=function(e){const t=cl().createElement("style");return t.className=e,t},Hu=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t};var Vu=new WeakMap;let qu,$u=3;function Wu(){return $u++}function Gu(e,t){if(!Vu.has(e))return;const i=Vu.get(e);0===i.handlers[t].length&&(delete i.handlers[t],e.removeEventListener?e.removeEventListener(t,i.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===Object.getOwnPropertyNames(i).length&&Vu.delete(e)}function Yu(e,t,i,n){i.forEach((function(i){e(t,i,n)}))}function Xu(e){if(e.fixed_)return e;function t(){return!0}function i(){return!1}if(!e||!e.isPropagationStopped||!e.isImmediatePropagationStopped){const n=e||al().event;e={};for(const t in n)"layerX"!==t&&"layerY"!==t&&"keyLocation"!==t&&"webkitMovementX"!==t&&"webkitMovementY"!==t&&"path"!==t&&("returnValue"===t&&n.preventDefault||(e[t]=n[t]));if(e.target||(e.target=e.srcElement||cl()),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){n.preventDefault&&n.preventDefault(),e.returnValue=!1,n.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),e.cancelBubble=!0,n.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=i,e.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=i,null!==e.clientX&&void 0!==e.clientX){const t=cl().documentElement,i=cl().body;e.pageX=e.clientX+(t&&t.scrollLeft||i&&i.scrollLeft||0)-(t&&t.clientLeft||i&&i.clientLeft||0),e.pageY=e.clientY+(t&&t.scrollTop||i&&i.scrollTop||0)-(t&&t.clientTop||i&&i.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e.fixed_=!0,e}const Ku=function(){if("boolean"!=typeof qu){qu=!1;try{const e=Object.defineProperty({},"passive",{get(){qu=!0}});al().addEventListener("test",null,e),al().removeEventListener("test",null,e)}catch(e){}}return qu},Qu=["touchstart","touchmove"];function Zu(e,t,i){if(Array.isArray(t))return Yu(Zu,e,t,i);Vu.has(e)||Vu.set(e,{});const n=Vu.get(e);if(n.handlers||(n.handlers={}),n.handlers[t]||(n.handlers[t]=[]),i.guid||(i.guid=Wu()),n.handlers[t].push(i),n.dispatcher||(n.disabled=!1,n.dispatcher=function(t,i){if(n.disabled)return;t=Xu(t);const s=n.handlers[t.type];if(s){const n=s.slice(0);for(let s=0,o=n.length;s<o&&!t.isImmediatePropagationStopped();s++)try{n[s].call(e,t,i)}catch(e){Td.error(e)}}}),1===n.handlers[t].length)if(e.addEventListener){let i=!1;Ku()&&Qu.indexOf(t)>-1&&(i={passive:!0}),e.addEventListener(t,n.dispatcher,i)}else e.attachEvent&&e.attachEvent("on"+t,n.dispatcher)}function Ju(e,t,i){if(!Vu.has(e))return;const n=Vu.get(e);if(!n.handlers)return;if(Array.isArray(t))return Yu(Ju,e,t,i);const s=function(e,t){n.handlers[t]=[],Gu(e,t)};if(void 0===t){for(const t in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},t)&&s(e,t);return}const o=n.handlers[t];if(o)if(i){if(i.guid)for(let e=0;e<o.length;e++)o[e].guid===i.guid&&o.splice(e--,1);Gu(e,t)}else s(e,t)}function eh(e,t,i){const n=Vu.has(e)?Vu.get(e):{},s=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=Xu(t),n.dispatcher&&n.dispatcher.call(e,t,i),s&&!t.isPropagationStopped()&&!0===t.bubbles)eh.call(null,s,t,i);else if(!s&&!t.defaultPrevented&&t.target&&t.target[t.type]){Vu.has(t.target)||Vu.set(t.target,{});const e=Vu.get(t.target);t.target[t.type]&&(e.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),e.disabled=!1)}return!t.defaultPrevented}function th(e,t,i){if(Array.isArray(t))return Yu(th,e,t,i);const n=function(){Ju(e,t,n),i.apply(this,arguments)};n.guid=i.guid=i.guid||Wu(),Zu(e,t,n)}function ih(e,t,i){const n=function(){Ju(e,t,n),i.apply(this,arguments)};n.guid=i.guid=i.guid||Wu(),Zu(e,t,n)}var nh=Object.freeze({__proto__:null,fixEvent:Xu,on:Zu,off:Ju,trigger:eh,one:th,any:ih});const sh=30,oh=function(e,t,i){t.guid||(t.guid=Wu());const n=t.bind(e);return n.guid=i?i+"_"+t.guid:t.guid,n},rh=function(e,t){let i=al().performance.now();return function(...n){const s=al().performance.now();s-i>=t&&(e(...n),i=s)}},ah=function(e,t,i,n=al()){let s;const o=function(){const o=this,r=arguments;let a=function(){s=null,a=null,i||e.apply(o,r)};!s&&i&&e.apply(o,r),n.clearTimeout(s),s=n.setTimeout(a,t)};return o.cancel=()=>{n.clearTimeout(s),s=null},o};var lh=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:sh,bind_:oh,throttle:rh,debounce:ah});let ch;class dh{on(e,t){const i=this.addEventListener;this.addEventListener=()=>{},Zu(this,e,t),this.addEventListener=i}off(e,t){Ju(this,e,t)}one(e,t){const i=this.addEventListener;this.addEventListener=()=>{},th(this,e,t),this.addEventListener=i}any(e,t){const i=this.addEventListener;this.addEventListener=()=>{},ih(this,e,t),this.addEventListener=i}trigger(e){const t=e.type||e;"string"==typeof e&&(e={type:t}),e=Xu(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),eh(this,e)}queueTrigger(e){ch||(ch=new Map);const t=e.type||e;let i=ch.get(this);i||(i=new Map,ch.set(this,i));const n=i.get(t);i.delete(t),al().clearTimeout(n);const s=al().setTimeout((()=>{i.delete(t),0===i.size&&(i=null,ch.delete(this)),this.trigger(e)}),0);i.set(t,s)}}dh.prototype.allowedEvents_={},dh.prototype.addEventListener=dh.prototype.on,dh.prototype.removeEventListener=dh.prototype.off,dh.prototype.dispatchEvent=dh.prototype.trigger;const uh=e=>"function"==typeof e.name?e.name():"string"==typeof e.name?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e,hh=e=>e instanceof dh||!!e.eventBusEl_&&["on","one","off","trigger"].every((t=>"function"==typeof e[t])),ph=e=>"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length,fh=(e,t,i)=>{if(!e||!e.nodeName&&!hh(e))throw new Error(`Invalid target for ${uh(t)}#${i}; must be a DOM node or evented object.`)},mh=(e,t,i)=>{if(!ph(e))throw new Error(`Invalid event type for ${uh(t)}#${i}; must be a non-empty string or array.`)},gh=(e,t,i)=>{if("function"!=typeof e)throw new Error(`Invalid listener for ${uh(t)}#${i}; must be a function.`)},vh=(e,t,i)=>{const n=t.length<3||t[0]===e||t[0]===e.eventBusEl_;let s,o,r;return n?(s=e.eventBusEl_,t.length>=3&&t.shift(),[o,r]=t):[s,o,r]=t,fh(s,e,i),mh(o,e,i),gh(r,e,i),r=oh(e,r),{isTargetingSelf:n,target:s,type:o,listener:r}},yh=(e,t,i,n)=>{fh(e,e,t),e.nodeName?nh[t](e,i,n):e[t](i,n)},bh={on(...e){const{isTargetingSelf:t,target:i,type:n,listener:s}=vh(this,e,"on");if(yh(i,"on",n,s),!t){const e=()=>this.off(i,n,s);e.guid=s.guid;const t=()=>this.off("dispose",e);t.guid=s.guid,yh(this,"on","dispose",e),yh(i,"on","dispose",t)}},one(...e){const{isTargetingSelf:t,target:i,type:n,listener:s}=vh(this,e,"one");if(t)yh(i,"one",n,s);else{const e=(...t)=>{this.off(i,n,e),s.apply(null,t)};e.guid=s.guid,yh(i,"one",n,e)}},any(...e){const{isTargetingSelf:t,target:i,type:n,listener:s}=vh(this,e,"any");if(t)yh(i,"any",n,s);else{const e=(...t)=>{this.off(i,n,e),s.apply(null,t)};e.guid=s.guid,yh(i,"any",n,e)}},off(e,t,i){if(!e||ph(e))Ju(this.eventBusEl_,e,t);else{const n=e,s=t;fh(n,this,"off"),mh(s,this,"off"),gh(i,this,"off"),i=oh(this,i),this.off("dispose",i),n.nodeName?(Ju(n,s,i),Ju(n,"dispose",i)):hh(n)&&(n.off(s,i),n.off("dispose",i))}},trigger(e,t){fh(this.eventBusEl_,this,"trigger");const i=e&&"string"!=typeof e?e.type:e;if(!ph(i))throw new Error(`Invalid event type for ${uh(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return eh(this.eventBusEl_,e,t)}};function _h(e,t={}){const{eventBusKey:i}=t;if(i){if(!e[i].nodeName)throw new Error(`The eventBusKey "${i}" does not refer to an element.`);e.eventBusEl_=e[i]}else e.eventBusEl_=lu("span",{className:"vjs-event-bus"});return Object.assign(e,bh),e.eventedCallbacks&&e.eventedCallbacks.forEach((e=>{e()})),e.on("dispose",(()=>{e.off(),[e,e.el_,e.eventBusEl_].forEach((function(e){e&&Vu.has(e)&&Vu.delete(e)})),al().setTimeout((()=>{e.eventBusEl_=null}),0)})),e}const xh={state:{},setState(e){let t;return"function"==typeof e&&(e=e()),Id(e,((e,i)=>{this.state[i]!==e&&(t=t||{},t[i]={from:this.state[i],to:e}),this.state[i]=e})),t&&hh(this)&&this.trigger({changes:t,type:"statechanged"}),t}};function wh(e,t){return Object.assign(e,xh),e.state=Object.assign({},e.state,t),"function"==typeof e.handleStateChanged&&hh(e)&&e.on("statechanged",e.handleStateChanged),e}const kh=function(e){return"string"!=typeof e?e:e.replace(/./,(e=>e.toLowerCase()))},Sh=function(e){return"string"!=typeof e?e:e.replace(/./,(e=>e.toUpperCase()))},Th=function(e,t){return Sh(e)===Sh(t)};var Ch=Object.freeze({__proto__:null,toLowerCase:kh,toTitleCase:Sh,titleCaseEquals:Th});class Eh{constructor(e,t,i){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Pd({},this.options_),t=this.options_=Pd(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){const t=e&&e.id&&e.id()||"no_player";this.id_=`${t}_component_${Wu()}`}this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),t.className&&this.el_&&t.className.split(" ").forEach((e=>this.addClass(e))),["on","off","one","any","trigger"].forEach((e=>{this[e]=void 0})),!1!==t.evented&&(_h(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),wh(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,!1!==t.initChildren&&this.initChildren(),this.ready(i),!1!==t.reportTouchActivity&&this.enableTouchActivity()}on(e,t){}off(e,t){}one(e,t){}any(e,t){}trigger(e,t){}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return Boolean(this.isDisposed_)}player(){return this.player_}options(e){return e?(this.options_=Pd(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,t,i){return lu(e,t,i)}localize(e,t,i=e){const n=this.player_.language&&this.player_.language(),s=this.player_.languages&&this.player_.languages(),o=s&&s[n],r=n&&n.split("-")[0],a=s&&s[r];let l=i;return o&&o[e]?l=o[e]:a&&a[e]&&(l=a[e]),t&&(l=l.replace(/\{(\d+)\}/g,(function(e,i){const n=t[i-1];let s=n;return void 0===n&&(s=e),s}))),l}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce(((e,t)=>e.concat(t)),[]);let t=this;for(let i=0;i<e.length;i++)if(t=t.getChild(e[i]),!t||!t.getChild)return;return t}setIcon(e,t=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const i="http://www.w3.org/2000/svg",n=lu("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),s=cl().createElementNS(i,"svg");s.setAttributeNS(null,"viewBox","0 0 512 512");const o=cl().createElementNS(i,"use");return s.appendChild(o),o.setAttributeNS(null,"href",`#vjs-icon-${e}`),n.appendChild(s),this.iconIsSet_?t.replaceChild(n,t.querySelector(".vjs-icon-placeholder")):t.appendChild(n),this.iconIsSet_=!0,n}addChild(e,t={},i=this.children_.length){let n,s;if("string"==typeof e){s=Sh(e);const i=t.componentClass||s;t.name=s;const o=Eh.getComponent(i);if(!o)throw new Error(`Component ${i} does not exist`);if("function"!=typeof o)return null;n=new o(this.player_||this,t)}else n=e;if(n.parentComponent_&&n.parentComponent_.removeChild(n),this.children_.splice(i,0,n),n.parentComponent_=this,"function"==typeof n.id&&(this.childIndex_[n.id()]=n),s=s||n.name&&Sh(n.name()),s&&(this.childNameIndex_[s]=n,this.childNameIndex_[kh(s)]=n),"function"==typeof n.el&&n.el()){let e=null;this.children_[i+1]&&(this.children_[i+1].el_?e=this.children_[i+1].el_:ou(this.children_[i+1])&&(e=this.children_[i+1])),this.contentEl().insertBefore(n.el(),e)}return n}removeChild(e){if("string"==typeof e&&(e=this.getChild(e)),!e||!this.children_)return;let t=!1;for(let i=this.children_.length-1;i>=0;i--)if(this.children_[i]===e){t=!0,this.children_.splice(i,1);break}if(!t)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[Sh(e.name())]=null,this.childNameIndex_[kh(e.name())]=null;const i=e.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const t=this.options_,i=e=>{const i=e.name;let n=e.opts;if(void 0!==t[i]&&(n=t[i]),!1===n)return;!0===n&&(n={}),n.playerOptions=this.options_.playerOptions;const s=this.addChild(i,n);s&&(this[i]=s)};let n;const s=Eh.getComponent("Tech");n=Array.isArray(e)?e:Object.keys(e),n.concat(Object.keys(this.options_).filter((function(e){return!n.some((function(t){return"string"==typeof t?e===t:e===t.name}))}))).map((t=>{let i,n;return"string"==typeof t?(i=t,n=e[i]||this.options_[i]||{}):(i=t.name,n=t),{name:i,opts:n}})).filter((e=>{const t=Eh.getComponent(e.opts.componentClass||Sh(e.name));return t&&!s.isTech(t)})).forEach(i)}}buildCSSClass(){return""}ready(e,t=!1){if(e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))}triggerReady(){this.isReady_=!0,this.setTimeout((function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach((function(e){e.call(this)}),this),this.trigger("ready")}),1)}$(e,t){return Ou(e,t||this.contentEl())}$$(e,t){return Du(e,t||this.contentEl())}hasClass(e){return uu(this.el_,e)}addClass(...e){hu(this.el_,...e)}removeClass(...e){pu(this.el_,...e)}toggleClass(e,t){fu(this.el_,e,t)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return vu(this.el_,e)}setAttribute(e,t){yu(this.el_,e,t)}removeAttribute(e){bu(this.el_,e)}width(e,t){return this.dimension("width",e,t)}height(e,t){return this.dimension("height",e,t)}dimensions(e,t){this.width(e,!0),this.height(t)}dimension(e,t,i){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(i||this.trigger("componentresize"));if(!this.el_)return 0;const n=this.el_.style[e],s=n.indexOf("px");return-1!==s?parseInt(n.slice(0,s),10):parseInt(this.el_["offset"+Sh(e)],10)}currentDimension(e){let t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if(t=Pu(this.el_,e),t=parseFloat(t),0===t||isNaN(t)){const i=`offset${Sh(e)}`;t=this.el_[i]}return t}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(ul().isEventKey(e,"Tab")||e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e,t=0,i=null;this.on("touchstart",(function(n){1===n.touches.length&&(i={pageX:n.touches[0].pageX,pageY:n.touches[0].pageY},t=al().performance.now(),e=!0)})),this.on("touchmove",(function(t){if(t.touches.length>1)e=!1;else if(i){const n=t.touches[0].pageX-i.pageX,s=t.touches[0].pageY-i.pageY;Math.sqrt(n*n+s*s)>10&&(e=!1)}}));const n=function(){e=!1};this.on("touchleave",n),this.on("touchcancel",n),this.on("touchend",(function(n){i=null,!0===e&&al().performance.now()-t<200&&(n.preventDefault(),this.trigger("tap"))}))}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=oh(this.player(),this.player().reportUserActivity);let t;this.on("touchstart",(function(){e(),this.clearInterval(t),t=this.setInterval(e,250)}));const i=function(i){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",i),this.on("touchcancel",i)}setTimeout(e,t){var i;return e=oh(this,e),this.clearTimersOnDispose_(),i=al().setTimeout((()=>{this.setTimeoutIds_.has(i)&&this.setTimeoutIds_.delete(i),e()}),t),this.setTimeoutIds_.add(i),i}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),al().clearTimeout(e)),e}setInterval(e,t){e=oh(this,e),this.clearTimersOnDispose_();const i=al().setInterval(e,t);return this.setIntervalIds_.add(i),i}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),al().clearInterval(e)),e}requestAnimationFrame(e){var t;return this.clearTimersOnDispose_(),e=oh(this,e),t=al().requestAnimationFrame((()=>{this.rafIds_.has(t)&&this.rafIds_.delete(t),e()})),this.rafIds_.add(t),t}requestNamedAnimationFrame(e,t){if(this.namedRafs_.has(e))return;this.clearTimersOnDispose_(),t=oh(this,t);const i=this.requestAnimationFrame((()=>{t(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)}));return this.namedRafs_.set(e,i),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),al().cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",(()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach((([e,t])=>{this[e].forEach(((e,i)=>this[t](i)))})),this.clearingTimersOnDispose_=!1})))}static registerComponent(e,t){if("string"!=typeof e||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const i=Eh.getComponent("Tech"),n=i&&i.isTech(t),s=Eh===t||Eh.prototype.isPrototypeOf(t.prototype);if(n||!s){let t;throw t=n?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error(`Illegal component, "${e}"; ${t}.`)}e=Sh(e),Eh.components_||(Eh.components_={});const o=Eh.getComponent("Player");if("Player"===e&&o&&o.players){const e=o.players,t=Object.keys(e);if(e&&t.length>0&&t.map((t=>e[t])).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return Eh.components_[e]=t,Eh.components_[kh(e)]=t,t}static getComponent(e){if(e&&Eh.components_)return Eh.components_[e]}}function Ah(e,t,i,n){return function(e,t,i){if("number"!=typeof t||t<0||t>i)throw new Error(`Failed to execute '${e}' on 'TimeRanges': The index provided (${t}) is non-numeric or out of bounds (0-${i}).`)}(e,n,i.length-1),i[n][t]}function Ih(e){let t;return t=void 0===e||0===e.length?{length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:Ah.bind(null,"start",0,e),end:Ah.bind(null,"end",1,e)},al().Symbol&&al().Symbol.iterator&&(t[al().Symbol.iterator]=()=>(e||[]).values()),t}function Mh(e,t){return Array.isArray(e)?Ih(e):void 0===e||void 0===t?Ih():Ih([[e,t]])}Eh.registerComponent("Component",Eh);const Oh=function(e,t){e=e<0?0:e;let i=Math.floor(e%60),n=Math.floor(e/60%60),s=Math.floor(e/3600);const o=Math.floor(t/60%60),r=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(s=n=i="-"),s=s>0||r>0?s+":":"",n=((s||o>=10)&&n<10?"0"+n:n)+":",i=i<10?"0"+i:i,s+n+i};let Dh=Oh;function Ph(e){Dh=e}function Lh(){Dh=Oh}function jh(e,t=e){return Dh(e,t)}var Bh=Object.freeze({__proto__:null,createTimeRanges:Mh,createTimeRange:Mh,setFormatTime:Ph,resetFormatTime:Lh,formatTime:jh});function Rh(e,t){let i,n,s=0;if(!t)return 0;e&&e.length||(e=Mh(0,0));for(let o=0;o<e.length;o++)i=e.start(o),n=e.end(o),n>t&&(n=t),s+=n-i;return s/t}function Nh(e){if(e instanceof Nh)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:Od(e)&&("number"==typeof e.code&&(this.code=e.code),Object.assign(this,e)),this.message||(this.message=Nh.defaultMessages[this.code]||"")}Nh.prototype.code=0,Nh.prototype.message="",Nh.prototype.status=null,Nh.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Nh.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(let e=0;e<Nh.errorTypes.length;e++)Nh[Nh.errorTypes[e]]=e,Nh.prototype[Nh.errorTypes[e]]=e;function Uh(e){return null!=e&&"function"==typeof e.then}function Fh(e){Uh(e)&&e.then(null,(e=>{}))}const zh=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(((t,i,n)=>(e[i]&&(t[i]=e[i]),t)),{cues:e.cues&&Array.prototype.map.call(e.cues,(function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}}))})};const Hh="vjs-modal-dialog";class Vh extends Eh{constructor(e,t){super(e,t),this.handleKeyDown_=e=>this.handleKeyDown(e),this.close_=e=>this.close(e),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=lu("div",{className:`${Hh}-content`},{role:"document"}),this.descEl_=lu("p",{className:`${Hh}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),cu(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${Hh} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(!this.opened_){const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}}opened(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if("boolean"==typeof e){const t=this.closeable_=!!e;let i=this.getChild("closeButton");if(t&&!i){const e=this.contentEl_;this.contentEl_=this.el_,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=e,this.on(i,"close",this.close_)}!t&&i&&(this.off(i,"close",this.close_),this.removeChild(i),i.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const t=this.contentEl(),i=t.parentNode,n=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,i.removeChild(t),this.empty(),Iu(t,e),this.trigger("modalfill"),n?i.insertBefore(t,n):i.appendChild(t);const s=this.getChild("closeButton");s&&i.appendChild(s.el_)}empty(){this.trigger("beforemodalempty"),Cu(this.contentEl()),this.trigger("modalempty")}content(e){return void 0!==e&&(this.content_=e),this.content_}conditionalFocus_(){const e=cl().activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(e.stopPropagation(),ul().isEventKey(e,"Escape")&&this.closeable())return e.preventDefault(),void this.close();if(!ul().isEventKey(e,"Tab"))return;const t=this.focusableEls_(),i=this.el_.querySelector(":focus");let n;for(let e=0;e<t.length;e++)if(i===t[e]){n=e;break}cl().activeElement===this.el_&&(n=0),e.shiftKey&&0===n?(t[t.length-1].focus(),e.preventDefault()):e.shiftKey||n!==t.length-1||(t[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,(e=>(e instanceof al().HTMLAnchorElement||e instanceof al().HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof al().HTMLInputElement||e instanceof al().HTMLSelectElement||e instanceof al().HTMLTextAreaElement||e instanceof al().HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof al().HTMLIFrameElement||e instanceof al().HTMLObjectElement||e instanceof al().HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")))}}Vh.prototype.options_={pauseOnOpen:!0,temporary:!0},Eh.registerComponent("ModalDialog",Vh);class qh extends dh{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let t=0;t<e.length;t++)this.addTrack(e[t])}addTrack(e){const t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},hh(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let t;for(let i=0,n=this.length;i<n;i++)if(this[i]===e){t=this[i],t.off&&t.off(),this.tracks_.splice(i,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})}getTrackById(e){let t=null;for(let i=0,n=this.length;i<n;i++){const n=this[i];if(n.id===e){t=n;break}}return t}}qh.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const e in qh.prototype.allowedEvents_)qh.prototype["on"+e]=null;const $h=function(e,t){for(let i=0;i<e.length;i++)Object.keys(e[i]).length&&t.id!==e[i].id&&(e[i].enabled=!1)},Wh=function(e,t){for(let i=0;i<e.length;i++)Object.keys(e[i]).length&&t.id!==e[i].id&&(e[i].selected=!1)};class Gh extends qh{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class Yh{constructor(e){Yh.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const t=this.length||0;let i=0;const n=e.length;this.cues_=e,this.length_=e.length;const s=function(e){""+e in this||Object.defineProperty(this,""+e,{get(){return this.cues_[e]}})};if(t<n)for(i=t;i<n;i++)s.call(this,i)}getCueById(e){let t=null;for(let i=0,n=this.length;i<n;i++){const n=this[i];if(n.id===e){t=n;break}}return t}}const Xh={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Kh={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Qh={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Zh={disabled:"disabled",hidden:"hidden",showing:"showing"};class Jh extends dh{constructor(e={}){super();const t={id:e.id||"vjs_track_"+Wu(),kind:e.kind||"",language:e.language||""};let i=e.label||"";for(const e in t)Object.defineProperty(this,e,{get:()=>t[e],set(){}});Object.defineProperty(this,"label",{get:()=>i,set(e){e!==i&&(i=e,this.trigger("labelchange"))}})}}const ep=function(e){const t=["protocol","hostname","port","pathname","search","hash","host"],i=cl().createElement("a");i.href=e;const n={};for(let e=0;e<t.length;e++)n[t[e]]=i[t[e]];return"http:"===n.protocol&&(n.host=n.host.replace(/:80$/,"")),"https:"===n.protocol&&(n.host=n.host.replace(/:443$/,"")),n.protocol||(n.protocol=al().location.protocol),n.host||(n.host=al().location.host),n},tp=function(e){if(!e.match(/^https?:\/\//)){const t=cl().createElement("a");t.href=e,e=t.href}return e},ip=function(e){if("string"==typeof e){const t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);if(t)return t.pop().toLowerCase()}return""},np=function(e,t=al().location){const i=ep(e);return(":"===i.protocol?t.protocol:i.protocol)+i.host!==t.protocol+t.host};var sp=Object.freeze({__proto__:null,parseUrl:ep,getAbsoluteURL:tp,getFileExtension:ip,isCrossOrigin:np});const op=function(e,t){const i=new(al().WebVTT.Parser)(al(),al().vttjs,al().WebVTT.StringDecoder()),n=[];i.oncue=function(e){t.addCue(e)},i.onparsingerror=function(e){n.push(e)},i.onflush=function(){t.trigger({type:"loadeddata",target:t})},i.parse(e),n.length>0&&(al().console&&al().console.groupCollapsed&&al().console.groupCollapsed(`Text Track parsing errors for ${t.src}`),n.forEach((e=>Td.error(e))),al().console&&al().console.groupEnd&&al().console.groupEnd()),i.flush()},rp=function(e,t){const i={uri:e},n=np(e);n&&(i.cors=n);const s="use-credentials"===t.tech_.crossOrigin();s&&(i.withCredentials=s),ml()(i,oh(this,(function(e,i,n){if(e)return Td.error(e,i);t.loaded_=!0,"function"!=typeof al().WebVTT?t.tech_&&t.tech_.any(["vttjsloaded","vttjserror"],(e=>{if("vttjserror"!==e.type)return op(n,t);Td.error(`vttjs failed to load, stopping trying to process ${t.src}`)})):op(n,t)})))};class ap extends Jh{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const t=Pd(e,{kind:Qh[e.kind]||"subtitles",language:e.language||e.srclang||""});let i=Zh[t.mode]||"disabled";const n=t.default;"metadata"!==t.kind&&"chapters"!==t.kind||(i="hidden"),super(t),this.tech_=t.tech,this.cues_=[],this.activeCues_=[],this.preload_=!1!==this.tech_.preloadTextTracks;const s=new Yh(this.cues_),o=new Yh(this.activeCues_);let r=!1;this.timeupdateHandler=oh(this,(function(e={}){this.tech_.isDisposed()||(this.tech_.isReady_?(this.activeCues=this.activeCues,r&&(this.trigger("cuechange"),r=!1),"timeupdate"!==e.type&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))):"timeupdate"!==e.type&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)))})),this.tech_.one("dispose",(()=>{this.stopTracking()})),"disabled"!==i&&this.startTracking(),Object.defineProperties(this,{default:{get:()=>n,set(){}},mode:{get:()=>i,set(e){Zh[e]&&i!==e&&(i=e,this.preload_||"disabled"===i||0!==this.cues.length||rp(this.src,this),this.stopTracking(),"disabled"!==i&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?s:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(0===this.cues.length)return o;const e=this.tech_.currentTime(),t=[];for(let i=0,n=this.cues.length;i<n;i++){const n=this.cues[i];n.startTime<=e&&n.endTime>=e&&t.push(n)}if(r=!1,t.length!==this.activeCues_.length)r=!0;else for(let e=0;e<t.length;e++)-1===this.activeCues_.indexOf(t[e])&&(r=!0);return this.activeCues_=t,o.setCues_(this.activeCues_),o},set(){}}}),t.src?(this.src=t.src,this.preload_||(this.loaded_=!0),(this.preload_||"subtitles"!==t.kind&&"captions"!==t.kind)&&rp(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let t=e;if(t.constructor&&"VTTCue"!==t.constructor.name){t=new(al().vttjs.VTTCue)(e.startTime,e.endTime,e.text);for(const i in e)i in t||(t[i]=e[i]);t.id=e.id,t.originalCue_=e}const i=this.tech_.textTracks();for(let e=0;e<i.length;e++)i[e]!==this&&i[e].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)}removeCue(e){let t=this.cues_.length;for(;t--;){const i=this.cues_[t];if(i===e||i.originalCue_&&i.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}}}ap.prototype.allowedEvents_={cuechange:"cuechange"};class lp extends Jh{constructor(e={}){const t=Pd(e,{kind:Kh[e.kind]||""});super(t);let i=!1;Object.defineProperty(this,"enabled",{get:()=>i,set(e){"boolean"==typeof e&&e!==i&&(i=e,this.trigger("enabledchange"))}}),t.enabled&&(this.enabled=t.enabled),this.loaded_=!0}}class cp extends Jh{constructor(e={}){const t=Pd(e,{kind:Xh[e.kind]||""});super(t);let i=!1;Object.defineProperty(this,"selected",{get:()=>i,set(e){"boolean"==typeof e&&e!==i&&(i=e,this.trigger("selectedchange"))}}),t.selected&&(this.selected=t.selected)}}class dp extends dh{constructor(e={}){let t;super();const i=new ap(e);this.kind=i.kind,this.src=i.src,this.srclang=i.language,this.label=i.label,this.default=i.default,Object.defineProperties(this,{readyState:{get:()=>t},track:{get:()=>i}}),t=dp.NONE,i.addEventListener("loadeddata",(()=>{t=dp.LOADED,this.trigger({type:"load",target:this})}))}}dp.prototype.allowedEvents_={load:"load"},dp.NONE=0,dp.LOADING=1,dp.LOADED=2,dp.ERROR=3;const up={audio:{ListClass:class extends qh{constructor(e=[]){for(let t=e.length-1;t>=0;t--)if(e[t].enabled){$h(e,e[t]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&$h(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,$h(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}},TrackClass:lp,capitalName:"Audio"},video:{ListClass:class extends qh{constructor(e=[]){for(let t=e.length-1;t>=0;t--)if(e[t].selected){Wh(e,e[t]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set(){}})}addTrack(e){e.selected&&Wh(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,Wh(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}},TrackClass:cp,capitalName:"Video"},text:{ListClass:Gh,TrackClass:ap,capitalName:"Text"}};Object.keys(up).forEach((function(e){up[e].getterName=`${e}Tracks`,up[e].privateName=`${e}Tracks_`}));const hp={remoteText:{ListClass:Gh,TrackClass:ap,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:class{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let t=0,i=e.length;t<i;t++)this.addTrackElement_(e[t])}addTrackElement_(e){const t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let t;for(let i=0,n=this.trackElements_.length;i<n;i++)if(e===this.trackElements_[i].track){t=this.trackElements_[i];break}return t}removeTrackElement_(e){for(let t=0,i=this.trackElements_.length;t<i;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&"function"==typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"==typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}}},TrackClass:dp,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},pp=Object.assign({},up,hp);hp.names=Object.keys(hp),up.names=Object.keys(up),pp.names=[].concat(hp.names).concat(up.names);class fp extends Eh{constructor(e={},t=function(){}){e.reportTouchActivity=!1,super(null,e,t),this.onDurationChange_=e=>this.onDurationChange(e),this.trackProgress_=e=>this.trackProgress(e),this.trackCurrentTime_=e=>this.trackCurrentTime(e),this.stopTrackingCurrentTime_=e=>this.stopTrackingCurrentTime(e),this.disposeSourceHandler_=e=>this.disposeSourceHandler(e),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",(function(){this.hasStarted_=!0})),this.on("loadstart",(function(){this.hasStarted_=!1})),pp.names.forEach((t=>{const i=pp[t];e&&e[i.getterName]&&(this[i.privateName]=e[i.getterName])})),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((t=>{!1===e[`native${t}Tracks`]&&(this[`featuresNative${t}Tracks`]=!1)})),!1===e.nativeCaptions||!1===e.nativeTextTracks?this.featuresNativeTextTracks=!1:!0!==e.nativeCaptions&&!0!==e.nativeTextTracks||(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=!1!==e.preloadTextTracks,this.autoRemoteTextTracks_=new pp.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",(()=>this.setTimeout((()=>this.triggerSourceset(e)),1))),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(oh(this,(function(){const e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()})),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return Mh(0,0)}bufferedPercent(){return Rh(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(up.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){(e=[].concat(e)).forEach((e=>{const t=this[`${e}Tracks`]()||[];let i=t.length;for(;i--;){const n=t[i];"text"===e&&this.removeRemoteTextTrack(n),t.removeTrack(n)}}))}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let t=e.length;for(;t--;){const i=e[t];this.removeRemoteTextTrack(i)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return void 0!==e&&(this.error_=new Nh(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?Mh(0,0):Mh()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){up.names.forEach((e=>{const t=up[e],i=()=>{this.trigger(`${e}trackchange`)},n=this[t.getterName]();n.addEventListener("removetrack",i),n.addEventListener("addtrack",i),this.on("dispose",(()=>{n.removeEventListener("removetrack",i),n.removeEventListener("addtrack",i)}))}))}addWebVttScript_(){if(!al().WebVTT)if(cl().body.contains(this.el())){if(!this.options_["vtt.js"]&&Dd(vl())&&Object.keys(vl()).length>0)return void this.trigger("vttjsloaded");const e=cl().createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",(()=>{e.onload=null,e.onerror=null})),al().WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),t=this.remoteTextTracks(),i=t=>e.addTrack(t.track),n=t=>e.removeTrack(t.track);t.on("addtrack",i),t.on("removetrack",n),this.addWebVttScript_();const s=()=>this.trigger("texttrackchange"),o=()=>{s();for(let t=0;t<e.length;t++){const i=e[t];i.removeEventListener("cuechange",s),"showing"===i.mode&&i.addEventListener("cuechange",s)}};o(),e.addEventListener("change",o),e.addEventListener("addtrack",o),e.addEventListener("removetrack",o),this.on("dispose",(function(){t.off("addtrack",i),t.off("removetrack",n),e.removeEventListener("change",o),e.removeEventListener("addtrack",o),e.removeEventListener("removetrack",o);for(let t=0;t<e.length;t++)e[t].removeEventListener("cuechange",s)}))}addTextTrack(e,t,i){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,i,n,s={}){const o=e.textTracks();s.kind=t,i&&(s.label=i),n&&(s.language=n),s.tech=e;const r=new pp.text.TrackClass(s);return o.addTrack(r),r}(this,e,t,i)}createRemoteTextTrack(e){const t=Pd(e,{tech:this});return new hp.remoteTextEl.TrackClass(t)}addRemoteTextTrack(e={},t){const i=this.createRemoteTextTrack(e);return"boolean"!=typeof t&&(t=!1),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),!1===t&&this.ready((()=>this.autoRemoteTextTracks_.addTrack(i.track))),i}removeRemoteTextTrack(e){const t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const t=Wu();return!this.isReady_||this.paused()?(this.queuedHanders_.add(t),this.one("playing",(()=>{this.queuedHanders_.has(t)&&(this.queuedHanders_.delete(t),e())}))):this.requestNamedAnimationFrame(t,e),t}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,t){return fp.canPlayType(e.type)}static isTech(e){return e.prototype instanceof fp||e instanceof fp||e===fp}static registerTech(e,t){if(fp.techs_||(fp.techs_={}),!fp.isTech(t))throw new Error(`Tech ${e} must be a Tech`);if(!fp.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!fp.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=Sh(e),fp.techs_[e]=t,fp.techs_[kh(e)]=t,"Tech"!==e&&fp.defaultTechOrder_.push(e),t}static getTech(e){if(e)return fp.techs_&&fp.techs_[e]?fp.techs_[e]:(e=Sh(e),al()&&al().videojs&&al().videojs[e]?(Td.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),al().videojs[e]):void 0)}}pp.names.forEach((function(e){const t=pp[e];fp.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}})),fp.prototype.featuresVolumeControl=!0,fp.prototype.featuresMuteControl=!0,fp.prototype.featuresFullscreenResize=!1,fp.prototype.featuresPlaybackRate=!1,fp.prototype.featuresProgressEvents=!1,fp.prototype.featuresSourceset=!1,fp.prototype.featuresTimeupdateEvents=!1,fp.prototype.featuresNativeTextTracks=!1,fp.prototype.featuresVideoFrameCallback=!1,fp.withSourceHandlers=function(e){e.registerSourceHandler=function(t,i){let n=e.sourceHandlers;n||(n=e.sourceHandlers=[]),void 0===i&&(i=n.length),n.splice(i,0,t)},e.canPlayType=function(t){const i=e.sourceHandlers||[];let n;for(let e=0;e<i.length;e++)if(n=i[e].canPlayType(t),n)return n;return""},e.selectSourceHandler=function(t,i){const n=e.sourceHandlers||[];let s;for(let e=0;e<n.length;e++)if(s=n[e].canHandleSource(t,i),s)return n[e];return null},e.canPlaySource=function(t,i){const n=e.selectSourceHandler(t,i);return n?n.canHandleSource(t,i):""},["seekable","seeking","duration"].forEach((function(e){const t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})}),e.prototype),e.prototype.setSource=function(t){let i=e.selectSourceHandler(t,this.options_);i||(e.nativeSourceHandler?i=e.nativeSourceHandler:Td.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),i!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=i.handleSource(t,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Eh.registerComponent("Tech",fp),fp.registerTech("Tech",fp),fp.defaultTechOrder_=[];const mp={},gp={},vp={};function yp(e,t,i){e.setTimeout((()=>Sp(t,mp[t.type],i,e)),1)}function bp(e,t,i,n=null){const s="call"+Sh(i),o=e.reduce(kp(s),n),r=o===vp,a=r?null:t[i](o);return function(e,t,i,n){for(let s=e.length-1;s>=0;s--){const o=e[s];o[t]&&o[t](n,i)}}(e,i,a,r),a}const _p={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},xp={setCurrentTime:1,setMuted:1,setVolume:1},wp={play:1,pause:1};function kp(e){return(t,i)=>t===vp?vp:i[e]?i[e](t):t}function Sp(e={},t=[],i,n,s=[],o=!1){const[r,...a]=t;if("string"==typeof r)Sp(e,mp[r],i,n,s,o);else if(r){const t=function(e,t){const i=gp[e.id()];let n=null;if(null==i)return n=t(e),gp[e.id()]=[[t,n]],n;for(let e=0;e<i.length;e++){const[s,o]=i[e];s===t&&(n=o)}return null===n&&(n=t(e),i.push([t,n])),n}(n,r);if(!t.setSource)return s.push(t),Sp(e,a,i,n,s,o);t.setSource(Object.assign({},e),(function(r,l){if(r)return Sp(e,a,i,n,s,o);s.push(t),Sp(l,e.type===l.type?a:mp[l.type],i,n,s,o)}))}else a.length?Sp(e,a,i,n,s,o):o?i(e,s):Sp(e,mp["*"],i,n,s,!0)}const Tp={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Cp=function(e=""){const t=ip(e);return Tp[t.toLowerCase()]||""},Ep=function(e){if(Array.isArray(e)){let t=[];e.forEach((function(e){e=Ep(e),Array.isArray(e)?t=t.concat(e):Od(e)&&t.push(e)})),e=t}else e="string"==typeof e&&e.trim()?[Ap({src:e})]:Od(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[Ap(e)]:[];return e};function Ap(e){if(!e.type){const t=Cp(e.src);t&&(e.type=t)}return e}Eh.registerComponent("MediaLoader",class extends Eh{constructor(e,t,i){if(super(e,Pd({createEl:!1},t),i),t.playerOptions.sources&&0!==t.playerOptions.sources.length)e.src(t.playerOptions.sources);else for(let i=0,n=t.playerOptions.techOrder;i<n.length;i++){const t=Sh(n[i]);let s=fp.getTech(t);if(t||(s=Eh.getComponent(t)),s&&s.isSupported()){e.loadTech_(t);break}}}});class Ip extends Eh{constructor(e,t){super(e,t),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=e=>this.handleMouseOver(e),this.handleMouseOut_=e=>this.handleMouseOut(e),this.handleClick_=e=>this.handleClick(e),this.handleKeyDown_=e=>this.handleKeyDown(e),this.emitTapEvents(),this.enable()}createEl(e="div",t={},i={}){t=Object.assign({className:this.buildCSSClass(),tabIndex:0},t),"button"===e&&Td.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),i=Object.assign({role:"button"},i),this.tabIndex_=t.tabIndex;const n=lu(e,t,i);return this.player_.options_.experimentalSvgIcons||n.appendChild(lu("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(n),n}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=lu("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,t=this.el()){if(void 0===e)return this.controlText_||"Need Text";const i=this.localize(e);this.controlText_=e,cu(this.controlTextEl_,i),this.nonIconControl||this.player_.options_.noUITitleAttributes||t.setAttribute("title",i)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){ul().isEventKey(e,"Space")||ul().isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}Eh.registerComponent("ClickableComponent",Ip);class Mp extends Ip{constructor(e,t){super(e,t),this.update(),this.update_=e=>this.update(e),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return lu("div",{className:"vjs-poster"})}crossOrigin(e){if(void 0===e)return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;null===e||"anonymous"===e||"use-credentials"===e?this.$("img")&&(this.$("img").crossOrigin=e):this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`)}update(e){const t=this.player().poster();this.setSrc(t),t?this.show():this.hide()}setSrc(e){e?(this.$("img")||this.el_.appendChild(lu("picture",{className:"vjs-poster",tabIndex:-1},{},lu("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e):this.el_.textContent=""}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?Fh(this.player_.play()):this.player_.pause())}}Mp.prototype.crossorigin=Mp.prototype.crossOrigin,Eh.registerComponent("PosterImage",Mp);const Op="#222",Dp="#ccc",Pp={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Lp(e,t){let i;if(4===e.length)i=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");i=e.slice(1)}return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+t+")"}function jp(e,t,i){try{e.style[t]=i}catch(e){return}}function Bp(e){return e?`${e}px`:""}Eh.registerComponent("TextTrackDisplay",class extends Eh{constructor(e,t,i){super(e,t,i);const n=e=>{this.updateDisplayOverlay(),this.updateDisplay(e)};e.on("loadstart",(e=>this.toggleDisplay(e))),e.on("texttrackchange",(e=>this.updateDisplay(e))),e.on("loadedmetadata",(e=>{this.updateDisplayOverlay(),this.preselectTrack(e)})),e.ready(oh(this,(function(){if(e.tech_&&e.tech_.featuresNativeTextTracks)return void this.hide();e.on("fullscreenchange",n),e.on("playerresize",n);const t=al().screen.orientation||al(),i=al().screen.orientation?"change":"orientationchange";t.addEventListener(i,n),e.on("dispose",(()=>t.removeEventListener(i,n)));const s=this.options_.playerOptions.tracks||[];for(let e=0;e<s.length;e++)this.player_.addRemoteTextTrack(s[e],!0);this.preselectTrack()})))}preselectTrack(){const e={captions:1,subtitles:1},t=this.player_.textTracks(),i=this.player_.cache_.selectedLanguage;let n,s,o;for(let r=0;r<t.length;r++){const a=t[r];i&&i.enabled&&i.language&&i.language===a.language&&a.kind in e?a.kind===i.kind?o=a:o||(o=a):i&&!i.enabled?(o=null,n=null,s=null):a.default&&("descriptions"!==a.kind||n?a.kind in e&&!s&&(s=a):n=a)}o?o.mode="showing":s?s.mode="showing":n&&(n.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){"function"==typeof al().WebVTT&&al().WebVTT.processCues(al(),[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){const t=[];for(let i=0;i<e.length;++i){const n=e[i];"showing"===n.mode&&t.push(n)}return void this.updateForTrack(t)}let i=null,n=null,s=e.length;for(;s--;){const t=e[s];"showing"===t.mode&&("descriptions"===t.kind?i=t:n=t)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):i&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(i))}updateDisplayOverlay(){if(!this.player_.videoHeight()||!al().CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),t=this.player_.currentHeight(),i=e/t,n=this.player_.videoWidth()/this.player_.videoHeight();let s=0,o=0;Math.abs(i-n)>.1&&(i>n?s=Math.round((e-t*n)/2):o=Math.round((t-e/n)/2)),jp(this.el_,"insetInline",Bp(s)),jp(this.el_,"insetBlock",Bp(o))}updateDisplayState(e){const t=this.player_.textTrackSettings.getValues(),i=e.activeCues;let n=i.length;for(;n--;){const e=i[n];if(!e)continue;const s=e.displayState;if(t.color&&(s.firstChild.style.color=t.color),t.textOpacity&&jp(s.firstChild,"color",Lp(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(s.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&jp(s.firstChild,"backgroundColor",Lp(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?jp(s,"backgroundColor",Lp(t.windowColor,t.windowOpacity)):s.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?s.firstChild.style.textShadow=`2px 2px 3px ${Op}, 2px 2px 4px ${Op}, 2px 2px 5px ${Op}`:"raised"===t.edgeStyle?s.firstChild.style.textShadow=`1px 1px ${Op}, 2px 2px ${Op}, 3px 3px ${Op}`:"depressed"===t.edgeStyle?s.firstChild.style.textShadow=`1px 1px ${Dp}, 0 1px ${Dp}, -1px -1px ${Op}, 0 -1px ${Op}`:"uniform"===t.edgeStyle&&(s.firstChild.style.textShadow=`0 0 4px ${Op}, 0 0 4px ${Op}, 0 0 4px ${Op}, 0 0 4px ${Op}`)),t.fontPercent&&1!==t.fontPercent){const e=al().parseFloat(s.style.fontSize);s.style.fontSize=e*t.fontPercent+"px",s.style.height="auto",s.style.top="auto"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?s.firstChild.style.fontVariant="small-caps":s.firstChild.style.fontFamily=Pp[t.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),"function"!=typeof al().WebVTT||e.every((e=>!e.activeCues)))return;const t=[];for(let i=0;i<e.length;++i){const n=e[i];for(let e=0;e<n.activeCues.length;++e)t.push(n.activeCues[e])}al().WebVTT.processCues(al(),t,this.el_);for(let t=0;t<e.length;++t){const i=e[t];for(let e=0;e<i.activeCues.length;++e){const n=i.activeCues[e].displayState;hu(n,"vjs-text-track-cue","vjs-text-track-cue-"+(i.language?i.language:t)),i.language&&yu(n,"lang",i.language)}this.player_.textTrackSettings&&this.updateDisplayState(i)}}}),Eh.registerComponent("LoadingSpinner",class extends Eh{createEl(){const e=this.player_.isAudio(),t=this.localize(e?"Audio Player":"Video Player"),i=lu("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[t])}),n=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return n.appendChild(i),n}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}});class Rp extends Ip{createEl(e,t={},i={}){const n=lu("button",t=Object.assign({className:this.buildCSSClass()},t),i=Object.assign({type:"button"},i));return this.player_.options_.experimentalSvgIcons||n.appendChild(lu("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(n),n}addChild(e,t={}){const i=this.constructor.name;return Td.warn(`Adding an actionable (user controllable) child to a Button (${i}) is not supported; use a ClickableComponent instead.`),Eh.prototype.addChild.call(this,e,t)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){ul().isEventKey(e,"Space")||ul().isEventKey(e,"Enter")?e.stopPropagation():super.handleKeyDown(e)}}Eh.registerComponent("Button",Rp);class Np extends Rp{constructor(e,t){super(e,t),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",(e=>this.handleMouseDown(e)))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY)return Fh(t),void(this.player_.tech(!0)&&this.player_.tech(!0).focus());const i=this.player_.getChild("controlBar"),n=i&&i.getChild("playToggle");if(!n)return void this.player_.tech(!0).focus();const s=()=>n.focus();Uh(t)?t.then(s,(()=>{})):this.setTimeout(s,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}Np.prototype.controlText_="Play Video",Eh.registerComponent("BigPlayButton",Np),Eh.registerComponent("CloseButton",class extends Rp{constructor(e,t){super(e,t),this.setIcon("cancel"),this.controlText(t&&t.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){ul().isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}});class Up extends Rp{constructor(e,t={}){super(e,t),t.replay=void 0===t.replay||t.replay,this.setIcon("play"),this.on(e,"play",(e=>this.handlePlay(e))),this.on(e,"pause",(e=>this.handlePause(e))),t.replay&&this.on(e,"ended",(e=>this.handleEnded(e)))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?Fh(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",(e=>this.handleSeeked(e)))}}Up.prototype.controlText_="Play",Eh.registerComponent("PlayToggle",Up);class Fp extends Eh{constructor(e,t){super(e,t),this.on(e,["timeupdate","ended"],(e=>this.updateContent(e))),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),t=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),i=lu("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)} `},{role:"presentation"});return t.appendChild(i),this.contentEl_=lu("span",{className:`${e}-display`},{role:"presentation"}),t.appendChild(this.contentEl_),t}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}updateTextNode_(e=0){e=jh(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",(()=>{if(!this.contentEl_)return;let e=this.textNode_;e&&this.contentEl_.firstChild!==e&&(e=null,Td.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=cl().createTextNode(this.formattedTime_),this.textNode_&&(e?this.contentEl_.replaceChild(this.textNode_,e):this.contentEl_.appendChild(this.textNode_))})))}updateContent(e){}}Fp.prototype.labelText_="Time",Fp.prototype.controlText_="Time",Eh.registerComponent("TimeDisplay",Fp);class zp extends Fp{buildCSSClass(){return"vjs-current-time"}updateContent(e){let t;t=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(t)}}zp.prototype.labelText_="Current Time",zp.prototype.controlText_="Current Time",Eh.registerComponent("CurrentTimeDisplay",zp);class Hp extends Fp{constructor(e,t){super(e,t);const i=e=>this.updateContent(e);this.on(e,"durationchange",i),this.on(e,"loadstart",i),this.on(e,"loadedmetadata",i)}buildCSSClass(){return"vjs-duration"}updateContent(e){const t=this.player_.duration();this.updateTextNode_(t)}}Hp.prototype.labelText_="Duration",Hp.prototype.controlText_="Duration",Eh.registerComponent("DurationDisplay",Hp),Eh.registerComponent("TimeDivider",class extends Eh{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),t=super.createEl("div"),i=super.createEl("span",{textContent:"/"});return t.appendChild(i),e.appendChild(t),e}});class Vp extends Fp{constructor(e,t){super(e,t),this.on(e,"durationchange",(e=>this.updateContent(e)))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return!1!==this.options_.displayNegative&&e.insertBefore(lu("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if("number"!=typeof this.player_.duration())return;let t;t=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(t)}}Vp.prototype.labelText_="Remaining Time",Vp.prototype.controlText_="Remaining Time",Eh.registerComponent("RemainingTimeDisplay",Vp),Eh.registerComponent("LiveDisplay",class extends Eh{constructor(e,t){super(e,t),this.updateShowing(),this.on(this.player(),"durationchange",(e=>this.updateShowing(e)))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=lu("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(lu("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")} `})),this.contentEl_.appendChild(cl().createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}});class qp extends Rp{constructor(e,t){super(e,t),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=e=>this.updateLiveEdgeStatus(e),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=lu("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}function $p(e,t,i){return e=Number(e),Math.min(i,Math.max(t,isNaN(e)?t:e))}qp.prototype.controlText_="Seek to live, currently playing live",Eh.registerComponent("SeekToLive",qp);var Wp=Object.freeze({__proto__:null,clamp:$p});class Gp extends Eh{constructor(e,t){super(e,t),this.handleMouseDown_=e=>this.handleMouseDown(e),this.handleMouseUp_=e=>this.handleMouseUp(e),this.handleKeyDown_=e=>this.handleKeyDown(e),this.handleClick_=e=>this.handleClick(e),this.handleMouseMove_=e=>this.handleMouseMove(e),this.update_=e=>this.update(e),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,t={},i={}){return t.className=t.className+" vjs-slider",t=Object.assign({tabIndex:0},t),i=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},i),super.createEl(e,t,i)}handleMouseDown(e){const t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||qd||e.preventDefault(),_u(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove_),this.on(t,"mouseup",this.handleMouseUp_),this.on(t,"touchmove",this.handleMouseMove_),this.on(t,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const t=this.bar.el_.ownerDocument;xu(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",(()=>{const t=this.vertical()?"height":"width";this.bar.el().style[t]=(100*e).toFixed(2)+"%"}))),e}getProgress(){return Number($p(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const t=Su(this.el_,e);return this.vertical()?t.y:t.x}handleKeyDown(e){ul().isEventKey(e,"Left")||ul().isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):ul().isEventKey(e,"Right")||ul().isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}Eh.registerComponent("Slider",Gp);const Yp=(e,t)=>$p(e/t*100,0,100).toFixed(2)+"%";Eh.registerComponent("LoadProgressBar",class extends Eh{constructor(e,t){super(e,t),this.partEls_=[],this.on(e,"progress",(e=>this.update(e)))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),t=lu("span",{className:"vjs-control-text"}),i=lu("span",{textContent:this.localize("Loaded")}),n=cl().createTextNode(": ");return this.percentageEl_=lu("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(t),t.appendChild(i),t.appendChild(n),t.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",(()=>{const e=this.player_.liveTracker,t=this.player_.buffered(),i=e&&e.isLive()?e.seekableEnd():this.player_.duration(),n=this.player_.bufferedEnd(),s=this.partEls_,o=Yp(n,i);this.percent_!==o&&(this.el_.style.width=o,cu(this.percentageEl_,o),this.percent_=o);for(let e=0;e<t.length;e++){const i=t.start(e),o=t.end(e);let r=s[e];r||(r=this.el_.appendChild(lu()),s[e]=r),r.dataset.start===i&&r.dataset.end===o||(r.dataset.start=i,r.dataset.end=o,r.style.left=Yp(i,n),r.style.width=Yp(o-i,n))}for(let e=s.length;e>t.length;e--)this.el_.removeChild(s[e-1]);s.length=t.length}))}}),Eh.registerComponent("TimeTooltip",class extends Eh{constructor(e,t){super(e,t),this.update=rh(oh(this,this.update),sh)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,t,i){const n=ku(this.el_),s=wu(this.player_.el()),o=e.width*t;if(!s||!n)return;const r=e.left-s.left+o,a=e.width-o+(s.right-e.right);let l=n.width/2;r<l?l+=l-r:a<l&&(l=a),l<0?l=0:l>n.width&&(l=n.width),l=Math.round(l),this.el_.style.right=`-${l}px`,this.write(i)}write(e){cu(this.el_,e)}updateTime(e,t,i,n){this.requestNamedAnimationFrame("TimeTooltip#updateTime",(()=>{let s;const o=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const e=this.player_.liveTracker.liveWindow(),i=e-t*e;s=(i<1?"":"-")+jh(i,e)}else s=jh(i,o);this.update(e,t,s),n&&n()}))}});class Xp extends Eh{constructor(e,t){super(e,t),this.setIcon("circle"),this.update=rh(oh(this,this.update),sh)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,t){const i=this.getChild("timeTooltip");if(!i)return;const n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();i.updateTime(e,t,n)}}Xp.prototype.options_={children:[]},eu||Fd||Xp.prototype.options_.children.push("timeTooltip"),Eh.registerComponent("PlayProgressBar",Xp);class Kp extends Eh{constructor(e,t){super(e,t),this.update=rh(oh(this,this.update),sh)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,t){const i=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,i,(()=>{this.el_.style.left=e.width*t+"px"}))}}Kp.prototype.options_={children:["timeTooltip"]},Eh.registerComponent("MouseTimeDisplay",Kp);class Qp extends Gp{constructor(e,t){super(e,t),this.setEventHandlers_()}setEventHandlers_(){this.update_=oh(this,this.update),this.update=rh(this.update_,sh),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in cl()&&"visibilityState"in cl()&&this.on(cl(),"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){"hidden"===cl().visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(this.player_.ended()||this.player_.paused()||this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,sh))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&"ended"!==e.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if("hidden"===cl().visibilityState)return;const t=super.update();return this.requestNamedAnimationFrame("SeekBar#update",(()=>{const e=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),i=this.player_.liveTracker;let n=this.player_.duration();i&&i.isLive()&&(n=this.player_.liveTracker.liveCurrentTime()),this.percent_!==t&&(this.el_.setAttribute("aria-valuenow",(100*t).toFixed(2)),this.percent_=t),this.currentTime_===e&&this.duration_===n||(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[jh(e,n),jh(n,n)],"{1} of {2}")),this.currentTime_=e,this.duration_=n),this.bar&&this.bar.update(wu(this.el()),this.getProgress())})),t}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){const e=this.getCurrentTime_();let t;const i=this.player_.liveTracker;return i&&i.isLive()?(t=(e-i.seekableStart())/i.liveWindow(),i.atLiveEdge()&&(t=1)):t=e/this.player_.duration(),t}handleMouseDown(e){Mu(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,t=!1){if(!Mu(e)||isNaN(this.player_.duration()))return;let i;t||this.player_.scrubbing()||this.player_.scrubbing(!0);const n=this.calculateDistance(e),s=this.player_.liveTracker;if(s&&s.isLive()){if(n>=.99)return void s.seekToLiveEdge();const e=s.seekableStart(),t=s.liveCurrentTime();if(i=e+n*s.liveWindow(),i>=t&&(i=t),i<=e&&(i=e+.1),i===1/0)return}else i=n*this.player_.duration(),i===this.player_.duration()&&(i-=.1);this.userSeek_(i)}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Fh(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+5)}stepBack(){this.userSeek_(this.player_.currentTime()-5)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const t=this.player_.liveTracker;if(ul().isEventKey(e,"Space")||ul().isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(ul().isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(ul().isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),t&&t.isLive()?this.userSeek_(t.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(ul()(e))){e.preventDefault(),e.stopPropagation();const i=10*(ul().codes[ul()(e)]-ul().codes[0])/100;t&&t.isLive()?this.userSeek_(t.seekableStart()+t.liveWindow()*i):this.userSeek_(this.player_.duration()*i)}else ul().isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-60)):ul().isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+60)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in cl()&&"visibilityState"in cl()&&this.off(cl(),"visibilitychange",this.toggleVisibility_),super.dispose()}}Qp.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},eu||Fd||Qp.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Eh.registerComponent("SeekBar",Qp);class Zp extends Eh{constructor(e,t){super(e,t),this.handleMouseMove=rh(oh(this,this.handleMouseMove),sh),this.throttledHandleMouseSeek=rh(oh(this,this.handleMouseSeek),sh),this.handleMouseUpHandler_=e=>this.handleMouseUp(e),this.handleMouseDownHandler_=e=>this.handleMouseDown(e),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const t=this.getChild("seekBar");if(!t)return;const i=t.getChild("playProgressBar"),n=t.getChild("mouseTimeDisplay");if(!i&&!n)return;const s=t.el(),o=ku(s);let r=Su(s,e).x;r=$p(r,0,1),n&&n.update(o,r),i&&i.update(o,t.getProgress())}handleMouseSeek(e){const t=this.getChild("seekBar");t&&t.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach((e=>e.disable&&e.disable())),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&Fh(this.player_.play())}}enable(){this.children().forEach((e=>e.enable&&e.enable())),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const t=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const t=this.getChild("seekBar");t&&t.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}Zp.prototype.options_={children:["seekBar"]},Eh.registerComponent("ProgressControl",Zp);class Jp extends Rp{constructor(e,t){super(e,t),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],(e=>this.handlePictureInPictureChange(e))),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],(e=>this.handlePictureInPictureEnabledChange(e))),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],(()=>this.handlePictureInPictureAudioModeChange())),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){"audio"===this.player_.currentType().substring(0,5)||this.player_.audioPosterMode()||this.player_.audioOnlyMode()?(this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()):this.show()}handlePictureInPictureEnabledChange(){cl().pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in al()?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){"function"==typeof cl().exitPictureInPicture&&super.show()}}Jp.prototype.controlText_="Picture-in-Picture",Eh.registerComponent("PictureInPictureToggle",Jp);class ef extends Rp{constructor(e,t){super(e,t),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",(e=>this.handleFullscreenChange(e))),!1===cl()[e.fsApi_.fullscreenEnabled]&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}ef.prototype.controlText_="Fullscreen",Eh.registerComponent("FullscreenToggle",ef),Eh.registerComponent("VolumeLevel",class extends Eh{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}),Eh.registerComponent("VolumeLevelTooltip",class extends Eh{constructor(e,t){super(e,t),this.update=rh(oh(this,this.update),sh)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,t,i,n){if(!i){const i=wu(this.el_),n=wu(this.player_.el()),s=e.width*t;if(!n||!i)return;const o=e.left-n.left+s,r=e.width-s+(n.right-e.right);let a=i.width/2;o<a?a+=a-o:r<a&&(a=r),a<0?a=0:a>i.width&&(a=i.width),this.el_.style.right=`-${a}px`}this.write(`${n}%`)}write(e){cu(this.el_,e)}updateVolume(e,t,i,n,s){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",(()=>{this.update(e,t,i,n.toFixed(0)),s&&s()}))}});class tf extends Eh{constructor(e,t){super(e,t),this.update=rh(oh(this,this.update),sh)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,t,i){const n=100*t;this.getChild("volumeLevelTooltip").updateVolume(e,t,i,n,(()=>{i?this.el_.style.bottom=e.height*t+"px":this.el_.style.left=e.width*t+"px"}))}}tf.prototype.options_={children:["volumeLevelTooltip"]},Eh.registerComponent("MouseVolumeLevelDisplay",tf);class nf extends Gp{constructor(e,t){super(e,t),this.on("slideractive",(e=>this.updateLastVolume_(e))),this.on(e,"volumechange",(e=>this.updateARIAAttributes(e))),e.ready((()=>this.updateARIAAttributes()))}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){Mu(e)&&super.handleMouseDown(e)}handleMouseMove(e){const t=this.getChild("mouseVolumeLevelDisplay");if(t){const i=this.el(),n=wu(i),s=this.vertical();let o=Su(i,e);o=s?o.y:o.x,o=$p(o,0,1),t.update(n,o,s)}Mu(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")}volumeAsPercentage_(){return Math.round(100*this.player_.volume())}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",(()=>{0===this.player_.volume()&&this.player_.lastVolume_(e)}))}}nf.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},eu||Fd||nf.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),nf.prototype.playerEvent="volumechange",Eh.registerComponent("VolumeBar",nf);class sf extends Eh{constructor(e,t={}){t.vertical=t.vertical||!1,(void 0===t.volumeBar||Dd(t.volumeBar))&&(t.volumeBar=t.volumeBar||{},t.volumeBar.vertical=t.vertical),super(e,t),function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}(this,e),this.throttledHandleMouseMove=rh(oh(this,this.handleMouseMove),sh),this.handleMouseUpHandler_=e=>this.handleMouseUp(e),this.on("mousedown",(e=>this.handleMouseDown(e))),this.on("touchstart",(e=>this.handleMouseDown(e))),this.on("mousemove",(e=>this.handleMouseMove(e))),this.on(this.volumeBar,["focus","slideractive"],(()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")})),this.on(this.volumeBar,["blur","sliderinactive"],(()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")}))}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}sf.prototype.options_={children:["volumeBar"]},Eh.registerComponent("VolumeControl",sf);class of extends Rp{constructor(e,t){super(e,t),function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}(this,e),this.on(e,["loadstart","volumechange"],(e=>this.update(e)))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const t=this.player_.volume(),i=this.player_.lastVolume_();if(0===t){const e=i<.1?.1:i;this.player_.volume(e),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let t=3;this.setIcon("volume-high"),eu&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?(this.setIcon("volume-mute"),t=0):e<.33?(this.setIcon("volume-low"),t=1):e<.67&&(this.setIcon("volume-medium"),t=2),pu(this.el_,[0,1,2,3].reduce(((e,t)=>e+`${t?" ":""}vjs-vol-${t}`),"")),hu(this.el_,`vjs-vol-${t}`)}updateControlText_(){const e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)}}of.prototype.controlText_="Mute",Eh.registerComponent("MuteToggle",of);class rf extends Eh{constructor(e,t={}){void 0!==t.inline?t.inline=t.inline:t.inline=!0,(void 0===t.volumeControl||Dd(t.volumeControl))&&(t.volumeControl=t.volumeControl||{},t.volumeControl.vertical=!t.inline),super(e,t),this.handleKeyPressHandler_=e=>this.handleKeyPress(e),this.on(e,["loadstart"],(e=>this.volumePanelState_(e))),this.on(this.muteToggle,"keyup",(e=>this.handleKeyPress(e))),this.on(this.volumeControl,"keyup",(e=>this.handleVolumeControlKeyUp(e))),this.on("keydown",(e=>this.handleKeyPress(e))),this.on("mouseover",(e=>this.handleMouseOver(e))),this.on("mouseout",(e=>this.handleMouseOut(e))),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){ul().isEventKey(e,"Esc")&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),Zu(cl(),"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),Ju(cl(),"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){ul().isEventKey(e,"Esc")&&this.handleMouseOut()}}rf.prototype.options_={children:["muteToggle","volumeControl"]},Eh.registerComponent("VolumePanel",rf),Eh.registerComponent("SkipForward",class extends Rp{constructor(e,t){super(e,t),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const t=this.player_.currentTime(),i=this.player_.liveTracker,n=i&&i.isLive()?i.seekableEnd():this.player_.duration();let s;s=t+this.skipTime<=n?t+this.skipTime:n,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}});class af extends Rp{constructor(e,t){super(e,t),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const t=this.player_.currentTime(),i=this.player_.liveTracker,n=i&&i.isLive()&&i.seekableStart();let s;s=n&&t-this.skipTime<=n?n:t>=this.skipTime?t-this.skipTime:0,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}af.prototype.controlText_="Skip Backward",Eh.registerComponent("SkipBackward",af);class lf extends Eh{constructor(e,t){super(e,t),t&&(this.menuButton_=t.menuButton),this.focusedChild_=-1,this.on("keydown",(e=>this.handleKeyDown(e))),this.boundHandleBlur_=e=>this.handleBlur(e),this.boundHandleTapClick_=e=>this.handleTapClick(e)}addEventListenerForItem(e){e instanceof Eh&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof Eh&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){"string"==typeof e&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const t=this.addChild(e);t&&this.addEventListenerForItem(t)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=lu(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const t=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return t.appendChild(this.contentEl_),Zu(t,"click",(function(e){e.preventDefault(),e.stopImmediatePropagation()})),t}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const t=e.relatedTarget||cl().activeElement;if(!this.children().some((e=>e.el()===t))){const e=this.menuButton_;e&&e.buttonPressed_&&t!==e.el().firstChild&&e.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const t=this.children();if(!Array.isArray(t))return;const i=t.filter((t=>t.el()===e.target))[0];if(!i)return;"CaptionSettingsMenuItem"!==i.name()&&this.menuButton_.focus()}}handleKeyDown(e){ul().isEventKey(e,"Left")||ul().isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(ul().isEventKey(e,"Right")||ul().isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const t=this.children().slice();t.length&&t[0].hasClass("vjs-menu-title")&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())}}Eh.registerComponent("Menu",lf);class cf extends Eh{constructor(e,t={}){super(e,t),this.menuButton_=new Rp(e,t),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const i=Rp.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+i,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const n=e=>this.handleClick(e);this.handleMenuKeyUp_=e=>this.handleMenuKeyUp(e),this.on(this.menuButton_,"tap",n),this.on(this.menuButton_,"click",n),this.on(this.menuButton_,"keydown",(e=>this.handleKeyDown(e))),this.on(this.menuButton_,"mouseenter",(()=>{this.addClass("vjs-hover"),this.menu.show(),Zu(cl(),"keyup",this.handleMenuKeyUp_)})),this.on("mouseleave",(e=>this.handleMouseLeave(e))),this.on("keydown",(e=>this.handleSubmenuKeyDown(e)))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new lf(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const t=lu("li",{className:"vjs-menu-title",textContent:Sh(this.options_.title),tabIndex:-1}),i=new Eh(this.player_,{el:t});e.addItem(i)}if(this.items=this.createItems(),this.items)for(let t=0;t<this.items.length;t++)e.addItem(this.items[t]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${Rp.prototype.buildCSSClass()} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,t=this.menuButton_.el()){return this.menuButton_.controlText(e,t)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),Ju(cl(),"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){ul().isEventKey(e,"Esc")||ul().isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),ul().isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(ul().isEventKey(e,"Up")||ul().isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(ul().isEventKey(e,"Esc")||ul().isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(ul().isEventKey(e,"Esc")||ul().isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),ul().isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),eu&&ru())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}Eh.registerComponent("MenuButton",cf);class df extends cf{constructor(e,t){const i=t.tracks;if(super(e,t),this.items.length<=1&&this.hide(),!i)return;const n=oh(this,this.update);i.addEventListener("removetrack",n),i.addEventListener("addtrack",n),i.addEventListener("labelchange",n),this.player_.on("ready",n),this.player_.on("dispose",(function(){i.removeEventListener("removetrack",n),i.removeEventListener("addtrack",n),i.removeEventListener("labelchange",n)}))}}Eh.registerComponent("TrackButton",df);const uf=["Tab","Esc","Up","Down","Right","Left"];class hf extends Ip{constructor(e,t){super(e,t),this.selectable=t.selectable,this.isSelected_=t.selected||!1,this.multiSelectable=t.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,t,i){this.nonIconControl=!0;const n=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},t),i),s=lu("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?n.appendChild(s):n.replaceChild(s,n.querySelector(".vjs-icon-placeholder")),n}handleKeyDown(e){uf.some((t=>ul().isEventKey(e,t)))||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}Eh.registerComponent("MenuItem",hf);class pf extends hf{constructor(e,t){const i=t.track,n=e.textTracks();t.label=i.label||i.language||"Unknown",t.selected="showing"===i.mode,super(e,t),this.track=i,this.kinds=(t.kinds||[t.kind||this.track.kind]).filter(Boolean);const s=(...e)=>{this.handleTracksChange.apply(this,e)},o=(...e)=>{this.handleSelectedLanguageChange.apply(this,e)};if(e.on(["loadstart","texttrackchange"],s),n.addEventListener("change",s),n.addEventListener("selectedlanguagechange",o),this.on("dispose",(function(){e.off(["loadstart","texttrackchange"],s),n.removeEventListener("change",s),n.removeEventListener("selectedlanguagechange",o)})),void 0===n.onchange){let e;this.on(["tap","click"],(function(){if("object"!=typeof al().Event)try{e=new(al().Event)("change")}catch(e){}e||(e=cl().createEvent("Event"),e.initEvent("change",!0,!0)),n.dispatchEvent(e)}))}this.handleTracksChange()}handleClick(e){const t=this.track,i=this.player_.textTracks();if(super.handleClick(e),i)for(let e=0;e<i.length;e++){const n=i[e];-1!==this.kinds.indexOf(n.kind)&&(n===t?"showing"!==n.mode&&(n.mode="showing"):"disabled"!==n.mode&&(n.mode="disabled"))}}handleTracksChange(e){const t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)}handleSelectedLanguageChange(e){if("showing"===this.track.mode){const e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}Eh.registerComponent("TextTrackMenuItem",pf);class ff extends pf{constructor(e,t){t.track={player:e,kind:t.kind,kinds:t.kinds,default:!1,mode:"disabled"},t.kinds||(t.kinds=[t.kind]),t.label?t.track.label=t.label:t.track.label=t.kinds.join(" and ")+" off",t.selectable=!0,t.multiSelectable=!1,super(e,t)}handleTracksChange(e){const t=this.player().textTracks();let i=!0;for(let e=0,n=t.length;e<n;e++){const n=t[e];if(this.options_.kinds.indexOf(n.kind)>-1&&"showing"===n.mode){i=!1;break}}i!==this.isSelected_&&this.selected(i)}handleSelectedLanguageChange(e){const t=this.player().textTracks();let i=!0;for(let e=0,n=t.length;e<n;e++){const n=t[e];if(["captions","descriptions","subtitles"].indexOf(n.kind)>-1&&"showing"===n.mode){i=!1;break}}i&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}Eh.registerComponent("OffTextTrackMenuItem",ff);class mf extends df{constructor(e,t={}){t.tracks=e.textTracks(),super(e,t)}createItems(e=[],t=pf){let i;this.label_&&(i=`${this.label_} off`),e.push(new ff(this.player_,{kinds:this.kinds_,kind:this.kind_,label:i})),this.hideThreshold_+=1;const n=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let i=0;i<n.length;i++){const s=n[i];if(this.kinds_.indexOf(s.kind)>-1){const i=new t(this.player_,{track:s,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});i.addClass(`vjs-${s.kind}-menu-item`),e.push(i)}}return e}}Eh.registerComponent("TextTrackButton",mf);class gf extends hf{constructor(e,t){const i=t.track,n=t.cue,s=e.currentTime();t.selectable=!0,t.multiSelectable=!1,t.label=n.text,t.selected=n.startTime<=s&&s<n.endTime,super(e,t),this.track=i,this.cue=n}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}Eh.registerComponent("ChaptersTrackMenuItem",gf);class vf extends mf{constructor(e,t,i){super(e,t,i),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach((e=>{e.selected(this.track_.activeCues[0]===e.cue)}))}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&"chapters"!==e.track.kind)return;const t=this.findChaptersTrack();t!==this.track_?(this.setTrack(t),super.update()):(!this.items||t&&t.cues&&t.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let t=e.length-1;t>=0;t--){const i=e[t];if(i.kind===this.kind_)return i}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(Sh(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const t=this.track_.cues;if(!t)return e;for(let i=0,n=t.length;i<n;i++){const n=t[i],s=new gf(this.player_,{track:this.track_,cue:n});e.push(s)}return e}}vf.prototype.kind_="chapters",vf.prototype.controlText_="Chapters",Eh.registerComponent("ChaptersButton",vf);class yf extends mf{constructor(e,t,i){super(e,t,i),this.setIcon("audio-description");const n=e.textTracks(),s=oh(this,this.handleTracksChange);n.addEventListener("change",s),this.on("dispose",(function(){n.removeEventListener("change",s)}))}handleTracksChange(e){const t=this.player().textTracks();let i=!1;for(let e=0,n=t.length;e<n;e++){const n=t[e];if(n.kind!==this.kind_&&"showing"===n.mode){i=!0;break}}i?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}yf.prototype.kind_="descriptions",yf.prototype.controlText_="Descriptions",Eh.registerComponent("DescriptionsButton",yf);class bf extends mf{constructor(e,t,i){super(e,t,i),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}bf.prototype.kind_="subtitles",bf.prototype.controlText_="Subtitles",Eh.registerComponent("SubtitlesButton",bf);class _f extends pf{constructor(e,t){t.track={player:e,kind:t.kind,label:t.kind+" settings",selectable:!1,default:!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem",super(e,t),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+t.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}Eh.registerComponent("CaptionSettingsMenuItem",_f);class xf extends mf{constructor(e,t,i){super(e,t,i),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new _f(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}xf.prototype.kind_="captions",xf.prototype.controlText_="Captions",Eh.registerComponent("CaptionsButton",xf);class wf extends pf{createEl(e,t,i){const n=super.createEl(e,t,i),s=n.querySelector(".vjs-menu-item-text");return"captions"===this.options_.track.kind&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",n):s.appendChild(lu("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(lu("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),n}}Eh.registerComponent("SubsCapsMenuItem",wf);class kf extends mf{constructor(e,t={}){super(e,t),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(Sh(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new _f(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,wf),e}}kf.prototype.kinds_=["captions","subtitles"],kf.prototype.controlText_="Subtitles",Eh.registerComponent("SubsCapsButton",kf);class Sf extends hf{constructor(e,t){const i=t.track,n=e.audioTracks();t.label=i.label||i.language||"Unknown",t.selected=i.enabled,super(e,t),this.track=i,this.addClass(`vjs-${i.kind}-menu-item`);const s=(...e)=>{this.handleTracksChange.apply(this,e)};n.addEventListener("change",s),this.on("dispose",(()=>{n.removeEventListener("change",s)}))}createEl(e,t,i){const n=super.createEl(e,t,i),s=n.querySelector(".vjs-menu-item-text");return["main-desc","description"].indexOf(this.options_.track.kind)>=0&&(s.appendChild(lu("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(lu("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),n}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const e=this.player_.audioTracks();for(let t=0;t<e.length;t++){const i=e[t];i!==this.track&&(i.enabled=i===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}Eh.registerComponent("AudioTrackMenuItem",Sf);class Tf extends df{constructor(e,t={}){t.tracks=e.audioTracks(),super(e,t),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const t=this.player_.audioTracks();for(let i=0;i<t.length;i++){const n=t[i];e.push(new Sf(this.player_,{track:n,selectable:!0,multiSelectable:!1}))}return e}}Tf.prototype.controlText_="Audio Track",Eh.registerComponent("AudioTrackButton",Tf);class Cf extends hf{constructor(e,t){const i=t.rate,n=parseFloat(i,10);t.label=i,t.selected=n===e.playbackRate(),t.selectable=!0,t.multiSelectable=!1,super(e,t),this.label=i,this.rate=n,this.on(e,"ratechange",(e=>this.update(e)))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}Cf.prototype.contentElType="button",Eh.registerComponent("PlaybackRateMenuItem",Cf);class Ef extends cf{constructor(e,t){super(e,t),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",(e=>this.updateVisibility(e))),this.on(e,"ratechange",(e=>this.updateLabel(e))),this.on(e,"playbackrateschange",(e=>this.handlePlaybackRateschange(e)))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=lu("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),t=[];for(let i=e.length-1;i>=0;i--)t.push(new Cf(this.player(),{rate:e[i]+"x"}));return t}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}Ef.prototype.controlText_="Playback Rate",Eh.registerComponent("PlaybackRateMenuButton",Ef);class Af extends Eh{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",t={},i={}){return t.className||(t.className=this.buildCSSClass()),super.createEl(e,t,i)}}Eh.registerComponent("Spacer",Af),Eh.registerComponent("CustomControlSpacer",class extends Af{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:" "})}});class If extends Eh{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}If.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]},Eh.registerComponent("ControlBar",If);class Mf extends Vh{constructor(e,t){super(e,t),this.on(e,"error",(e=>this.open(e)))}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}Mf.prototype.options_=Object.assign({},Vh.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Eh.registerComponent("ErrorDisplay",Mf);const Of="vjs-text-track-settings",Df=["#000","Black"],Pf=["#00F","Blue"],Lf=["#0FF","Cyan"],jf=["#0F0","Green"],Bf=["#F0F","Magenta"],Rf=["#F00","Red"],Nf=["#FFF","White"],Uf=["#FF0","Yellow"],Ff=["1","Opaque"],zf=["0.5","Semi-Transparent"],Hf=["0","Transparent"],Vf={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Df,Nf,Rf,jf,Pf,Uf,Bf,Lf]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[Ff,zf,Hf]},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Nf,Df,Rf,jf,Pf,Uf,Bf,Lf]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:e=>"1.00"===e?null:Number(e)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[Ff,zf]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[Hf,zf,Ff]}};function qf(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}Vf.windowColor.options=Vf.backgroundColor.options,Eh.registerComponent("TextTrackSettings",class extends Vh{constructor(e,t){t.temporary=!1,super(e,t),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.endDialog=lu("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),void 0===t.persistTextTrackSettings&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.on(this.$(".vjs-done-button"),"click",(()=>{this.saveSettings(),this.close()})),this.on(this.$(".vjs-default-button"),"click",(()=>{this.setDefaults(),this.updateDisplay()})),Id(Vf,(e=>{this.on(this.$(e.selector),"change",this.updateDisplay)})),this.options_.persistTextTrackSettings&&this.restoreSettings()}dispose(){this.endDialog=null,super.dispose()}createElSelect_(e,t="",i="label"){const n=Vf[e],s=n.id.replace("%s",this.id_),o=[t,s].join(" ").trim();return[`<${i} id="${s}" class="${"label"===i?"vjs-label":""}">`,this.localize(n.label),`</${i}>`,`<select aria-labelledby="${o}">`].concat(n.options.map((e=>{const t=s+"-"+e[1].replace(/\W+/g,"");return[`<option id="${t}" value="${e[0]}" `,`aria-labelledby="${o} ${t}">`,this.localize(e[1]),"</option>"].join("")}))).concat("</select>").join("")}createElFgColor_(){const e=`captions-text-legend-${this.id_}`;return['<fieldset class="vjs-fg vjs-track-setting">',`<legend id="${e}">`,this.localize("Text"),"</legend>",'<span class="vjs-text-color">',this.createElSelect_("color",e),"</span>",'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")}createElBgColor_(){const e=`captions-background-${this.id_}`;return['<fieldset class="vjs-bg vjs-track-setting">',`<legend id="${e}">`,this.localize("Text Background"),"</legend>",'<span class="vjs-bg-color">',this.createElSelect_("backgroundColor",e),"</span>",'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")}createElWinColor_(){const e=`captions-window-${this.id_}`;return['<fieldset class="vjs-window vjs-track-setting">',`<legend id="${e}">`,this.localize("Caption Area Background"),"</legend>",'<span class="vjs-window-color">',this.createElSelect_("windowColor",e),"</span>",'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")}createElColors_(){return lu("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})}createElFont_(){return lu("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})}createElControls_(){const e=this.localize("restore all settings to the default values");return lu("div",{className:"vjs-track-settings-controls",innerHTML:[`<button type="button" class="vjs-default-button" title="${e}">`,this.localize("Reset"),`<span class="vjs-control-text"> ${e}</span>`,"</button>",`<button type="button" class="vjs-done-button">${this.localize("Done")}</button>`].join("")})}content(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return Md(Vf,((e,t,i)=>{const n=(s=this.$(t.selector),o=t.parser,qf(s.options[s.options.selectedIndex].value,o));var s,o;return void 0!==n&&(e[i]=n),e}),{})}setValues(e){Id(Vf,((t,i)=>{!function(e,t,i){if(t)for(let n=0;n<e.options.length;n++)if(qf(e.options[n].value,i)===t){e.selectedIndex=n;break}}(this.$(t.selector),e[i],t.parser)}))}setDefaults(){Id(Vf,(e=>{const t=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=t}))}restoreSettings(){let e;try{e=JSON.parse(al().localStorage.getItem(Of))}catch(e){Td.warn(e)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?al().localStorage.setItem(Of,JSON.stringify(e)):al().localStorage.removeItem(Of)}catch(e){Td.warn(e)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}conditionalBlur_(){this.previouslyActiveEl_=null;const e=this.player_.controlBar,t=e&&e.subsCapsButton,i=e&&e.captionsButton;t?t.focus():i&&i.focus()}handleLanguagechange(){this.fill()}}),Eh.registerComponent("ResizeManager",class extends Eh{constructor(e,t){let i=t.ResizeObserver||al().ResizeObserver;null===t.ResizeObserver&&(i=!1),super(e,Pd({createEl:!i,reportTouchActivity:!1},t)),this.ResizeObserver=t.ResizeObserver||al().ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=ah((()=>{this.resizeHandler()}),100,!1,this),i?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const e=this.debouncedHandler_;let t=this.unloadListener_=function(){Ju(this,"resize",e),Ju(this,"unload",t),t=null};Zu(this.el_.contentWindow,"unload",t),Zu(this.el_.contentWindow,"resize",e)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}});const $f={trackingThreshold:20,liveTolerance:15};Eh.registerComponent("LiveTracker",class extends Eh{constructor(e,t){super(e,Pd($f,t,{createEl:!1})),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=e=>this.handlePlay(e),this.handleFirstTimeupdate_=e=>this.handleFirstTimeupdate(e),this.handleSeeked_=e=>this.handleSeeked(e),this.seekToLiveEdge_=e=>this.seekToLiveEdge(e),this.reset_(),this.on(this.player_,"durationchange",(e=>this.handleDurationchange(e))),this.on(this.player_,"canplay",(()=>this.toggleTracking()))}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const t=Number(al().performance.now().toFixed(4)),i=-1===this.lastTime_?0:(t-this.lastTime_)/1e3;this.lastTime_=t,this.pastSeekEnd_=this.pastSeekEnd()+i;const n=this.liveCurrentTime(),s=this.player_.currentTime();let o=this.player_.paused()||this.seekedBehindLive_||Math.abs(n-s)>this.options_.liveTolerance;this.timeupdateSeen_&&n!==1/0||(o=!1),o!==this.behindLiveEdge_&&(this.behindLiveEdge_=o,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,sh),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),t=[];let i=e?e.length:0;for(;i--;)t.push(e.end(i));return t.length?t.sort()[t.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),t=[];let i=e?e.length:0;for(;i--;)t.push(e.start(i));return t.length?t.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return-1!==this.lastSeekEnd_&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return"number"==typeof this.trackingInterval_}seekToLiveEdge(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}),Eh.registerComponent("TitleBar",class extends Eh{constructor(e,t){super(e,t),this.on("statechanged",(e=>this.updateDom_())),this.updateDom_()}createEl(){return this.els={title:lu("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${Wu()}`}),description:lu("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${Wu()}`})},lu("div",{className:"vjs-title-bar"},{},Ld(this.els))}updateDom_(){const e=this.player_.tech_,t=e&&e.el_,i={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach((e=>{const n=this.state[e],s=this.els[e],o=i[e];Cu(s),n&&cu(s,n),t&&(t.removeAttribute(o),n&&t.setAttribute(o,s.id))})),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,t=e&&e.el_;t&&(t.removeAttribute("aria-labelledby"),t.removeAttribute("aria-describedby")),super.dispose(),this.els=null}});const Wf=e=>{const t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;const i=e.$$("source"),n=[];let s="";if(!i.length)return!1;for(let e=0;e<i.length;e++){const t=i[e].src;t&&-1===n.indexOf(t)&&n.push(t)}return!!n.length&&(1===n.length&&(s=n[0]),e.triggerSourceset(s),!0)},Gf=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(e){const t=cl().createElement(this.nodeName.toLowerCase());t.innerHTML=e;const i=cl().createDocumentFragment();for(;t.childNodes.length;)i.appendChild(t.childNodes[0]);return this.innerText="",al().Element.prototype.appendChild.call(this,i),this.innerHTML}}),Yf=(e,t)=>{let i={};for(let n=0;n<e.length&&(i=Object.getOwnPropertyDescriptor(e[n],t),!(i&&i.set&&i.get));n++);return i.enumerable=!0,i.configurable=!0,i},Xf=function(e){const t=e.el();if(t.resetSourceWatch_)return;const i={},n=(e=>Yf([e.el(),al().HTMLMediaElement.prototype,al().Element.prototype,Gf],"innerHTML"))(e),s=i=>(...n)=>{const s=i.apply(t,n);return Wf(e),s};["append","appendChild","insertAdjacentHTML"].forEach((e=>{t[e]&&(i[e]=t[e],t[e]=s(i[e]))})),Object.defineProperty(t,"innerHTML",Pd(n,{set:s(n.set)})),t.resetSourceWatch_=()=>{t.resetSourceWatch_=null,Object.keys(i).forEach((e=>{t[e]=i[e]})),Object.defineProperty(t,"innerHTML",n)},e.one("sourceset",t.resetSourceWatch_)},Kf=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?tp(al().Element.prototype.getAttribute.call(this,"src")):""},set(e){return al().Element.prototype.setAttribute.call(this,"src",e),e}});class Qf extends fp{constructor(e,t){super(e,t);const i=e.source;let n=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&"VIDEO"===this.el_.tagName,i&&(this.el_.currentSrc!==i.src||e.tag&&3===e.tag.initNetworkState_)?this.setSource(i):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const e=this.el_.childNodes;let t=e.length;const i=[];for(;t--;){const s=e[t];"track"===s.nodeName.toLowerCase()&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(s),this.remoteTextTracks().addTrack(s.track),this.textTracks().addTrack(s.track),n||this.el_.hasAttribute("crossorigin")||!np(s.src)||(n=!0)):i.push(s))}for(let e=0;e<i.length;e++)this.el_.removeChild(i[e])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&n&&Td.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),this.restoreMetadataTracksInIOSNativePlayer_(),(Zd||Qd)&&!0===e.nativeControlsForTouch&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),Qf.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){!function(e){if(!e.featuresSourceset)return;const t=e.el();if(t.resetSourceset_)return;const i=(e=>Yf([e.el(),al().HTMLMediaElement.prototype,Kf],"src"))(e),n=t.setAttribute,s=t.load;Object.defineProperty(t,"src",Pd(i,{set:n=>{const s=i.set.call(t,n);return e.triggerSourceset(t.src),s}})),t.setAttribute=(i,s)=>{const o=n.call(t,i,s);return/src/i.test(i)&&e.triggerSourceset(t.src),o},t.load=()=>{const i=s.call(t);return Wf(e)||(e.triggerSourceset(""),Xf(e)),i},t.currentSrc?e.triggerSourceset(t.currentSrc):Wf(e)||Xf(e),t.resetSourceset_=()=>{t.resetSourceset_=null,t.load=s,t.setAttribute=n,Object.defineProperty(t,"src",i),t.resetSourceWatch_&&t.resetSourceWatch_()}}(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let t;const i=()=>{t=[];for(let i=0;i<e.length;i++){const n=e[i];"metadata"===n.kind&&t.push({track:n,storedMode:n.mode})}};i(),e.addEventListener("change",i),this.on("dispose",(()=>e.removeEventListener("change",i)));const n=()=>{for(let e=0;e<t.length;e++){const i=t[e];"disabled"===i.track.mode&&i.track.mode!==i.storedMode&&(i.track.mode=i.storedMode)}e.removeEventListener("change",n)};this.on("webkitbeginfullscreen",(()=>{e.removeEventListener("change",i),e.removeEventListener("change",n),e.addEventListener("change",n)})),this.on("webkitendfullscreen",(()=>{e.removeEventListener("change",i),e.addEventListener("change",i),e.removeEventListener("change",n)}))}overrideNative_(e,t){if(t!==this[`featuresNative${e}Tracks`])return;const i=e.toLowerCase();this[`${i}TracksListeners_`]&&Object.keys(this[`${i}TracksListeners_`]).forEach((e=>{this.el()[`${i}Tracks`].removeEventListener(e,this[`${i}TracksListeners_`][e])})),this[`featuresNative${e}Tracks`]=!t,this[`${i}TracksListeners_`]=null,this.proxyNativeTracksForType_(i)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const t=up[e],i=this.el()[t.getterName],n=this[t.getterName]();if(!this[`featuresNative${t.capitalName}Tracks`]||!i||!i.addEventListener)return;const s={change:t=>{const i={type:"change",target:n,currentTarget:n,srcElement:n};n.trigger(i),"text"===e&&this[hp.remoteText.getterName]().trigger(i)},addtrack(e){n.addTrack(e.track)},removetrack(e){n.removeTrack(e.track)}},o=function(){const e=[];for(let t=0;t<n.length;t++){let s=!1;for(let e=0;e<i.length;e++)if(i[e]===n[t]){s=!0;break}s||e.push(n[t])}for(;e.length;)n.removeTrack(e.shift())};this[t.getterName+"Listeners_"]=s,Object.keys(s).forEach((e=>{const t=s[e];i.addEventListener(e,t),this.on("dispose",(n=>i.removeEventListener(e,t)))})),this.on("loadstart",o),this.on("dispose",(e=>this.off("loadstart",o)))}proxyNativeTracks_(){up.names.forEach((e=>{this.proxyNativeTracksForType_(e)}))}createEl(){let e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){const t=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(t,e),Qf.disposeMediaElement(e),e=t}else{e=cl().createElement("video");const t=Pd({},this.options_.tag&&gu(this.options_.tag));Zd&&!0===this.options_.nativeControlsForTouch||delete t.controls,mu(e,Object.assign(t,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&yu(e,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const t=["loop","muted","playsinline","autoplay"];for(let i=0;i<t.length;i++){const n=t[i],s=this.options_[n];void 0!==s&&(s?yu(e,n,n):bu(e,n),e[n]=s)}return e}handleLateInit_(e){if(0===e.networkState||3===e.networkState)return;if(0===e.readyState){let e=!1;const t=function(){e=!0};this.on("loadstart",t);const i=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",i),void this.ready((function(){this.off("loadstart",t),this.off("loadedmetadata",i),e||this.trigger("loadstart")}))}const t=["loadstart"];t.push("loadedmetadata"),e.readyState>=2&&t.push("loadeddata"),e.readyState>=3&&t.push("canplay"),e.readyState>=4&&t.push("canplaythrough"),this.ready((function(){t.forEach((function(e){this.trigger(e)}),this)}))}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&tu?this.el_.fastSeek(e):this.el_.currentTime=e}catch(e){Td(e,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&Fd&&qd&&0===this.el_.currentTime){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},t=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",t),this.on("dispose",(()=>{this.off("webkitbeginfullscreen",t),this.off("webkitendfullscreen",e)}))}supportsFullScreen(){return"function"==typeof this.el_.webkitEnterFullScreen}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)Fh(this.el_.play()),this.setTimeout((function(){e.pause();try{e.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}}),0);else try{e.webkitEnterFullScreen()}catch(e){this.trigger("fullscreenerror",e)}}exitFullScreen(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(void 0===e)return this.el_.src;this.setSrc(e)}reset(){Qf.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,t,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,t,i):super.addTextTrack(e,t,i)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const t=cl().createElement("track");return e.kind&&(t.kind=e.kind),e.label&&(t.label=e.label),(e.language||e.srclang)&&(t.srclang=e.language||e.srclang),e.default&&(t.default=e.default),e.id&&(t.id=e.id),e.src&&(t.src=e.src),t}addRemoteTextTrack(e,t){const i=super.addRemoteTextTrack(e,t);return this.featuresNativeTextTracks&&this.el().appendChild(i),i}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const t=this.$$("track");let i=t.length;for(;i--;)e!==t[i]&&e!==t[i].track||this.el().removeChild(t[i])}}getVideoPlaybackQuality(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();const e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),al().performance&&(e.creationTime=al().performance.now()),e}}jd(Qf,"TEST_VID",(function(){if(!su())return;const e=cl().createElement("video"),t=cl().createElement("track");return t.kind="captions",t.srclang="en",t.label="English",e.appendChild(t),e})),Qf.isSupported=function(){try{Qf.TEST_VID.volume=.5}catch(e){return!1}return!(!Qf.TEST_VID||!Qf.TEST_VID.canPlayType)},Qf.canPlayType=function(e){return Qf.TEST_VID.canPlayType(e)},Qf.canPlaySource=function(e,t){return Qf.canPlayType(e.type)},Qf.canControlVolume=function(){try{const e=Qf.TEST_VID.volume;Qf.TEST_VID.volume=e/2+.1;const t=e!==Qf.TEST_VID.volume;return t&&eu?(al().setTimeout((()=>{Qf&&Qf.prototype&&(Qf.prototype.featuresVolumeControl=e!==Qf.TEST_VID.volume)})),!1):t}catch(e){return!1}},Qf.canMuteVolume=function(){try{const e=Qf.TEST_VID.muted;return Qf.TEST_VID.muted=!e,Qf.TEST_VID.muted?yu(Qf.TEST_VID,"muted","muted"):bu(Qf.TEST_VID,"muted"),e!==Qf.TEST_VID.muted}catch(e){return!1}},Qf.canControlPlaybackRate=function(){if(Fd&&qd&&Wd<58)return!1;try{const e=Qf.TEST_VID.playbackRate;return Qf.TEST_VID.playbackRate=e/2+.1,e!==Qf.TEST_VID.playbackRate}catch(e){return!1}},Qf.canOverrideAttributes=function(){try{const e=()=>{};Object.defineProperty(cl().createElement("video"),"src",{get:e,set:e}),Object.defineProperty(cl().createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(cl().createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(cl().createElement("audio"),"innerHTML",{get:e,set:e})}catch(e){return!1}return!0},Qf.supportsNativeTextTracks=function(){return tu||eu&&qd},Qf.supportsNativeVideoTracks=function(){return!(!Qf.TEST_VID||!Qf.TEST_VID.videoTracks)},Qf.supportsNativeAudioTracks=function(){return!(!Qf.TEST_VID||!Qf.TEST_VID.audioTracks)},Qf.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach((function([e,t]){jd(Qf.prototype,e,(()=>Qf[t]()),!0)})),Qf.prototype.featuresVolumeControl=Qf.canControlVolume(),Qf.prototype.movingMediaElementInDOM=!eu,Qf.prototype.featuresFullscreenResize=!0,Qf.prototype.featuresProgressEvents=!0,Qf.prototype.featuresTimeupdateEvents=!0,Qf.prototype.featuresVideoFrameCallback=!(!Qf.TEST_VID||!Qf.TEST_VID.requestVideoFrameCallback),Qf.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},Qf.resetMediaElement=function(e){if(!e)return;const t=e.querySelectorAll("source");let i=t.length;for(;i--;)e.removeChild(t[i]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(e){Qf.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(e){Qf.prototype["set"+Sh(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach((function(e){Qf.prototype[e]=function(){return this.el_[e]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach((function(e){Qf.prototype["set"+Sh(e)]=function(t){this.el_[e]=t}})),["pause","load","play"].forEach((function(e){Qf.prototype[e]=function(){return this.el_[e]()}})),fp.withSourceHandlers(Qf),Qf.nativeSourceHandler={},Qf.nativeSourceHandler.canPlayType=function(e){try{return Qf.TEST_VID.canPlayType(e)}catch(e){return""}},Qf.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return Qf.nativeSourceHandler.canPlayType(e.type);if(e.src){const t=ip(e.src);return Qf.nativeSourceHandler.canPlayType(`video/${t}`)}return""},Qf.nativeSourceHandler.handleSource=function(e,t,i){t.setSrc(e.src)},Qf.nativeSourceHandler.dispose=function(){},Qf.registerSourceHandler(Qf.nativeSourceHandler),fp.registerTech("Html5",Qf);const Zf=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Jf={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},em=["tiny","xsmall","small","medium","large","xlarge","huge"],tm={};em.forEach((e=>{const t="x"===e.charAt(0)?`x-${e.substring(1)}`:e;tm[e]=`vjs-layout-${t}`}));const im={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class nm extends Eh{constructor(e,t,i){if(e.id=e.id||t.id||`vjs_video_${Wu()}`,(t=Object.assign(nm.getTagSettings(e),t)).initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,!t.language){const i=e.closest("[lang]");i&&(t.language=i.getAttribute("lang"))}if(super(null,t,i),this.boundDocumentFullscreenChange_=e=>this.documentFullscreenChange_(e),this.boundFullWindowOnEscKey_=e=>this.fullWindowOnEscKey(e),this.boundUpdateStyleEl_=e=>this.updateStyleEl_(e),this.boundApplyInitTime_=e=>this.applyInitTime_(e),this.boundUpdateCurrentBreakpoint_=e=>this.updateCurrentBreakpoint_(e),this.boundHandleTechClick_=e=>this.handleTechClick_(e),this.boundHandleTechDoubleClick_=e=>this.handleTechDoubleClick_(e),this.boundHandleTechTouchStart_=e=>this.handleTechTouchStart_(e),this.boundHandleTechTouchMove_=e=>this.handleTechTouchMove_(e),this.boundHandleTechTouchEnd_=e=>this.handleTechTouchEnd_(e),this.boundHandleTechTap_=e=>this.handleTechTap_(e),this.isFullscreen_=!1,this.log=Cd(this.id_),this.fsApi_=_d,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&gu(e),this.language(this.options_.language),t.languages){const e={};Object.getOwnPropertyNames(t.languages).forEach((function(i){e[i.toLowerCase()]=t.languages[i]})),this.languages_=e}else this.languages_=nm.prototype.options_.languages;this.resetCache_(),this.poster_=t.poster||"",this.controls_=!!t.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),t.plugins&&Object.keys(t.plugins).forEach((e=>{if("function"!=typeof this[e])throw new Error(`plugin "${e}" does not exist`)})),this.scrubbing_=!1,this.el_=this.createEl(),_h(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(Zu(cl(),this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const n=Pd(this.options_);if(t.plugins&&Object.keys(t.plugins).forEach((e=>{this[e](t.plugins[e])})),t.debug&&this.debug(!0),this.options_.playerOptions=n,this.middleware_=[],this.playbackRates(t.playbackRates),t.experimentalSvgIcons){const e=(new(al().DOMParser)).parseFromString('<svg xmlns="http://www.w3.org/2000/svg">\n  <defs>\n    <symbol viewBox="0 0 16 16" id="vjs-icon-play">\n      <path d="M2 1v14l12-7z"></path>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-pause">\n       <path d="M10 4H5v16h5V4zm9 0h-5v16h5V4z"/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-audio">\n      <g><rect fill=\'none\' height=\'24\' width=\'24\'/></g><g><path d=\'M12,3c-4.97,0-9,4.03-9,9v7c0,1.1,0.9,2,2,2h4v-8H5v-1c0-3.87,3.13-7,7-7s7,3.13,7,7v1h-4v8h4c1.1,0,2-0.9,2-2v-7 C21,7.03,16.97,3,12,3z\'/></g>\n    </symbol>\n    <symbol viewBox="0 0 576 512" id="vjs-icon-captions">\n      <path d=\'M0 96C0 60.7 28.7 32 64 32H512c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM200 208c14.2 0 27 6.1 35.8 16c8.8 9.9 24 10.7 33.9 1.9s10.7-24 1.9-33.9c-17.5-19.6-43.1-32-71.5-32c-53 0-96 43-96 96s43 96 96 96c28.4 0 54-12.4 71.5-32c8.8-9.9 8-25-1.9-33.9s-25-8-33.9 1.9c-8.8 9.9-21.6 16-35.8 16c-26.5 0-48-21.5-48-48s21.5-48 48-48zm144 48c0-26.5 21.5-48 48-48c14.2 0 27 6.1 35.8 16c8.8 9.9 24 10.7 33.9 1.9s10.7-24 1.9-33.9c-17.5-19.6-43.1-32-71.5-32c-53 0-96 43-96 96s43 96 96 96c28.4 0 54-12.4 71.5-32c8.8-9.9 8-25-1.9-33.9s-25-8-33.9 1.9c-8.8 9.9-21.6 16-35.8 16c-26.5 0-48-21.5-48-48z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-subtitles">\n      <path d=\'M0 0h24v24H0z\' fill=\'none\'/><path d=\'M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM4 12h4v2H4v-2zm10 6H4v-2h10v2zm6 0h-4v-2h4v2zm0-4H10v-2h10v2z\'/>\n    </symbol>\n    <symbol viewBox="0 0 448 512" id="vjs-icon-fullscreen-enter">\n      <path d=\'M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-fullscreen-exit">\n      <path d="M16,9h5a1,1,0,0,0,0-2H17V3a1,1,0,0,0-2,0V8A1,1,0,0,0,16,9ZM8,15H3a1,1,0,0,0,0,2H7v4a1,1,0,0,0,2,0V16A1,1,0,0,0,8,15ZM8,2A1,1,0,0,0,7,3V7H3A1,1,0,0,0,3,9H8A1,1,0,0,0,9,8V3A1,1,0,0,0,8,2ZM21,15H16a1,1,0,0,0-1,1v5a1,1,0,0,0,2,0V17h4a1,1,0,0,0,0-2Z"/>\n    </symbol>\n    <symbol viewBox="0 0 512 512" id="vjs-icon-play-circle">\n      <path d=\'M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zM188.3 147.1c7.6-4.2 16.8-4.1 24.3 .5l144 88c7.1 4.4 11.5 12.1 11.5 20.5s-4.4 16.1-11.5 20.5l-144 88c-7.4 4.5-16.7 4.7-24.3 .5s-12.3-12.2-12.3-20.9V168c0-8.7 4.7-16.7 12.3-20.9z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-volume-mute">\n      <path d=\'M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-volume-low">\n      <path d="M0 0h24v24H0z" fill="none"/><path d="M7 9v6h4l5 5V4l-5 5H7z"/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-volume-medium">\n      <path d="M0 0h24v24H0z" fill="none"/><path d="M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z"/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-volume-high">\n      <path d="M0 0h24v24H0z" fill="none"/><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>\n    </symbol>\n    <symbol viewBox="0 0 512 512" id="vjs-icon-spinner">\n      <path d=\'M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">\n      <path d=\'M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-chapters">\n      <path d=\'M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-downloading">\n      <path d=\'M18.32,4.26C16.84,3.05,15.01,2.25,13,2.05v2.02c1.46,0.18,2.79,0.76,3.9,1.62L18.32,4.26z M19.93,11h2.02 c-0.2-2.01-1-3.84-2.21-5.32L18.31,7.1C19.17,8.21,19.75,9.54,19.93,11z M18.31,16.9l1.43,1.43c1.21-1.48,2.01-3.32,2.21-5.32 h-2.02C19.75,14.46,19.17,15.79,18.31,16.9z M13,19.93v2.02c2.01-0.2,3.84-1,5.32-2.21l-1.43-1.43 C15.79,19.17,14.46,19.75,13,19.93z M15.59,10.59L13,13.17V7h-2v6.17l-2.59-2.59L7,12l5,5l5-5L15.59,10.59z M11,19.93v2.02 c-5.05-0.5-9-4.76-9-9.95s3.95-9.45,9-9.95v2.02C7.05,4.56,4,7.92,4,12S7.05,19.44,11,19.93z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-file-download">\n      <path d=\'M18,15v3H6v-3H4v3c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2v-3H18z M17,11l-1.41-1.41L13,12.17V4h-2v8.17L8.41,9.59L7,11l5,5 L17,11z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-file-download-done">\n      <polygon points=\'20.13,5.41 18.72,4 9.53,13.19 5.28,8.95 3.87,10.36 9.53,16.02\'/><rect height=\'2\' width=\'14\' x=\'5\' y=\'18\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-file-download-off">\n      <path d=\'M18,15.17V15h2v2.17L18,15.17z M15.41,12.59L17,11l-1.41-1.41L14,11.17L15.41,12.59z M13,10.17V4h-2v4.17L13,10.17z M21.19,21.19l-1.78-1.78L2.81,2.81L1.39,4.22l6.19,6.19L7,11l5,5l0.59-0.59L15.17,18H6v-3H4v3c0,1.1,0.9,2,2,2h11.17l2.61,2.61 L21.19,21.19z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-share">\n      <path d=\'M0 0h24v24H0z\' fill=\'none\'/><path d=\'M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-cog">\n      <path d=\'M0,0h24v24H0V0z\' fill=\'none\'/><path d=\'M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z\'/>\n    </symbol>\n    <symbol viewBox="0 0 448 512" id="vjs-icon-square">\n      <path d=\'M384 80c8.8 0 16 7.2 16 16V416c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V96c0-8.8 7.2-16 16-16H384zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64z\'/>\n    </symbol>\n    <symbol viewBox="0 0 512 512" id="vjs-icon-circle">\n      <path d=\'M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-circle-outline">\n      <path d=\'M12,2C6.47,2,2,6.47,2,12c0,5.53,4.47,10,10,10s10-4.47,10-10C22,6.47,17.53,2,12,2z M12,20c-4.42,0-8-3.58-8-8 c0-4.42,3.58-8,8-8s8,3.58,8,8C20,16.42,16.42,20,12,20z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-circle-inner-circle">\n      <path d=\'M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3-8c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-cancel">\n      <path d=\'M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-repeat">\n      <path d=\'M0 0h24v24H0z\' fill=\'none\'/><path d=\'M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-replay">\n      <path d=\'M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z\'/>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">\n      <path d=\'m17.68852 98-8.69633 8.69633 8.69633 8.69634 2.48665-2.48434-4.31928-4.31928h1.3011c4.93015 0 9.07149 1.72189 12.42399 5.16511 3.35251 3.44322 5.02876 7.63753 5.02876 12.58345h3.54972c0-2.95809-.55264-5.7293-1.657-8.3127-1.10435-2.5834-2.62238-4.84095-4.555-6.77357-1.93262-1.93262-4.19017-3.45065-6.77357-4.55501-2.5834-1.10435-5.35462-1.65699-8.31271-1.65699H15.5l4.61508-4.61509zm-8.07929 21.65879v13.86144h11.35631v5.00796H9.60923V143h12.699c.83466 0 1.55075-.29818 2.14693-.89436.59619-.59619.89436-1.30996.89436-2.14462v-7.78117c0-.83466-.29817-1.55075-.89436-2.14693-.59618-.59618-1.31227-.89436-2.14693-.89436h-8.22719v-5.09578h11.26848v-4.38399z\'/>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">\n      <path d=\'M42.314792 125.62978c0-4.99676-1.693476-9.23445-5.080438-12.71305-3.386962-3.47861-7.570851-5.21791-12.551676-5.21791h-1.314946l4.363203 4.3632-2.510335 2.51034-8.786174-8.78619L25.2206 97l2.450567 2.45057-4.662053 4.66205h1.374714c2.988489 0 5.787713.55785 8.397671 1.67355 2.609949 1.11571 4.891163 2.64981 6.843654 4.60229 1.952481 1.95248 3.486576 4.2337 4.602275 6.84365 1.115709 2.60995 1.673563 5.40917 1.673563 8.39767zM8.1829433 142v-19.65677H3.17603v-4.5433h9.642939V142Zm13.6299297 0c-1.155923 0-2.126398-.39251-2.911424-1.17755-.778861-.77885-1.168286-1.74624-1.168286-2.90215v-16.04066c0-1.15593.392524-2.1264 1.17755-2.91144.77886-.77885 1.746237-1.16827 2.90216-1.16827h7.695814c1.155914 0 2.126388.39251 2.911425 1.17755.77885.77886 1.168275 1.74623 1.168275 2.90216v16.04066c0 1.15591-.392513 2.12639-1.177549 2.91142-.778851.77885-1.746237 1.16828-2.902151 1.16828Zm.556316-4.63603h6.583172v-15.02074h-6.583172z\'/>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">\n      <path d=\'m26.046875 97-8.732422 8.73242 8.732422 8.73242 2.496094-2.49414-4.335938-4.33789h1.306641c4.950749 0 9.108097 1.72991 12.474609 5.1875 3.366504 3.4576 5.050781 7.66818 5.050781 12.63477h3.564454c0-2.97045-.555098-5.75152-1.664063-8.3457-1.108965-2.59419-2.633522-4.86205-4.574219-6.80274-1.940688-1.94069-4.208545-3.46525-6.802734-4.57422-2.59419-1.10897-5.375262-1.66406-8.345703-1.66406h-1.367188l4.634766-4.63477zM2.5546875 117.53125v4.6875H12.851562v5.25H5.8730469v4.6875h6.9785151v5.15625H2.5546875V142H13.361328c1.06088 0 1.950319-.39495 2.667969-1.18555.71765-.79059 1.076172-1.7727 1.076172-2.9414v-16.2168c0-1.1687-.358522-2.14886-1.076172-2.93945-.71765-.79059-1.607089-1.18555-2.667969-1.18555zm22.4824215.14063c-1.148936 0-2.110612.38991-2.884765 1.16406-.780292.78029-1.171875 1.74365-1.171875 2.89258v15.94336c0 1.14892.387966 2.1106 1.162109 2.88476.780302.78029 1.745595 1.17188 2.894531 1.17188h7.648438c1.148936 0 2.110613-.38795 2.884765-1.16211.780294-.78029 1.169922-1.74561 1.169922-2.89453v-15.94336c0-1.14893-.386013-2.11061-1.160156-2.88477-.780293-.78029-1.745595-1.17187-2.894531-1.17187zm.552735 4.51757h6.544922v14.92969h-6.544922z\'/>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">\n      <path d=\'m29.50843 97-2.43193 2.42962 4.6253 4.6253h-1.3642c-2.96464 0-5.74198.55386-8.3311 1.66066-2.58912 1.1068-4.85167 2.62819-6.78857 4.56508-1.93689 1.9369-3.45828 4.19945-4.56508 6.78857-1.1068 2.58911-1.66066 5.36646-1.66066 8.3311h3.55757c0-4.95687 1.67996-9.16047 5.03989-12.6113 3.35992-3.45084 7.51042-5.17654 12.45149-5.17654h1.30398l-4.32653 4.32883 2.48984 2.48984 8.71558-8.71558zm-9.78332 21.60945v13.8898h11.38144v5.01905H19.72511V142h12.72711c.83651 0 1.55186-.29884 2.14937-.89634.5975-.59751.89634-1.31286.89634-2.14936v-7.7984c0-.83651-.29884-1.55418-.89634-2.15168-.59751-.5975-1.31286-.89634-2.14937-.89634h-8.2454v-5.10706h11.29111v-4.39137z\'/>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">\n      <path d=\'m23.118923 97-2.385761 2.38349 4.537491 4.53749h-1.338298c-2.908354 0-5.632974.54335-8.172936 1.62913-2.539963 1.08579-4.759558 2.57829-6.659682 4.47842-1.900125 1.90012-3.39263 4.11972-4.478415 6.65968-1.085785 2.53996-1.629134 5.26458-1.629134 8.17294h3.490028c0-4.86277 1.648071-8.98656 4.944206-12.37188 3.296134-3.38532 7.367841-5.07826 12.215097-5.07826h1.279222l-4.244383 4.24665 2.442565 2.44257 8.550114-8.55012zm-9.520322 21.44913v4.42161h4.871497V142h4.512496v-23.55087zm18.136328 0c-1.124919 0-2.06632.37811-2.824287 1.13608-.763982.76398-1.147437 1.70845-1.147437 2.83337v15.61197c0 1.12492.380382 2.06631 1.138349 2.82428.763983.76398 1.708456 1.14517 2.833375 1.14517h7.489021c1.12492 0 2.06632-.37811 2.82428-1.13608.76399-.76398 1.14517-1.70845 1.14517-2.83337v-15.61197c0-1.12492-.37811-2.06632-1.13608-2.82429-.76398-.76398-1.70845-1.14516-2.83337-1.14516zm.540773 4.42161h6.407468v14.61676h-6.407468z\'/>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">\n      <path d=\'m25.548631 97-2.436697 2.43438 4.634367 4.63436H26.37943c-2.970448 0-5.753239.55495-8.347429 1.66392-2.594191 1.10897-4.861176 2.63334-6.801867 4.57403-1.940693 1.94069-3.465063 4.20767-4.57403 6.80187-1.108967 2.59419-1.663916 5.37698-1.663916 8.34742h3.56454c0-4.96658 1.683258-9.17841 5.049766-12.63601 3.366507-3.4576 7.525145-5.18669 12.475891-5.18669h1.306534l-4.335002 4.33733 2.494714 2.49471 8.73266-8.73266zm-11.552266 20.53092v4.68774h10.296787v5.24934h-6.978237v4.68774h6.978237v5.15652H13.996365V142h10.807333c1.060879 0 1.94879-.39527 2.666443-1.18586.717653-.79059 1.076789-1.77158 1.076789-2.94028v-16.2168c0-1.1687-.359136-2.14969-1.076789-2.94028-.717653-.79059-1.605564-1.18586-2.666443-1.18586zm21.173741.16708c-1.148937 0-2.110436.38851-2.884586 1.16266-.780294.78029-1.171935 1.74493-1.171935 2.89387v15.94296c0 1.14894.388502 2.11043 1.162652 2.88458.780294.78029 1.744932 1.16962 2.893869 1.16962h7.648904c1.14894 0 2.11044-.38619 2.88459-1.16033.78029-.7803 1.16961-1.74493 1.16961-2.89387v-15.94296c0-1.14894-.38618-2.11044-1.16033-2.88459-.78029-.78029-1.74493-1.17194-2.89387-1.17194zm.552317 4.51602h6.541957v14.93115h-6.541957z\'/>\n    </symbol>\n    <symbol viewBox="0 0 512 512" xmlns:sketch=\'http://www.bohemiancoding.com/sketch/ns\' id="vjs-icon-audio-description">\n      <g id=\'Page-1\' stroke=\'none\' stroke-width=\'1\' sketch:type=\'MSPage\'><g id=\'AD\' sketch:type=\'MSArtboardGroup\'><g id=\'g24\' sketch:type=\'MSLayerGroup\' transform=\'translate(226.904216, 162.124958)\'><path d=\'M0.385466989,219.226204 L0.385466989,0.867948105 C50.7660025,-0.149278544 89.4938709,-2.16027378 118.016886,17.9940357 C145.39121,37.3362698 166.750707,74.9591545 162.906445,123.318579 C158.839382,174.474203 121.571663,217.457893 73.1311827,221.793795 C49.0460488,223.949377 1.1583283,221.793795 1.1583283,221.793795 C1.1583283,221.793795 0.318395733,220.441758 0.385466989,219.226204 M49.1404882,164.421786 C80.5703101,165.681697 102.34881,147.788744 105.636072,119.036417 C110.038491,80.5268177 84.4473371,55.4838492 47.5943801,58.2399576 L47.5943801,161.852062 C47.5585317,163.318404 48.1702678,164.071194 49.1404882,164.421786\' id=\'path26\' sketch:type=\'MSShapeGroup\'></path></g><g id=\'g28\' sketch:type=\'MSLayerGroup\' transform=\'translate(383.779991, 168.926023)\'><path d=\'M0,212.402042 C13.3360014,216.111401 17.386874,201.342635 23.2151349,190.99422 C35.936702,168.422877 45.5086182,139.400143 45.6604922,106.220214 C45.8813648,58.6259492 27.3172746,23.7033002 10.059532,0.0383859113 L1.54919183,0.0383859113 C0.96289654,3.91152436 3.77564916,7.35260805 5.41542574,10.3142944 C18.5814362,34.0755999 30.7818519,66.8674044 30.9556975,104.507776 C31.1545985,147.683822 16.7932549,183.786198 0,212.402042\' id=\'path30\' sketch:type=\'MSShapeGroup\'></path></g><g id=\'g32\' sketch:type=\'MSLayerGroup\' transform=\'translate(425.153705, 168.926023)\'><path d=\'M0,212.402042 C13.3360014,216.111401 17.3841758,201.340502 23.2151349,190.99422 C35.936702,168.422877 45.5066909,139.400143 45.6604922,106.220214 C45.8813648,58.6259492 27.3172746,23.7033002 10.059532,0.0383859113 L1.54919183,0.0383859113 C0.96289654,3.91152436 3.77487823,7.35346107 5.41542574,10.3142944 C18.5814362,34.0755999 30.7822374,66.8674044 30.9556975,104.507776 C31.1545985,147.683822 16.7932549,183.786198 0,212.402042\' id=\'path34\' sketch:type=\'MSShapeGroup\'></path></g><g id=\'g36\' sketch:type=\'MSLayerGroup\' transform=\'translate(466.260868, 168.926023)\'><path d=\'M0,212.402042 C13.3360014,216.111401 17.3841758,201.340502 23.2151349,190.99422 C35.936702,168.422877 45.5066909,139.400143 45.6604922,106.220214 C45.8813648,58.6259492 27.3172746,23.7033002 10.059532,0.0383859113 L1.54919183,0.0383859113 C0.96289654,3.91152436 3.77487823,7.35303456 5.41542574,10.3142944 C18.5814362,34.0755999 30.7818519,66.8674044 30.9556975,104.507776 C31.1545985,147.683822 16.7932549,183.786198 0,212.402042\' id=\'path38\' sketch:type=\'MSShapeGroup\'></path></g><path d=\'M4.4765625,383.005158 L72.5800993,383.005158 L91.1530552,354.521486 L155.321745,354.386058 C155.321745,354.386058 155.386889,373.799083 155.386889,383.005158 L204.142681,383.005158 L204.142681,160.308263 L145.326586,160.308263 C139.673713,169.845383 4.4765625,383.005158 4.4765625,383.005158 L4.4765625,383.005158 Z M157.144233,237.722611 L157.144233,308.881058 L116.6914,308.610203 L157.144233,237.722611 L157.144233,237.722611 Z\' id=\'path22\' sketch:type=\'MSShapeGroup\'></path></g></g>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-next-item">\n      <path d=\'M0 0h24v24H0z\' fill=\'none\'/><path d=\'M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-previous-item">\n      <path d=\'M0 0h24v24H0z\' fill=\'none\'/><path d=\'M6 6h2v12H6zm3.5 6l8.5 6V6z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-shuffle">\n      <path d=\'M0 0h24v24H0z\' fill=\'none\'/><path d=\'M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-cast">\n      <path d=\'M0 0h24v24H0z\' fill=\'none\'/><path d=\'M0 0h24v24H0z\' fill=\'none\' opacity=\'.1\'/><path d=\'M21 3H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm0-4v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-picture-in-picture-enter">\n      <path d=\'M0 0h24v24H0V0z\' fill=\'none\'/><path d=\'M19 11h-8v6h8v-6zm4 8V4.98C23 3.88 22.1 3 21 3H3c-1.1 0-2 .88-2 1.98V19c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H3V4.97h18v14.05z\'/>\n    </symbol>\n    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">\n      <path d=\'M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z\'/><path fill=\'none\' d=\'M-1-3h24v24H-1z\'/>\n    </symbol>\n    <symbol viewBox="0 0 320 512" id="vjs-icon-facebook">\n      <path d=\'M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z\'/>\n    </symbol>\n    <symbol viewBox="0 0 448 512" id="vjs-icon-linkedin">\n      <path d=\'M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z\'/>\n    </symbol>\n    <symbol viewBox="0 0 512 512" id="vjs-icon-twitter">\n      <path d=\'M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z\'/>\n    </symbol>\n    <symbol viewBox="0 0 320 512" id="vjs-icon-tumblr">\n      <path d=\'M309.8 480.3c-13.6 14.5-50 31.7-97.4 31.7-120.8 0-147-88.8-147-140.6v-144H17.9c-5.5 0-10-4.5-10-10v-68c0-7.2 4.5-13.6 11.3-16 62-21.8 81.5-76 84.3-117.1.8-11 6.5-16.3 16.1-16.3h70.9c5.5 0 10 4.5 10 10v115.2h83c5.5 0 10 4.4 10 9.9v81.7c0 5.5-4.5 10-10 10h-83.4V360c0 34.2 23.7 53.6 68 35.8 4.8-1.9 9-3.2 12.7-2.2 3.5.9 5.8 3.4 7.4 7.9l22 64.3c1.8 5 3.3 10.6-.4 14.5z\'/>\n    </symbol>\n    <symbol viewBox="0 0 496 512" id="vjs-icon-pinterest">\n      <path d=\'M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z\'/>\n    </symbol>\n  </defs>\n</svg>',"image/svg+xml");if(e.querySelector("parsererror"))Td.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const t=e.documentElement;t.style.display="none",this.el_.appendChild(t),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio("audio"===e.nodeName.toLowerCase()),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),Zd&&this.addClass("vjs-touch-enabled"),eu||this.addClass("vjs-workinghover"),nm.players[this.id_]=this;const s=gd.split(".")[0];this.addClass(`vjs-v${s}`),this.userActive(!0),this.reportUserActivity(),this.one("play",(e=>this.listenForUserActivity_(e))),this.on("keydown",(e=>this.handleKeyDown(e))),this.on("languagechange",(e=>this.handleLanguagechange(e))),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",(()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)}))}dispose(){this.trigger("dispose"),this.off("dispose"),Ju(cl(),this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Ju(cl(),"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),nm.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),gp[this.id()]=null,pp.names.forEach((e=>{const t=this[pp[e].getterName]();t&&t.off&&t.off()})),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e,t=this.tag,i=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player");const n="video-js"===this.tag.tagName.toLowerCase();i?e=this.el_=t.parentNode:n||(e=this.el_=super.createEl("div"));const s=gu(t);if(n){for(e=this.el_=t,t=this.tag=cl().createElement("video");e.children.length;)t.appendChild(e.firstChild);uu(e,"video-js")||hu(e,"video-js"),e.appendChild(t),i=this.playerElIngest_=e,Object.keys(e).forEach((i=>{try{t[i]=e[i]}catch(e){}}))}if(t.setAttribute("tabindex","-1"),s.tabindex="-1",qd&&Xd&&(t.setAttribute("role","application"),s.role="application"),t.removeAttribute("width"),t.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach((function(i){n&&"class"===i||e.setAttribute(i,s[i]),n&&t.setAttribute(i,s[i])})),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=e.player=this,this.addClass("vjs-paused"),!0!==al().VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=zu("vjs-styles-dimensions");const e=Ou(".vjs-styles-defaults"),t=Ou("head");t.insertBefore(this.styleEl_,e?e.nextSibling:t.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const o=t.getElementsByTagName("a");for(let e=0;e<o.length;e++){const t=o.item(e);hu(t,"vjs-hidden"),t.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!i&&t.parentNode.insertBefore(e,t),du(t,e),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=e,e}crossOrigin(e){if(void 0===e)return this.techGet_("crossOrigin");null===e||"anonymous"===e||"use-credentials"===e?(this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)):Td.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,t){const i=e+"_";if(void 0===t)return this[i]||0;if(""===t||"auto"===t)return this[i]=void 0,void this.updateStyleEl_();const n=parseFloat(t);isNaN(n)?Td.error(`Improper value "${t}" supplied for for ${e}`):(this[i]=n,this.updateStyleEl_())}fluid(e){if(void 0===e)return!!this.fluid_;this.fluid_=!!e,hh(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),((e,t)=>{hh(e)?t():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(t))})(this,(()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)}))):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(!0===al().VIDEOJS_NO_DYNAMIC_STYLE){const e="number"==typeof this.width_?this.width_:this.options_.width,t="number"==typeof this.height_?this.height_:this.options_.height,i=this.tech_&&this.tech_.el();return void(i&&(e>=0&&(i.width=e),t>=0&&(i.height=t)))}let e,t,i,n;i=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";const s=i.split(":"),o=s[1]/s[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/o:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*o,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),Hu(this.styleEl_,`\n      .${n} {\n        width: ${e}px;\n        height: ${t}px;\n      }\n\n      .${n}.vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: ${100*o}%;\n      }\n    `)}loadTech_(e,t){this.tech_&&this.unloadTech_();const i=Sh(e),n=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==i&&this.tag&&(fp.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;let s=this.autoplay();("string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&(s=!1);const o={source:t,autoplay:s,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${n}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};pp.names.forEach((e=>{const t=pp[e];o[t.getterName]=this[t.privateName]})),Object.assign(o,this.options_[i]),Object.assign(o,this.options_[n]),Object.assign(o,this.options_[e.toLowerCase()]),this.tag&&(o.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(o.startTime=this.cache_.currentTime);const r=fp.getTech(e);if(!r)throw new Error(`No Tech named '${i}' exists! '${i}' should be registered using videojs.registerTech()'`);var a,l;this.tech_=new r(o),this.tech_.ready(oh(this,this.handleTechReady_),!0),a=this.textTracksJson_||[],l=this.tech_,a.forEach((function(e){const t=l.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach((e=>t.addCue(e)))})),l.textTracks(),Zf.forEach((e=>{this.on(this.tech_,e,(t=>this[`handleTech${Sh(e)}_`](t)))})),Object.keys(Jf).forEach((e=>{this.on(this.tech_,e,(t=>{0===this.tech_.playbackRate()&&this.tech_.seeking()?this.queuedCallbacks_.push({callback:this[`handleTech${Jf[e]}_`].bind(this),event:t}):this[`handleTech${Jf[e]}_`](t)}))})),this.on(this.tech_,"loadstart",(e=>this.handleTechLoadStart_(e))),this.on(this.tech_,"sourceset",(e=>this.handleTechSourceset_(e))),this.on(this.tech_,"waiting",(e=>this.handleTechWaiting_(e))),this.on(this.tech_,"ended",(e=>this.handleTechEnded_(e))),this.on(this.tech_,"seeking",(e=>this.handleTechSeeking_(e))),this.on(this.tech_,"play",(e=>this.handleTechPlay_(e))),this.on(this.tech_,"pause",(e=>this.handleTechPause_(e))),this.on(this.tech_,"durationchange",(e=>this.handleTechDurationChange_(e))),this.on(this.tech_,"fullscreenchange",((e,t)=>this.handleTechFullscreenChange_(e,t))),this.on(this.tech_,"fullscreenerror",((e,t)=>this.handleTechFullscreenError_(e,t))),this.on(this.tech_,"enterpictureinpicture",(e=>this.handleTechEnterPictureInPicture_(e))),this.on(this.tech_,"leavepictureinpicture",(e=>this.handleTechLeavePictureInPicture_(e))),this.on(this.tech_,"error",(e=>this.handleTechError_(e))),this.on(this.tech_,"posterchange",(e=>this.handleTechPosterChange_(e))),this.on(this.tech_,"textdata",(e=>this.handleTechTextData_(e))),this.on(this.tech_,"ratechange",(e=>this.handleTechRateChange_(e))),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||du(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){pp.names.forEach((e=>{const t=pp[e];this[t.privateName]=this[t.getterName]()})),this.textTracksJson_=function(e){const t=e.$$("track"),i=Array.prototype.map.call(t,(e=>e.track));return Array.prototype.map.call(t,(function(e){const t=zh(e.track);return e.src&&(t.src=e.src),t})).concat(Array.prototype.filter.call(e.textTracks(),(function(e){return-1===i.indexOf(e)})).map(zh))}(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return void 0===e&&Td.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||"string"!=typeof e)return;const t=()=>{const e=this.muted();this.muted(!0);const t=()=>{this.muted(e)};this.playTerminatedQueue_.push(t);const i=this.play();if(Uh(i))return i.catch((e=>{throw t(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${e||""}`)}))};let i;return"any"!==e||this.muted()?i="muted"!==e||this.muted()?this.play():t():(i=this.play(),Uh(i)&&(i=i.catch(t))),Uh(i)?i.then((()=>{this.trigger({type:"autoplay-success",autoplay:e})})).catch((()=>{this.trigger({type:"autoplay-failure",autoplay:e})})):void 0}updateSourceCaches_(e=""){let t=e,i="";"string"!=typeof t&&(t=e.src,i=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!i&&(i=((e,t)=>{if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;const i=e.cache_.sources.filter((e=>e.src===t));if(i.length)return i[0].type;const n=e.$$("source");for(let e=0;e<n.length;e++){const i=n[e];if(i.type&&i.src&&i.src===t)return i.type}return Cp(t)})(this,t)),this.cache_.source=Pd({},e,{src:t,type:i});const n=this.cache_.sources.filter((e=>e.src&&e.src===t)),s=[],o=this.$$("source"),r=[];for(let e=0;e<o.length;e++){const i=gu(o[e]);s.push(i),i.src&&i.src===t&&r.push(i.src)}r.length&&!n.length?this.cache_.sources=s:n.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t}handleTechSourceset_(e){if(!this.changingSrc_){let t=e=>this.updateSourceCaches_(e);const i=this.currentSource().src,n=e.src;i&&!/^blob:/.test(i)&&/^blob:/.test(n)&&(!this.lastSource_||this.lastSource_.tech!==n&&this.lastSource_.player!==i)&&(t=()=>{}),t(n),e.src||this.tech_.any(["sourceset","loadstart"],(e=>{if("sourceset"===e.type)return;const t=this.techGet_("currentSrc");this.lastSource_.tech=t,this.updateSourceCaches_(t)}))}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((e=>e.callback(e.event))),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),t=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",t))};this.on("timeupdate",t)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.click&&!1===this.options_.userActions.click||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.click?this.options_.userActions.click.call(this,e):this.paused()?Fh(this.play()):this.pause()))}handleTechDoubleClick_(e){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(t=>t.contains(e.target)))||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const t=e.target.player;if(t&&t!==this)return;const i=this.el();let n=cl()[this.fsApi_.fullscreenElement]===i;!n&&i.matches&&(n=i.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(n)}handleTechFullscreenChange_(e,t){t&&(t.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",(()=>{this.removeClass("vjs-ios-native-fs")}))),this.isFullscreen(t.isFullscreen))}handleTechFullscreenError_(e,t){this.trigger("fullscreenerror",t)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,t){this.ready((function(){if(e in xp)return function(e,t,i,n){return t[i](e.reduce(kp(i),n))}(this.middleware_,this.tech_,e,t);if(e in wp)return bp(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(e){throw Td(e),e}}),!0)}techGet_(e){if(this.tech_&&this.tech_.isReady_){if(e in _p)return function(e,t,i){return e.reduceRight(kp(i),t[i]())}(this.middleware_,this.tech_,e);if(e in wp)return bp(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw Td(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,t),t;if("TypeError"===t.name)throw Td(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,t),this.tech_.isReady_=!1,t;throw Td(t),t}}}play(){return new Promise((e=>{this.play_(e)}))}play_(e=Fh){this.playCallbacks_.push(e);const t=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc())),i=Boolean(tu||eu);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!t)return this.waitToPlay_=e=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(!t&&i&&this.load());const n=this.techGet_("play");i&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),null===n?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(n)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach((function(e){e()}))}runPlayCallbacks_(e){const t=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],t.forEach((function(t){t(e)}))}pause(){this.techCall_("pause")}paused(){return!1!==this.techGet_("paused")}played(){return this.techGet_("played")||Mh(0,0)}scrubbing(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){return void 0===e?(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime):(e<0&&(e=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",e),this.cache_.initTime=0,void(isFinite(e)&&(this.cache_.currentTime=Number(e)))):(this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_)))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return e&&e.length||(e=Mh(0,0)),e}bufferedPercent(){return Rh(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),t=this.duration();let i=e.end(e.length-1);return i>t&&(i=t),i}volume(e){let t;return void 0!==e?(t=Math.max(0,Math.min(1,e)),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)}muted(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)}defaultMuted(e){return void 0!==e&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(void 0!==e){const t=this.isFullscreen_;return this.isFullscreen_=Boolean(e),this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const t=this;return new Promise(((i,n)=>{function s(){t.off("fullscreenerror",r),t.off("fullscreenchange",o)}function o(){s(),i()}function r(e,t){s(),n(t)}t.one("fullscreenchange",o),t.one("fullscreenerror",r);const a=t.requestFullscreenHelper_(e);a&&(a.then(s,s),a.then(i,n))}))}requestFullscreenHelper_(e){let t;if(this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(t=e)),this.fsApi_.requestFullscreen){const e=this.el_[this.fsApi_.requestFullscreen](t);return e&&e.then((()=>this.isFullscreen(!0)),(()=>this.isFullscreen(!1))),e}this.tech_.supportsFullScreen()&&1==!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise(((t,i)=>{function n(){e.off("fullscreenerror",o),e.off("fullscreenchange",s)}function s(){n(),t()}function o(e,t){n(),i(t)}e.one("fullscreenchange",s),e.one("fullscreenerror",o);const r=e.exitFullscreenHelper_();r&&(r.then(n,n),r.then(t,i))}))}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=cl()[this.fsApi_.exitFullscreen]();return e&&Fh(e.then((()=>this.isFullscreen(!1)))),e}this.tech_.supportsFullScreen()&&1==!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=cl().documentElement.style.overflow,Zu(cl(),"keydown",this.boundFullWindowOnEscKey_),cl().documentElement.style.overflow="hidden",hu(cl().body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){ul().isEventKey(e,"Esc")&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,Ju(cl(),"keydown",this.boundFullWindowOnEscKey_),cl().documentElement.style.overflow=this.docOrigOverflow,pu(cl().body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(void 0===e)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&al().documentPictureInPicture){const e=cl().createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(lu("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),al().documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then((t=>(Lu(t),this.el_.parentNode.insertBefore(e,this.el_),t.document.body.appendChild(this.el_),t.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger("enterpictureinpicture"),t.addEventListener("pagehide",(t=>{const i=t.target.querySelector(".video-js");e.parentNode.replaceChild(i,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")})),t)))}return"pictureInPictureEnabled"in cl()&&!1===this.disablePictureInPicture()?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){return al().documentPictureInPicture&&al().documentPictureInPicture.window?(al().documentPictureInPicture.window.close(),Promise.resolve()):"pictureInPictureEnabled"in cl()?cl().exitPictureInPicture():void 0}handleKeyDown(e){const{userActions:t}=this.options_;t&&t.hotkeys&&((e=>{const t=e.tagName.toLowerCase();return!!e.isContentEditable||("input"===t?-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(e.type):-1!==["textarea"].indexOf(t))})(this.el_.ownerDocument.activeElement)||("function"==typeof t.hotkeys?t.hotkeys.call(this,e):this.handleHotkeys(e)))}handleHotkeys(e){const t=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:i=(e=>ul().isEventKey(e,"f")),muteKey:n=(e=>ul().isEventKey(e,"m")),playPauseKey:s=(e=>ul().isEventKey(e,"k")||ul().isEventKey(e,"Space"))}=t;if(i.call(this,e)){e.preventDefault(),e.stopPropagation();const t=Eh.getComponent("FullscreenToggle");!1!==cl()[this.fsApi_.fullscreenEnabled]&&t.prototype.handleClick.call(this,e)}else n.call(this,e)?(e.preventDefault(),e.stopPropagation(),Eh.getComponent("MuteToggle").prototype.handleClick.call(this,e)):s.call(this,e)&&(e.preventDefault(),e.stopPropagation(),Eh.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let t;for(let i=0,n=this.options_.techOrder;i<n.length;i++){const s=n[i];let o=fp.getTech(s);if(o||(o=Eh.getComponent(s)),o){if(o.isSupported()&&(t=o.canPlayType(e),t))return t}else Td.error(`The "${s}" tech is undefined. Skipped browser support check for that tech.`)}return""}selectSource(e){const t=this.options_.techOrder.map((e=>[e,fp.getTech(e)])).filter((([e,t])=>t?t.isSupported():(Td.error(`The "${e}" tech is undefined. Skipped browser support check for that tech.`),!1))),i=function(e,t,i){let n;return e.some((e=>t.some((t=>{if(n=i(e,t),n)return!0})))),n};let n;const s=([e,t],i)=>{if(t.canPlaySource(i,this.options_[e.toLowerCase()]))return{source:i,tech:e}};var o;return n=this.options_.sourceOrder?i(e,t,(o=s,(e,t)=>o(t,e))):i(t,e,s),n||!1}handleSrc_(e,t){if(void 0===e)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const i=Ep(e);if(i.length){if(this.changingSrc_=!0,t||(this.cache_.sources=i),this.updateSourceCaches_(i[0]),yp(this,i[0],((e,n)=>{if(this.middleware_=n,t||(this.cache_.sources=i),this.updateSourceCaches_(e),this.src_(e))return i.length>1?this.handleSrc_(i.slice(1)):(this.changingSrc_=!1,this.setTimeout((function(){this.error({code:4,message:this.options_.notSupportedMessage})}),0),void this.triggerReady());var s,o;s=n,o=this.tech_,s.forEach((e=>e.setTech&&e.setTech(o)))})),i.length>1){const e=()=>{this.error(null),this.handleSrc_(i.slice(1),!0)},t=()=>{this.off("error",e)};this.one("error",e),this.one("playing",t),this.resetRetryOnError_=()=>{this.off("error",e),this.off("playing",t)}}}else this.setTimeout((function(){this.error({code:4,message:this.options_.notSupportedMessage})}),0)}src(e){return this.handleSrc_(e,!1)}src_(e){const t=this.selectSource([e]);return!t||(Th(t.tech,this.techName_)?(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1}),!0),!1):(this.changingSrc_=!0,this.loadTech_(t.tech,t.source),this.tech_.ready((()=>{this.changingSrc_=!1})),!1))}load(){this.tech_&&this.tech_.vhs?this.src(this.currentSource()):this.techCall_("load")}reset(){this.paused()?this.doReset_():Fh(this.play().then((()=>this.doReset_())))}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),hh(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:t,progressControl:i,remainingTimeDisplay:n}=this.controlBar||{},{seekBar:s}=i||{};e&&e.updateContent(),t&&t.updateContent(),n&&n.updateContent(),s&&(s.update(),s.loadProgressBar&&s.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")}autoplay(e){if(void 0===e)return this.options_.autoplay||!1;let t;"string"==typeof e&&/(any|play|muted)/.test(e)||!0===e&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_("string"==typeof e?e:"play"),t=!1):this.options_.autoplay=!!e,t=void 0===t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)}playsinline(e){return void 0!==e&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")}poster(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(void 0===e)return this.error_||null;if(yd("beforeerror").forEach((t=>{const i=t(this,e);Od(i)&&!Array.isArray(i)||"string"==typeof i||"number"==typeof i||null===i?e=i:this.log.error("please return a value that MediaError expects in beforeerror hooks")})),this.options_.suppressNotSupportedError&&e&&4===e.code){const t=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],t),void this.one("loadstart",(function(){this.off(["click","touchstart"],t)}))}if(null===e)return this.error_=null,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new Nh(e),this.addClass("vjs-error"),Td.error(`(CODE:${this.error_.code} ${Nh.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),yd("error").forEach((e=>e(this,this.error_)))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(e){e.stopPropagation(),e.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,t,i;const n=oh(this,this.reportUserActivity),s=function(t){n(),this.clearInterval(e)};this.on("mousedown",(function(){n(),this.clearInterval(e),e=this.setInterval(n,250)})),this.on("mousemove",(function(e){e.screenX===t&&e.screenY===i||(t=e.screenX,i=e.screenY,n())})),this.on("mouseup",s),this.on("mouseleave",s);const o=this.getChild("controlBar");let r;!o||eu||Fd||(o.on("mouseenter",(function(e){0!==this.player().options_.inactivityTimeout&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0})),o.on("mouseleave",(function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}))),this.on("keydown",n),this.on("keyup",n),this.setInterval((function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(r);const e=this.options_.inactivityTimeout;e<=0||(r=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),e))}),250)}playbackRate(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)}defaultPlaybackRate(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),t=this.getChild("ControlBar"),i=t&&t.currentHeight();e.forEach((e=>{e!==t&&e.el_&&!e.hasClass("vjs-hidden")&&(e.hide(),this.audioOnlyCache_.hiddenChildren.push(e))})),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(i),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach((e=>e.show())),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if("boolean"!=typeof e||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const e=[];return this.isInPictureInPicture()&&e.push(this.exitPictureInPicture()),this.isFullscreen()&&e.push(this.exitFullscreen()),this.audioPosterMode()&&e.push(this.audioPosterMode(!1)),Promise.all(e).then((()=>this.enableAudioOnlyUI_()))}return Promise.resolve().then((()=>this.disableAudioOnlyUI_()))}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return"boolean"!=typeof e||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then((()=>{this.enablePosterModeUI_()})):Promise.resolve().then((()=>{this.enablePosterModeUI_()})):Promise.resolve().then((()=>{this.disablePosterModeUI_()})))}addTextTrack(e,t,i){if(this.tech_)return this.tech_.addTextTrack(e,t,i)}addRemoteTextTrack(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)}removeRemoteTextTrack(e={}){let{track:t}=e;if(t||(t=e),this.tech_)return this.tech_.removeRemoteTextTrack(t)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(void 0===e)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),hh(this)&&this.trigger("languagechange"))}languages(){return Pd(nm.prototype.options_.languages,this.languages_)}toJSON(){const e=Pd(this.options_),t=e.tracks;e.tracks=[];for(let i=0;i<t.length;i++){let n=t[i];n=Pd(n),n.player=void 0,e.tracks[i]=n}return e}createModal(e,t){(t=t||{}).content=e||"";const i=new Vh(this,t);return this.addChild(i),i.on("dispose",(()=>{this.removeChild(i)})),i.open(),i}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),t=this.currentWidth();for(let i=0;i<em.length;i++){const n=em[i];if(t<=this.breakpoints_[n]){if(e===n)return;e&&this.removeClass(tm[e]),this.addClass(tm[n]),this.breakpoint_=n;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return void 0===e||(this.breakpoint_="",this.breakpoints_=Object.assign({},im,e),this.updateCurrentBreakpoint_()),Object.assign(this.breakpoints_)}responsive(e){return void 0===e?this.responsive_:(e=Boolean(e))!==this.responsive_?(this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return tm[this.breakpoint_]||""}loadMedia(e,t){if(!e||"object"!=typeof e)return;const i=this.crossOrigin();this.reset(),this.cache_.media=Pd(e);const{artist:n,artwork:s,description:o,poster:r,src:a,textTracks:l,title:c}=this.cache_.media;!s&&r&&(this.cache_.media.artwork=[{src:r,type:Cp(r)}]),i&&this.crossOrigin(i),a&&this.src(a),r&&this.poster(r),Array.isArray(l)&&l.forEach((e=>this.addRemoteTextTrack(e,!1))),this.titleBar&&this.titleBar.update({title:c,description:o||n||""}),this.ready(t)}getMedia(){if(!this.cache_.media){const e=this.poster(),t=this.currentSources(),i=Array.prototype.map.call(this.remoteTextTracks(),(e=>({kind:e.kind,label:e.label,language:e.language,src:e.src}))),n={src:t,textTracks:i};return e&&(n.poster=e,n.artwork=[{src:n.poster,type:Cp(n.poster)}]),n}return Pd(this.cache_.media)}static getTagSettings(e){const t={sources:[],tracks:[]},i=gu(e),n=i["data-setup"];if(uu(e,"vjs-fill")&&(i.fill=!0),uu(e,"vjs-fluid")&&(i.fluid=!0),null!==n){const[e,t]=pl()(n||"{}");e&&Td.error(e),Object.assign(i,t)}if(Object.assign(t,i),e.hasChildNodes()){const i=e.childNodes;for(let e=0,n=i.length;e<n;e++){const n=i[e],s=n.nodeName.toLowerCase();"source"===s?t.sources.push(gu(n)):"track"===s&&t.tracks.push(gu(n))}}return t}debug(e){if(void 0===e)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(void 0===e)return this.cache_.playbackRates;Array.isArray(e)&&e.every((e=>"number"==typeof e))&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}pp.names.forEach((function(e){const t=pp[e];nm.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}})),nm.prototype.crossorigin=nm.prototype.crossOrigin,nm.players={};const sm=al().navigator;nm.prototype.options_={techOrder:fp.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:sm&&(sm.languages&&sm.languages[0]||sm.userLanguage||sm.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1},["ended","seeking","seekable","networkState","readyState"].forEach((function(e){nm.prototype[e]=function(){return this.techGet_(e)}})),Zf.forEach((function(e){nm.prototype[`handleTech${Sh(e)}_`]=function(){return this.trigger(e)}})),Eh.registerComponent("Player",nm);const om="plugin",rm="activePlugins_",am={},lm=e=>am.hasOwnProperty(e),cm=e=>lm(e)?am[e]:void 0,dm=(e,t)=>{e[rm]=e[rm]||{},e[rm][t]=!0},um=(e,t,i)=>{const n=(i?"before":"")+"pluginsetup";e.trigger(n,t),e.trigger(n+":"+t.name,t)},hm=(e,t)=>(t.prototype.name=e,function(...i){um(this,{name:e,plugin:t,instance:null},!0);const n=new t(...[this,...i]);return this[e]=()=>n,um(this,n.getEventHash()),n});class pm{constructor(e){if(this.constructor===pm)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),_h(this),delete this.trigger,wh(this,this.constructor.defaultState),dm(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,t={}){return eh(this.eventBusEl_,e,this.getEventHash(t))}handleStateChanged(e){}dispose(){const{name:e,player:t}=this;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[rm][e]=!1,this.player=this.state=null,t[e]=hm(e,am[e])}static isBasic(e){const t="string"==typeof e?cm(e):e;return"function"==typeof t&&!pm.prototype.isPrototypeOf(t.prototype)}static registerPlugin(e,t){if("string"!=typeof e)throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(lm(e))Td.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(nm.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if("function"!=typeof t)throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof t}.`);return am[e]=t,e!==om&&(pm.isBasic(t)?nm.prototype[e]=function(e,t){const i=function(){um(this,{name:e,plugin:t,instance:null},!0);const i=t.apply(this,arguments);return dm(this,e),um(this,{name:e,plugin:t,instance:i}),i};return Object.keys(t).forEach((function(e){i[e]=t[e]})),i}(e,t):nm.prototype[e]=hm(e,t)),t}static deregisterPlugin(e){if(e===om)throw new Error("Cannot de-register base plugin.");lm(e)&&(delete am[e],delete nm.prototype[e])}static getPlugins(e=Object.keys(am)){let t;return e.forEach((e=>{const i=cm(e);i&&(t=t||{},t[e]=i)})),t}static getPluginVersion(e){const t=cm(e);return t&&t.VERSION||""}}function fm(e,t,i,n){return function(e,t){let i=!1;return function(...n){return i||Td.warn(e),i=!0,t.apply(this,n)}}(`${t} is deprecated and will be removed in ${e}.0; please use ${i} instead.`,n)}pm.getPlugin=cm,pm.BASE_PLUGIN_NAME=om,pm.registerPlugin(om,pm),nm.prototype.usingPlugin=function(e){return!!this[rm]&&!0===this[rm][e]},nm.prototype.hasPlugin=function(e){return!!lm(e)};const mm=e=>0===e.indexOf("#")?e.slice(1):e;function gm(e,t,i){let n=gm.getPlayer(e);if(n)return t&&Td.warn(`Player "${e}" is already initialised. Options will not be applied.`),i&&n.ready(i),n;const s="string"==typeof e?Ou("#"+mm(e)):e;if(!ou(s))throw new TypeError("The element or ID supplied is not valid. (videojs)");const o="getRootNode"in s&&s.getRootNode()instanceof al().ShadowRoot?s.getRootNode():s.ownerDocument.body;s.ownerDocument.defaultView&&o.contains(s)||Td.warn("The element supplied is not included in the DOM"),!0===(t=t||{}).restoreEl&&(t.restoreEl=(s.parentNode&&s.parentNode.hasAttribute("data-vjs-player")?s.parentNode:s).cloneNode(!0)),yd("beforesetup").forEach((e=>{const i=e(s,Pd(t));Od(i)&&!Array.isArray(i)?t=Pd(t,i):Td.error("please return an object in beforesetup hooks")}));const r=Eh.getComponent("Player");return n=new r(s,t,i),yd("setup").forEach((e=>e(n))),n}if(gm.hooks_=vd,gm.hooks=yd,gm.hook=function(e,t){yd(e,t)},gm.hookOnce=function(e,t){yd(e,[].concat(t).map((t=>{const i=(...n)=>(bd(e,i),t(...n));return i})))},gm.removeHook=bd,!0!==al().VIDEOJS_NO_DYNAMIC_STYLE&&su()){let e=Ou(".vjs-styles-defaults");if(!e){e=zu("vjs-styles-defaults");const t=Ou("head");t&&t.insertBefore(e,t.firstChild),Hu(e,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    ")}}Uu(1,gm),gm.VERSION=gd,gm.options=nm.prototype.options_,gm.getPlayers=()=>nm.players,gm.getPlayer=e=>{const t=nm.players;let i;if("string"==typeof e){const n=mm(e),s=t[n];if(s)return s;i=Ou("#"+n)}else i=e;if(ou(i)){const{player:e,playerId:n}=i;if(e||t[n])return e||t[n]}},gm.getAllPlayers=()=>Object.keys(nm.players).map((e=>nm.players[e])).filter(Boolean),gm.players=nm.players,gm.getComponent=Eh.getComponent,gm.registerComponent=(e,t)=>(fp.isTech(t)&&Td.warn(`The ${e} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),Eh.registerComponent.call(Eh,e,t)),gm.getTech=fp.getTech,gm.registerTech=fp.registerTech,gm.use=function(e,t){mp[e]=mp[e]||[],mp[e].push(t)},Object.defineProperty(gm,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(gm.middleware,"TERMINATOR",{value:vp,writeable:!1,enumerable:!0}),gm.browser=iu,gm.obj=Bd,gm.mergeOptions=fm(9,"videojs.mergeOptions","videojs.obj.merge",Pd),gm.defineLazyProperty=fm(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",jd),gm.bind=fm(9,"videojs.bind","native Function.prototype.bind",oh),gm.registerPlugin=pm.registerPlugin,gm.deregisterPlugin=pm.deregisterPlugin,gm.plugin=(e,t)=>(Td.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),pm.registerPlugin(e,t)),gm.getPlugins=pm.getPlugins,gm.getPlugin=pm.getPlugin,gm.getPluginVersion=pm.getPluginVersion,gm.addLanguage=function(e,t){return e=(""+e).toLowerCase(),gm.options.languages=Pd(gm.options.languages,{[e]:t}),gm.options.languages[e]},gm.log=Td,gm.createLogger=Cd,gm.time=Bh,gm.createTimeRange=fm(9,"videojs.createTimeRange","videojs.time.createTimeRanges",Mh),gm.createTimeRanges=fm(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",Mh),gm.formatTime=fm(9,"videojs.formatTime","videojs.time.formatTime",jh),gm.setFormatTime=fm(9,"videojs.setFormatTime","videojs.time.setFormatTime",Ph),gm.resetFormatTime=fm(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",Lh),gm.parseUrl=fm(9,"videojs.parseUrl","videojs.url.parseUrl",ep),gm.isCrossOrigin=fm(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",np),gm.EventTarget=dh,gm.any=ih,gm.on=Zu,gm.one=th,gm.off=Ju,gm.trigger=eh,gm.xhr=ml(),gm.TextTrack=ap,gm.AudioTrack=lp,gm.VideoTrack=cp,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((e=>{gm[e]=function(){return Td.warn(`videojs.${e}() is deprecated; use videojs.dom.${e}() instead`),ju[e].apply(null,arguments)}})),gm.computedStyle=fm(9,"videojs.computedStyle","videojs.dom.computedStyle",Pu),gm.dom=ju,gm.fn=lh,gm.num=Wp,gm.str=Ch,gm.url=sp;class vm{constructor(e){let t=this;return t.id=e.id,t.label=t.id,t.width=e.width,t.height=e.height,t.bitrate=e.bandwidth,t.frameRate=e.frameRate,t.enabled_=e.enabled,Object.defineProperty(t,"enabled",{get:()=>t.enabled_(),set(e){t.enabled_(e)}}),t}}class ym extends gm.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get:()=>e.selectedIndex_}),Object.defineProperty(e,"length",{get:()=>e.levels_.length}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let t=this.getQualityLevelById(e.id);if(t)return t;const i=this.levels_.length;return t=new vm(e),""+i in this||Object.defineProperty(this,i,{get(){return this.levels_[i]}}),this.levels_.push(t),this.trigger({qualityLevel:t,type:"addqualitylevel"}),t}removeQualityLevel(e){let t=null;for(let i=0,n=this.length;i<n;i++)if(this[i]===e){t=this.levels_.splice(i,1)[0],this.selectedIndex_===i?this.selectedIndex_=-1:this.selectedIndex_>i&&this.selectedIndex_--;break}return t&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),t}getQualityLevelById(e){for(let t=0,i=this.length;t<i;t++){const i=this[t];if(i.id===e)return i}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}ym.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const e in ym.prototype.allowedEvents_)ym.prototype["on"+e]=null;var bm="4.0.0";const _m=function(e){return function(e,t){const i=e.qualityLevels,n=new ym,s=function(){n.dispose(),e.qualityLevels=i,e.off("dispose",s)};return e.on("dispose",s),e.qualityLevels=()=>n,e.qualityLevels.VERSION=bm,n}(this,gm.obj.merge({},e))};gm.registerPlugin("qualityLevels",_m),_m.VERSION=bm;const xm=function(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=al().location&&al().location.href||"");var i="function"==typeof al().URL,n=/^\/\//.test(e),s=!al().location&&!/\/\//i.test(e);if(i?e=new(al().URL)(e,al().location||"http://example.com"):/\/\//i.test(e)||(e=bl().buildAbsoluteURL(al().location&&al().location.href||"",e)),i){var o=new URL(t,e);return s?o.href.slice(18):n?o.href.slice(o.protocol.length):o.href}return bl().buildAbsoluteURL(e,t)},wm=(e,t)=>t&&t.responseURL&&e!==t.responseURL?t.responseURL:e,km=e=>gm.log.debug?gm.log.debug.bind(gm,"VHS:",`${e} >`):function(){};function Sm(...e){const t=gm.obj||gm;return(t.merge||t.mergeOptions).apply(t,e)}function Tm(...e){const t=gm.time||gm;return(t.createTimeRanges||t.createTimeRanges).apply(t,e)}const Cm=1/30,Em=.1,Am=function(e,t){const i=[];let n;if(e&&e.length)for(n=0;n<e.length;n++)t(e.start(n),e.end(n))&&i.push([e.start(n),e.end(n)]);return Tm(i)},Im=function(e,t){return Am(e,(function(e,i){return e-Em<=t&&i+Em>=t}))},Mm=function(e,t){return Am(e,(function(e){return e-Cm>=t}))},Om=e=>{const t=[];if(!e||!e.length)return"";for(let i=0;i<e.length;i++)t.push(e.start(i)+" => "+e.end(i));return t.join(", ")},Dm=e=>{const t=[];for(let i=0;i<e.length;i++)t.push({start:e.start(i),end:e.end(i)});return t},Pm=function(e){if(e&&e.length&&e.end)return e.end(e.length-1)},Lm=function(e,t){let i=0;if(!e||!e.length)return i;for(let n=0;n<e.length;n++){const s=e.start(n),o=e.end(n);t>o||(i+=t>s&&t<=o?o-t:o-s)}return i},jm=(e,t)=>{if(!t.preload)return t.duration;let i=0;return(t.parts||[]).forEach((function(e){i+=e.duration})),(t.preloadHints||[]).forEach((function(t){"PART"===t.type&&(i+=e.partTargetDuration)})),i},Bm=e=>(e.segments||[]).reduce(((e,t,i)=>(t.parts?t.parts.forEach((function(n,s){e.push({duration:n.duration,segmentIndex:i,partIndex:s,part:n,segment:t})})):e.push({duration:t.duration,segmentIndex:i,partIndex:null,segment:t,part:null}),e)),[]),Rm=e=>{const t=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return t&&t.parts||[]},Nm=({preloadSegment:e})=>{if(!e)return;const{parts:t,preloadHints:i}=e;let n=(i||[]).reduce(((e,t)=>e+("PART"===t.type?1:0)),0);return n+=t&&t.length?t.length:0,n},Um=(e,t)=>{if(t.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;const i=Rm(t).length>0;return i&&t.serverControl&&t.serverControl.partHoldBack?t.serverControl.partHoldBack:i&&t.partTargetDuration?3*t.partTargetDuration:t.serverControl&&t.serverControl.holdBack?t.serverControl.holdBack:t.targetDuration?3*t.targetDuration:0},Fm=function(e,t,i){if(void 0===t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence)return 0;const n=function(e,t){let i=0,n=t-e.mediaSequence,s=e.segments[n];if(s){if(void 0!==s.start)return{result:s.start,precise:!0};if(void 0!==s.end)return{result:s.end-s.duration,precise:!0}}for(;n--;){if(s=e.segments[n],void 0!==s.end)return{result:i+s.end,precise:!0};if(i+=jm(e,s),void 0!==s.start)return{result:i+s.start,precise:!0}}return{result:i,precise:!1}}(e,t);if(n.precise)return n.result;const s=function(e,t){let i,n=0,s=t-e.mediaSequence;for(;s<e.segments.length;s++){if(i=e.segments[s],void 0!==i.start)return{result:i.start-n,precise:!0};if(n+=jm(e,i),void 0!==i.end)return{result:i.end-n,precise:!0}}return{result:-1,precise:!1}}(e,t);return s.precise?s.result:n.result+i},zm=function(e,t,i){if(!e)return 0;if("number"!=typeof i&&(i=0),void 0===t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return al()[1/0]}return Fm(e,t,i)},Hm=function({defaultDuration:e,durationList:t,startIndex:i,endIndex:n}){let s=0;if(i>n&&([i,n]=[n,i]),i<0){for(let t=i;t<Math.min(0,n);t++)s+=e;i=0}for(let e=i;e<n;e++)s+=t[e].duration;return s},Vm=function(e,t,i,n){if(!e||!e.segments)return null;if(e.endList)return zm(e);if(null===t)return null;t=t||0;let s=Fm(e,e.mediaSequence+e.segments.length,t);return i&&(s-=n="number"==typeof n?n:Um(null,e)),Math.max(0,s)},qm=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},$m=function(e){return e.excludeUntil&&e.excludeUntil===1/0},Wm=function(e){const t=qm(e);return!e.disabled&&!t},Gm=function(e,t){return t.attributes&&t.attributes[e]},Ym=(e,t)=>{if(1===e.playlists.length)return!0;const i=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter((e=>!!Wm(e)&&(e.attributes.BANDWIDTH||0)<i)).length},Xm=(e,t)=>!(!e&&!t||!e&&t||e&&!t||e!==t&&(!e.id||!t.id||e.id!==t.id)&&(!e.resolvedUri||!t.resolvedUri||e.resolvedUri!==t.resolvedUri)&&(!e.uri||!t.uri||e.uri!==t.uri)),Km=function(e,t){const i=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{};let n=!1;for(const e in i){for(const s in i[e])if(n=t(i[e][s]),n)break;if(n)break}return!!n},Qm=e=>{if(!e||!e.playlists||!e.playlists.length)return Km(e,(e=>e.playlists&&e.playlists.length||e.uri));for(let t=0;t<e.playlists.length;t++){const i=e.playlists[t],n=i.attributes&&i.attributes.CODECS;if((!n||!n.split(",").every((e=>Nl(e))))&&!Km(e,(e=>Xm(i,e))))return!1}return!0};var Zm={liveEdgeDelay:Um,duration:zm,seekable:function(e,t,i){const n=t||0,s=Vm(e,t,!0,i);return null===s?Tm():Tm(n,s)},getMediaInfoForTime:function({playlist:e,currentTime:t,startingSegmentIndex:i,startingPartIndex:n,startTime:s,exactManifestTimings:o}){let r=t-s;const a=Bm(e);let l=0;for(let e=0;e<a.length;e++){const t=a[e];if(i===t.segmentIndex&&("number"!=typeof n||"number"!=typeof t.partIndex||n===t.partIndex)){l=e;break}}if(r<0){if(l>0)for(let t=l-1;t>=0;t--){const i=a[t];if(r+=i.duration,o){if(r<0)continue}else if(r+Cm<=0)continue;return{partIndex:i.partIndex,segmentIndex:i.segmentIndex,startTime:s-Hm({defaultDuration:e.targetDuration,durationList:a,startIndex:l,endIndex:t})}}return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:t}}if(l<0){for(let i=l;i<0;i++)if(r-=e.targetDuration,r<0)return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:t};l=0}for(let t=l;t<a.length;t++){const i=a[t];if(r-=i.duration,o){if(r>0)continue}else if(r-Cm>=0)continue;return{partIndex:i.partIndex,segmentIndex:i.segmentIndex,startTime:s+Hm({defaultDuration:e.targetDuration,durationList:a,startIndex:l,endIndex:t})}}return{segmentIndex:a[a.length-1].segmentIndex,partIndex:a[a.length-1].partIndex,startTime:t}},isEnabled:Wm,isDisabled:function(e){return e.disabled},isExcluded:qm,isIncompatible:$m,playlistEnd:Vm,isAes:function(e){for(let t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},hasAttribute:Gm,estimateSegmentRequestTime:function(e,t,i,n=0){return Gm("BANDWIDTH",i)?(e*i.attributes.BANDWIDTH-8*n)/t:NaN},isLowestEnabledRendition:Ym,isAudioOnly:Qm,playlistMatch:Xm,segmentDurationWithParts:jm};const{log:Jm}=gm,eg=(e,t)=>`${e}-${t}`,tg=(e,t,i)=>`placeholder-uri-${e}-${t}-${i}`,ig=(e,t)=>{e.mediaGroups&&["AUDIO","SUBTITLES"].forEach((i=>{if(e.mediaGroups[i])for(const n in e.mediaGroups[i])for(const s in e.mediaGroups[i][n]){const o=e.mediaGroups[i][n][s];t(o,i,n,s)}}))},ng=({playlist:e,uri:t,id:i})=>{e.id=i,e.playlistErrors_=0,t&&(e.uri=t),e.attributes=e.attributes||{}},sg=(e,t,i=tg)=>{e.uri=t;for(let t=0;t<e.playlists.length;t++)if(!e.playlists[t].uri){const i=`placeholder-uri-${t}`;e.playlists[t].uri=i}const n=Qm(e);ig(e,((t,s,o,r)=>{if(!t.playlists||!t.playlists.length){if(n&&"AUDIO"===s&&!t.uri)for(let t=0;t<e.playlists.length;t++){const i=e.playlists[t];if(i.attributes&&i.attributes.AUDIO&&i.attributes.AUDIO===o)return}t.playlists=[_l({},t)]}t.playlists.forEach((function(t,n){const a=i(s,o,r,t),l=eg(n,a);t.uri?t.resolvedUri=t.resolvedUri||xm(e.uri,t.uri):(t.uri=0===n?a:l,t.resolvedUri=t.uri),t.id=t.id||l,t.attributes=t.attributes||{},e.playlists[t.id]=t,e.playlists[t.uri]=t}))})),(e=>{let t=e.playlists.length;for(;t--;){const i=e.playlists[t];ng({playlist:i,id:eg(t,i.uri)}),i.resolvedUri=xm(e.uri,i.uri),e.playlists[i.id]=i,e.playlists[i.uri]=i,i.attributes.BANDWIDTH||Jm.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}})(e),(e=>{ig(e,(t=>{t.uri&&(t.resolvedUri=xm(e.uri,t.uri))}))})(e)};class og{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(null!==this.offset_)return;if(!e.length)return;const[t]=e;void 0!==t.programDateTime&&(this.offset_=t.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[t]=e,i=t.startDate.getTime();this.trimProcessedDateRanges_(i),this.pendingDateRanges_=e.reduce(((e,t)=>(e.set(t.id,t),e)),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(null===this.offset_)return[];const e={},t=[];this.pendingDateRanges_.forEach(((i,n)=>{if(!this.processedDateRanges_.has(n)&&(i.startTime=i.startDate.getTime()/1e3-this.offset_,i.processDateRange=()=>this.processDateRange(i),t.push(i),i.class))if(e[i.class]){const t=e[i.class].push(i);i.classListIndex=t-1}else e[i.class]=[i],i.classListIndex=0}));for(const i of t){const t=e[i.class]||[];i.endDate?i.endTime=i.endDate.getTime()/1e3-this.offset_:i.endOnNext&&t[i.classListIndex+1]?i.endTime=t[i.classListIndex+1].startTime:i.duration?i.endTime=i.startTime+i.duration:i.plannedDuration?i.endTime=i.startTime+i.plannedDuration:i.endTime=i.startTime}return t}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach(((t,i)=>{t.startDate.getTime()<e&&this.processedDateRanges_.delete(i)}))}}const{EventTarget:rg}=gm,ag=(e,t)=>{if(!e)return t;const i=Sm(e,t);if(e.preloadHints&&!t.preloadHints&&delete i.preloadHints,e.parts&&!t.parts)delete i.parts;else if(e.parts&&t.parts)for(let n=0;n<t.parts.length;n++)e.parts&&e.parts[n]&&(i.parts[n]=Sm(e.parts[n],t.parts[n]));return!e.skipped&&t.skipped&&(i.skipped=!1),e.preload&&!t.preload&&(i.preload=!1),i},lg=(e,t)=>{!e.resolvedUri&&e.uri&&(e.resolvedUri=xm(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=xm(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=xm(t,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=xm(t,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach((e=>{e.resolvedUri||(e.resolvedUri=xm(t,e.uri))})),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach((e=>{e.resolvedUri||(e.resolvedUri=xm(t,e.uri))}))},cg=function(e){const t=e.segments||[],i=e.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints)for(let e=0;e<i.preloadHints.length;e++)if("MAP"===i.preloadHints[e].type)return t;i.duration=e.targetDuration,i.preload=!0,t.push(i)}return t},dg=(e,t)=>e===t||e.segments&&t.segments&&e.segments.length===t.segments.length&&e.endList===t.endList&&e.mediaSequence===t.mediaSequence&&e.preloadSegment===t.preloadSegment,ug=(e,t,i=dg)=>{const n=Sm(e,{}),s=n.playlists[t.id];if(!s)return null;if(i(s,t))return null;t.segments=cg(t);const o=Sm(s,t);if(o.preloadSegment&&!t.preloadSegment&&delete o.preloadSegment,s.segments){if(t.skip){t.segments=t.segments||[];for(let e=0;e<t.skip.skippedSegments;e++)t.segments.unshift({skipped:!0})}o.segments=((e,t,i)=>{const n=e.slice(),s=t.slice();i=i||0;const o=[];let r;for(let e=0;e<s.length;e++){const t=n[e+i],a=s[e];t?(r=t.map||r,o.push(ag(t,a))):(r&&!a.map&&(a.map=r),o.push(a))}return o})(s.segments,t.segments,t.mediaSequence-s.mediaSequence)}o.segments.forEach((e=>{lg(e,o.resolvedUri)}));for(let e=0;e<n.playlists.length;e++)n.playlists[e].id===t.id&&(n.playlists[e]=o);return n.playlists[t.id]=o,n.playlists[t.uri]=o,ig(e,((e,i,n,s)=>{if(e.playlists)for(let i=0;i<e.playlists.length;i++)t.id===e.playlists[i].id&&(e.playlists[i]=o)})),n},hg=(e,t)=>{const i=e.segments||[],n=i[i.length-1],s=n&&n.parts&&n.parts[n.parts.length-1],o=s&&s.duration||n&&n.duration;return t&&o?1e3*o:500*(e.partTargetDuration||e.targetDuration||10)};class pg extends rg{constructor(e,t,i={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=km("PlaylistLoader");const{withCredentials:n=!1}=i;this.src=e,this.vhs_=t,this.withCredentials=n,this.addDateRangesToTextTrack_=i.addDateRangesToTextTrack;const s=t.options_;this.customTagParsers=s&&s.customTagParsers||[],this.customTagMappers=s&&s.customTagMappers||[],this.llhls=s&&s.llhls,this.dateRangesStorage_=new og,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const t=this.dateRangesStorage_.getDateRangesToProcess();t.length&&this.addDateRangesToTextTrack_&&this.addDateRangesToTextTrack_(t)}handleMediaupdatetimeout_(){if("HAVE_METADATA"!==this.state)return;const e=this.media();let t=xm(this.main.uri,e.uri);this.llhls&&(t=((e,t)=>{if(t.endList||!t.serverControl)return e;const i={};if(t.serverControl.canBlockReload){const{preloadSegment:e}=t;let n=t.mediaSequence+t.segments.length;if(e){const s=e.parts||[],o=Nm(t)-1;o>-1&&o!==s.length-1&&(i._HLS_part=o),(o>-1||s.length)&&n--}i._HLS_msn=n}if(t.serverControl&&t.serverControl.canSkipUntil&&(i._HLS_skip=t.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(i).length){const t=new(al().URL)(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach((function(e){i.hasOwnProperty(e)&&t.searchParams.set(e,i[e])})),e=t.toString()}return e})(t,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:t,withCredentials:this.withCredentials},((e,t)=>{if(this.request)return e?this.playlistRequestError(this.request,this.media(),"HAVE_METADATA"):void this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}))}playlistRequestError(e,t,i){const{uri:n,id:s}=t;this.request=null,i&&(this.state=i),this.error={playlist:this.main.playlists[s],status:e.status,message:`HLS playlist request error at URL: ${n}.`,responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")}parseManifest_({url:e,manifestString:t}){return(({onwarn:e,oninfo:t,manifestString:i,customTagParsers:n=[],customTagMappers:s=[],llhls:o})=>{const r=new Ml;e&&r.on("warn",e),t&&r.on("info",t),n.forEach((e=>r.addParser(e))),s.forEach((e=>r.addTagMapper(e))),r.push(i),r.end();const a=r.manifest;if(o||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach((function(e){a.hasOwnProperty(e)&&delete a[e]})),a.segments&&a.segments.forEach((function(e){["parts","preloadHints"].forEach((function(t){e.hasOwnProperty(t)&&delete e[t]}))}))),!a.targetDuration){let t=10;a.segments&&a.segments.length&&(t=a.segments.reduce(((e,t)=>Math.max(e,t.duration)),0)),e&&e(`manifest has no targetDuration defaulting to ${t}`),a.targetDuration=t}const l=Rm(a);if(l.length&&!a.partTargetDuration){const t=l.reduce(((e,t)=>Math.max(e,t.duration)),0);e&&(e(`manifest has no partTargetDuration defaulting to ${t}`),Jm.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),a.partTargetDuration=t}return a})({onwarn:({message:t})=>this.logger_(`m3u8-parser warn for ${e}: ${t}`),oninfo:({message:t})=>this.logger_(`m3u8-parser info for ${e}: ${t}`),manifestString:t,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}haveMetadata({playlistString:e,playlistObject:t,url:i,id:n}){this.request=null,this.state="HAVE_METADATA";const s=t||this.parseManifest_({url:i,manifestString:e});s.lastRequest=Date.now(),ng({playlist:s,uri:i,id:n});const o=ug(this.main,s);this.targetDuration=s.partTargetDuration||s.targetDuration,this.pendingMedia_=null,o?(this.main=o,this.media_=this.main.playlists[n]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(hg(this.media(),!!o)),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),al().clearTimeout(this.mediaUpdateTimeout),al().clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new og,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,t){if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof e){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(al().clearTimeout(this.finalRenditionTimeout),t){const t=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;return void(this.finalRenditionTimeout=al().setTimeout(this.media.bind(this,e,!1),t))}const i=this.state,n=!this.media_||e.id!==this.media_.id,s=this.main.playlists[e.id];if(s&&s.endList||e.endList&&e.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(n&&(this.trigger("mediachanging"),"HAVE_MAIN_MANIFEST"===i?this.trigger("loadedmetadata"):this.trigger("mediachange")));if(this.updateMediaUpdateTimeout_(hg(e,!0)),n){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e,this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},((t,n)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=wm(e.resolvedUri,n),t)return this.playlistRequestError(this.request,e,i);this.haveMetadata({playlistString:n.responseText,url:e.uri,id:e.id}),"HAVE_MAIN_MANIFEST"===i?this.trigger("loadedmetadata"):this.trigger("mediachange")}}))}}pause(){this.mediaUpdateTimeout&&(al().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(al().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const t=this.media();if(e){const e=t?(t.partTargetDuration||t.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=al().setTimeout((()=>{this.mediaUpdateTimeout=null,this.load()}),e)}else this.started?t&&!t.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(al().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.media()&&!this.media().endList&&(this.mediaUpdateTimeout=al().setTimeout((()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)}),e))}start(){if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=al().location.href),this.src.resolvedUri=this.src.uri,void setTimeout((()=>{this.setupInitialPlaylist(this.src)}),0);this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},((e,t)=>{if(!this.request)return;if(this.request=null,e)return this.error={status:t.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:t.responseText,code:2},"HAVE_NOTHING"===this.state&&(this.started=!1),this.trigger("error");this.src=wm(this.src,t);const i=this.parseManifest_({manifestString:t.responseText,url:this.src});this.setupInitialPlaylist(i)}))}srcUri(){return"string"==typeof this.src?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists)return this.main=e,sg(this.main,this.srcUri()),e.playlists.forEach((e=>{e.segments=cg(e),e.segments.forEach((t=>{lg(t,e.resolvedUri)}))})),this.trigger("loadedplaylist"),void(this.request||this.media(this.main.playlists[0]));const t=this.srcUri()||al().location.href;this.main=((e,t)=>{const i=eg(0,t),n={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:al().location.href,resolvedUri:al().location.href,playlists:[{uri:t,id:i,resolvedUri:t,attributes:{}}]};return n.playlists[i]=n.playlists[0],n.playlists[t]=n.playlists[0],n})(0,t),this.haveMetadata({playlistObject:e,url:t,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}}const{xhr:fg}=gm,mg=function(e,t,i,n){const s="arraybuffer"===e.responseType?e.response:e.responseText;!t&&s&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=s.byteLength||s.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),i.headers&&(e.responseHeaders=i.headers),t&&"ETIMEDOUT"===t.code&&(e.timedout=!0),t||e.aborted||200===i.statusCode||206===i.statusCode||0===i.statusCode||(t=new Error("XHR Failed with a response of: "+(e&&(s||e.responseText)))),n(t,e)},gg=function(){const e=function e(t,i){t=Sm({timeout:45e3},t);const n=e.beforeRequest||gm.Vhs.xhr.beforeRequest,s=e._requestCallbackSet||gm.Vhs.xhr._requestCallbackSet||new Set,o=e._responseCallbackSet||gm.Vhs.xhr._responseCallbackSet;n&&"function"==typeof n&&(gm.log.warn("beforeRequest is deprecated, use onRequest instead."),s.add(n));const r=!0===gm.Vhs.xhr.original?fg:gm.Vhs.xhr,a=((e,t)=>{if(!e||!e.size)return;let i=t;return e.forEach((e=>{i=e(i)})),i})(s,t);s.delete(n);const l=r(a||t,(function(e,t){return((e,t,i,n)=>{e&&e.size&&e.forEach((e=>{e(t,i,n)}))})(o,l,e,t),mg(l,e,t,i)})),c=l.abort;return l.abort=function(){return l.aborted=!0,c.apply(l,arguments)},l.uri=t.uri,l.requestTime=Date.now(),l};return e.original=!0,e},vg=function(e){const t={};return e.byterange&&(t.Range=function(e){let t;const i=e.offset;return t="bigint"==typeof e.offset||"bigint"==typeof e.length?al().BigInt(e.offset)+al().BigInt(e.length)-al().BigInt(1):e.offset+e.length-1,"bytes="+i+"-"+t}(e.byterange)),t},yg=function(e,t){return e.start(t)+"-"+e.end(t)},bg=function(e,t){const i=e.toString(16);return"00".substring(0,2-i.length)+i+(t%2?" ":"")},_g=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},xg=function(e){const t={};return Object.keys(e).forEach((i=>{const n=e[i];Wl(n)?t[i]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:t[i]=n})),t},wg=function(e){const t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},kg=function(e){return e.resolvedUri},Sg=e=>{const t=Array.prototype.slice.call(e),i=16;let n,s,o="";for(let e=0;e<t.length/i;e++)n=t.slice(e*i,e*i+i).map(bg).join(""),s=t.slice(e*i,e*i+i).map(_g).join(""),o+=n+" "+s+"\n";return o};var Tg=Object.freeze({__proto__:null,createTransferableMessage:xg,initSegmentId:wg,segmentKeyId:kg,hexDump:Sg,tagDump:({bytes:e})=>Sg(e),textRanges:e=>{let t,i="";for(t=0;t<e.length;t++)i+=yg(e,t)+" ";return i}});const Cg=({programTime:e,playlist:t,retryCount:i=2,seekTo:n,pauseAfterSeek:s=!0,tech:o,callback:r})=>{if(!r)throw new Error("seekToProgramTime: callback must be provided");if(void 0===e||!t||!n)return r({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!t.endList&&!o.hasStarted_)return r({message:"player must be playing a live stream to start buffering"});if(!(e=>{if(!e.segments||0===e.segments.length)return!1;for(let t=0;t<e.segments.length;t++)if(!e.segments[t].dateTimeObject)return!1;return!0})(t))return r({message:"programDateTime tags must be provided in the manifest "+t.resolvedUri});const a=((e,t)=>{let i;try{i=new Date(e)}catch(e){return null}if(!t||!t.segments||0===t.segments.length)return null;let n=t.segments[0];if(i<new Date(n.dateTimeObject))return null;for(let e=0;e<t.segments.length-1&&(n=t.segments[e],!(i<new Date(t.segments[e+1].dateTimeObject)));e++);const s=t.segments[t.segments.length-1],o=s.dateTimeObject,r=s.videoTimingInfo?(a=s.videoTimingInfo).transmuxedPresentationEnd-a.transmuxedPresentationStart-a.transmuxerPrependedSeconds:s.duration+.25*s.duration;var a;return i>new Date(o.getTime()+1e3*r)?null:(i>new Date(o)&&(n=s),{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:Zm.duration(t,t.mediaSequence+t.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"})})(e,t);if(!a)return r({message:`${e} was not found in the stream`});const l=a.segment,c=((e,t)=>{let i,n;try{i=new Date(e),n=new Date(t)}catch(e){}const s=i.getTime();return(n.getTime()-s)/1e3})(l.dateTimeObject,e);if("estimate"===a.type)return 0===i?r({message:`${e} is not buffered yet. Try again`}):(n(a.estimatedStart+c),void o.one("seeked",(()=>{Cg({programTime:e,playlist:t,retryCount:i-1,seekTo:n,pauseAfterSeek:s,tech:o,callback:r})})));const d=l.start+c;o.one("seeked",(()=>r(null,o.currentTime()))),s&&o.pause(),n(d)},Eg=(e,t)=>{if(4===e.readyState)return t()},{EventTarget:Ag}=gm,Ig=function(e,t){if(!dg(e,t))return!1;if(e.sidx&&t.sidx&&(e.sidx.offset!==t.sidx.offset||e.sidx.length!==t.sidx.length))return!1;if(!e.sidx&&t.sidx||e.sidx&&!t.sidx)return!1;if(e.segments&&!t.segments||!e.segments&&t.segments)return!1;if(!e.segments&&!t.segments)return!0;for(let i=0;i<e.segments.length;i++){const n=e.segments[i],s=t.segments[i];if(n.uri!==s.uri)return!1;if(!n.byterange&&!s.byterange)continue;const o=n.byterange,r=s.byterange;if(o&&!r||!o&&r)return!1;if(o.offset!==r.offset||o.length!==r.length)return!1}return!0},Mg=(e,t,i,n)=>`placeholder-uri-${e}-${t}-${n.attributes.NAME||i}`,Og=(e,t)=>(Boolean(!e.map&&!t.map)||Boolean(e.map&&t.map&&e.map.byterange.offset===t.map.byterange.offset&&e.map.byterange.length===t.map.byterange.length))&&e.uri===t.uri&&e.byterange.offset===t.byterange.offset&&e.byterange.length===t.byterange.length,Dg=(e,t)=>{const i={};for(const n in e){const s=e[n].sidx;if(s){const e=gc(s);if(!t[e])break;const n=t[e].sidxInfo;Og(n,s)&&(i[e]=t[e])}}return i};class Pg extends Ag{constructor(e,t,i={},n){super(),this.mainPlaylistLoader_=n||this,n||(this.isMain_=!0);const{withCredentials:s=!1}=i;if(this.vhs_=t,this.withCredentials=s,this.addMetadataToTextTrack=i.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",(()=>{this.refreshXml_()})),this.on("mediaupdatetimeout",(()=>{this.refreshMedia_(this.media().id)})),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=km("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}requestErrored_(e,t,i){return!this.request||(this.request=null,e?(this.error="object"!=typeof e||e instanceof Error?{status:t.status,message:"DASH request error at URL: "+t.uri,response:t.response,code:2}:e,i&&(this.state=i),this.trigger("error"),!0):void 0)}addSidxSegments_(e,t,i){const n=e.sidx&&gc(e.sidx);if(!e.sidx||!n||this.mainPlaylistLoader_.sidxMapping_[n])return void(this.mediaRequest_=al().setTimeout((()=>i(!1)),0));const s=wm(e.sidx.resolvedUri),o=(s,o)=>{if(this.requestErrored_(s,o,t))return;const r=this.mainPlaylistLoader_.sidxMapping_;let a;try{a=Gc()(Gl(o.response).subarray(8))}catch(e){return void this.requestErrored_(e,o,t)}return r[n]={sidxInfo:e.sidx,sidx:a},uc(e,a,e.sidx.resolvedUri),i(!0)};this.request=((e,t,i)=>{let n,s=[],o=!1;const r=function(e,t,n,s){return t.abort(),o=!0,i(e,t,n,s)},a=function(e,t){if(o)return;if(e)return r(e,t,"",s);const i=t.responseText.substring(s&&s.byteLength||0,t.responseText.length);if(s=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(t=t.filter((function(e){return e&&(e.byteLength||e.length)&&"string"!=typeof e})),t.length<=1)return Gl(t[0]);var n=t.reduce((function(e,t,i){return e+(t.byteLength||t.length)}),0),s=new Uint8Array(n),o=0;return t.forEach((function(e){e=Gl(e),s.set(e,o),o+=e.byteLength})),s}(s,Ql(i,!0)),n=n||Xc(s),s.length<10||n&&s.length<n+2)return Eg(t,(()=>r(e,t,"",s)));const a=fd(s);return"ts"===a&&s.length<188||!a&&s.length<376?Eg(t,(()=>r(e,t,"",s))):r(null,t,a,s)},l={uri:e,beforeSend(e){e.overrideMimeType("text/plain; charset=x-user-defined"),e.addEventListener("progress",(function({total:t,loaded:i}){return mg(e,null,{statusCode:e.status},a)}))}},c=t(l,(function(e,t){return mg(c,e,t,a)}));return c})(s,this.vhs_.xhr,((t,i,n,r)=>{if(t)return o(t,i);if(!n||"mp4"!==n)return o({status:i.status,message:`Unsupported ${n||"unknown"} container type for sidx segment at URL: ${s}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},i);const{offset:a,length:l}=e.sidx.byterange;if(r.length>=l+a)return o(t,{response:r.subarray(a,a+l),status:i.status,uri:i.uri});this.request=this.vhs_.xhr({uri:s,responseType:"arraybuffer",headers:vg({byterange:e.sidx.byterange})},o)}))}dispose(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},al().clearTimeout(this.minimumUpdatePeriodTimeout_),al().clearTimeout(this.mediaRequest_),al().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);const t=this.state;if("string"==typeof e){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const i=!this.media_||e.id!==this.media_.id;if(i&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList)return this.state="HAVE_METADATA",this.media_=e,void(i&&(this.trigger("mediachanging"),this.trigger("mediachange")));i&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,t,(i=>{this.haveMetadata({startingState:t,playlist:e})})))}haveMetadata({startingState:e,playlist:t}){this.state="HAVE_METADATA",this.loadedPlaylists_[t.id]=t,this.mediaRequest_=null,this.refreshMedia_(t.id),"HAVE_MAIN_MANIFEST"===e?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),al().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(al().clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),"HAVE_NOTHING"===this.state&&(this.started=!1)}load(e){al().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const t=this.media();if(e){const e=t?t.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=al().setTimeout((()=>this.load()),e)}else this.started?t&&!t.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist"):this.start()}start(){this.started=!0,this.isMain_?this.requestMain_(((e,t)=>{this.haveMain_(),this.hasPendingRequest()||this.media_||this.media(this.mainPlaylistLoader_.main.playlists[0])})):this.mediaRequest_=al().setTimeout((()=>this.haveMain_()),0)}requestMain_(e){this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},((t,i)=>{if(this.requestErrored_(t,i))return void("HAVE_NOTHING"===this.state&&(this.started=!1));const n=i.responseText!==this.mainPlaylistLoader_.mainXml_;return this.mainPlaylistLoader_.mainXml_=i.responseText,i.responseHeaders&&i.responseHeaders.date?this.mainLoaded_=Date.parse(i.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=wm(this.mainPlaylistLoader_.srcUrl,i),n?(this.handleMain_(),void this.syncClientServerClock_((()=>e(i,n)))):e(i,n)}))}syncClientServerClock_(e){const t=(i=this.mainPlaylistLoader_.mainXml_,(e=>{const t=Pc(e,"UTCTiming")[0];if(!t)return null;const i=Rc(t);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;default:throw new Error("UNSUPPORTED_UTC_TIMING_SCHEME")}return i})(qc(i)));var i;return null===t?(this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()):"DIRECT"===t.method?(this.mainPlaylistLoader_.clientOffset_=t.value-Date.now(),e()):void(this.request=this.vhs_.xhr({uri:xm(this.mainPlaylistLoader_.srcUrl,t.value),method:t.method,withCredentials:this.withCredentials},((i,n)=>{if(!this.request)return;if(i)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();let s;s="HEAD"===t.method?n.responseHeaders&&n.responseHeaders.date?Date.parse(n.responseHeaders.date):this.mainLoaded_:Date.parse(n.responseText),this.mainPlaylistLoader_.clientOffset_=s-Date.now(),e()})))}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main;let t=(({mainXml:e,srcUrl:t,clientOffset:i,sidxMapping:n,previousManifest:s})=>{const o=((e,t={})=>{const i=((e,t={})=>{const{manifestUri:i="",NOW:n=Date.now(),clientOffset:s=0,eventHandler:o=function(){}}=t,r=Pc(e,"Period");if(!r.length)throw new Error("INVALID_NUMBER_OF_PERIOD");const a=Pc(e,"Location"),l=Rc(e),c=Uc([{baseUrl:i}],Pc(e,"BaseURL")),d=Pc(e,"ContentSteering");l.type=l.type||"static",l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=n,l.clientOffset=s,a.length&&(l.locations=a.map(Lc));const u=[];return r.forEach(((e,t)=>{const i=Rc(e),n=u[t-1];i.start=(({attributes:e,priorPeriodAttributes:t,mpdType:i})=>"number"==typeof e.start?e.start:t&&"number"==typeof t.start&&"number"==typeof t.duration?t.start+t.duration:t||"static"!==i?null:0)({attributes:i,priorPeriodAttributes:n?n.attributes:null,mpdType:l.type}),u.push({node:e,attributes:i})})),{locations:l.locations,contentSteeringInfo:Vc(d,o),representationInfo:sc(u.map(Hc(l,c))),eventStream:sc(u.map(zc))}})(qc(e),t),n=i.representationInfo.map(Dc);return Tc({dashPlaylists:n,locations:i.locations,contentSteering:i.contentSteeringInfo,sidxMapping:t.sidxMapping,previousManifest:t.previousManifest,eventStream:i.eventStream})})(e,{manifestUri:t,clientOffset:i,sidxMapping:n,previousManifest:s});return sg(o,t,Mg),o})({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e});e&&(t=((e,t,i)=>{let n=!0,s=Sm(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod,timelineStarts:t.timelineStarts});for(let e=0;e<t.playlists.length;e++){const o=t.playlists[e];if(o.sidx){const e=gc(o.sidx);i&&i[e]&&i[e].sidx&&uc(o,i[e].sidx,o.sidx.resolvedUri)}const r=ug(s,o,Ig);r&&(s=r,n=!1)}return ig(t,((e,t,i,o)=>{if(e.playlists&&e.playlists.length){const r=e.playlists[0].id,a=ug(s,e.playlists[0],Ig);a&&(s=a,o in s.mediaGroups[t][i]||(s.mediaGroups[t][i][o]=e),s.mediaGroups[t][i][o].playlists[0]=s.playlists[r],n=!1)}})),((e,t)=>{ig(e,((i,n,s,o)=>{o in t.mediaGroups[n][s]||delete e.mediaGroups[n][s][o]}))})(s,t),t.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(n=!1),n?null:s})(e,t,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=t||e;const i=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];return i&&i!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=i),(!e||t&&t.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(t),Boolean(t)}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(al().clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let t=e.main&&e.main.minimumUpdatePeriod;0===t&&(e.media()?t=1e3*e.media().targetDuration:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),"number"!=typeof t||t<=0?t<0&&this.logger_(`found invalid minimumUpdatePeriod of ${t}, not setting a timeout`):this.createMUPTimeout_(t)}createMUPTimeout_(e){const t=this.mainPlaylistLoader_;t.minimumUpdatePeriodTimeout_=al().setTimeout((()=>{t.minimumUpdatePeriodTimeout_=null,t.trigger("minimumUpdatePeriod"),t.createMUPTimeout_(e)}),e)}refreshXml_(){this.requestMain_(((e,t)=>{t&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=((e,t)=>{let i=Dg(e.playlists,t);return ig(e,((e,n,s,o)=>{if(e.playlists&&e.playlists.length){const n=e.playlists;i=Sm(i,Dg(n,t))}})),i})(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,(e=>{this.refreshMedia_(this.media().id)})))}))}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const t=this.mainPlaylistLoader_.main.playlists,i=!this.media_||this.media_!==t[e];if(i?this.media_=t[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const e=()=>{this.media().endList||(this.mediaUpdateTimeout=al().setTimeout((()=>{this.trigger("mediaupdatetimeout"),e()}),hg(this.media(),Boolean(i))))};e()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const e=this.mainPlaylistLoader_.main.eventStream.map((e=>({cueTime:e.start,frames:[{data:e.messageData}]})));this.addMetadataToTextTrack("EventStream",e,this.mainPlaylistLoader_.main.duration)}}}var Lg={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const jg=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},Bg=function(e){return function(){const t=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch(t){const i=new BlobBuilder;return i.append(e),URL.createObjectURL(i.getBlob())}}(e),i=jg(new Worker(t));i.objURL=t;const n=i.terminate;return i.on=i.addEventListener,i.off=i.removeEventListener,i.terminate=function(){return URL.revokeObjectURL(t),n.call(this)},i}},Rg=function(e){return`var browserWorkerPolyFill = ${jg.toString()};\nbrowserWorkerPolyFill(self);\n`+e},Ng=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},Ug=Rg(Ng((function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:{},t=function(){this.init=function(){var e={};this.on=function(t,i){e[t]||(e[t]=[]),e[t]=e[t].concat(i)},this.off=function(t,i){var n;return!!e[t]&&(n=e[t].indexOf(i),e[t]=e[t].slice(),e[t].splice(n,1),n>-1)},this.trigger=function(t){var i,n,s,o;if(i=e[t])if(2===arguments.length)for(s=i.length,n=0;n<s;++n)i[n].call(this,arguments[1]);else{for(o=[],n=arguments.length,n=1;n<arguments.length;++n)o.push(arguments[n]);for(s=i.length,n=0;n<s;++n)i[n].apply(this,o)}},this.dispose=function(){e={}}}};t.prototype.pipe=function(e){return this.on("data",(function(t){e.push(t)})),this.on("done",(function(t){e.flush(t)})),this.on("partialdone",(function(t){e.partialFlush(t)})),this.on("endedtimeline",(function(t){e.endTimeline(t)})),this.on("reset",(function(t){e.reset(t)})),e},t.prototype.push=function(e){this.trigger("data",e)},t.prototype.flush=function(e){this.trigger("done",e)},t.prototype.partialFlush=function(e){this.trigger("partialdone",e)},t.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},t.prototype.reset=function(e){this.trigger("reset",e)};var n,s,o,r,a,l,c,d,u,h,p,f,m,g,v,y,b,_,x,w,k,S,T,C,E,A,I,M,O,D,P,L,j,B,R,N,U,F,z,H,V=t,q=Math.pow(2,32),$={getUint64:function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.getBigUint64?(t=i.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(t):t:i.getUint32(0)*q+i.getUint32(4)},MAX_UINT32:q},W=$.MAX_UINT32;!function(){var e;if(S={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in S)S.hasOwnProperty(e)&&(S[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);T=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),E=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),C=new Uint8Array([0,0,0,1]),A=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),I=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),M={video:A,audio:I},P=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),D=new Uint8Array([0,0,0,0,0,0,0,0]),L=new Uint8Array([0,0,0,0,0,0,0,0]),j=L,B=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),R=L,O=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),n=function(e){var t,i,n=[],s=0;for(t=1;t<arguments.length;t++)n.push(arguments[t]);for(t=n.length;t--;)s+=n[t].byteLength;for(i=new Uint8Array(s+8),new DataView(i.buffer,i.byteOffset,i.byteLength).setUint32(0,i.byteLength),i.set(e,4),t=0,s=8;t<n.length;t++)i.set(n[t],s),s+=n[t].byteLength;return i},s=function(){return n(S.dinf,n(S.dref,P))},o=function(e){return n(S.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},v=function(e){return n(S.hdlr,M[e])},g=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),n(S.mdhd,t)},m=function(e){return n(S.mdia,g(e),v(e.type),l(e))},a=function(e){return n(S.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},l=function(e){return n(S.minf,"video"===e.type?n(S.vmhd,O):n(S.smhd,D),s(),b(e))},c=function(e,t){for(var i=[],s=t.length;s--;)i[s]=x(t[s]);return n.apply(null,[S.moof,a(e)].concat(i))},d=function(e){for(var t=e.length,i=[];t--;)i[t]=p(e[t]);return n.apply(null,[S.moov,h(4294967295)].concat(i).concat(u(e)))},u=function(e){for(var t=e.length,i=[];t--;)i[t]=w(e[t]);return n.apply(null,[S.mvex].concat(i))},h=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return n(S.mvhd,t)},y=function(e){var t,i,s=e.samples||[],o=new Uint8Array(4+s.length);for(i=0;i<s.length;i++)t=s[i].flags,o[i+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return n(S.sdtp,o)},b=function(e){return n(S.stbl,_(e),n(S.stts,R),n(S.stsc,j),n(S.stsz,B),n(S.stco,L))},_=function(e){return n(S.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?N(e):U(e))},N=function(e){var t,i,s=e.sps||[],o=e.pps||[],r=[],a=[];for(t=0;t<s.length;t++)r.push((65280&s[t].byteLength)>>>8),r.push(255&s[t].byteLength),r=r.concat(Array.prototype.slice.call(s[t]));for(t=0;t<o.length;t++)a.push((65280&o[t].byteLength)>>>8),a.push(255&o[t].byteLength),a=a.concat(Array.prototype.slice.call(o[t]));if(i=[S.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),n(S.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([s.length],r,[o.length],a))),n(S.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio){var l=e.sarRatio[0],c=e.sarRatio[1];i.push(n(S.pasp,new Uint8Array([(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l,(4278190080&c)>>24,(16711680&c)>>16,(65280&c)>>8,255&c])))}return n.apply(null,i)},U=function(e){return n(S.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),o(e))},f=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return n(S.tkhd,t)},x=function(e){var t,i,s,o,r,a;return t=n(S.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),r=Math.floor(e.baseMediaDecodeTime/W),a=Math.floor(e.baseMediaDecodeTime%W),i=n(S.tfdt,new Uint8Array([1,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r,a>>>24&255,a>>>16&255,a>>>8&255,255&a])),"audio"===e.type?(s=k(e,92),n(S.traf,t,i,s)):(o=y(e),s=k(e,o.length+92),n(S.traf,t,i,s,o))},p=function(e){return e.duration=e.duration||4294967295,n(S.trak,f(e),m(e))},w=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),n(S.trex,t)},H=function(e,t){var i=0,n=0,s=0,o=0;return e.length&&(void 0!==e[0].duration&&(i=1),void 0!==e[0].size&&(n=2),void 0!==e[0].flags&&(s=4),void 0!==e[0].compositionTimeOffset&&(o=8)),[0,0,i|n|s|o,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},z=function(e,t){var i,s,o,r,a,l;for(t+=20+16*(r=e.samples||[]).length,o=H(r,t),(s=new Uint8Array(o.length+16*r.length)).set(o),i=o.length,l=0;l<r.length;l++)a=r[l],s[i++]=(4278190080&a.duration)>>>24,s[i++]=(16711680&a.duration)>>>16,s[i++]=(65280&a.duration)>>>8,s[i++]=255&a.duration,s[i++]=(4278190080&a.size)>>>24,s[i++]=(16711680&a.size)>>>16,s[i++]=(65280&a.size)>>>8,s[i++]=255&a.size,s[i++]=a.flags.isLeading<<2|a.flags.dependsOn,s[i++]=a.flags.isDependedOn<<6|a.flags.hasRedundancy<<4|a.flags.paddingValue<<1|a.flags.isNonSyncSample,s[i++]=61440&a.flags.degradationPriority,s[i++]=15&a.flags.degradationPriority,s[i++]=(4278190080&a.compositionTimeOffset)>>>24,s[i++]=(16711680&a.compositionTimeOffset)>>>16,s[i++]=(65280&a.compositionTimeOffset)>>>8,s[i++]=255&a.compositionTimeOffset;return n(S.trun,s)},F=function(e,t){var i,s,o,r,a,l;for(t+=20+8*(r=e.samples||[]).length,o=H(r,t),(i=new Uint8Array(o.length+8*r.length)).set(o),s=o.length,l=0;l<r.length;l++)a=r[l],i[s++]=(4278190080&a.duration)>>>24,i[s++]=(16711680&a.duration)>>>16,i[s++]=(65280&a.duration)>>>8,i[s++]=255&a.duration,i[s++]=(4278190080&a.size)>>>24,i[s++]=(16711680&a.size)>>>16,i[s++]=(65280&a.size)>>>8,i[s++]=255&a.size;return n(S.trun,i)},k=function(e,t){return"audio"===e.type?F(e,t):z(e,t)};var G,Y,X,K,Q,Z,J,ee,te={ftyp:r=function(){return n(S.ftyp,T,C,T,E)},mdat:function(e){return n(S.mdat,e)},moof:c,moov:d,initSegment:function(e){var t,i=r(),n=d(e);return(t=new Uint8Array(i.byteLength+n.byteLength)).set(i),t.set(n,i.byteLength),t}},ie=function(e,t){var i={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return i.dataOffset=t,i.compositionTimeOffset=e.pts-e.dts,i.duration=e.duration,i.size=4*e.length,i.size+=e.byteLength,e.keyFrame&&(i.flags.dependsOn=2,i.flags.isNonSyncSample=0),i},ne={groupNalsIntoFrames:function(e){var t,i,n=[],s=[];for(s.byteLength=0,s.nalCount=0,s.duration=0,n.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(i=e[t]).nalUnitType?(n.length&&(n.duration=i.dts-n.dts,s.byteLength+=n.byteLength,s.nalCount+=n.length,s.duration+=n.duration,s.push(n)),(n=[i]).byteLength=i.data.byteLength,n.pts=i.pts,n.dts=i.dts):("slice_layer_without_partitioning_rbsp_idr"===i.nalUnitType&&(n.keyFrame=!0),n.duration=i.dts-n.dts,n.byteLength+=i.data.byteLength,n.push(i));return s.length&&(!n.duration||n.duration<=0)&&(n.duration=s[s.length-1].duration),s.byteLength+=n.byteLength,s.nalCount+=n.length,s.duration+=n.duration,s.push(n),s},groupFramesIntoGops:function(e){var t,i,n=[],s=[];for(n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=e[0].pts,n.dts=e[0].dts,s.byteLength=0,s.nalCount=0,s.duration=0,s.pts=e[0].pts,s.dts=e[0].dts,t=0;t<e.length;t++)(i=e[t]).keyFrame?(n.length&&(s.push(n),s.byteLength+=n.byteLength,s.nalCount+=n.nalCount,s.duration+=n.duration),(n=[i]).nalCount=i.length,n.byteLength=i.byteLength,n.pts=i.pts,n.dts=i.dts,n.duration=i.duration):(n.duration+=i.duration,n.nalCount+=i.length,n.byteLength+=i.byteLength,n.push(i));return s.length&&n.duration<=0&&(n.duration=s[s.length-1].duration),s.byteLength+=n.byteLength,s.nalCount+=n.nalCount,s.duration+=n.duration,s.push(n),s},extendFirstKeyFrame:function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},generateSampleTable:function(e,t){var i,n,s,o,r,a=t||0,l=[];for(i=0;i<e.length;i++)for(o=e[i],n=0;n<o.length;n++)r=o[n],a+=(s=ie(r,a)).size,l.push(s);return l},concatenateNalData:function(e){var t,i,n,s,o,r,a=0,l=e.byteLength,c=e.nalCount,d=new Uint8Array(l+4*c),u=new DataView(d.buffer);for(t=0;t<e.length;t++)for(s=e[t],i=0;i<s.length;i++)for(o=s[i],n=0;n<o.length;n++)r=o[n],u.setUint32(a,r.data.byteLength),a+=4,d.set(r.data,a),a+=r.data.byteLength;return d},generateSampleTableForFrame:function(e,t){var i,n=[];return i=ie(e,t||0),n.push(i),n},concatenateNalDataForFrame:function(e){var t,i,n=0,s=e.byteLength,o=e.length,r=new Uint8Array(s+4*o),a=new DataView(r.buffer);for(t=0;t<e.length;t++)i=e[t],a.setUint32(n,i.data.byteLength),n+=4,r.set(i.data,n),n+=i.data.byteLength;return r}},se=[33,16,5,32,164,27],oe=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],re=function(e){for(var t=[];e--;)t.push(0);return t},ae=9e4;Z=function(e,t){return Y(Q(e,t))},J=function(e,t){return X(K(e),t)},ee=function(e,t,i){return K(i?e:e-t)};var le={ONE_SECOND_IN_TS:ae,secondsToVideoTs:Y=function(e){return e*ae},secondsToAudioTs:X=function(e,t){return e*t},videoTsToSeconds:K=function(e){return e/ae},audioTsToSeconds:Q=function(e,t){return e/t},audioTsToVideoTs:Z,videoTsToAudioTs:J,metadataTsToSeconds:ee},ce=le,de={prefixWithSilence:function(e,t,i,n){var s,o,r,a,l,c=0,d=0,u=0;if(t.length&&(s=ce.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),o=Math.ceil(ce.ONE_SECOND_IN_TS/(e.samplerate/1024)),i&&n&&(c=s-Math.max(i,n),u=(d=Math.floor(c/o))*o),!(d<1||u>ce.ONE_SECOND_IN_TS/2))){for((r=function(){if(!G){var e={96e3:[se,[227,64],re(154),[56]],88200:[se,[231],re(170),[56]],64e3:[se,[248,192],re(240),[56]],48e3:[se,[255,192],re(268),[55,148,128],re(54),[112]],44100:[se,[255,192],re(268),[55,163,128],re(84),[112]],32e3:[se,[255,192],re(268),[55,234],re(226),[112]],24e3:[se,[255,192],re(268),[55,255,128],re(268),[111,112],re(126),[224]],16e3:[se,[255,192],re(268),[55,255,128],re(268),[111,255],re(269),[223,108],re(195),[1,192]],12e3:[oe,re(268),[3,127,248],re(268),[6,255,240],re(268),[13,255,224],re(268),[27,253,128],re(259),[56]],11025:[oe,re(268),[3,127,248],re(268),[6,255,240],re(268),[13,255,224],re(268),[27,255,192],re(268),[55,175,128],re(108),[112]],8e3:[oe,re(268),[3,121,16],re(47),[7]]};t=e,G=Object.keys(t).reduce((function(e,i){return e[i]=new Uint8Array(t[i].reduce((function(e,t){return e.concat(t)}),[])),e}),{})}var t;return G}()[e.samplerate])||(r=t[0].data),a=0;a<d;a++)l=t[0],t.splice(0,0,{data:r,dts:l.dts-o,pts:l.pts-o});return e.baseMediaDecodeTime-=Math.floor(ce.videoTsToAudioTs(u,e.samplerate)),u}},trimAdtsFramesByEarliestDts:function(e,t,i){return t.minSegmentDts>=i?e:(t.minSegmentDts=1/0,e.filter((function(e){return e.dts>=i&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)})))},generateSampleTable:function(e){var t,i,n=[];for(t=0;t<e.length;t++)i=e[t],n.push({size:i.data.byteLength,duration:1024});return n},concatenateFrameData:function(e){var t,i,n=0,s=new Uint8Array(function(e){var t,i=0;for(t=0;t<e.length;t++)i+=e[t].data.byteLength;return i}(e));for(t=0;t<e.length;t++)i=e[t],s.set(i.data,n),n+=i.data.byteLength;return s}},ue=le.ONE_SECOND_IN_TS,he={clearDtsInfo:function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},calculateTrackBaseMediaDecodeTime:function(e,t){var i,n=e.minSegmentDts;return t||(n-=e.timelineStartInfo.dts),i=e.timelineStartInfo.baseMediaDecodeTime,i+=n,i=Math.max(0,i),"audio"===e.type&&(i*=e.samplerate/ue,i=Math.floor(i)),i},collectDtsInfo:function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))}},pe={parseSei:function(e){for(var t=0,i={payloadType:-1,payloadSize:0},n=0,s=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)n+=255,t++;for(n+=e[t++];255===e[t];)s+=255,t++;if(s+=e[t++],!i.payload&&4===n){if("GA94"===String.fromCharCode(e[t+3],e[t+4],e[t+5],e[t+6])){i.payloadType=n,i.payloadSize=s,i.payload=e.subarray(t,t+s);break}i.payload=void 0}t+=s,n=0,s=0}return i},parseUserData:function(e){return 181!==e.payload[0]||49!=(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},parseCaptionPackets:function(e,t){var i,n,s,o,r=[];if(!(64&t[0]))return r;for(n=31&t[0],i=0;i<n;i++)o={type:3&t[2+(s=3*i)],pts:e},4&t[s+2]&&(o.ccData=t[s+3]<<8|t[s+4],r.push(o));return r},discardEmulationPreventionBytes:function(e){for(var t,i,n=e.byteLength,s=[],o=1;o<n-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(s.push(o+2),o+=2):o++;if(0===s.length)return e;t=n-s.length,i=new Uint8Array(t);var r=0;for(o=0;o<t;r++,o++)r===s[0]&&(r++,s.shift()),i[o]=e[r];return i},USER_DATA_REGISTERED_ITU_T_T35:4},fe=V,me=pe,ge=function(e){e=e||{},ge.prototype.init.call(this),this.parse708captions_="boolean"!=typeof e.parse708captions||e.parse708captions,this.captionPackets_=[],this.ccStreams_=[new Ce(0,0),new Ce(0,1),new Ce(1,0),new Ce(1,1)],this.parse708captions_&&(this.cc708Stream_=new xe({captionServices:e.captionServices})),this.reset(),this.ccStreams_.forEach((function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))}),this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};ge.prototype=new fe,ge.prototype.push=function(e){var t,i,n;if("sei_rbsp"===e.nalUnitType&&(t=me.parseSei(e.escapedRBSP)).payload&&t.payloadType===me.USER_DATA_REGISTERED_ITU_T_T35&&(i=me.parseUserData(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=me.parseCaptionPackets(e.pts,i),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},ge.prototype.flushCCStreams=function(e){this.ccStreams_.forEach((function(t){return"flush"===e?t.flush():t.partialFlush()}),this)},ge.prototype.flushStream=function(e){this.captionPackets_.length?(this.captionPackets_.forEach((function(e,t){e.presortIndex=t})),this.captionPackets_.sort((function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts})),this.captionPackets_.forEach((function(e){e.type<2?this.dispatchCea608Packet(e):this.dispatchCea708Packet(e)}),this),this.captionPackets_.length=0,this.flushCCStreams(e)):this.flushCCStreams(e)},ge.prototype.flush=function(){return this.flushStream("flush")},ge.prototype.partialFlush=function(){return this.flushStream("partialFlush")},ge.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(e){e.reset()}))},ge.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},ge.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},ge.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},ge.prototype.setsTextOrXDSActive=function(e){return 256==(28928&e.ccData)||4138==(30974&e.ccData)||6186==(30974&e.ccData)},ge.prototype.dispatchCea708Packet=function(e){this.parse708captions_&&this.cc708Stream_.push(e)};var ve={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},ye=function(e){return 32<=e&&e<=127||160<=e&&e<=255},be=function(e){this.windowNum=e,this.reset()};be.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},be.prototype.getText=function(){return this.rows.join("\n")},be.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},be.prototype.newLine=function(e){for(this.rows.length>=this.virtualRowCount&&"function"==typeof this.beforeRowOverflow&&this.beforeRowOverflow(e),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},be.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},be.prototype.addText=function(e){this.rows[this.rowIdx]+=e},be.prototype.backspace=function(){if(!this.isEmpty()){var e=this.rows[this.rowIdx];this.rows[this.rowIdx]=e.substr(0,e.length-1)}};var _e=function(e,t,i){this.serviceNum=e,this.text="",this.currentWindow=new be(-1),this.windows=[],this.stream=i,"string"==typeof t&&this.createTextDecoder(t)};_e.prototype.init=function(e,t){this.startPts=e;for(var i=0;i<8;i++)this.windows[i]=new be(i),"function"==typeof t&&(this.windows[i].beforeRowOverflow=t)},_e.prototype.setCurrentWindow=function(e){this.currentWindow=this.windows[e]},_e.prototype.createTextDecoder=function(e){if("undefined"==typeof TextDecoder)this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(e)}catch(t){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+e+" encoding. "+t})}};var xe=function(e){e=e||{},xe.prototype.init.call(this);var t,i=this,n=e.captionServices||{},s={};Object.keys(n).forEach((e=>{t=n[e],/^SERVICE/.test(e)&&(s[e]=t.encoding)})),this.serviceEncodings=s,this.current708Packet=null,this.services={},this.push=function(e){3===e.type?(i.new708Packet(),i.add708Bytes(e)):(null===i.current708Packet&&i.new708Packet(),i.add708Bytes(e))}};xe.prototype=new fe,xe.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},xe.prototype.add708Bytes=function(e){var t=e.ccData,i=t>>>8,n=255&t;this.current708Packet.ptsVals.push(e.pts),this.current708Packet.data.push(i),this.current708Packet.data.push(n)},xe.prototype.push708Packet=function(){var e=this.current708Packet,t=e.data,i=null,n=null,s=0,o=t[s++];for(e.seq=o>>6,e.sizeCode=63&o;s<t.length;s++)n=31&(o=t[s++]),7==(i=o>>5)&&n>0&&(i=o=t[s++]),this.pushServiceBlock(i,s,n),n>0&&(s+=n-1)},xe.prototype.pushServiceBlock=function(e,t,i){var n,s=t,o=this.current708Packet.data,r=this.services[e];for(r||(r=this.initService(e,s));s<t+i&&s<o.length;s++)n=o[s],ye(n)?s=this.handleText(s,r):24===n?s=this.multiByteCharacter(s,r):16===n?s=this.extendedCommands(s,r):128<=n&&n<=135?s=this.setCurrentWindow(s,r):152<=n&&n<=159?s=this.defineWindow(s,r):136===n?s=this.clearWindows(s,r):140===n?s=this.deleteWindows(s,r):137===n?s=this.displayWindows(s,r):138===n?s=this.hideWindows(s,r):139===n?s=this.toggleWindows(s,r):151===n?s=this.setWindowAttributes(s,r):144===n?s=this.setPenAttributes(s,r):145===n?s=this.setPenColor(s,r):146===n?s=this.setPenLocation(s,r):143===n?r=this.reset(s,r):8===n?r.currentWindow.backspace():12===n?r.currentWindow.clearText():13===n?r.currentWindow.pendingNewLine=!0:14===n?r.currentWindow.clearText():141===n&&s++},xe.prototype.extendedCommands=function(e,t){var i=this.current708Packet.data[++e];return ye(i)&&(e=this.handleText(e,t,{isExtended:!0})),e},xe.prototype.getPts=function(e){return this.current708Packet.ptsVals[Math.floor(e/2)]},xe.prototype.initService=function(e,t){var i,n,s=this;return(i="SERVICE"+e)in this.serviceEncodings&&(n=this.serviceEncodings[i]),this.services[e]=new _e(e,n,s),this.services[e].init(this.getPts(t),(function(t){s.flushDisplayed(t,s.services[e])})),this.services[e]},xe.prototype.handleText=function(e,t,i){var n,s,o,r,a=i&&i.isExtended,l=i&&i.isMultiByte,c=this.current708Packet.data,d=a?4096:0,u=c[e],h=c[e+1],p=t.currentWindow;return t.textDecoder_&&!a?(l?(s=[u,h],e++):s=[u],n=t.textDecoder_.decode(new Uint8Array(s))):(r=ve[o=d|u]||o,n=4096&o&&o===r?"":String.fromCharCode(r)),p.pendingNewLine&&!p.isEmpty()&&p.newLine(this.getPts(e)),p.pendingNewLine=!1,p.addText(n),e},xe.prototype.multiByteCharacter=function(e,t){var i=this.current708Packet.data,n=i[e+1],s=i[e+2];return ye(n)&&ye(s)&&(e=this.handleText(++e,t,{isMultiByte:!0})),e},xe.prototype.setCurrentWindow=function(e,t){var i=7&this.current708Packet.data[e];return t.setCurrentWindow(i),e},xe.prototype.defineWindow=function(e,t){var i=this.current708Packet.data,n=i[e],s=7&n;t.setCurrentWindow(s);var o=t.currentWindow;return n=i[++e],o.visible=(32&n)>>5,o.rowLock=(16&n)>>4,o.columnLock=(8&n)>>3,o.priority=7&n,n=i[++e],o.relativePositioning=(128&n)>>7,o.anchorVertical=127&n,n=i[++e],o.anchorHorizontal=n,n=i[++e],o.anchorPoint=(240&n)>>4,o.rowCount=15&n,n=i[++e],o.columnCount=63&n,n=i[++e],o.windowStyle=(56&n)>>3,o.penStyle=7&n,o.virtualRowCount=o.rowCount+1,e},xe.prototype.setWindowAttributes=function(e,t){var i=this.current708Packet.data,n=i[e],s=t.currentWindow.winAttr;return n=i[++e],s.fillOpacity=(192&n)>>6,s.fillRed=(48&n)>>4,s.fillGreen=(12&n)>>2,s.fillBlue=3&n,n=i[++e],s.borderType=(192&n)>>6,s.borderRed=(48&n)>>4,s.borderGreen=(12&n)>>2,s.borderBlue=3&n,n=i[++e],s.borderType+=(128&n)>>5,s.wordWrap=(64&n)>>6,s.printDirection=(48&n)>>4,s.scrollDirection=(12&n)>>2,s.justify=3&n,n=i[++e],s.effectSpeed=(240&n)>>4,s.effectDirection=(12&n)>>2,s.displayEffect=3&n,e},xe.prototype.flushDisplayed=function(e,t){for(var i=[],n=0;n<8;n++)t.windows[n].visible&&!t.windows[n].isEmpty()&&i.push(t.windows[n].getText());t.endPts=e,t.text=i.join("\n\n"),this.pushCaption(t),t.startPts=e},xe.prototype.pushCaption=function(e){""!==e.text&&(this.trigger("data",{startPts:e.startPts,endPts:e.endPts,text:e.text,stream:"cc708_"+e.serviceNum}),e.text="",e.startPts=e.endPts)},xe.prototype.displayWindows=function(e,t){var i=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var s=0;s<8;s++)i&1<<s&&(t.windows[s].visible=1);return e},xe.prototype.hideWindows=function(e,t){var i=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var s=0;s<8;s++)i&1<<s&&(t.windows[s].visible=0);return e},xe.prototype.toggleWindows=function(e,t){var i=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var s=0;s<8;s++)i&1<<s&&(t.windows[s].visible^=1);return e},xe.prototype.clearWindows=function(e,t){var i=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var s=0;s<8;s++)i&1<<s&&t.windows[s].clearText();return e},xe.prototype.deleteWindows=function(e,t){var i=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var s=0;s<8;s++)i&1<<s&&t.windows[s].reset();return e},xe.prototype.setPenAttributes=function(e,t){var i=this.current708Packet.data,n=i[e],s=t.currentWindow.penAttr;return n=i[++e],s.textTag=(240&n)>>4,s.offset=(12&n)>>2,s.penSize=3&n,n=i[++e],s.italics=(128&n)>>7,s.underline=(64&n)>>6,s.edgeType=(56&n)>>3,s.fontStyle=7&n,e},xe.prototype.setPenColor=function(e,t){var i=this.current708Packet.data,n=i[e],s=t.currentWindow.penColor;return n=i[++e],s.fgOpacity=(192&n)>>6,s.fgRed=(48&n)>>4,s.fgGreen=(12&n)>>2,s.fgBlue=3&n,n=i[++e],s.bgOpacity=(192&n)>>6,s.bgRed=(48&n)>>4,s.bgGreen=(12&n)>>2,s.bgBlue=3&n,n=i[++e],s.edgeRed=(48&n)>>4,s.edgeGreen=(12&n)>>2,s.edgeBlue=3&n,e},xe.prototype.setPenLocation=function(e,t){var i=this.current708Packet.data,n=i[e],s=t.currentWindow.penLoc;return t.currentWindow.pendingNewLine=!0,n=i[++e],s.row=15&n,n=i[++e],s.column=63&n,e},xe.prototype.reset=function(e,t){var i=this.getPts(e);return this.flushDisplayed(i,t),this.initService(t.serviceNum,e)};var we={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},ke=function(e){return null===e?"":(e=we[e]||e,String.fromCharCode(e))},Se=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Te=function(){for(var e=[],t=15;t--;)e.push({text:"",indent:0,offset:0});return e},Ce=function(e,t){Ce.prototype.init.call(this),this.field_=e||0,this.dataChannel_=t||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,i,n,s,o;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),n=t>>>8,s=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),i=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=i,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=Te();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Te();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=Te()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(n,s))o=ke((n=(3&n)<<8)|s),this[this.mode_](e.pts,o),this.column_++;else if(this.isExtCharacter(n,s))"popOn"===this.mode_?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),o=ke((n=(3&n)<<8)|s),this[this.mode_](e.pts,o),this.column_++;else if(this.isMidRowCode(n,s))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&s)&&this.addFormatting(e.pts,["i"]),1==(1&s)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(n,s)){const e=3&s;this.nonDisplayed_[this.row_].offset=e,this.column_+=e}else if(this.isPAC(n,s)){var r=Se.indexOf(7968&t);if("rollUp"===this.mode_&&(r-this.rollUpRows_+1<0&&(r=this.rollUpRows_-1),this.setRollUp(e.pts,r)),r!==this.row_&&(this.clearFormatting(e.pts),this.row_=r),1&s&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)){const e=(14&t)>>1;this.column_=4*e,this.nonDisplayed_[this.row_].indent+=e}this.isColorPAC(s)&&14==(14&s)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(n)&&(0===s&&(s=null),o=ke(n),o+=ke(s),this[this.mode_](e.pts,o),this.column_+=o.length)}else this.lastControlCode_=null}};Ce.prototype=new fe,Ce.prototype.flushDisplayed=function(e){const t=e=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+e+"."})},i=[];this.displayed_.forEach(((e,n)=>{if(e&&e.text&&e.text.length){try{e.text=e.text.trim()}catch(e){t(n)}e.text.length&&i.push({text:e.text,line:n+1,position:10+Math.min(70,10*e.indent)+2.5*e.offset})}else null==e&&t(n)})),i.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,content:i,stream:this.name_})},Ce.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Te(),this.nonDisplayed_=Te(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Ce.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Ce.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},Ce.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},Ce.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},Ce.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},Ce.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},Ce.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},Ce.prototype.isNormalChar=function(e){return e>=32&&e<=127},Ce.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=Te(),this.displayed_=Te()),void 0!==t&&t!==this.row_)for(var i=0;i<this.rollUpRows_;i++)this.displayed_[t-i]=this.displayed_[this.row_-i],this.displayed_[this.row_-i]={text:"",indent:0,offset:0};void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},Ce.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var i=t.reduce((function(e,t){return e+"<"+t+">"}),"");this[this.mode_](e,i)},Ce.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce((function(e,t){return e+"</"+t+">"}),"");this.formatting_=[],this[this.mode_](e,t)}},Ce.prototype.popOn=function(e,t){var i=this.nonDisplayed_[this.row_].text;i+=t,this.nonDisplayed_[this.row_].text=i},Ce.prototype.rollUp=function(e,t){var i=this.displayed_[this.row_].text;i+=t,this.displayed_[this.row_].text=i},Ce.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]={text:"",indent:0,offset:0};for(e=this.row_+1;e<15;e++)this.displayed_[e]={text:"",indent:0,offset:0};for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},Ce.prototype.paintOn=function(e,t){var i=this.displayed_[this.row_].text;i+=t,this.displayed_[this.row_].text=i};var Ee={CaptionStream:ge,Cea608Stream:Ce,Cea708Stream:xe},Ae={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Ie=V,Me="shared",Oe=function(e,t){var i=1;for(e>t&&(i=-1);Math.abs(t-e)>4294967296;)e+=8589934592*i;return e},De=function(e){var t,i;De.prototype.init.call(this),this.type_=e||Me,this.push=function(e){this.type_!==Me&&e.type!==this.type_||(void 0===i&&(i=e.dts),e.dts=Oe(e.dts,i),e.pts=Oe(e.pts,i),t=e.dts,this.trigger("data",e))},this.flush=function(){i=t,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){i=void 0,t=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};De.prototype=new Ie;var Pe,Le={TimestampRolloverStream:De,handleRollover:Oe},je=(e,t,i)=>{if(!e)return-1;for(var n=i;n<e.length;n++)if(e[n]===t)return n;return-1},Be=function(e,t,i){var n,s="";for(n=t;n<i;n++)s+="%"+("00"+e[n].toString(16)).slice(-2);return s},Re=function(e,t,i){return decodeURIComponent(Be(e,t,i))},Ne=function(e,t,i){return unescape(Be(e,t,i))},Ue=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},Fe={APIC:function(e){var t,i,n=1;3===e.data[0]&&((t=je(e.data,0,n))<0||(e.mimeType=Ne(e.data,n,t),n=t+1,e.pictureType=e.data[n],n++,(i=je(e.data,0,n))<0||(e.description=Re(e.data,n,i),n=i+1,"--\x3e"===e.mimeType?e.url=Ne(e.data,n,e.data.length):e.pictureData=e.data.subarray(n,e.data.length))))},"T*":function(e){3===e.data[0]&&(e.value=Re(e.data,1,e.data.length).replace(/\0*$/,""),e.values=e.value.split("\0"))},TXXX:function(e){var t;3===e.data[0]&&-1!==(t=je(e.data,0,1))&&(e.description=Re(e.data,1,t),e.value=Re(e.data,t+1,e.data.length).replace(/\0*$/,""),e.data=e.value)},"W*":function(e){e.url=Ne(e.data,0,e.data.length).replace(/\0.*$/,"")},WXXX:function(e){var t;3===e.data[0]&&-1!==(t=je(e.data,0,1))&&(e.description=Re(e.data,1,t),e.url=Ne(e.data,t+1,e.data.length).replace(/\0.*$/,""))},PRIV:function(e){var t;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=Ne(e.data,0,t);break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}},ze={parseId3Frames:function(e){var t,i=10,n=0,s=[];if(!(e.length<10||e[0]!=="I".charCodeAt(0)||e[1]!=="D".charCodeAt(0)||e[2]!=="3".charCodeAt(0))){n=Ue(e.subarray(6,10)),n+=10,64&e[5]&&(i+=4,i+=Ue(e.subarray(10,14)),n-=Ue(e.subarray(16,20)));do{if((t=Ue(e.subarray(i+4,i+8)))<1)break;var o={id:String.fromCharCode(e[i],e[i+1],e[i+2],e[i+3]),data:e.subarray(i+10,i+t+10)};o.key=o.id,Fe[o.id]?Fe[o.id](o):"T"===o.id[0]?Fe["T*"](o):"W"===o.id[0]&&Fe["W*"](o),s.push(o),i+=10,i+=t}while(i<n);return s}},parseSyncSafeInteger:Ue,frameParsers:Fe},He=V,Ve=Ae,qe=ze;Pe=function(e){var t,i={descriptor:e&&e.descriptor},n=0,s=[],o=0;if(Pe.prototype.init.call(this),this.dispatchType=Ve.METADATA_STREAM_TYPE.toString(16),i.descriptor)for(t=0;t<i.descriptor.length;t++)this.dispatchType+=("00"+i.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,i,r,a,l;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(o=0,s.length=0),0===s.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});else if(s.push(e),o+=e.data.byteLength,1===s.length&&(n=qe.parseSyncSafeInteger(e.data.subarray(6,10)),n+=10),!(o<n)){for(t={data:new Uint8Array(n),frames:[],pts:s[0].pts,dts:s[0].dts},l=0;l<n;)t.data.set(s[0].data.subarray(0,n-l),l),l+=s[0].data.byteLength,o-=s[0].data.byteLength,s.shift();i=10,64&t.data[5]&&(i+=4,i+=qe.parseSyncSafeInteger(t.data.subarray(10,14)),n-=qe.parseSyncSafeInteger(t.data.subarray(16,20)));do{if((r=qe.parseSyncSafeInteger(t.data.subarray(i+4,i+8)))<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if((a={id:String.fromCharCode(t.data[i],t.data[i+1],t.data[i+2],t.data[i+3]),data:t.data.subarray(i+10,i+r+10)}).key=a.id,qe.frameParsers[a.id]?qe.frameParsers[a.id](a):"T"===a.id[0]?qe.frameParsers["T*"](a):"W"===a.id[0]&&qe.frameParsers["W*"](a),"com.apple.streaming.transportStreamTimestamp"===a.owner){var c=a.data,d=(1&c[3])<<30|c[4]<<22|c[5]<<14|c[6]<<6|c[7]>>>2;d*=4,d+=3&c[7],a.timeStamp=d,void 0===t.pts&&void 0===t.dts&&(t.pts=a.timeStamp,t.dts=a.timeStamp),this.trigger("timestamp",a)}t.frames.push(a),i+=10,i+=r}while(i<n);this.trigger("data",t)}}},Pe.prototype=new He;var $e,We,Ge,Ye=Pe,Xe=V,Ke=Ee,Qe=Ae,Ze=Le.TimestampRolloverStream,Je=188;($e=function(){var e=new Uint8Array(Je),t=0;$e.prototype.init.call(this),this.push=function(i){var n,s=0,o=Je;for(t?((n=new Uint8Array(i.byteLength+t)).set(e.subarray(0,t)),n.set(i,t),t=0):n=i;o<n.byteLength;)71!==n[s]||71!==n[o]?(s++,o++):(this.trigger("data",n.subarray(s,o)),s+=Je,o+=Je);s<n.byteLength&&(e.set(n.subarray(s),0),t=n.byteLength-s)},this.flush=function(){t===Je&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){t=0,this.trigger("reset")}}).prototype=new Xe,(We=function(){var e,t,i,n;We.prototype.init.call(this),n=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,n){var s=0;n.payloadUnitStartIndicator&&(s+=e[s]+1),"pat"===n.type?t(e.subarray(s),n):i(e.subarray(s),n)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],n.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=n.pmtPid},i=function(e,t){var i,s;if(1&e[5]){for(n.programMapTable={video:null,audio:null,"timed-metadata":{}},i=3+((15&e[1])<<8|e[2])-4,s=12+((15&e[10])<<8|e[11]);s<i;){var o=e[s],r=(31&e[s+1])<<8|e[s+2];o===Qe.H264_STREAM_TYPE&&null===n.programMapTable.video?n.programMapTable.video=r:o===Qe.ADTS_STREAM_TYPE&&null===n.programMapTable.audio?n.programMapTable.audio=r:o===Qe.METADATA_STREAM_TYPE&&(n.programMapTable["timed-metadata"][r]=o),s+=5+((15&e[s+3])<<8|e[s+4])}t.programMapTable=n.programMapTable}},this.push=function(t){var i={},n=4;if(i.payloadUnitStartIndicator=!!(64&t[1]),i.pid=31&t[1],i.pid<<=8,i.pid|=t[2],(48&t[3])>>>4>1&&(n+=t[n]+1),0===i.pid)i.type="pat",e(t.subarray(n),i),this.trigger("data",i);else if(i.pid===this.pmtPid)for(i.type="pmt",e(t.subarray(n),i),this.trigger("data",i);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,n,i]):this.processPes_(t,n,i)},this.processPes_=function(e,t,i){i.pid===this.programMapTable.video?i.streamType=Qe.H264_STREAM_TYPE:i.pid===this.programMapTable.audio?i.streamType=Qe.ADTS_STREAM_TYPE:i.streamType=this.programMapTable["timed-metadata"][i.pid],i.type="pes",i.data=e.subarray(t),this.trigger("data",i)}}).prototype=new Xe,We.STREAM_TYPES={h264:27,adts:15},Ge=function(){var e,t=this,i=!1,n={data:[],size:0},s={data:[],size:0},o={data:[],size:0},r=function(e,i,n){var s,o,r=new Uint8Array(e.size),a={type:i},l=0,c=0;if(e.data.length&&!(e.size<9)){for(a.trackId=e.data[0].pid,l=0;l<e.data.length;l++)o=e.data[l],r.set(o.data,c),c+=o.data.byteLength;!function(e,t){var i;const n=e[0]<<16|e[1]<<8|e[2];t.data=new Uint8Array,1===n&&(t.packetLength=6+(e[4]<<8|e[5]),t.dataAlignmentIndicator=0!=(4&e[6]),192&(i=e[7])&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&i&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8]))}(r,a),s="video"===i||a.packetLength<=e.size,(n||s)&&(e.size=0,e.data.length=0),s&&t.trigger("data",a)}};Ge.prototype.init.call(this),this.push=function(a){({pat:function(){},pes:function(){var e,t;switch(a.streamType){case Qe.H264_STREAM_TYPE:e=n,t="video";break;case Qe.ADTS_STREAM_TYPE:e=s,t="audio";break;case Qe.METADATA_STREAM_TYPE:e=o,t="timed-metadata";break;default:return}a.payloadUnitStartIndicator&&r(e,t,!0),e.data.push(a),e.size+=a.data.byteLength},pmt:function(){var n={type:"metadata",tracks:[]};null!==(e=a.programMapTable).video&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),i=!0,t.trigger("data",n)}})[a.type]()},this.reset=function(){n.size=0,n.data.length=0,s.size=0,s.data.length=0,this.trigger("reset")},this.flushStreams_=function(){r(n,"video"),r(s,"audio"),r(o,"timed-metadata")},this.flush=function(){if(!i&&e){var n={type:"metadata",tracks:[]};null!==e.video&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),t.trigger("data",n)}i=!1,this.flushStreams_(),this.trigger("done")}},Ge.prototype=new Xe;var et={PAT_PID:0,MP2T_PACKET_LENGTH:Je,TransportPacketStream:$e,TransportParseStream:We,ElementaryStream:Ge,TimestampRolloverStream:Ze,CaptionStream:Ke.CaptionStream,Cea608Stream:Ke.Cea608Stream,Cea708Stream:Ke.Cea708Stream,MetadataStream:Ye};for(var tt in Qe)Qe.hasOwnProperty(tt)&&(et[tt]=Qe[tt]);var it,nt=et,st=V,ot=le.ONE_SECOND_IN_TS,rt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];it=function(e){var t,i=0;it.prototype.init.call(this),this.skipWarn_=function(e,t){this.trigger("log",{level:"warn",message:`adts skiping bytes ${e} to ${t} in frame ${i} outside syncword`})},this.push=function(n){var s,o,r,a,l,c=0;if(e||(i=0),"audio"===n.type){var d;for(t&&t.length?(r=t,(t=new Uint8Array(r.byteLength+n.data.byteLength)).set(r),t.set(n.data,r.byteLength)):t=n.data;c+7<t.length;)if(255===t[c]&&240==(246&t[c+1])){if("number"==typeof d&&(this.skipWarn_(d,c),d=null),o=2*(1&~t[c+1]),s=(3&t[c+3])<<11|t[c+4]<<3|(224&t[c+5])>>5,l=(a=1024*(1+(3&t[c+6])))*ot/rt[(60&t[c+2])>>>2],t.byteLength-c<s)break;this.trigger("data",{pts:n.pts+i*l,dts:n.dts+i*l,sampleCount:a,audioobjecttype:1+(t[c+2]>>>6&3),channelcount:(1&t[c+2])<<2|(192&t[c+3])>>>6,samplerate:rt[(60&t[c+2])>>>2],samplingfrequencyindex:(60&t[c+2])>>>2,samplesize:16,data:t.subarray(c+7+o,c+s)}),i++,c+=s}else"number"!=typeof d&&(d=c),c++;"number"==typeof d&&(this.skipWarn_(d,c),d=null),t=t.subarray(c)}},this.flush=function(){i=0,this.trigger("done")},this.reset=function(){t=void 0,this.trigger("reset")},this.endTimeline=function(){t=void 0,this.trigger("endedtimeline")}},it.prototype=new st;var at,lt,ct,dt=it,ut=V,ht=function(e){var t=e.byteLength,i=0,n=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+n},this.loadWord=function(){var s=e.byteLength-t,o=new Uint8Array(4),r=Math.min(4,t);if(0===r)throw new Error("no bytes available");o.set(e.subarray(s,s+r)),i=new DataView(o.buffer).getUint32(0),n=8*r,t-=r},this.skipBits=function(e){var s;n>e?(i<<=e,n-=e):(e-=n,e-=8*(s=Math.floor(e/8)),t-=s,this.loadWord(),i<<=e,n-=e)},this.readBits=function(e){var s=Math.min(n,e),o=i>>>32-s;return(n-=s)>0?i<<=s:t>0&&this.loadWord(),(s=e-s)>0?o<<s|this.readBits(s):o},this.skipLeadingZeros=function(){var e;for(e=0;e<n;++e)if(0!=(i&2147483648>>>e))return i<<=e,n-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};(lt=function(){var e,t,i=0;lt.prototype.init.call(this),this.push=function(n){var s;t?((s=new Uint8Array(t.byteLength+n.data.byteLength)).set(t),s.set(n.data,t.byteLength),t=s):t=n.data;for(var o=t.byteLength;i<o-3;i++)if(1===t[i+2]){e=i+5;break}for(;e<o;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}i+3!==e-2&&this.trigger("data",t.subarray(i+3,e-2));do{e++}while(1!==t[e]&&e<o);i=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(i+3,e-2)),i=e-2,e+=3;break;default:e+=3}t=t.subarray(i),e-=i,i=0},this.reset=function(){t=null,i=0,this.trigger("reset")},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(i+3)),t=null,i=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}}).prototype=new ut,ct={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},at=function(){var e,t,i,n,s,o,r,a=new lt;at.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,i=e.pts,n=e.dts,a.push(e))},a.on("data",(function(r){var a={trackId:t,pts:i,dts:n,data:r,nalUnitTypeCode:31&r[0]};switch(a.nalUnitTypeCode){case 5:a.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:a.nalUnitType="sei_rbsp",a.escapedRBSP=s(r.subarray(1));break;case 7:a.nalUnitType="seq_parameter_set_rbsp",a.escapedRBSP=s(r.subarray(1)),a.config=o(a.escapedRBSP);break;case 8:a.nalUnitType="pic_parameter_set_rbsp";break;case 9:a.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",a)})),a.on("done",(function(){e.trigger("done")})),a.on("partialdone",(function(){e.trigger("partialdone")})),a.on("reset",(function(){e.trigger("reset")})),a.on("endedtimeline",(function(){e.trigger("endedtimeline")})),this.flush=function(){a.flush()},this.partialFlush=function(){a.partialFlush()},this.reset=function(){a.reset()},this.endTimeline=function(){a.endTimeline()},r=function(e,t){var i,n=8,s=8;for(i=0;i<e;i++)0!==s&&(s=(n+t.readExpGolomb()+256)%256),n=0===s?n:s},s=function(e){for(var t,i,n=e.byteLength,s=[],o=1;o<n-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(s.push(o+2),o+=2):o++;if(0===s.length)return e;t=n-s.length,i=new Uint8Array(t);var r=0;for(o=0;o<t;r++,o++)r===s[0]&&(r++,s.shift()),i[o]=e[r];return i},o=function(e){var t,i,n,s,o,a,l,c,d,u,h,p,f=0,m=0,g=0,v=0,y=[1,1];if(i=(t=new ht(e)).readUnsignedByte(),s=t.readUnsignedByte(),n=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),ct[i]&&(3===(o=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(h=3!==o?8:12,p=0;p<h;p++)t.readBoolean()&&r(p<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(a=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===a)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),l=t.readUnsignedExpGolomb(),p=0;p<l;p++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),c=t.readUnsignedExpGolomb(),d=t.readUnsignedExpGolomb(),0===(u=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(f=t.readUnsignedExpGolomb(),m=t.readUnsignedExpGolomb(),g=t.readUnsignedExpGolomb(),v=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:y=[1,1];break;case 2:y=[12,11];break;case 3:y=[10,11];break;case 4:y=[16,11];break;case 5:y=[40,33];break;case 6:y=[24,11];break;case 7:y=[20,11];break;case 8:y=[32,11];break;case 9:y=[80,33];break;case 10:y=[18,11];break;case 11:y=[15,11];break;case 12:y=[64,33];break;case 13:y=[160,99];break;case 14:y=[4,3];break;case 15:y=[3,2];break;case 16:y=[2,1];break;case 255:y=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}y&&(y[0],y[1])}return{profileIdc:i,levelIdc:n,profileCompatibility:s,width:16*(c+1)-2*f-2*m,height:(2-u)*(d+1)*16-2*g-2*v,sarRatio:y}}},at.prototype=new ut;var pt,ft={H264Stream:at,NalByteStream:lt},mt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],gt=function(e,t){var i=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return i=i>=0?i:0,(16&e[t+5])>>4?i+20:i+10},vt=function(e,t){return e.length-t<10||e[t]!=="I".charCodeAt(0)||e[t+1]!=="D".charCodeAt(0)||e[t+2]!=="3".charCodeAt(0)?t:(t+=gt(e,t),vt(e,t))},yt=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},bt={isLikelyAacData:function(e){var t=vt(e,0);return e.length>=t+2&&255==(255&e[t])&&240==(240&e[t+1])&&16==(22&e[t+1])},parseId3TagSize:gt,parseAdtsSize:function(e,t){var i=(224&e[t+5])>>5,n=e[t+4]<<3;return 6144&e[t+3]|n|i},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return mt[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,i,n;t=10,64&e[5]&&(t+=4,t+=yt(e.subarray(10,14)));do{if((i=yt(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){n=e.subarray(t+10,t+i+10);for(var s=0;s<n.byteLength;s++)if(0===n[s]){var o=unescape(function(e,t,i){var n,s="";for(n=0;n<i;n++)s+="%"+("00"+e[n].toString(16)).slice(-2);return s}(n,0,s));if("com.apple.streaming.transportStreamTimestamp"===o){var r=n.subarray(s+1),a=(1&r[3])<<30|r[4]<<22|r[5]<<14|r[6]<<6|r[7]>>>2;return(a*=4)+(3&r[7])}break}}t+=10,t+=i}while(t<e.byteLength);return null}},_t=bt;(pt=function(){var e=new Uint8Array,t=0;pt.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(i){var n,s,o,r,a=0,l=0;for(e.length?(r=e.length,(e=new Uint8Array(i.byteLength+r)).set(e.subarray(0,r)),e.set(i,r)):e=i;e.length-l>=3;)if(e[l]!=="I".charCodeAt(0)||e[l+1]!=="D".charCodeAt(0)||e[l+2]!=="3".charCodeAt(0))if(255!=(255&e[l])||240!=(240&e[l+1]))l++;else{if(e.length-l<7)break;if(l+(a=_t.parseAdtsSize(e,l))>e.length)break;o={type:"audio",data:e.subarray(l,l+a),pts:t,dts:t},this.trigger("data",o),l+=a}else{if(e.length-l<10)break;if(l+(a=_t.parseId3TagSize(e,l))>e.length)break;s={type:"timed-metadata",data:e.subarray(l,l+a)},this.trigger("data",s),l+=a}n=e.length-l,e=n>0?e.subarray(l):new Uint8Array},this.reset=function(){e=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){e=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new V;var xt,wt,kt,St,Tt=V,Ct=te,Et=ne,At=de,It=he,Mt=nt,Ot=le,Dt=dt,Pt=ft.H264Stream,Lt=pt,jt=bt.isLikelyAacData,Bt=le.ONE_SECOND_IN_TS,Rt=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Nt=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Ut=function(e,t){t.stream=e,this.trigger("log",t)},Ft=function(e,t){for(var i=Object.keys(t),n=0;n<i.length;n++){var s=i[n];"headOfPipeline"!==s&&t[s].on&&t[s].on("log",Ut.bind(e,s))}},zt=function(e,t){var i;if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0},Ht=function(e,t,i,n,s,o){return{start:{dts:e,pts:e+(i-t)},end:{dts:e+(n-t),pts:e+(s-i)},prependedContentDuration:o,baseMediaDecodeTime:e}};wt=function(e,t){var i,n=[],s=0,o=0,r=1/0;i=(t=t||{}).firstSequenceNumber||0,wt.prototype.init.call(this),this.push=function(t){It.collectDtsInfo(e,t),e&&Rt.forEach((function(i){e[i]=t[i]})),n.push(t)},this.setEarliestDts=function(e){s=e},this.setVideoBaseMediaDecodeTime=function(e){r=e},this.setAudioAppendStart=function(e){o=e},this.flush=function(){var a,l,c,d,u,h,p;0!==n.length?(a=At.trimAdtsFramesByEarliestDts(n,e,s),e.baseMediaDecodeTime=It.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),p=At.prefixWithSilence(e,a,o,r),e.samples=At.generateSampleTable(a),c=Ct.mdat(At.concatenateFrameData(a)),n=[],l=Ct.moof(i,[e]),d=new Uint8Array(l.byteLength+c.byteLength),i++,d.set(l),d.set(c,l.byteLength),It.clearDtsInfo(e),u=Math.ceil(1024*Bt/e.samplerate),a.length&&(h=a.length*u,this.trigger("segmentTimingInfo",Ht(Ot.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),a[0].dts,a[0].pts,a[0].dts+h,a[0].pts+h,p||0)),this.trigger("timingInfo",{start:a[0].pts,end:a[0].pts+h})),this.trigger("data",{track:e,boxes:d}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){It.clearDtsInfo(e),n=[],this.trigger("reset")}},wt.prototype=new Tt,xt=function(e,t){var i,n,s,o=[],r=[];i=(t=t||{}).firstSequenceNumber||0,xt.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){It.collectDtsInfo(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||n||(n=t.config,e.sps=[t.data],Nt.forEach((function(t){e[t]=n[t]}),this)),"pic_parameter_set_rbsp"!==t.nalUnitType||s||(s=t.data,e.pps=[t.data]),o.push(t)},this.flush=function(){for(var n,s,a,l,c,d,u,h,p=0;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(n=Et.groupNalsIntoFrames(o),(a=Et.groupFramesIntoGops(n))[0][0].keyFrame||((s=this.getGopForFusion_(o[0],e))?(p=s.duration,a.unshift(s),a.byteLength+=s.byteLength,a.nalCount+=s.nalCount,a.pts=s.pts,a.dts=s.dts,a.duration+=s.duration):a=Et.extendFirstKeyFrame(a)),r.length){var f;if(!(f=t.alignGopsAtEnd?this.alignGopsAtEnd_(a):this.alignGopsAtStart_(a)))return this.gopCache_.unshift({gop:a.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");It.clearDtsInfo(e),a=f}It.collectDtsInfo(e,a),e.samples=Et.generateSampleTable(a),c=Ct.mdat(Et.concatenateNalData(a)),e.baseMediaDecodeTime=It.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",a.map((function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}}))),u=a[0],h=a[a.length-1],this.trigger("segmentTimingInfo",Ht(e.baseMediaDecodeTime,u.dts,u.pts,h.dts+h.duration,h.pts+h.duration,p)),this.trigger("timingInfo",{start:a[0].pts,end:a[a.length-1].pts+a[a.length-1].duration}),this.gopCache_.unshift({gop:a.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),l=Ct.moof(i,[e]),d=new Uint8Array(l.byteLength+c.byteLength),i++,d.set(l),d.set(c,l.byteLength),this.trigger("data",{track:e,boxes:d}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),o=[],this.gopCache_.length=0,r.length=0,this.trigger("reset")},this.resetStream_=function(){It.clearDtsInfo(e),n=void 0,s=void 0},this.getGopForFusion_=function(t){var i,n,s,o,r,a=1/0;for(r=0;r<this.gopCache_.length;r++)s=(o=this.gopCache_[r]).gop,e.pps&&zt(e.pps[0],o.pps[0])&&e.sps&&zt(e.sps[0],o.sps[0])&&(s.dts<e.timelineStartInfo.dts||(i=t.dts-s.dts-s.duration)>=-1e4&&i<=45e3&&(!n||a>i)&&(n=o,a=i));return n?n.gop:null},this.alignGopsAtStart_=function(e){var t,i,n,s,o,a,l,c;for(o=e.byteLength,a=e.nalCount,l=e.duration,t=i=0;t<r.length&&i<e.length&&(n=r[t],s=e[i],n.pts!==s.pts);)s.pts>n.pts?t++:(i++,o-=s.byteLength,a-=s.nalCount,l-=s.duration);return 0===i?e:i===e.length?null:((c=e.slice(i)).byteLength=o,c.duration=l,c.nalCount=a,c.pts=c[0].pts,c.dts=c[0].dts,c)},this.alignGopsAtEnd_=function(e){var t,i,n,s,o,a,l;for(t=r.length-1,i=e.length-1,o=null,a=!1;t>=0&&i>=0;){if(n=r[t],s=e[i],n.pts===s.pts){a=!0;break}n.pts>s.pts?t--:(t===r.length-1&&(o=i),i--)}if(!a&&null===o)return null;if(0===(l=a?i:o))return e;var c=e.slice(l),d=c.reduce((function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e}),{byteLength:0,duration:0,nalCount:0});return c.byteLength=d.byteLength,c.duration=d.duration,c.nalCount=d.nalCount,c.pts=c[0].pts,c.dts=c[0].dts,c},this.alignGopsWith=function(e){r=e}},xt.prototype=new Tt,St=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"==typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,St.prototype.init.call(this),this.push=function(e){return e.content||e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}},St.prototype=new Tt,St.prototype.flush=function(e){var t,i,n,s,o=0,r={captions:[],captionStreams:{},metadata:[],info:{}},a=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(a=this.videoTrack.timelineStartInfo.pts,Nt.forEach((function(e){r.info[e]=this.videoTrack[e]}),this)):this.audioTrack&&(a=this.audioTrack.timelineStartInfo.pts,Rt.forEach((function(e){r.info[e]=this.audioTrack[e]}),this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?r.type=this.pendingTracks[0].type:r.type="combined",this.emittedTracks+=this.pendingTracks.length,n=Ct.initSegment(this.pendingTracks),r.initSegment=new Uint8Array(n.byteLength),r.initSegment.set(n),r.data=new Uint8Array(this.pendingBytes),s=0;s<this.pendingBoxes.length;s++)r.data.set(this.pendingBoxes[s],o),o+=this.pendingBoxes[s].byteLength;for(s=0;s<this.pendingCaptions.length;s++)(t=this.pendingCaptions[s]).startTime=Ot.metadataTsToSeconds(t.startPts,a,this.keepOriginalTimestamps),t.endTime=Ot.metadataTsToSeconds(t.endPts,a,this.keepOriginalTimestamps),r.captionStreams[t.stream]=!0,r.captions.push(t);for(s=0;s<this.pendingMetadata.length;s++)(i=this.pendingMetadata[s]).cueTime=Ot.metadataTsToSeconds(i.pts,a,this.keepOriginalTimestamps),r.metadata.push(i);for(r.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",r),s=0;s<r.captions.length;s++)t=r.captions[s],this.trigger("caption",t);for(s=0;s<r.metadata.length;s++)i=r.metadata[s],this.trigger("id3Frame",i)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},St.prototype.setRemux=function(e){this.remuxTracks=e},kt=function(e){var t,i,n=this,s=!0;kt.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var s={};this.transmuxPipeline_=s,s.type="aac",s.metadataStream=new Mt.MetadataStream,s.aacStream=new Lt,s.audioTimestampRolloverStream=new Mt.TimestampRolloverStream("audio"),s.timedMetadataTimestampRolloverStream=new Mt.TimestampRolloverStream("timed-metadata"),s.adtsStream=new Dt,s.coalesceStream=new St(e,s.metadataStream),s.headOfPipeline=s.aacStream,s.aacStream.pipe(s.audioTimestampRolloverStream).pipe(s.adtsStream),s.aacStream.pipe(s.timedMetadataTimestampRolloverStream).pipe(s.metadataStream).pipe(s.coalesceStream),s.metadataStream.on("timestamp",(function(e){s.aacStream.setTimestamp(e.timeStamp)})),s.aacStream.on("data",(function(o){"timed-metadata"!==o.type&&"audio"!==o.type||s.audioSegmentStream||(i=i||{timelineStartInfo:{baseMediaDecodeTime:n.baseMediaDecodeTime},codec:"adts",type:"audio"},s.coalesceStream.numberOfTracks++,s.audioSegmentStream=new wt(i,e),s.audioSegmentStream.on("log",n.getLogTrigger_("audioSegmentStream")),s.audioSegmentStream.on("timingInfo",n.trigger.bind(n,"audioTimingInfo")),s.adtsStream.pipe(s.audioSegmentStream).pipe(s.coalesceStream),n.trigger("trackinfo",{hasAudio:!!i,hasVideo:!!t}))})),s.coalesceStream.on("data",this.trigger.bind(this,"data")),s.coalesceStream.on("done",this.trigger.bind(this,"done")),Ft(this,s)},this.setupTsPipeline=function(){var s={};this.transmuxPipeline_=s,s.type="ts",s.metadataStream=new Mt.MetadataStream,s.packetStream=new Mt.TransportPacketStream,s.parseStream=new Mt.TransportParseStream,s.elementaryStream=new Mt.ElementaryStream,s.timestampRolloverStream=new Mt.TimestampRolloverStream,s.adtsStream=new Dt,s.h264Stream=new Pt,s.captionStream=new Mt.CaptionStream(e),s.coalesceStream=new St(e,s.metadataStream),s.headOfPipeline=s.packetStream,s.packetStream.pipe(s.parseStream).pipe(s.elementaryStream).pipe(s.timestampRolloverStream),s.timestampRolloverStream.pipe(s.h264Stream),s.timestampRolloverStream.pipe(s.adtsStream),s.timestampRolloverStream.pipe(s.metadataStream).pipe(s.coalesceStream),s.h264Stream.pipe(s.captionStream).pipe(s.coalesceStream),s.elementaryStream.on("data",(function(o){var r;if("metadata"===o.type){for(r=o.tracks.length;r--;)t||"video"!==o.tracks[r].type?i||"audio"!==o.tracks[r].type||((i=o.tracks[r]).timelineStartInfo.baseMediaDecodeTime=n.baseMediaDecodeTime):(t=o.tracks[r]).timelineStartInfo.baseMediaDecodeTime=n.baseMediaDecodeTime;t&&!s.videoSegmentStream&&(s.coalesceStream.numberOfTracks++,s.videoSegmentStream=new xt(t,e),s.videoSegmentStream.on("log",n.getLogTrigger_("videoSegmentStream")),s.videoSegmentStream.on("timelineStartInfo",(function(t){i&&!e.keepOriginalTimestamps&&(i.timelineStartInfo=t,s.audioSegmentStream.setEarliestDts(t.dts-n.baseMediaDecodeTime))})),s.videoSegmentStream.on("processedGopsInfo",n.trigger.bind(n,"gopInfo")),s.videoSegmentStream.on("segmentTimingInfo",n.trigger.bind(n,"videoSegmentTimingInfo")),s.videoSegmentStream.on("baseMediaDecodeTime",(function(e){i&&s.audioSegmentStream.setVideoBaseMediaDecodeTime(e)})),s.videoSegmentStream.on("timingInfo",n.trigger.bind(n,"videoTimingInfo")),s.h264Stream.pipe(s.videoSegmentStream).pipe(s.coalesceStream)),i&&!s.audioSegmentStream&&(s.coalesceStream.numberOfTracks++,s.audioSegmentStream=new wt(i,e),s.audioSegmentStream.on("log",n.getLogTrigger_("audioSegmentStream")),s.audioSegmentStream.on("timingInfo",n.trigger.bind(n,"audioTimingInfo")),s.audioSegmentStream.on("segmentTimingInfo",n.trigger.bind(n,"audioSegmentTimingInfo")),s.adtsStream.pipe(s.audioSegmentStream).pipe(s.coalesceStream)),n.trigger("trackinfo",{hasAudio:!!i,hasVideo:!!t})}})),s.coalesceStream.on("data",this.trigger.bind(this,"data")),s.coalesceStream.on("id3Frame",(function(e){e.dispatchType=s.metadataStream.dispatchType,n.trigger("id3Frame",e)})),s.coalesceStream.on("caption",this.trigger.bind(this,"caption")),s.coalesceStream.on("done",this.trigger.bind(this,"done")),Ft(this,s)},this.setBaseMediaDecodeTime=function(n){var s=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=n),i&&(i.timelineStartInfo.dts=void 0,i.timelineStartInfo.pts=void 0,It.clearDtsInfo(i),s.audioTimestampRolloverStream&&s.audioTimestampRolloverStream.discontinuity()),t&&(s.videoSegmentStream&&(s.videoSegmentStream.gopCache_=[]),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,It.clearDtsInfo(t),s.captionStream.reset()),s.timestampRolloverStream&&s.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){i&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(t){var i=this.transmuxPipeline_;e.remux=t,i&&i.coalesceStream&&i.coalesceStream.setRemux(t)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.getLogTrigger_=function(e){var t=this;return function(i){i.stream=e,t.trigger("log",i)}},this.push=function(e){if(s){var t=jt(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),s=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){s=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},kt.prototype=new Tt;var Vt,qt,$t,Wt,Gt={Transmuxer:kt,VideoSegmentStream:xt,AudioSegmentStream:wt,AUDIO_PROPERTIES:Rt,VIDEO_PROPERTIES:Nt,generateSegmentTimingInfo:Ht},Yt=function(e){return e>>>0},Xt=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),(t+=String.fromCharCode(e[2]))+String.fromCharCode(e[3])},Kt=Yt,Qt=Xt,Zt=function(e,t){var i,n,s,o,r,a=[];if(!t.length)return null;for(i=0;i<e.byteLength;)n=Kt(e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3]),s=Qt(e.subarray(i+4,i+8)),o=n>1?i+n:e.byteLength,s===t[0]&&(1===t.length?a.push(e.subarray(i+8,o)):(r=Zt(e.subarray(i+8,o),t.slice(1))).length&&(a=a.concat(r))),i=o;return a},Jt=Yt,ei=$.getUint64,ti=function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4))};return 1===t.version?t.baseMediaDecodeTime=ei(e.subarray(4)):t.baseMediaDecodeTime=Jt(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),t},ii=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},ni=function(e){var t,i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},n=new DataView(e.buffer,e.byteOffset,e.byteLength),s=1&i.flags[2],o=4&i.flags[2],r=1&i.flags[1],a=2&i.flags[1],l=4&i.flags[1],c=8&i.flags[1],d=n.getUint32(4),u=8;for(s&&(i.dataOffset=n.getInt32(u),u+=4),o&&d&&(t={flags:ii(e.subarray(u,u+4))},u+=4,r&&(t.duration=n.getUint32(u),u+=4),a&&(t.size=n.getUint32(u),u+=4),c&&(1===i.version?t.compositionTimeOffset=n.getInt32(u):t.compositionTimeOffset=n.getUint32(u),u+=4),i.samples.push(t),d--);d--;)t={},r&&(t.duration=n.getUint32(u),u+=4),a&&(t.size=n.getUint32(u),u+=4),l&&(t.flags=ii(e.subarray(u,u+4)),u+=4),c&&(1===i.version?t.compositionTimeOffset=n.getInt32(u):t.compositionTimeOffset=n.getUint32(u),u+=4),i.samples.push(t);return i},si=function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:i.getUint32(4)},s=1&n.flags[2],o=2&n.flags[2],r=8&n.flags[2],a=16&n.flags[2],l=32&n.flags[2],c=65536&n.flags[0],d=131072&n.flags[0];return t=8,s&&(t+=4,n.baseDataOffset=i.getUint32(12),t+=4),o&&(n.sampleDescriptionIndex=i.getUint32(t),t+=4),r&&(n.defaultSampleDuration=i.getUint32(t),t+=4),a&&(n.defaultSampleSize=i.getUint32(t),t+=4),l&&(n.defaultSampleFlags=i.getUint32(t)),c&&(n.durationIsEmpty=!0),!s&&d&&(n.baseDataOffsetIsMoof=!0),n},oi=(Vt="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},pe.discardEmulationPreventionBytes),ri=Ee.CaptionStream,ai=Zt,li=ti,ci=ni,di=si,ui=Vt,hi=function(e,t){for(var i=e,n=0;n<t.length;n++){var s=t[n];if(i<s.size)return s;i-=s.size}return null},pi=function(){var e,t,i,n,s,o,r=!1;this.isInitialized=function(){return r},this.init=function(t){e=new ri,r=!0,o=!!t&&t.isPartial,e.on("data",(function(e){e.startTime=e.startPts/n,e.endTime=e.endPts/n,s.captions.push(e),s.captionStreams[e.stream]=!0})),e.on("log",(function(e){s.logs.push(e)}))},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==typeof t&&0===Object.keys(t).length||i===e[0]&&n===t[i])},this.parse=function(e,o,r){var a;if(!this.isInitialized())return null;if(!o||!r)return null;if(this.isNewInit(o,r))i=o[0],n=r[i];else if(null===i||!n)return t.push(e),null;for(;t.length>0;){var l=t.shift();this.parse(l,o,r)}return a=function(e,t,i){if(null===t)return null;var n=function(e,t){var i=ai(e,["moof","traf"]),n=ai(e,["mdat"]),s={},o=[];return n.forEach((function(e,t){var n=i[t];o.push({mdat:e,traf:n})})),o.forEach((function(e){var i,n,o=e.mdat,r=e.traf,a=ai(r,["tfhd"]),l=di(a[0]),c=l.trackId,d=ai(r,["tfdt"]),u=d.length>0?li(d[0]).baseMediaDecodeTime:0,h=ai(r,["trun"]);t===c&&h.length>0&&(i=function(e,t,i){var n=t,s=i.defaultSampleDuration||0,o=i.defaultSampleSize||0,r=i.trackId,a=[];return e.forEach((function(e){var t=ci(e).samples;t.forEach((function(e){void 0===e.duration&&(e.duration=s),void 0===e.size&&(e.size=o),e.trackId=r,e.dts=n,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),"bigint"==typeof n?(e.pts=n+ui.BigInt(e.compositionTimeOffset),n+=ui.BigInt(e.duration)):(e.pts=n+e.compositionTimeOffset,n+=e.duration)})),a=a.concat(t)})),a}(h,u,l),n=function(e,t,i){var n,s,o,r,a=new DataView(e.buffer,e.byteOffset,e.byteLength),l={logs:[],seiNals:[]};for(s=0;s+4<e.length;s+=o)if(o=a.getUint32(s),s+=4,!(o<=0))switch(31&e[s]){case 6:var c=e.subarray(s+1,s+1+o),d=hi(s,t);if(n={nalUnitType:"sei_rbsp",size:o,data:c,escapedRBSP:oi(c),trackId:i},d)n.pts=d.pts,n.dts=d.dts,r=d;else{if(!r){l.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+s+" for trackId "+i+". See mux.js#223."});break}n.pts=r.pts,n.dts=r.dts}l.seiNals.push(n)}return l}(o,i,c),s[c]||(s[c]={seiNals:[],logs:[]}),s[c].seiNals=s[c].seiNals.concat(n.seiNals),s[c].logs=s[c].logs.concat(n.logs))})),s}(e,t)[t]||{};return{seiNals:n.seiNals,logs:n.logs,timescale:i}}(e,i,n),a&&a.logs&&(s.logs=s.logs.concat(a.logs)),null!==a&&a.seiNals?(this.pushNals(a.seiNals),this.flushStream(),s):s.logs.length?{logs:s.logs,captions:[],captionStreams:[]}:null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach((function(t){e.push(t)}))},this.flushStream=function(){if(!this.isInitialized())return null;o?e.partialFlush():e.flush()},this.clearParsedCaptions=function(){s.captions=[],s.captionStreams={},s.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],i=null,n=null,s?this.clearParsedCaptions():s={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},fi=function(e){for(var t=0,i=String.fromCharCode(e[t]),n="";"\0"!==i;)n+=i,t++,i=String.fromCharCode(e[t]);return n+i},mi=$.getUint64,gi=function(e){return void 0!==e||null!==e},vi={parseEmsgBox:function(e){var t,i,n,s,o,r,a,l=4,c=e[0];if(0===c)l+=(t=fi(e.subarray(l))).length,l+=(i=fi(e.subarray(l))).length,n=(d=new DataView(e.buffer)).getUint32(l),l+=4,o=d.getUint32(l),l+=4,r=d.getUint32(l),l+=4,a=d.getUint32(l),l+=4;else if(1===c){var d;n=(d=new DataView(e.buffer)).getUint32(l),l+=4,s=mi(e.subarray(l)),l+=8,r=d.getUint32(l),l+=4,a=d.getUint32(l),l+=4,l+=(t=fi(e.subarray(l))).length,l+=(i=fi(e.subarray(l))).length}var u={scheme_id_uri:t,value:i,timescale:n||1,presentation_time:s,presentation_time_delta:o,event_duration:r,id:a,message_data:new Uint8Array(e.subarray(l,e.byteLength))};return function(e,t){var i="\0"!==t.scheme_id_uri,n=0===e&&gi(t.presentation_time_delta)&&i,s=1===e&&gi(t.presentation_time)&&i;return!(e>1)&&n||s}(c,u)?u:void 0},scaleTime:function(e,t,i,n){return e||0===e?e/t:n+i/t}},yi=Yt,bi=function(e){return("00"+e.toString(16)).slice(-2)},_i=Zt,xi=Xt,wi=vi,ki=$.getUint64,Si=Vt,Ti=ze.parseId3Frames;qt=function(e,t){var i=_i(t,["moof","traf"]).reduce((function(t,i){var n,s=_i(i,["tfhd"])[0],o=yi(s[4]<<24|s[5]<<16|s[6]<<8|s[7]),r=e[o]||9e4,a=_i(i,["tfdt"])[0],l=new DataView(a.buffer,a.byteOffset,a.byteLength);let c;return"bigint"==typeof(n=1===a[0]?ki(a.subarray(4,12)):l.getUint32(4))?c=n/Si.BigInt(r):"number"!=typeof n||isNaN(n)||(c=n/r),c<Number.MAX_SAFE_INTEGER&&(c=Number(c)),c<t&&(t=c),t}),1/0);return"bigint"==typeof i||isFinite(i)?i:0},Wt=function(e){var t=0===e[0]?12:20;return yi(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])},$t=function(e){var t=_i(e,["moov","trak"]),i=[];return t.forEach((function(e){var t,n,s={},o=_i(e,["tkhd"])[0];o&&(n=(t=new DataView(o.buffer,o.byteOffset,o.byteLength)).getUint8(0),s.id=0===n?t.getUint32(12):t.getUint32(20));var r=_i(e,["mdia","hdlr"])[0];if(r){var a=xi(r.subarray(8,12));s.type="vide"===a?"video":"soun"===a?"audio":a}var l=_i(e,["mdia","minf","stbl","stsd"])[0];if(l){var c=l.subarray(8);s.codec=xi(c.subarray(4,8));var d,u=_i(c,[s.codec])[0];u&&(/^[asm]vc[1-9]$/i.test(s.codec)?(d=u.subarray(78),"avcC"===xi(d.subarray(4,8))&&d.length>11?(s.codec+=".",s.codec+=bi(d[9]),s.codec+=bi(d[10]),s.codec+=bi(d[11])):s.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(s.codec)?(d=u.subarray(28),"esds"===xi(d.subarray(4,8))&&d.length>20&&0!==d[19]?(s.codec+="."+bi(d[19]),s.codec+="."+bi(d[20]>>>2&63).replace(/^0/,"")):s.codec="mp4a.40.2"):s.codec=s.codec.toLowerCase())}var h=_i(e,["mdia","mdhd"])[0];h&&(s.timescale=Wt(h)),i.push(s)})),i};var Ci=qt,Ei=$t,Ai=function(e,t=0){return _i(e,["emsg"]).map((e=>{var i=wi.parseEmsgBox(new Uint8Array(e)),n=Ti(i.message_data);return{cueTime:wi.scaleTime(i.presentation_time,i.timescale,i.presentation_time_delta,t),duration:wi.scaleTime(i.event_duration,i.timescale),frames:n}}))},Ii=Ae,Mi=function(e){var t=31&e[1];return(t<<=8)|e[2]},Oi=function(e){return!!(64&e[1])},Di=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},Pi=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Li={parseType:function(e,t){var i=Mi(e);return 0===i?"pat":i===t?"pmt":t?"pes":null},parsePat:function(e){var t=Oi(e),i=4+Di(e);return t&&(i+=e[i]+1),(31&e[i+10])<<8|e[i+11]},parsePmt:function(e){var t={},i=Oi(e),n=4+Di(e);if(i&&(n+=e[n]+1),1&e[n+5]){var s;s=3+((15&e[n+1])<<8|e[n+2])-4;for(var o=12+((15&e[n+10])<<8|e[n+11]);o<s;){var r=n+o;t[(31&e[r+1])<<8|e[r+2]]=e[r],o+=5+((15&e[r+3])<<8|e[r+4])}return t}},parsePayloadUnitStartIndicator:Oi,parsePesType:function(e,t){switch(t[Mi(e)]){case Ii.H264_STREAM_TYPE:return"video";case Ii.ADTS_STREAM_TYPE:return"audio";case Ii.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!Oi(e))return null;var t=4+Di(e);if(t>=e.byteLength)return null;var i,n=null;return 192&(i=e[t+7])&&((n={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,n.pts*=4,n.pts+=(6&e[t+13])>>>1,n.dts=n.pts,64&i&&(n.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,n.dts*=4,n.dts+=(6&e[t+18])>>>1)),n},videoPacketContainsKeyFrame:function(e){for(var t=4+Di(e),i=e.subarray(t),n=0,s=0,o=!1;s<i.byteLength-3;s++)if(1===i[s+2]){n=s+5;break}for(;n<i.byteLength;)switch(i[n]){case 0:if(0!==i[n-1]){n+=2;break}if(0!==i[n-2]){n++;break}s+3!==n-2&&"slice_layer_without_partitioning_rbsp_idr"===Pi(31&i[s+3])&&(o=!0);do{n++}while(1!==i[n]&&n<i.length);s=n-2,n+=3;break;case 1:if(0!==i[n-1]||0!==i[n-2]){n+=3;break}"slice_layer_without_partitioning_rbsp_idr"===Pi(31&i[s+3])&&(o=!0),s=n-2,n+=3;break;default:n+=3}return i=i.subarray(s),n-=s,s=0,i&&i.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===Pi(31&i[s+3])&&(o=!0),o}},ji=Ae,Bi=Le.handleRollover,Ri={};Ri.ts=Li,Ri.aac=bt;var Ni=le.ONE_SECOND_IN_TS,Ui=188,Fi=71,zi=function(e,t,i){for(var n,s,o,r,a=0,l=Ui,c=!1;l<=e.byteLength;)if(e[a]!==Fi||e[l]!==Fi&&l!==e.byteLength)a++,l++;else{if(n=e.subarray(a,l),"pes"===Ri.ts.parseType(n,t.pid)&&(s=Ri.ts.parsePesType(n,t.table),o=Ri.ts.parsePayloadUnitStartIndicator(n),"audio"===s&&o&&(r=Ri.ts.parsePesTime(n))&&(r.type="audio",i.audio.push(r),c=!0)),c)break;a+=Ui,l+=Ui}for(a=(l=e.byteLength)-Ui,c=!1;a>=0;)if(e[a]!==Fi||e[l]!==Fi&&l!==e.byteLength)a--,l--;else{if(n=e.subarray(a,l),"pes"===Ri.ts.parseType(n,t.pid)&&(s=Ri.ts.parsePesType(n,t.table),o=Ri.ts.parsePayloadUnitStartIndicator(n),"audio"===s&&o&&(r=Ri.ts.parsePesTime(n))&&(r.type="audio",i.audio.push(r),c=!0)),c)break;a-=Ui,l-=Ui}},Hi=function(e,t,i){for(var n,s,o,r,a,l,c,d=0,u=Ui,h=!1,p={data:[],size:0};u<e.byteLength;)if(e[d]!==Fi||e[u]!==Fi)d++,u++;else{if(n=e.subarray(d,u),"pes"===Ri.ts.parseType(n,t.pid)&&(s=Ri.ts.parsePesType(n,t.table),o=Ri.ts.parsePayloadUnitStartIndicator(n),"video"===s&&(o&&!h&&(r=Ri.ts.parsePesTime(n))&&(r.type="video",i.video.push(r),h=!0),!i.firstKeyFrame))){if(o&&0!==p.size){for(a=new Uint8Array(p.size),l=0;p.data.length;)c=p.data.shift(),a.set(c,l),l+=c.byteLength;if(Ri.ts.videoPacketContainsKeyFrame(a)){var f=Ri.ts.parsePesTime(a);f?(i.firstKeyFrame=f,i.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}p.size=0}p.data.push(n),p.size+=n.byteLength}if(h&&i.firstKeyFrame)break;d+=Ui,u+=Ui}for(d=(u=e.byteLength)-Ui,h=!1;d>=0;)if(e[d]!==Fi||e[u]!==Fi)d--,u--;else{if(n=e.subarray(d,u),"pes"===Ri.ts.parseType(n,t.pid)&&(s=Ri.ts.parsePesType(n,t.table),o=Ri.ts.parsePayloadUnitStartIndicator(n),"video"===s&&o&&(r=Ri.ts.parsePesTime(n))&&(r.type="video",i.video.push(r),h=!0)),h)break;d-=Ui,u-=Ui}},Vi=function(e,t){var i;return i=Ri.aac.isLikelyAacData(e)?function(e){for(var t,i=!1,n=0,s=null,o=null,r=0,a=0;e.length-a>=3;){switch(Ri.aac.parseType(e,a)){case"timed-metadata":if(e.length-a<10){i=!0;break}if((r=Ri.aac.parseId3TagSize(e,a))>e.length){i=!0;break}null===o&&(t=e.subarray(a,a+r),o=Ri.aac.parseAacTimestamp(t)),a+=r;break;case"audio":if(e.length-a<7){i=!0;break}if((r=Ri.aac.parseAdtsSize(e,a))>e.length){i=!0;break}null===s&&(t=e.subarray(a,a+r),s=Ri.aac.parseSampleRate(t)),n++,a+=r;break;default:a++}if(i)return null}if(null===s||null===o)return null;var l=Ni/s;return{audio:[{type:"audio",dts:o,pts:o},{type:"audio",dts:o+1024*n*l,pts:o+1024*n*l}]}}(e):function(e){var t={pid:null,table:null},i={};for(var n in function(e,t){for(var i,n=0,s=Ui;s<e.byteLength;)if(e[n]!==Fi||e[s]!==Fi)n++,s++;else{switch(i=e.subarray(n,s),Ri.ts.parseType(i,t.pid)){case"pat":t.pid=Ri.ts.parsePat(i);break;case"pmt":var o=Ri.ts.parsePmt(i);t.table=t.table||{},Object.keys(o).forEach((function(e){t.table[e]=o[e]}))}n+=Ui,s+=Ui}}(e,t),t.table)if(t.table.hasOwnProperty(n))switch(t.table[n]){case ji.H264_STREAM_TYPE:i.video=[],Hi(e,t,i),0===i.video.length&&delete i.video;break;case ji.ADTS_STREAM_TYPE:i.audio=[],zi(e,t,i),0===i.audio.length&&delete i.audio}return i}(e),i&&(i.audio||i.video)?(function(e,t){if(e.audio&&e.audio.length){var i=t;(void 0===i||isNaN(i))&&(i=e.audio[0].dts),e.audio.forEach((function(e){e.dts=Bi(e.dts,i),e.pts=Bi(e.pts,i),e.dtsTime=e.dts/Ni,e.ptsTime=e.pts/Ni}))}if(e.video&&e.video.length){var n=t;if((void 0===n||isNaN(n))&&(n=e.video[0].dts),e.video.forEach((function(e){e.dts=Bi(e.dts,n),e.pts=Bi(e.pts,n),e.dtsTime=e.dts/Ni,e.ptsTime=e.pts/Ni})),e.firstKeyFrame){var s=e.firstKeyFrame;s.dts=Bi(s.dts,n),s.pts=Bi(s.pts,n),s.dtsTime=s.dts/Ni,s.ptsTime=s.pts/Ni}}}(i,t),i):null};class qi{constructor(e,t){this.options=t||{},this.self=e,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Gt.Transmuxer(this.options),function(e,t){t.on("data",(function(t){const i=t.initSegment;t.initSegment={data:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength};const n=t.data;t.data=n.buffer,e.postMessage({action:"data",segment:t,byteOffset:n.byteOffset,byteLength:n.byteLength},[t.data])})),t.on("done",(function(t){e.postMessage({action:"done"})})),t.on("gopInfo",(function(t){e.postMessage({action:"gopInfo",gopInfo:t})})),t.on("videoSegmentTimingInfo",(function(t){const i={start:{decode:le.videoTsToSeconds(t.start.dts),presentation:le.videoTsToSeconds(t.start.pts)},end:{decode:le.videoTsToSeconds(t.end.dts),presentation:le.videoTsToSeconds(t.end.pts)},baseMediaDecodeTime:le.videoTsToSeconds(t.baseMediaDecodeTime)};t.prependedContentDuration&&(i.prependedContentDuration=le.videoTsToSeconds(t.prependedContentDuration)),e.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:i})})),t.on("audioSegmentTimingInfo",(function(t){const i={start:{decode:le.videoTsToSeconds(t.start.dts),presentation:le.videoTsToSeconds(t.start.pts)},end:{decode:le.videoTsToSeconds(t.end.dts),presentation:le.videoTsToSeconds(t.end.pts)},baseMediaDecodeTime:le.videoTsToSeconds(t.baseMediaDecodeTime)};t.prependedContentDuration&&(i.prependedContentDuration=le.videoTsToSeconds(t.prependedContentDuration)),e.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:i})})),t.on("id3Frame",(function(t){e.postMessage({action:"id3Frame",id3Frame:t})})),t.on("caption",(function(t){e.postMessage({action:"caption",caption:t})})),t.on("trackinfo",(function(t){e.postMessage({action:"trackinfo",trackInfo:t})})),t.on("audioTimingInfo",(function(t){e.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:le.videoTsToSeconds(t.start),end:le.videoTsToSeconds(t.end)}})})),t.on("videoTimingInfo",(function(t){e.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:le.videoTsToSeconds(t.start),end:le.videoTsToSeconds(t.end)}})})),t.on("log",(function(t){e.postMessage({action:"log",log:t})}))}(this.self,this.transmuxer)}pushMp4Captions(e){this.captionParser||(this.captionParser=new pi,this.captionParser.init());const t=new Uint8Array(e.data,e.byteOffset,e.byteLength),i=this.captionParser.parse(t,e.trackIds,e.timescales);this.self.postMessage({action:"mp4Captions",captions:i&&i.captions||[],logs:i&&i.logs||[],data:t.buffer},[t.buffer])}probeMp4StartTime({timescales:e,data:t}){const i=Ci(e,t);this.self.postMessage({action:"probeMp4StartTime",startTime:i,data:t},[t.buffer])}probeMp4Tracks({data:e}){const t=Ei(e);this.self.postMessage({action:"probeMp4Tracks",tracks:t,data:e},[e.buffer])}probeEmsgID3({data:e,offset:t}){const i=Ai(e,t);this.self.postMessage({action:"probeEmsgID3",id3Frames:i,emsgData:e},[e.buffer])}probeTs({data:e,baseStartTime:t}){const i="number"!=typeof t||isNaN(t)?void 0:t*le.ONE_SECOND_IN_TS,n=Vi(e,i);let s=null;n&&(s={hasVideo:n.video&&2===n.video.length||!1,hasAudio:n.audio&&2===n.audio.length||!1},s.hasVideo&&(s.videoStart=n.video[0].ptsTime),s.hasAudio&&(s.audioStart=n.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:s,data:e},[e.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(e){const t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}reset(){this.transmuxer.reset()}setTimestampOffset(e){const t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(le.secondsToVideoTs(t)))}setAudioAppendStart(e){this.transmuxer.setAudioAppendStart(Math.ceil(le.secondsToVideoTs(e.appendStart)))}setRemux(e){this.transmuxer.setRemux(e.remux)}flush(e){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())}}self.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new qi(self,e.data.options):(this.messageHandlers||(this.messageHandlers=new qi(self)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}})));var Fg=Bg(Ug);const zg=e=>{const{transmuxer:t,bytes:i,audioAppendStart:n,gopsToAlignWith:s,remux:o,onData:r,onTrackInfo:a,onAudioTimingInfo:l,onVideoTimingInfo:c,onVideoSegmentTimingInfo:d,onAudioSegmentTimingInfo:u,onId3:h,onCaptions:p,onDone:f,onEndedTimeline:m,onTransmuxerLog:g,isEndOfTimeline:v}=e,y={buffer:[]};let b=v;if(t.onmessage=i=>{t.currentTransmux===e&&("data"===i.data.action&&((e,t,i)=>{const{type:n,initSegment:s,captions:o,captionStreams:r,metadata:a,videoFrameDtsTime:l,videoFramePtsTime:c}=e.data.segment;t.buffer.push({captions:o,captionStreams:r,metadata:a});const d=e.data.segment.boxes||{data:e.data.segment.data},u={type:n,data:new Uint8Array(d.data,d.data.byteOffset,d.data.byteLength),initSegment:new Uint8Array(s.data,s.byteOffset,s.byteLength)};void 0!==l&&(u.videoFrameDtsTime=l),void 0!==c&&(u.videoFramePtsTime=c),i(u)})(i,y,r),"trackinfo"===i.data.action&&a(i.data.trackInfo),"gopInfo"===i.data.action&&((e,t)=>{t.gopInfo=e.data.gopInfo})(i,y),"audioTimingInfo"===i.data.action&&l(i.data.audioTimingInfo),"videoTimingInfo"===i.data.action&&c(i.data.videoTimingInfo),"videoSegmentTimingInfo"===i.data.action&&d(i.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===i.data.action&&u(i.data.audioSegmentTimingInfo),"id3Frame"===i.data.action&&h([i.data.id3Frame],i.data.id3Frame.dispatchType),"caption"===i.data.action&&p(i.data.caption),"endedtimeline"===i.data.action&&(b=!1,m()),"log"===i.data.action&&g(i.data.log),"transmuxed"===i.data.type&&(b||(t.onmessage=null,(({transmuxedData:e,callback:t})=>{e.buffer=[],t(e)})({transmuxedData:y,callback:f}),Hg(t))))},n&&t.postMessage({action:"setAudioAppendStart",appendStart:n}),Array.isArray(s)&&t.postMessage({action:"alignGopsWith",gopsToAlignWith:s}),void 0!==o&&t.postMessage({action:"setRemux",remux:o}),i.byteLength){const e=i instanceof ArrayBuffer?i:i.buffer,n=i instanceof ArrayBuffer?0:i.byteOffset;t.postMessage({action:"push",data:e,byteOffset:n,byteLength:i.byteLength},[e])}v&&t.postMessage({action:"endTimeline"}),t.postMessage({action:"flush"})},Hg=e=>{e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),"function"==typeof e.currentTransmux?e.currentTransmux():zg(e.currentTransmux))},Vg=(e,t)=>{e.postMessage({action:t}),Hg(e)};var qg=e=>{((e,t)=>{if(!t.currentTransmux)return t.currentTransmux=e,void Vg(t,e);t.transmuxQueue.push(Vg.bind(null,t,e))})("reset",e)};const $g=function(e){const t=e.transmuxer,i=e.endAction||e.action,n=e.callback,s=_l({},e,{endAction:null,transmuxer:null,callback:null}),o=s=>{s.data.action===i&&(t.removeEventListener("message",o),s.data.data&&(s.data.data=new Uint8Array(s.data.data,e.byteOffset||0,e.byteLength||s.data.data.byteLength),e.data&&(e.data=s.data.data)),n(s.data))};if(t.addEventListener("message",o),e.data){const i=e.data instanceof ArrayBuffer;s.byteOffset=i?0:e.data.byteOffset,s.byteLength=e.data.byteLength;const n=[i?e.data:e.data.buffer];t.postMessage(s,n)}else t.postMessage(s)},Wg=-101,Gg=-102,Yg=e=>{e.forEach((e=>{e.abort()}))},Xg=(e,t)=>t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:Wg,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:Gg,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:2,xhr:t}:"arraybuffer"===t.responseType&&0===t.response.byteLength?{status:t.status,message:"Empty HLS response at URL: "+t.uri,code:2,xhr:t}:null,Kg=(e,t,i)=>(n,s)=>{const o=s.response,r=Xg(n,s);if(r)return i(r,e);if(16!==o.byteLength)return i({status:s.status,message:"Invalid HLS key at URL: "+s.uri,code:2,xhr:s},e);const a=new DataView(o),l=new Uint32Array([a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12)]);for(let e=0;e<t.length;e++)t[e].bytes=l;return i(null,e)},Qg=(e,t)=>{const i=fd(e.map.bytes);if("mp4"!==i){const n=e.map.resolvedUri||e.map.uri;return t({internal:!0,message:`Found unsupported ${i||"unknown"} container for initialization segment at URL: ${n}`,code:2})}$g({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:({tracks:i,data:n})=>(e.map.bytes=n,i.forEach((function(t){e.map.tracks=e.map.tracks||{},e.map.tracks[t.type]||(e.map.tracks[t.type]=t,"number"==typeof t.id&&t.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[t.id]=t.timescale))})),t(null))})},Zg=({segment:e,bytes:t,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:r,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:d,doneFn:u,onTransmuxerLog:h})=>{const p=e.map&&e.map.tracks||{},f=Boolean(p.audio&&p.video);let m=n.bind(null,e,"audio","start");const g=n.bind(null,e,"audio","end");let v=n.bind(null,e,"video","start");const y=n.bind(null,e,"video","end");$g({action:"probeTs",transmuxer:e.transmuxer,data:t,baseStartTime:e.baseStartTime,callback:n=>{e.bytes=t=n.data;const p=n.result;p&&(i(e,{hasAudio:p.hasAudio,hasVideo:p.hasVideo,isMuxed:f}),i=null,p.hasAudio&&!f&&m(p.audioStart),p.hasVideo&&v(p.videoStart),m=null,v=null),(e=>{if(!e.transmuxer.currentTransmux)return e.transmuxer.currentTransmux=e,void zg(e);e.transmuxer.transmuxQueue.push(e)})({bytes:t,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,remux:f,onData:t=>{t.type="combined"===t.type?"video":t.type,d(e,t)},onTrackInfo:t=>{i&&(f&&(t.isMuxed=!0),i(e,t))},onAudioTimingInfo:e=>{m&&void 0!==e.start&&(m(e.start),m=null),g&&void 0!==e.end&&g(e.end)},onVideoTimingInfo:e=>{v&&void 0!==e.start&&(v(e.start),v=null),y&&void 0!==e.end&&y(e.end)},onVideoSegmentTimingInfo:e=>{s(e)},onAudioSegmentTimingInfo:e=>{o(e)},onId3:(t,i)=>{r(e,t,i)},onCaptions:t=>{a(e,[t])},isEndOfTimeline:l,onEndedTimeline:()=>{c()},onTransmuxerLog:h,onDone:t=>{u&&(t.type="combined"===t.type?"video":t.type,u(null,e,t))}})}})},Jg=({segment:e,bytes:t,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:r,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:d,doneFn:u,onTransmuxerLog:h})=>{let p=new Uint8Array(t);if(function(e){return Zc(e,["moof"]).length>0}(p)){e.isFmp4=!0;const{tracks:s}=e.map,o={isFmp4:!0,hasVideo:!!s.video,hasAudio:!!s.audio};s.audio&&s.audio.codec&&"enca"!==s.audio.codec&&(o.audioCodec=s.audio.codec),s.video&&s.video.codec&&"encv"!==s.video.codec&&(o.videoCodec=s.video.codec),s.video&&s.audio&&(o.isMuxed=!0),i(e,o);const l=(t,i)=>{d(e,{data:p,type:o.hasAudio&&!o.isMuxed?"audio":"video"}),i&&i.length&&r(e,i),t&&t.length&&a(e,t),u(null,e,{})};$g({action:"probeMp4StartTime",timescales:e.map.timescales,data:p,transmuxer:e.transmuxer,callback:({data:i,startTime:r})=>{t=i.buffer,e.bytes=p=i,o.hasAudio&&!o.isMuxed&&n(e,"audio","start",r),o.hasVideo&&n(e,"video","start",r),$g({action:"probeEmsgID3",data:p,transmuxer:e.transmuxer,offset:r,callback:({emsgData:n,id3Frames:o})=>{t=n.buffer,e.bytes=p=n,s.video&&i.byteLength&&e.transmuxer?$g({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:e.transmuxer,data:p,timescales:e.map.timescales,trackIds:[s.video.id],callback:i=>{t=i.data.buffer,e.bytes=p=i.data,i.logs.forEach((function(e){h(Sm(e,{stream:"mp4CaptionParser"}))})),l(i.captions,o)}}):l(void 0,o)}})}})}else if(e.transmuxer){if(void 0===e.container&&(e.container=fd(p)),"ts"!==e.container&&"aac"!==e.container)return i(e,{hasAudio:!1,hasVideo:!1}),void u(null,e,{});Zg({segment:e,bytes:t,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:r,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:d,doneFn:u,onTransmuxerLog:h})}else u(null,e,{})},ev=function({id:e,key:t,encryptedBytes:i,decryptionWorker:n},s){const o=t=>{if(t.data.source===e){n.removeEventListener("message",o);const e=t.data.decrypted;s(new Uint8Array(e.bytes,e.byteOffset,e.byteLength))}};let r;n.addEventListener("message",o),r=t.bytes.slice?t.bytes.slice():new Uint32Array(Array.prototype.slice.call(t.bytes)),n.postMessage(xg({source:e,encrypted:i,key:r,iv:t.iv}),[i.buffer,r.buffer])},tv=({xhr:e,xhrOptions:t,decryptionWorker:i,segment:n,abortFn:s,progressFn:o,trackInfoFn:r,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:c,id3Fn:d,captionsFn:u,isEndOfTimeline:h,endedTimelineFn:p,dataFn:f,doneFn:m,onTransmuxerLog:g})=>{const v=[],y=(({activeXhrs:e,decryptionWorker:t,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:r,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:d,doneFn:u,onTransmuxerLog:h})=>{let p=0,f=!1;return(m,g)=>{if(!f){if(m)return f=!0,Yg(e),u(m,g);if(p+=1,p===e.length){const p=function(){if(g.encryptedBytes)return(({decryptionWorker:e,segment:t,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:r,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:d,doneFn:u,onTransmuxerLog:h})=>{ev({id:t.requestId,key:t.key,encryptedBytes:t.encryptedBytes,decryptionWorker:e},(e=>{t.bytes=e,Jg({segment:t,bytes:t.bytes,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:r,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:d,doneFn:u,onTransmuxerLog:h})}))})({decryptionWorker:t,segment:g,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:r,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:d,doneFn:u,onTransmuxerLog:h});Jg({segment:g,bytes:g.bytes,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:r,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:d,doneFn:u,onTransmuxerLog:h})};if(g.endOfAllRequests=Date.now(),g.map&&g.map.encryptedBytes&&!g.map.bytes)return ev({decryptionWorker:t,id:g.requestId+"-init",encryptedBytes:g.map.encryptedBytes,key:g.map.key},(t=>{g.map.bytes=t,Qg(g,(t=>{if(t)return Yg(e),u(t,g);p()}))}));p()}}}})({activeXhrs:v,decryptionWorker:i,trackInfoFn:r,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:c,id3Fn:d,captionsFn:u,isEndOfTimeline:h,endedTimelineFn:p,dataFn:f,doneFn:m,onTransmuxerLog:g});if(n.key&&!n.key.bytes){const i=[n.key];n.map&&!n.map.bytes&&n.map.key&&n.map.key.resolvedUri===n.key.resolvedUri&&i.push(n.map.key);const s=e(Sm(t,{uri:n.key.resolvedUri,responseType:"arraybuffer"}),Kg(n,i,y));v.push(s)}if(n.map&&!n.map.bytes){if(n.map.key&&(!n.key||n.key.resolvedUri!==n.map.key.resolvedUri)){const i=e(Sm(t,{uri:n.map.key.resolvedUri,responseType:"arraybuffer"}),Kg(n,[n.map.key],y));v.push(i)}const i=Sm(t,{uri:n.map.resolvedUri,responseType:"arraybuffer",headers:vg(n.map)}),s=(({segment:e,finishProcessingFn:t})=>(i,n)=>{const s=Xg(i,n);if(s)return t(s,e);const o=new Uint8Array(n.response);if(e.map.key)return e.map.encryptedBytes=o,t(null,e);e.map.bytes=o,Qg(e,(function(i){if(i)return i.xhr=n,i.status=n.status,t(i,e);t(null,e)}))})({segment:n,finishProcessingFn:y}),o=e(i,s);v.push(o)}const b=Sm(t,{uri:n.part&&n.part.resolvedUri||n.resolvedUri,responseType:"arraybuffer",headers:vg(n)}),_=e(b,(({segment:e,finishProcessingFn:t,responseType:i})=>(n,s)=>{const o=Xg(n,s);if(o)return t(o,e);const r="arraybuffer"!==i&&s.responseText?(e=>{const t=new Uint8Array(new ArrayBuffer(e.length));for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t.buffer})(s.responseText.substring(e.lastReachedChar||0)):s.response;return e.stats=(e=>({bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}))(s),e.key?e.encryptedBytes=new Uint8Array(r):e.bytes=new Uint8Array(r),t(null,e)})({segment:n,finishProcessingFn:y,responseType:b.responseType}));_.addEventListener("progress",(({segment:e,progressFn:t,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:o,id3Fn:r,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:c,dataFn:d})=>i=>{if(!i.target.aborted)return e.stats=Sm(e.stats,(e=>{const t=e.target,i={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-t.requestTime||0};return i.bytesReceived=e.loaded,i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3),i})(i)),!e.stats.firstBytesReceivedAt&&e.stats.bytesReceived&&(e.stats.firstBytesReceivedAt=Date.now()),t(i,e)})({segment:n,progressFn:o,trackInfoFn:r,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:c,id3Fn:d,captionsFn:u,isEndOfTimeline:h,endedTimelineFn:p,dataFn:f})),v.push(_);const x={};return v.forEach((e=>{e.addEventListener("loadend",(({loadendState:e,abortFn:t})=>i=>{i.target.aborted&&t&&!e.calledAbortFn&&(t(),e.calledAbortFn=!0)})({loadendState:x,abortFn:s}))})),()=>Yg(v)},iv=km("CodecUtils"),nv=(e,t)=>{const i=t.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&i.AUDIO&&e.mediaGroups.AUDIO[i.AUDIO]},sv=function(e){const t={};return e.forEach((({mediaType:e,type:i,details:n})=>{t[e]=t[e]||[],t[e].push(Bl(`${i}${n}`))})),Object.keys(t).forEach((function(e){if(t[e].length>1)return iv(`multiple ${e} codecs found as attributes: ${t[e].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),void(t[e]=null);t[e]=t[e][0]})),t},ov=function(e){let t=0;return e.audio&&t++,e.video&&t++,t},rv=function(e,t){const i=t.attributes||{},n=sv(function(e){const t=e.attributes||{};if(t.CODECS)return Rl(t.CODECS)}(t)||[]);if(nv(e,t)&&!n.audio&&!((e,t)=>{if(!nv(e,t))return!0;const i=t.attributes||{},n=e.mediaGroups.AUDIO[i.AUDIO];for(const e in n)if(!n[e].uri&&!n[e].playlists)return!0;return!1})(e,t)){const t=sv(function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var i=e.mediaGroups.AUDIO[t];if(!i)return null;for(var n in i){var s=i[n];if(s.default&&s.playlists)return Rl(s.playlists[0].attributes.CODECS)}return null}(e,i.AUDIO)||[]);t.audio&&(n.audio=t.audio)}return n},av=km("PlaylistSelector"),lv=function(e){if(!e||!e.playlist)return;const t=e.playlist;return JSON.stringify({id:t.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:t.attributes&&t.attributes.CODECS||""})},cv=function(e,t){if(!e)return"";const i=al().getComputedStyle(e);return i?i[t]:""},dv=function(e,t){const i=e.slice();e.sort((function(e,n){const s=t(e,n);return 0===s?i.indexOf(e)-i.indexOf(n):s}))},uv=function(e,t){let i,n;return e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||al().Number.MAX_VALUE,t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),n=n||al().Number.MAX_VALUE,i-n};let hv=function(e,t,i,n,s,o){if(!e)return;const r={bandwidth:t,width:i,height:n,limitRenditionByPlayerDimensions:s};let a=e.playlists;Zm.isAudioOnly(e)&&(a=o.getAudioTrackPlaylists_(),r.audioOnly=!0);let l=a.map((e=>{let t;const i=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,n=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height;return t=e.attributes&&e.attributes.BANDWIDTH,t=t||al().Number.MAX_VALUE,{bandwidth:t,width:i,height:n,playlist:e}}));dv(l,((e,t)=>e.bandwidth-t.bandwidth)),l=l.filter((e=>!Zm.isIncompatible(e.playlist)));let c=l.filter((e=>Zm.isEnabled(e.playlist)));c.length||(c=l.filter((e=>!Zm.isDisabled(e.playlist))));const d=c.filter((e=>e.bandwidth*Lg.BANDWIDTH_VARIANCE<t));let u=d[d.length-1];const h=d.filter((e=>e.bandwidth===u.bandwidth))[0];if(!1===s){const e=h||c[0]||l[0];if(e&&e.playlist){let t="sortedPlaylistReps";return h&&(t="bandwidthBestRep"),c[0]&&(t="enabledPlaylistReps"),av(`choosing ${lv(e)} using ${t} with options`,r),e.playlist}return av("could not choose a playlist with options",r),null}const p=d.filter((e=>e.width&&e.height));dv(p,((e,t)=>e.width-t.width));const f=p.filter((e=>e.width===i&&e.height===n));u=f[f.length-1];const m=f.filter((e=>e.bandwidth===u.bandwidth))[0];let g,v,y,b;if(m||(g=p.filter((e=>e.width>i||e.height>n)),v=g.filter((e=>e.width===g[0].width&&e.height===g[0].height)),u=v[v.length-1],y=v.filter((e=>e.bandwidth===u.bandwidth))[0]),o.leastPixelDiffSelector){const e=p.map((e=>(e.pixelDiff=Math.abs(e.width-i)+Math.abs(e.height-n),e)));dv(e,((e,t)=>e.pixelDiff===t.pixelDiff?t.bandwidth-e.bandwidth:e.pixelDiff-t.pixelDiff)),b=e[0]}const _=b||y||m||h||c[0]||l[0];if(_&&_.playlist){let e="sortedPlaylistReps";return b?e="leastPixelDiffRep":y?e="resolutionPlusOneRep":m?e="resolutionBestRep":h?e="bandwidthBestRep":c[0]&&(e="enabledPlaylistReps"),av(`choosing ${lv(_)} using ${e} with options`,r),_.playlist}return av("could not choose a playlist with options",r),null};const pv=function(){const e=this.useDevicePixelRatio&&al().devicePixelRatio||1;return hv(this.playlists.main,this.systemBandwidth,parseInt(cv(this.tech_.el(),"width"),10)*e,parseInt(cv(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.playlistController_)},fv={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},mv=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),gv=(e,t,i)=>{e.metadataTrack_||(e.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,gm.browser.IS_ANY_SAFARI||(e.metadataTrack_.inBandMetadataTrackDispatchType=t))},vv=function(e,t,i){let n,s;if(i&&i.cues)for(n=i.cues.length;n--;)s=i.cues[n],s.startTime>=e&&s.endTime<=t&&i.removeCue(s)},yv=e=>"number"==typeof e&&isFinite(e),bv=1/60,_v=e=>{const{startOfSegment:t,duration:i,segment:n,part:s,playlist:{mediaSequence:o,id:r,segments:a=[]},mediaIndex:l,partIndex:c,timeline:d}=e,u=a.length-1;let h="mediaIndex/partIndex increment";e.getMediaInfoForTime?h=`getMediaInfoForTime (${e.getMediaInfoForTime})`:e.isSyncRequest&&(h="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(h+=` with independent ${e.independent}`);const p="number"==typeof c,f=e.segment.uri?"segment":"pre-segment",m=p?Nm({preloadSegment:n})-1:0;return`${f} [${o+l}/${o+u}]`+(p?` part [${c}/${m}]`:"")+` segment start/end [${n.start} => ${n.end}]`+(p?` part start/end [${s.start} => ${s.end}]`:"")+` startOfSegment [${t}]`+` duration [${i}]`+` timeline [${d}]`+` selected by [${h}]`+` playlist [${r}]`},xv=e=>`${e}TimingInfo`,wv=({timelineChangeController:e,currentTimeline:t,segmentTimeline:i,loaderType:n,audioDisabled:s})=>{if(t===i)return!1;if("audio"===n){const t=e.lastTimelineChange({type:"main"});return!t||t.to!==i}if("main"===n&&s){const t=e.pendingTimelineChange({type:"audio"});return!t||t.to!==i}return!1},kv=({segmentDuration:e,maxDuration:t})=>!!e&&Math.round(e)>t+Cm;class Sv extends gm.EventTarget{constructor(e,t={}){if(super(),!e)throw new TypeError("Initialization settings are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",(()=>{this.isEndOfStream_()||(this.ended_=!1)})),this.fetchAtBuffer_=!1,this.replaceSegmentsUntil_=-1,this.logger_=km(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(e){e!==this.state_&&(this.logger_(`${this.state_} -> ${e}`),this.state_=e,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",(()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()})),"main"===this.loaderType_&&this.timelineChangeController_.on("pendingtimelinechange",(()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()})),"audio"===this.loaderType_&&this.timelineChangeController_.on("timelinechange",(()=>{this.hasEnoughInfoToLoad_()&&this.processLoadQueue_(),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}))}createTransmuxer_(){return(e=>{const t=new Fg;t.currentTransmux=null,t.transmuxQueue=[];const i=t.terminate;return t.terminate=()=>(t.currentTransmux=null,t.transmuxQueue.length=0,i.call(t)),t.postMessage({action:"init",options:e}),t})({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&al().clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,al().clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==e:(this.state="READY",!0)}error(e){return void 0!==e&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&qg(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return Tm();if("main"===this.loaderType_){const{hasAudio:t,hasVideo:i,isMuxed:n}=e;if(i&&t&&!this.audioDisabled_&&!n)return this.sourceUpdater_.buffered();if(i)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,t=!1){if(!e)return null;const i=wg(e);let n=this.initSegments_[i];return t&&!n&&e.bytes&&(this.initSegments_[i]=n={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),n||e}segmentKey(e,t=!1){if(!e)return null;const i=kg(e);let n=this.keyCache_[i];this.cacheEncryptionKeys_&&t&&!n&&e.bytes&&(this.keyCache_[i]=n={resolvedUri:e.resolvedUri,bytes:e.bytes});const s={resolvedUri:(n||e).resolvedUri};return n&&(s.bytes=n.bytes),s}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),this.playlist_)return"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY"))}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,t={}){if(!e)return;const i=this.playlist_,n=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,"INIT"===this.state&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},"main"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(e));let s=null;if(i&&(i.id?s=i.id:i.uri&&(s=i.uri)),this.logger_(`playlist update [${s} => ${e.id||e.uri}]`),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!i||i.uri!==e.uri)return null!==this.mediaIndex&&(e.endList||"number"!=typeof e.partTargetDuration?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");const o=e.mediaSequence-i.mediaSequence;if(this.logger_(`live window shift [${o}]`),null!==this.mediaIndex)if(this.mediaIndex-=o,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const e=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!e.parts||!e.parts.length||!e.parts[this.partIndex])){const e=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=e}}n&&(n.mediaIndex-=o,n.mediaIndex<0?(n.mediaIndex=null,n.partIndex=null):(n.mediaIndex>=0&&(n.segment=e.segments[n.mediaIndex]),n.partIndex>=0&&n.segment.parts&&(n.part=n.segment.parts[n.partIndex]))),this.syncController_.saveExpiredSegmentInfo(i,e)}pause(){this.checkBufferTimeout_&&(al().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return null===this.checkBufferTimeout_}resetLoaderProperties(){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0}}resetEverything(e){this.resetLoaderProperties(),this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.resyncLoader()}resyncLoader(){this.transmuxer_&&qg(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,t,i=(()=>{}),n=!1){if(t===1/0&&(t=this.duration_()),t<=e)return void this.logger_("skipping remove because end ${end} is <= start ${start}");if(!this.sourceUpdater_||!this.getMediaInfo_())return void this.logger_("skipping remove because no source updater or starting media info");let s=1;const o=()=>{s--,0===s&&i()};!n&&this.audioDisabled_||(s++,this.sourceUpdater_.removeAudio(e,t,o)),(n||"main"===this.loaderType_)&&(this.gopBuffer_=((e,t,i,n)=>{const s=Math.ceil((t-n)*md.ONE_SECOND_IN_TS),o=Math.ceil((i-n)*md.ONE_SECOND_IN_TS),r=e.slice();let a=e.length;for(;a--&&!(e[a].pts<=o););if(-1===a)return r;let l=a+1;for(;l--&&!(e[l].pts<=s););return l=Math.max(l,0),r.splice(l,a-l+1),r})(this.gopBuffer_,e,t,this.timeMapping_),s++,this.sourceUpdater_.removeVideo(e,t,o));for(const i in this.inbandTextTracks_)vv(e,t,this.inbandTextTracks_[i]);vv(e,t,this.segmentMetadataTrack_),o()}monitorBuffer_(){this.checkBufferTimeout_&&al().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=al().setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&al().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=al().setTimeout(this.monitorBufferTick_.bind(this),500)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();e&&("number"==typeof e.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e))}isEndOfStream_(e=this.mediaIndex,t=this.playlist_,i=this.partIndex){if(!t||!this.mediaSource_)return!1;const n="number"==typeof e&&t.segments[e],s=e+1===t.segments.length,o=!n||!n.parts||i+1===n.parts.length;return t.endList&&"open"===this.mediaSource_.readyState&&s&&o}chooseNextRequest_(){const e=this.buffered_(),t=Pm(e)||0,i=Lm(e,this.currentTime_()),n=!this.hasPlayed_()&&i>=1,s=i>=this.goalBufferLength_(),o=this.playlist_.segments;if(!o.length||n||s)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());const r={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(r.isSyncRequest)r.mediaIndex=function(e,t,i){t=t||[];const n=[];let s=0;for(let o=0;o<t.length;o++){const r=t[o];if(e===r.timeline&&(n.push(o),s+=r.duration,s>i))return o}return 0===n.length?0:n[n.length-1]}(this.currentTimeline_,o,t);else if(null!==this.mediaIndex){const e=o[this.mediaIndex],i="number"==typeof this.partIndex?this.partIndex:-1;r.startOfSegment=e.end?e.end:t,e.parts&&e.parts[i+1]?(r.mediaIndex=this.mediaIndex,r.partIndex=i+1):r.mediaIndex=this.mediaIndex+1}else{const{segmentIndex:e,startTime:i,partIndex:n}=Zm.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?t:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});r.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${t}`:`currentTime ${this.currentTime_()}`,r.mediaIndex=e,r.startOfSegment=i,r.partIndex=n}const a=o[r.mediaIndex];let l=a&&"number"==typeof r.partIndex&&a.parts&&a.parts[r.partIndex];if(!a||"number"==typeof r.partIndex&&!l)return null;"number"!=typeof r.partIndex&&a.parts&&(r.partIndex=0,l=a.parts[0]);const c=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!i&&l&&!c&&!l.independent)if(0===r.partIndex){const e=o[r.mediaIndex-1],t=e.parts&&e.parts.length&&e.parts[e.parts.length-1];t&&t.independent&&(r.mediaIndex-=1,r.partIndex=e.parts.length-1,r.independent="previous segment")}else a.parts[r.partIndex-1].independent&&(r.partIndex-=1,r.independent="previous part");const d=this.mediaSource_&&"ended"===this.mediaSource_.readyState;return r.mediaIndex>=o.length-1&&d&&!this.seeking_()?null:this.generateSegmentInfo_(r)}generateSegmentInfo_(e){const{independent:t,playlist:i,mediaIndex:n,startOfSegment:s,isSyncRequest:o,partIndex:r,forceTimestampOffset:a,getMediaInfoForTime:l}=e,c=i.segments[n],d="number"==typeof r&&c.parts[r],u={requestId:"segment-loader-"+Math.random(),uri:d&&d.resolvedUri||c.resolvedUri,mediaIndex:n,partIndex:d?r:null,isSyncRequest:o,startOfSegment:s,playlist:i,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:c.timeline,duration:d&&d.duration||c.duration,segment:c,part:d,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:l,independent:t},h=void 0!==a?a:this.isPendingTimestampOffset_;u.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:c.timeline,currentTimeline:this.currentTimeline_,startOfSegment:s,buffered:this.buffered_(),overrideCheck:h});const p=Pm(this.sourceUpdater_.audioBuffered());return"number"==typeof p&&(u.audioAppendStart=p-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(u.gopsToAlignWith=((e,t,i)=>{if(null==t||!e.length)return[];const n=Math.ceil((t-i+3)*md.ONE_SECOND_IN_TS);let s;for(s=0;s<e.length&&!(e[s].pts>n);s++);return e.slice(s)})(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),u}timestampOffsetForSegment_(e){return(({segmentTimeline:e,currentTimeline:t,startOfSegment:i,buffered:n,overrideCheck:s})=>s||e!==t?e<t?i:n.length?n.end(n.length-1):i:null)(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return;if(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const t=this.currentTime_(),i=e.bandwidth,n=this.pendingSegment_.duration,s=Zm.estimateSegmentRequestTime(n,i,this.playlist_,e.bytesReceived),o=function(e,t,i=1){return((e.length?e.end(e.length-1):0)-t)/i}(this.buffered_(),t,this.vhs_.tech_.playbackRate())-1;if(s<=o)return;const r=function(e){const{main:t,currentTime:i,bandwidth:n,duration:s,segmentDuration:o,timeUntilRebuffer:r,currentTimeline:a,syncController:l}=e,c=t.playlists.filter((e=>!Zm.isIncompatible(e)));let d=c.filter(Zm.isEnabled);d.length||(d=c.filter((e=>!Zm.isDisabled(e))));const u=d.filter(Zm.hasAttribute.bind(null,"BANDWIDTH")).map((e=>{const t=l.getSyncPoint(e,s,a,i)?1:2;return{playlist:e,rebufferingImpact:Zm.estimateSegmentRequestTime(o,n,e)*t-r}})),h=u.filter((e=>e.rebufferingImpact<=0));return dv(h,((e,t)=>uv(t.playlist,e.playlist))),h.length?h[0]:(dv(u,((e,t)=>e.rebufferingImpact-t.rebufferingImpact)),u[0]||null)}({main:this.vhs_.playlists.main,currentTime:t,bandwidth:i,duration:this.duration_(),segmentDuration:n,timeUntilRebuffer:o,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!r)return;const a=s-o-r.rebufferingImpact;let l=.5;o<=Cm&&(l=1),!r.playlist||r.playlist.uri===this.playlist_.uri||a<l||(this.bandwidth=r.playlist.attributes.BANDWIDTH*Lg.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${_v(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,t){this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId)||this.trigger("progress")}handleTrackInfo_(e,t){this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||this.checkForIllegalMediaSwitch(t)||(t=t||{},function(e,t){if(!e&&!t||!e&&t||e&&!t)return!1;if(e===t)return!0;const i=Object.keys(e).sort(),n=Object.keys(t).sort();if(i.length!==n.length)return!1;for(let s=0;s<i.length;s++){const o=i[s];if(o!==n[s])return!1;if(e[o]!==t[o])return!1}return!0}(this.currentMediaInfo_,t)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=t,this.currentMediaInfo_=t,this.logger_("trackinfo update",t),this.trigger("trackinfo")),this.checkForAbort_(e.requestId)||(this.pendingSegment_.trackInfo=t,this.hasEnoughInfoToAppend_()&&this.processCallQueue_()))}handleTimingInfo_(e,t,i,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const s=this.pendingSegment_,o=xv(t);s[o]=s[o]||{},s[o][i]=n,this.logger_(`timinginfo: ${t} - ${i} - ${n}`),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}handleCaptions_(e,t){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(0===t.length)return void this.logger_("SegmentLoader received no captions from a caption event");if(!this.pendingSegment_.hasAppendedData_)return void this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,t));const i=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),n={};t.forEach((e=>{n[e.stream]=n[e.stream]||{startTime:1/0,captions:[],endTime:0};const t=n[e.stream];t.startTime=Math.min(t.startTime,e.startTime+i),t.endTime=Math.max(t.endTime,e.endTime+i),t.captions.push(e)})),Object.keys(n).forEach((e=>{const{startTime:t,endTime:s,captions:o}=n[e],r=this.inbandTextTracks_;this.logger_(`adding cues from ${t} -> ${s} for ${e}`),function(e,t,i){if(!e[i]){t.trigger({type:"usage",name:"vhs-608"});let n=i;/^cc708_/.test(i)&&(n="SERVICE"+i.split("_")[1]);const s=t.textTracks().getTrackById(n);if(s)e[i]=s;else{let s=i,o=i,r=!1;const a=(t.options_.vhs&&t.options_.vhs.captionServices||{})[n];a&&(s=a.label,o=a.language,r=a.default),e[i]=t.addRemoteTextTrack({kind:"captions",id:n,default:r,label:s,language:o},!1).track}}}(r,this.vhs_.tech_,e),vv(t,s,r[e]),function({inbandTextTracks:e,captionArray:t,timestampOffset:i}){if(!t)return;const n=al().WebKitDataCue||al().VTTCue;t.forEach((t=>{const s=t.stream;t.content?t.content.forEach((o=>{const r=new n(t.startTime+i,t.endTime+i,o.text);r.line=o.line,r.align="left",r.position=o.position,r.positionAlign="line-left",e[s].addCue(r)})):e[s].addCue(new n(t.startTime+i,t.endTime+i,t.text))}))}({captionArray:o,inbandTextTracks:r,timestampOffset:i})})),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,t,i){this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||(this.pendingSegment_.hasAppendedData_?this.addMetadataToTextTrack(i,t,this.duration_()):this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,t,i)))}processMetadataQueue_(){this.metadataQueue_.id3.forEach((e=>e())),this.metadataQueue_.caption.forEach((e=>e())),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach((e=>e()))}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach((e=>e()))}hasEnoughInfoToLoad_(){if("audio"!==this.loaderType_)return!0;const e=this.pendingSegment_;return!(!e||this.getCurrentMediaInfo_()&&wv({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready())return!1;if(this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,t=this.getCurrentMediaInfo_();if(!e||!t)return!1;const{hasAudio:i,hasVideo:n,isMuxed:s}=t;return!(n&&!e.videoTimingInfo||i&&!this.audioDisabled_&&!s&&!e.audioTimingInfo||wv({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,t){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_())return void this.callQueue_.push(this.handleData_.bind(this,e,t));const i=this.pendingSegment_;if(this.setTimeMapping_(i.timeline),this.updateMediaSecondsLoaded_(i.part||i.segment),"closed"!==this.mediaSource_.readyState){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),i.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),i.isFmp4=e.isFmp4,i.timingInfo=i.timingInfo||{},i.isFmp4)this.trigger("fmp4"),i.timingInfo.start=i[xv(t.type)].start;else{const e=this.getCurrentMediaInfo_(),t="main"===this.loaderType_&&e&&e.hasVideo;let n;t&&(n=i.videoTimingInfo.start),i.timingInfo.start=this.trueSegmentStart_({currentStart:i.timingInfo.start,playlist:i.playlist,mediaIndex:i.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:t,firstVideoFrameTimeForData:n,videoTimingInfo:i.videoTimingInfo,audioTimingInfo:i.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(i,t.type),this.updateSourceBufferTimestampOffset_(i),i.isSyncRequest){this.updateTimingInfoEnd_(i),this.syncController_.saveSegmentTimingInfo({segmentInfo:i,shouldSaveTimelineMapping:"main"===this.loaderType_});const e=this.chooseNextRequest_();if(e.mediaIndex!==i.mediaIndex||e.partIndex!==i.partIndex)return void this.logger_("sync segment was incorrect, not appending");this.logger_("sync segment was correct, appending")}i.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(i,t)}}updateAppendInitSegmentStatus(e,t){"main"!==this.loaderType_||"number"!=typeof e.timestampOffset||e.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[t]!==e.playlist&&(this.appendInitSegment_[t]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:t,map:i,playlist:n}){if(i){const e=wg(i);if(this.activeInitSegmentId_===e)return null;t=this.initSegmentForMap(i,!0).bytes,this.activeInitSegmentId_=e}return t&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=n,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,t):null}handleQuotaExceededError_({segmentInfo:e,type:t,bytes:i},n){const s=this.sourceUpdater_.audioBuffered(),o=this.sourceUpdater_.videoBuffered();s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Dm(s).join(", ")),o.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Dm(o).join(", "));const r=s.length?s.start(0):0,a=s.length?s.end(s.length-1):0,l=o.length?o.start(0):0,c=o.length?o.end(o.length-1):0;if(a-r<=1&&c-l<=1)return this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${i.byteLength}, audio buffer: ${Dm(s).join(", ")}, video buffer: ${Dm(o).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),void this.trigger("error");this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:t,bytes:i}));const d=this.currentTime_()-1;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${d}`),this.remove(0,d,(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, retrying append in 1s"),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=al().setTimeout((()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()}),1e3)}),!0)}handleAppendError_({segmentInfo:e,type:t,bytes:i},n){n&&(22!==n.code?(this.logger_("Received non QUOTA_EXCEEDED_ERR on append",n),this.error(`${t} append of ${i.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`),this.trigger("appenderror")):this.handleQuotaExceededError_({segmentInfo:e,type:t,bytes:i}))}appendToSourceBuffer_({segmentInfo:e,type:t,initSegment:i,data:n,bytes:s}){if(!s){const e=[n];let t=n.byteLength;i&&(e.unshift(i),t+=i.byteLength),s=(e=>{let t,i=0;return e.bytes&&(t=new Uint8Array(e.bytes),e.segments.forEach((e=>{t.set(e,i),i+=e.byteLength}))),t})({bytes:t,segments:e})}this.sourceUpdater_.appendBuffer({segmentInfo:e,type:t,bytes:s},this.handleAppendError_.bind(this,{segmentInfo:e,type:t,bytes:s}))}handleSegmentTimingInfo_(e,t,i){if(!this.pendingSegment_||t!==this.pendingSegment_.requestId)return;const n=this.pendingSegment_.segment,s=`${e}TimingInfo`;n[s]||(n[s]={}),n[s].transmuxerPrependedSeconds=i.prependedContentDuration||0,n[s].transmuxedPresentationStart=i.start.presentation,n[s].transmuxedDecodeStart=i.start.decode,n[s].transmuxedPresentationEnd=i.end.presentation,n[s].transmuxedDecodeEnd=i.end.decode,n[s].baseMediaDecodeTime=i.baseMediaDecodeTime}appendData_(e,t){const{type:i,data:n}=t;if(!n||!n.byteLength)return;if("audio"===i&&this.audioDisabled_)return;const s=this.getInitSegmentAndUpdateState_({type:i,initSegment:t.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:i,initSegment:s,data:n})}loadSegment_(e){this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),"number"==typeof e.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(e):this.loadQueue_.push((()=>{const t=_l({},e,{forceTimestampOffset:!0});_l(e,this.generateSegmentInfo_(t)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)}))}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const t=this.createSimplifiedSegmentObj_(e),i=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),n=null!==this.mediaIndex,s=e.timeline!==this.currentTimeline_&&e.timeline>0,o=i||n&&s;this.logger_(`Requesting ${_v(e)}`),t.map&&!t.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=tv({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:t,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:o,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:t,level:i,stream:n})=>{this.logger_(`${_v(e)} logged from transmuxer stream ${n} as a ${i}: ${t}`)}})}trimBackBuffer_(e){const t=((e,t,i)=>{let n=t-Lg.BACK_BUFFER_LENGTH;e.length&&(n=Math.max(n,e.start(0)));const s=t-i;return Math.min(s,n)})(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)}createSimplifiedSegmentObj_(e){const t=e.segment,i=e.part,n={resolvedUri:i?i.resolvedUri:t.resolvedUri,byterange:i?i.byterange:t.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part},s=e.playlist.segments[e.mediaIndex-1];if(s&&s.timeline===t.timeline&&(s.videoTimingInfo?n.baseStartTime=s.videoTimingInfo.transmuxedDecodeEnd:s.audioTimingInfo&&(n.baseStartTime=s.audioTimingInfo.transmuxedDecodeEnd)),t.key){const i=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);n.key=this.segmentKey(t.key),n.key.iv=i}return t.map&&(n.map=this.initSegmentForMap(t.map)),n}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,t){this.pendingSegment_.byteLength=t.bytesReceived,e<bv?this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record 0.016666666666666666`):(this.bandwidth=t.bandwidth,this.roundTrip=t.roundTripTime)}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,t,i){if(this.callQueue_.length)return void this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,t,i));if(this.saveTransferStats_(t.stats),!this.pendingSegment_)return;if(t.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===Gg)return;return this.pause(),e.code===Wg?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error"))}const n=this.pendingSegment_;this.saveBandwidthRelatedStats_(n.duration,t.stats),n.endOfAllRequests=t.endOfAllRequests,i.gopInfo&&(this.gopBuffer_=((e,t,i)=>{if(!t.length)return e;if(i)return t.slice();const n=t[0].pts;let s=0;for(;s<e.length&&!(e[s].pts>=n);s++);return e.slice(0,s).concat(t)})(this.gopBuffer_,i.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(n)}setTimeMapping_(e){const t=this.syncController_.mappingForTimeline(e);null!==t&&(this.timeMapping_=t)}updateMediaSecondsLoaded_(e){"number"==typeof e.start&&"number"==typeof e.end?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return null!==e&&("main"===this.loaderType_&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset())}trueSegmentStart_({currentStart:e,playlist:t,mediaIndex:i,firstVideoFrameTimeForData:n,currentVideoTimestampOffset:s,useVideoTimingInfo:o,videoTimingInfo:r,audioTimingInfo:a}){if(void 0!==e)return e;if(!o)return a.start;const l=t.segments[i-1];return 0!==i&&l&&void 0!==l.start&&l.end===n+s?r.start:n}waitForAppendsToComplete_(e){const t=this.getCurrentMediaInfo_(e);if(!t)return this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),void this.trigger("error");const{hasAudio:i,hasVideo:n,isMuxed:s}=t,o="main"===this.loaderType_&&n,r=!this.audioDisabled_&&i&&!s;if(e.waitingOnAppends=0,!e.hasAppendedData_)return e.timingInfo||"number"!=typeof e.timestampOffset||(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),void this.checkAppendsDone_(e);o&&e.waitingOnAppends++,r&&e.waitingOnAppends++,o&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),r&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,0===e.waitingOnAppends&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const t=((e,t,i)=>"main"===e&&t&&i?i.hasAudio||i.hasVideo?t.hasVideo&&!i.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.hasVideo&&i.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null)(this.loaderType_,this.getCurrentMediaInfo_(),e);return!!t&&(this.error({message:t,playlistExclusionDuration:1/0}),this.trigger("error"),!0)}updateSourceBufferTimestampOffset_(e){if(null===e.timestampOffset||"number"!=typeof e.timingInfo.start||e.changedTimestampOffset||"main"!==this.loaderType_)return;let t=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),t=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),t=!0),t&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:t,timingInfo:i}){return this.useDtsForTimestampOffset_?e&&"number"==typeof e.transmuxedDecodeStart?e.transmuxedDecodeStart:t&&"number"==typeof t.transmuxedDecodeStart?t.transmuxedDecodeStart:i.start:i.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const t=this.getMediaInfo_(),i="main"===this.loaderType_&&t&&t.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;i&&(e.timingInfo.end="number"==typeof i.end?i.end:i.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());const e=this.pendingSegment_;this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:"main"===this.loaderType_});const t=((e,t)=>{if("hls"!==t)return null;const i=(e=>{let t=0;return["video","audio"].forEach((function(i){const n=e[`${i}TimingInfo`];if(!n)return;const{start:s,end:o}=n;let r;"bigint"==typeof s||"bigint"==typeof o?r=al().BigInt(o)-al().BigInt(s):"number"==typeof s&&"number"==typeof o&&(r=o-s),void 0!==r&&r>t&&(t=r)})),"bigint"==typeof t&&t<Number.MAX_SAFE_INTEGER&&(t=Number(t)),t})({audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo});if(!i)return null;const n=e.playlist.targetDuration,s=kv({segmentDuration:i,maxDuration:2*n}),o=kv({segmentDuration:i,maxDuration:n}),r=`Segment with index ${e.mediaIndex} from playlist ${e.playlist.id} has a duration of ${i} when the reported duration is ${e.duration} and the target duration is ${n}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return s||o?{severity:s?"warn":"info",message:r}:null})(e,this.sourceType_);if(t&&("warn"===t.severity?gm.log.warn(t.message):this.logger_(t.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_))return void this.logger_(`Throwing away un-appended sync request ${_v(e)}`);this.logger_(`Appended ${_v(e)}`),this.addSegmentMetadataCue_(e),this.currentTime_()>=this.replaceSegmentsUntil_&&(this.replaceSegmentsUntil_=-1,this.fetchAtBuffer_=!0),this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const i=e.segment,n=e.part,s=i.end&&this.currentTime_()-i.end>3*e.playlist.targetDuration,o=n&&n.end&&this.currentTime_()-n.end>3*e.playlist.partTargetDuration;if(s||o)return this.logger_(`bad ${s?"segment":"part"} ${_v(e)}`),void this.resetEverything();null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<bv)return void this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record 0.016666666666666666`);const t=this.throughput.rate,i=Date.now()-e.endOfAllRequests+1,n=Math.floor(e.byteLength/i*8*1e3);this.throughput.rate+=(n-t)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const t=e.segment,i=t.start,n=t.end;if(!yv(i)||!yv(n))return;vv(i,n,this.segmentMetadataTrack_);const s=al().WebKitDataCue||al().VTTCue,o={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,programDateTime:t.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:i,end:n},r=new s(i,n,JSON.stringify(o));r.value=o,this.segmentMetadataTrack_.addCue(r)}set replaceSegmentsUntil(e){this.logger_(`Replacing currently buffered segments until ${e}`),this.replaceSegmentsUntil_=e}}function Tv(){}const Cv=function(e){return"string"!=typeof e?e:e.replace(/./,(e=>e.toUpperCase()))},Ev=["video","audio"],Av=(e,t)=>{const i=t[`${e}Buffer`];return i&&i.updating||t.queuePending[e]},Iv=(e,t)=>{if(0===t.queue.length)return;let i=0,n=t.queue[i];if("mediaSource"!==n.type){if("mediaSource"!==e&&t.ready()&&"closed"!==t.mediaSource.readyState&&!Av(e,t)){if(n.type!==e){if(i=((e,t)=>{for(let i=0;i<t.length;i++){const n=t[i];if("mediaSource"===n.type)return null;if(n.type===e)return i}return null})(e,t.queue),null===i)return;n=t.queue[i]}return t.queue.splice(i,1),t.queuePending[e]=n,n.action(e,t),n.doneFn?void 0:(t.queuePending[e]=null,void Iv(e,t))}}else t.updating()||"closed"===t.mediaSource.readyState||(t.queue.shift(),n.action(t),n.doneFn&&n.doneFn(),Iv("audio",t),Iv("video",t))},Mv=(e,t)=>{const i=t[`${e}Buffer`],n=Cv(e);i&&(i.removeEventListener("updateend",t[`on${n}UpdateEnd_`]),i.removeEventListener("error",t[`on${n}Error_`]),t.codecs[e]=null,t[`${e}Buffer`]=null)},Ov=(e,t)=>e&&t&&-1!==Array.prototype.indexOf.call(e.sourceBuffers,t),Dv=(e,t,i)=>(n,s)=>{const o=s[`${n}Buffer`];if(Ov(s.mediaSource,o)){s.logger_(`Appending segment ${t.mediaIndex}'s ${e.length} bytes to ${n}Buffer`);try{o.appendBuffer(e)}catch(e){s.logger_(`Error with code ${e.code} `+(22===e.code?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${t.mediaIndex} to ${n}Buffer`),s.queuePending[n]=null,i(e)}}},Pv=(e,t)=>(i,n)=>{const s=n[`${i}Buffer`];if(Ov(n.mediaSource,s)){n.logger_(`Removing ${e} to ${t} from ${i}Buffer`);try{s.remove(e,t)}catch(s){n.logger_(`Remove ${e} to ${t} from ${i}Buffer failed`)}}},Lv=e=>(t,i)=>{const n=i[`${t}Buffer`];Ov(i.mediaSource,n)&&(i.logger_(`Setting ${t}timestampOffset to ${e}`),n.timestampOffset=e)},jv=e=>(t,i)=>{e()},Bv=e=>t=>{if("open"===t.mediaSource.readyState){t.logger_(`Calling mediaSource endOfStream(${e||""})`);try{t.mediaSource.endOfStream(e)}catch(e){gm.log.warn("Failed to call media source endOfStream",e)}}},Rv=e=>t=>{t.logger_(`Setting mediaSource duration to ${e}`);try{t.mediaSource.duration=e}catch(e){gm.log.warn("Failed to set media source duration",e)}},Nv=(e,t)=>i=>{const n=Cv(e),s=Ul(t);i.logger_(`Adding ${e}Buffer with codec ${t} to mediaSource`);const o=i.mediaSource.addSourceBuffer(s);o.addEventListener("updateend",i[`on${n}UpdateEnd_`]),o.addEventListener("error",i[`on${n}Error_`]),i.codecs[e]=t,i[`${e}Buffer`]=o},Uv=e=>t=>{const i=t[`${e}Buffer`];if(Mv(e,t),Ov(t.mediaSource,i)){t.logger_(`Removing ${e}Buffer with codec ${t.codecs[e]} from mediaSource`);try{t.mediaSource.removeSourceBuffer(i)}catch(t){gm.log.warn(`Failed to removeSourceBuffer ${e}Buffer`,t)}}},Fv=e=>(t,i)=>{const n=i[`${t}Buffer`],s=Ul(e);Ov(i.mediaSource,n)&&i.codecs[t]!==e&&(i.logger_(`changing ${t}Buffer codec from ${i.codecs[t]} to ${e}`),n.changeType(s),i.codecs[t]=e)},zv=({type:e,sourceUpdater:t,action:i,doneFn:n,name:s})=>{t.queue.push({type:e,action:i,doneFn:n,name:s}),Iv(e,t)},Hv=(e,t)=>i=>{if(t.queuePending[e]){const i=t.queuePending[e].doneFn;t.queuePending[e]=null,i&&i(t[`${e}Error_`])}Iv(e,t)};class Vv extends gm.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>Iv("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=km("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=Hv("video",this),this.onAudioUpdateEnd_=Hv("audio",this),this.onVideoError_=e=>{this.videoError_=e},this.onAudioError_=e=>{this.audioError_=e},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,t){zv({type:"mediaSource",sourceUpdater:this,action:Nv(e,t),name:"addSourceBuffer"})}abort(e){zv({type:e,sourceUpdater:this,action:(e,t)=>{if("open"!==t.mediaSource.readyState)return;const i=t[`${e}Buffer`];if(Ov(t.mediaSource,i)){t.logger_(`calling abort on ${e}Buffer`);try{i.abort()}catch(t){gm.log.warn(`Failed to abort on ${e}Buffer`,t)}}},name:"abort"})}removeSourceBuffer(e){this.canRemoveSourceBuffer()?zv({type:"mediaSource",sourceUpdater:this,action:Uv(e),name:"removeSourceBuffer"}):gm.log.error("removeSourceBuffer is not supported!")}canRemoveSourceBuffer(){return!gm.browser.IS_FIREFOX&&al().MediaSource&&al().MediaSource.prototype&&"function"==typeof al().MediaSource.prototype.removeSourceBuffer}static canChangeType(){return al().SourceBuffer&&al().SourceBuffer.prototype&&"function"==typeof al().SourceBuffer.prototype.changeType}canChangeType(){return this.constructor.canChangeType()}changeType(e,t){this.canChangeType()?zv({type:e,sourceUpdater:this,action:Fv(t),name:"changeType"}):gm.log.error("changeType is not supported!")}addOrChangeSourceBuffers(e){if(!e||"object"!=typeof e||0===Object.keys(e).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach((t=>{const i=e[t];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(t,i);this.canChangeType()&&this.changeType(t,i)}))}appendBuffer(e,t){const{segmentInfo:i,type:n,bytes:s}=e;if(this.processedAppend_=!0,"audio"===n&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([e,t]),void this.logger_(`delayed audio append of ${s.length} until video append`);if(zv({type:n,sourceUpdater:this,action:Dv(s,i||{mediaIndex:-1},t),doneFn:t,name:"appendBuffer"}),"video"===n){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const e=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${e.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,e.forEach((e=>{this.appendBuffer.apply(this,e)}))}}audioBuffered(){return Ov(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Tm()}videoBuffered(){return Ov(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Tm()}buffered(){const e=Ov(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,t=Ov(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return t&&!e?this.audioBuffered():e&&!t?this.videoBuffered():function(e,t){let i=null,n=null,s=0;const o=[],r=[];if(!(e&&e.length&&t&&t.length))return Tm();let a=e.length;for(;a--;)o.push({time:e.start(a),type:"start"}),o.push({time:e.end(a),type:"end"});for(a=t.length;a--;)o.push({time:t.start(a),type:"start"}),o.push({time:t.end(a),type:"end"});for(o.sort((function(e,t){return e.time-t.time})),a=0;a<o.length;a++)"start"===o[a].type?(s++,2===s&&(i=o[a].time)):"end"===o[a].type&&(s--,1===s&&(n=o[a].time)),null!==i&&null!==n&&(r.push([i,n]),i=null,n=null);return Tm(r)}(this.audioBuffered(),this.videoBuffered())}setDuration(e,t=Tv){zv({type:"mediaSource",sourceUpdater:this,action:Rv(e),name:"duration",doneFn:t})}endOfStream(e=null,t=Tv){"string"!=typeof e&&(e=void 0),zv({type:"mediaSource",sourceUpdater:this,action:Bv(e),name:"endOfStream",doneFn:t})}removeAudio(e,t,i=Tv){this.audioBuffered().length&&0!==this.audioBuffered().end(0)?zv({type:"audio",sourceUpdater:this,action:Pv(e,t),doneFn:i,name:"remove"}):i()}removeVideo(e,t,i=Tv){this.videoBuffered().length&&0!==this.videoBuffered().end(0)?zv({type:"video",sourceUpdater:this,action:Pv(e,t),doneFn:i,name:"remove"}):i()}updating(){return!(!Av("audio",this)&&!Av("video",this))}audioTimestampOffset(e){return void 0!==e&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(zv({type:"audio",sourceUpdater:this,action:Lv(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return void 0!==e&&this.videoBuffer&&this.videoTimestampOffset!==e&&(zv({type:"video",sourceUpdater:this,action:Lv(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&zv({type:"audio",sourceUpdater:this,action:jv(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&zv({type:"video",sourceUpdater:this,action:jv(e),name:"callback"})}dispose(){this.trigger("dispose"),Ev.forEach((e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`]((()=>Mv(e,this)))})),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const qv=e=>decodeURIComponent(escape(String.fromCharCode.apply(null,e))),$v=new Uint8Array("\n\n".split("").map((e=>e.charCodeAt(0))));class Wv extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class Gv extends Sv{constructor(e,t={}){super(e,t),this.mediaSource_=null,this.subtitlesTrack_=null,this.loaderType_="subtitle",this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}createTransmuxer_(){return null}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Tm();const e=this.subtitlesTrack_.cues;return Tm([[e[0].startTime,e[e.length-1].startTime]])}initSegmentForMap(e,t=!1){if(!e)return null;const i=wg(e);let n=this.initSegments_[i];if(t&&!n&&e.bytes){const t=$v.byteLength+e.bytes.byteLength,s=new Uint8Array(t);s.set(e.bytes),s.set($v,e.bytes.byteLength),this.initSegments_[i]=n={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:s}}return n||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return void 0===e||(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_}remove(e,t){vv(e,t,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(null===this.syncController_.timestampOffsetForTimeline(e.timeline)){const e=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};return this.syncController_.one("timestampoffset",e),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,t,i){if(!this.subtitlesTrack_)return void(this.state="READY");if(this.saveTransferStats_(t.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(e)return e.code===Wg&&this.handleTimeout_(),e.code===Gg?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(e);const n=this.pendingSegment_;this.saveBandwidthRelatedStats_(n.duration,t.stats),t.key&&this.segmentKey(t.key,!0),this.state="APPENDING",this.trigger("appending");const s=n.segment;if(s.map&&(s.map.bytes=t.map.bytes),n.bytes=t.bytes,"function"!=typeof al().WebVTT&&"function"==typeof this.loadVttJs)return this.state="WAITING_ON_VTTJS",void this.loadVttJs().then((()=>this.segmentRequestFinished_(e,t,i)),(()=>this.stopForError({message:"Error loading vtt.js"})));s.requested=!0;try{this.parseVTTCues_(n)}catch(e){return void this.stopForError({message:e.message})}if(this.updateTimeMapping_(n,this.syncController_.timelines[n.timeline],this.playlist_),n.cues.length?n.timingInfo={start:n.cues[0].startTime,end:n.cues[n.cues.length-1].endTime}:n.timingInfo={start:n.startOfSegment,end:n.startOfSegment+n.duration},n.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");n.byteLength=n.bytes.byteLength,this.mediaSecondsLoaded+=s.duration,n.cues.forEach((e=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new(al().VTTCue)(e.startTime,e.endTime,e.text):e)})),function(e){const t=e.cues;if(!t)return;const i={};for(let n=t.length-1;n>=0;n--){const s=t[n],o=`${s.startTime}-${s.endTime}-${s.text}`;i[o]?e.removeCue(s):i[o]=s}}(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(){}updateTimingInfoEnd_(){}parseVTTCues_(e){let t,i=!1;if("function"!=typeof al().WebVTT)throw new Wv;"function"==typeof al().TextDecoder?t=new(al().TextDecoder)("utf8"):(t=al().WebVTT.StringDecoder(),i=!0);const n=new(al().WebVTT.Parser)(al(),al().vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},n.oncue=e.cues.push.bind(e.cues),n.ontimestampmap=t=>{e.timestampmap=t},n.onparsingerror=e=>{gm.log.warn("Error encountered when parsing cues: "+e.message)},e.segment.map){let t=e.segment.map.bytes;i&&(t=qv(t)),n.parse(t)}let s=e.bytes;i&&(s=qv(s)),n.parse(s),n.flush()}updateTimeMapping_(e,t,i){const n=e.segment;if(!t)return;if(!e.cues.length)return void(n.empty=!0);const s=e.timestampmap,o=s.MPEGTS/md.ONE_SECOND_IN_TS-s.LOCAL+t.mapping;if(e.cues.forEach((e=>{e.startTime+=o,e.endTime+=o})),!i.syncInfo){const t=e.cues[0].startTime,s=e.cues[e.cues.length-1].startTime;i.syncInfo={mediaSequence:i.mediaSequence+e.mediaIndex,time:Math.min(t,s-n.duration)}}}}const Yv=function(e,t){const i=e.cues;for(let e=0;e<i.length;e++){const n=i[e];if(t>=n.adStartTime&&t<=n.adEndTime)return n}return null},Xv=[{name:"VOD",run:(e,t,i,n,s)=>i!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"ProgramDateTime",run:(e,t,i,n,s)=>{if(!Object.keys(e.timelineToDatetimeMappings).length)return null;let o=null,r=null;const a=Bm(t);s=s||0;for(let i=0;i<a.length;i++){const n=a[t.endList||0===s?i:a.length-(i+1)],l=n.segment,c=e.timelineToDatetimeMappings[l.timeline];if(!c||!l.dateTimeObject)continue;let d=l.dateTimeObject.getTime()/1e3+c;if(l.parts&&"number"==typeof n.partIndex)for(let e=0;e<n.partIndex;e++)d+=l.parts[e].duration;const u=Math.abs(s-d);if(null!==r&&(0===u||r<u))break;r=u,o={time:d,segmentIndex:n.segmentIndex,partIndex:n.partIndex}}return o}},{name:"Segment",run:(e,t,i,n,s)=>{let o=null,r=null;s=s||0;const a=Bm(t);for(let e=0;e<a.length;e++){const i=a[t.endList||0===s?e:a.length-(e+1)],l=i.segment,c=i.part&&i.part.start||l&&l.start;if(l.timeline===n&&void 0!==c){const e=Math.abs(s-c);if(null!==r&&r<e)break;(!o||null===r||r>=e)&&(r=e,o={time:c,segmentIndex:i.segmentIndex,partIndex:i.partIndex})}}return o}},{name:"Discontinuity",run:(e,t,i,n,s)=>{let o=null;if(s=s||0,t.discontinuityStarts&&t.discontinuityStarts.length){let i=null;for(let n=0;n<t.discontinuityStarts.length;n++){const r=t.discontinuityStarts[n],a=t.discontinuitySequence+n+1,l=e.discontinuities[a];if(l){const e=Math.abs(s-l.time);if(null!==i&&i<e)break;(!o||null===i||i>=e)&&(i=e,o={time:l.time,segmentIndex:r,partIndex:null})}}}return o}},{name:"Playlist",run:(e,t,i,n,s)=>t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence,partIndex:null}:null}];class Kv extends gm.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={},this.logger_=km("SyncController")}getSyncPoint(e,t,i,n){const s=this.runStrategies_(e,t,i,n);return s.length?this.selectSyncPoint_(s,{key:"time",value:n}):null}getExpiredTime(e,t){if(!e||!e.segments)return null;const i=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!i.length)return null;const n=this.selectSyncPoint_(i,{key:"segmentIndex",value:0});return n.segmentIndex>0&&(n.time*=-1),Math.abs(n.time+Hm({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:n.segmentIndex,endIndex:0}))}runStrategies_(e,t,i,n){const s=[];for(let o=0;o<Xv.length;o++){const r=Xv[o],a=r.run(this,e,t,i,n);a&&(a.strategy=r.name,s.push({strategy:r.name,syncPoint:a}))}return s}selectSyncPoint_(e,t){let i=e[0].syncPoint,n=Math.abs(e[0].syncPoint[t.key]-t.value),s=e[0].strategy;for(let o=1;o<e.length;o++){const r=Math.abs(e[o].syncPoint[t.key]-t.value);r<n&&(n=r,i=e[o].syncPoint,s=e[o].strategy)}return this.logger_(`syncPoint for [${t.key}: ${t.value}] chosen with strategy [${s}]: [time:${i.time}, segmentIndex:${i.segmentIndex}`+("number"==typeof i.partIndex?`,partIndex:${i.partIndex}`:"")+"]"),i}saveExpiredSegmentInfo(e,t){const i=t.mediaSequence-e.mediaSequence;if(i>86400)gm.log.warn(`Not saving expired segment info. Media sequence gap ${i} is too large.`);else for(let n=i-1;n>=0;n--){const i=e.segments[n];if(i&&void 0!==i.start){t.syncInfo={mediaSequence:e.mediaSequence+n,time:i.start},this.logger_(`playlist refresh sync: [time:${t.syncInfo.time}, mediaSequence: ${t.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const t=e.segments[0],i=t.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[t.timeline]=-i}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:t}){const i=this.calculateSegmentTimeMapping_(e,e.timingInfo,t),n=e.segment;i&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:n.start}));const s=n.dateTimeObject;n.discontinuity&&t&&s&&(this.timelineToDatetimeMappings[n.timeline]=-s.getTime()/1e3)}timestampOffsetForTimeline(e){return void 0===this.timelines[e]?null:this.timelines[e].time}mappingForTimeline(e){return void 0===this.timelines[e]?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,t,i){const n=e.segment,s=e.part;let o,r,a=this.timelines[e.timeline];if("number"==typeof e.timestampOffset)a={time:e.startOfSegment,mapping:e.startOfSegment-t.start},i&&(this.timelines[e.timeline]=a,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${a.time}] [mapping: ${a.mapping}]`)),o=e.startOfSegment,r=t.end+a.mapping;else{if(!a)return!1;o=t.start+a.mapping,r=t.end+a.mapping}return s&&(s.start=o,s.end=r),(!n.start||o<n.start)&&(n.start=o),n.end=r,!0}saveDiscontinuitySyncInfo_(e){const t=e.playlist,i=e.segment;if(i.discontinuity)this.discontinuities[i.timeline]={time:i.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(let n=0;n<t.discontinuityStarts.length;n++){const s=t.discontinuityStarts[n],o=t.discontinuitySequence+n+1,r=s-e.mediaIndex,a=Math.abs(r);if(!this.discontinuities[o]||this.discontinuities[o].accuracy>a){let n;n=r<0?i.start-Hm({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex,endIndex:s}):i.end+Hm({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex+1,endIndex:s}),this.discontinuities[o]={time:n,accuracy:a}}}}dispose(){this.trigger("dispose"),this.off()}}class Qv extends gm.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:t,to:i}){return"number"==typeof t&&"number"==typeof i&&(this.pendingTimelineChanges_[e]={type:e,from:t,to:i},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:t,to:i}){return"number"==typeof t&&"number"==typeof i&&(this.lastTimelineChanges_[e]={type:e,from:t,to:i},delete this.pendingTimelineChanges_[e],this.trigger("timelinechange")),this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const Zv=Rg(Ng((function(){var e=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var i=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(i,1),i>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var i=t.length,n=0;n<i;++n)t[n].call(this,arguments[1]);else for(var s=Array.prototype.slice.call(arguments,1),o=t.length,r=0;r<o;++r)t[r].apply(this,s)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}();let t=null;class n{constructor(e){let i,n,s;t||(t=function(){const e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],i=e[1],n=t[4],s=i[4];let o,r,a;const l=[],c=[];let d,u,h,p,f,m;for(o=0;o<256;o++)c[(l[o]=o<<1^283*(o>>7))^o]=o;for(r=a=0;!n[r];r^=d||1,a=c[a]||1)for(p=a^a<<1^a<<2^a<<3^a<<4,p=p>>8^255&p^99,n[r]=p,s[p]=r,h=l[u=l[d=l[r]]],m=16843009*h^65537*u^257*d^16843008*r,f=257*l[p]^16843008*p,o=0;o<4;o++)t[o][r]=f=f<<24^f>>>8,i[o][p]=m=m<<24^m>>>8;for(o=0;o<5;o++)t[o]=t[o].slice(0),i[o]=i[o].slice(0);return e}()),this._tables=[[t[0][0].slice(),t[0][1].slice(),t[0][2].slice(),t[0][3].slice(),t[0][4].slice()],[t[1][0].slice(),t[1][1].slice(),t[1][2].slice(),t[1][3].slice(),t[1][4].slice()]];const o=this._tables[0][4],r=this._tables[1],a=e.length;let l=1;if(4!==a&&6!==a&&8!==a)throw new Error("Invalid aes key size");const c=e.slice(0),d=[];for(this._key=[c,d],i=a;i<4*a+28;i++)s=c[i-1],(i%a==0||8===a&&i%a==4)&&(s=o[s>>>24]<<24^o[s>>16&255]<<16^o[s>>8&255]<<8^o[255&s],i%a==0&&(s=s<<8^s>>>24^l<<24,l=l<<1^283*(l>>7))),c[i]=c[i-a]^s;for(n=0;i;n++,i--)s=c[3&n?i:i-4],d[n]=i<=4||n<4?s:r[0][o[s>>>24]]^r[1][o[s>>16&255]]^r[2][o[s>>8&255]]^r[3][o[255&s]]}decrypt(e,t,i,n,s,o){const r=this._key[1];let a,l,c,d=e^r[0],u=n^r[1],h=i^r[2],p=t^r[3];const f=r.length/4-2;let m,g=4;const v=this._tables[1],y=v[0],b=v[1],_=v[2],x=v[3],w=v[4];for(m=0;m<f;m++)a=y[d>>>24]^b[u>>16&255]^_[h>>8&255]^x[255&p]^r[g],l=y[u>>>24]^b[h>>16&255]^_[p>>8&255]^x[255&d]^r[g+1],c=y[h>>>24]^b[p>>16&255]^_[d>>8&255]^x[255&u]^r[g+2],p=y[p>>>24]^b[d>>16&255]^_[u>>8&255]^x[255&h]^r[g+3],g+=4,d=a,u=l,h=c;for(m=0;m<4;m++)s[(3&-m)+o]=w[d>>>24]<<24^w[u>>16&255]<<16^w[h>>8&255]<<8^w[255&p]^r[g++],a=d,d=u,u=h,h=p,p=a}}class s extends e{constructor(){super(e),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const o=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24};class r{constructor(e,t,i,n){const a=r.STEP,l=new Int32Array(e.buffer),c=new Uint8Array(e.byteLength);let d=0;for(this.asyncStream_=new s,this.asyncStream_.push(this.decryptChunk_(l.subarray(d,d+a),t,i,c)),d=a;d<l.length;d+=a)i=new Uint32Array([o(l[d-4]),o(l[d-3]),o(l[d-2]),o(l[d-1])]),this.asyncStream_.push(this.decryptChunk_(l.subarray(d,d+a),t,i,c));this.asyncStream_.push((function(){var e;n(null,(e=c).subarray(0,e.byteLength-e[e.byteLength-1]))}))}static get STEP(){return 32e3}decryptChunk_(e,t,i,s){return function(){const r=function(e,t,i){const s=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),r=new n(Array.prototype.slice.call(t)),a=new Uint8Array(e.byteLength),l=new Int32Array(a.buffer);let c,d,u,h,p,f,m,g,v;for(c=i[0],d=i[1],u=i[2],h=i[3],v=0;v<s.length;v+=4)p=o(s[v]),f=o(s[v+1]),m=o(s[v+2]),g=o(s[v+3]),r.decrypt(p,f,m,g,l,v),l[v]=o(l[v]^c),l[v+1]=o(l[v+1]^d),l[v+2]=o(l[v+2]^u),l[v+3]=o(l[v+3]^h),c=p,d=f,u=m,h=g;return a}(e,t,i);s.set(r,e.byteOffset)}}}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:{},l=("undefined"!=typeof window?window:void 0!==a?a:"undefined"!=typeof self?self:{}).BigInt||Number;l("0x1"),l("0x100"),l("0x10000"),l("0x1000000"),l("0x100000000"),l("0x10000000000"),l("0x1000000000000"),l("0x100000000000000"),l("0x10000000000000000"),function(){var e=new Uint16Array([65484]),t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);255===t[0]||t[0]}();self.onmessage=function(e){const t=e.data,i=new Uint8Array(t.encrypted.bytes,t.encrypted.byteOffset,t.encrypted.byteLength),n=new Uint32Array(t.key.bytes,t.key.byteOffset,t.key.byteLength/4),s=new Uint32Array(t.iv.bytes,t.iv.byteOffset,t.iv.byteLength/4);new r(i,n,s,(function(e,i){self.postMessage(function(e){const t={};return Object.keys(e).forEach((i=>{const n=e[i];var s;s=n,("function"===ArrayBuffer.isView?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer)?t[i]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:t[i]=n})),t}({source:t.source,decrypted:i}),[i.buffer])}))}})));var Jv=Bg(Zv);const ey=e=>{let t=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},ty=(e,t)=>{e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},iy=(e,t)=>{t.activePlaylistLoader=e,e.load()},ny={AUDIO:(e,t)=>()=>{const{segmentLoaders:{[e]:i},mediaTypes:{[e]:n},excludePlaylist:s}=t;ty(i,n);const o=n.activeTrack(),r=n.activeGroup(),a=(r.filter((e=>e.default))[0]||r[0]).id,l=n.tracks[a];if(o!==l){gm.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const e in n.tracks)n.tracks[e].enabled=n.tracks[e]===l;n.onTrackChanged()}else s({error:{message:"Problem encountered loading the default audio track."}})},SUBTITLES:(e,t)=>()=>{const{segmentLoaders:{[e]:i},mediaTypes:{[e]:n}}=t;gm.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),ty(i,n);const s=n.activeTrack();s&&(s.mode="disabled"),n.onTrackChanged()}},sy={AUDIO:(e,t,i)=>{if(!t)return;const{tech:n,requestOptions:s,segmentLoaders:{[e]:o}}=i;t.on("loadedmetadata",(()=>{const e=t.media();o.playlist(e,s),(!n.paused()||e.endList&&"none"!==n.preload())&&o.load()})),t.on("loadedplaylist",(()=>{o.playlist(t.media(),s),n.paused()||o.load()})),t.on("error",ny[e](e,i))},SUBTITLES:(e,t,i)=>{const{tech:n,requestOptions:s,segmentLoaders:{[e]:o},mediaTypes:{[e]:r}}=i;t.on("loadedmetadata",(()=>{const e=t.media();o.playlist(e,s),o.track(r.activeTrack()),(!n.paused()||e.endList&&"none"!==n.preload())&&o.load()})),t.on("loadedplaylist",(()=>{o.playlist(t.media(),s),n.paused()||o.load()})),t.on("error",ny[e](e,i))}},oy={AUDIO:(e,t)=>{const{vhs:i,sourceType:n,segmentLoaders:{[e]:s},requestOptions:o,main:{mediaGroups:r},mediaTypes:{[e]:{groups:a,tracks:l,logger_:c}},mainPlaylistLoader:d}=t,u=Qm(d.main);r[e]&&0!==Object.keys(r[e]).length||(r[e]={main:{default:{default:!0}}},u&&(r[e].main.default.playlists=d.main.playlists));for(const s in r[e]){a[s]||(a[s]=[]);for(const h in r[e][s]){let p,f=r[e][s][h];if(u?(c(`AUDIO group '${s}' label '${h}' is a main playlist`),f.isMainPlaylist=!0,p=null):p="vhs-json"===n&&f.playlists?new pg(f.playlists[0],i,o):f.resolvedUri?new pg(f.resolvedUri,i,o):f.playlists&&"dash"===n?new Pg(f.playlists[0],i,o,d):null,f=Sm({id:h,playlistLoader:p},f),sy[e](e,f.playlistLoader,t),a[s].push(f),void 0===l[h]){const e=new gm.AudioTrack({id:h,kind:ey(f),enabled:!1,language:f.language,default:f.default,label:h});l[h]=e}}}s.on("error",ny[e](e,t))},SUBTITLES:(e,t)=>{const{tech:i,vhs:n,sourceType:s,segmentLoaders:{[e]:o},requestOptions:r,main:{mediaGroups:a},mediaTypes:{[e]:{groups:l,tracks:c}},mainPlaylistLoader:d}=t;for(const o in a[e]){l[o]||(l[o]=[]);for(const u in a[e][o]){if(!n.options_.useForcedSubtitles&&a[e][o][u].forced)continue;let h,p=a[e][o][u];if("hls"===s)h=new pg(p.resolvedUri,n,r);else if("dash"===s){if(!p.playlists.filter((e=>e.excludeUntil!==1/0)).length)return;h=new Pg(p.playlists[0],n,r,d)}else"vhs-json"===s&&(h=new pg(p.playlists?p.playlists[0]:p.resolvedUri,n,r));if(p=Sm({id:u,playlistLoader:h},p),sy[e](e,p.playlistLoader,t),l[o].push(p),void 0===c[u]){const e=i.addRemoteTextTrack({id:u,kind:"subtitles",default:p.default&&p.autoselect,language:p.language,label:u},!1).track;c[u]=e}}}o.on("error",ny[e](e,t))},"CLOSED-CAPTIONS":(e,t)=>{const{tech:i,main:{mediaGroups:n},mediaTypes:{[e]:{groups:s,tracks:o}}}=t;for(const t in n[e]){s[t]||(s[t]=[]);for(const r in n[e][t]){const a=n[e][t][r];if(!/^(?:CC|SERVICE)/.test(a.instreamId))continue;const l=i.options_.vhs&&i.options_.vhs.captionServices||{};let c={label:r,language:a.language,instreamId:a.instreamId,default:a.default&&a.autoselect};if(l[c.instreamId]&&(c=Sm(c,l[c.instreamId])),void 0===c.default&&delete c.default,s[t].push(Sm({id:r},a)),void 0===o[r]){const e=i.addRemoteTextTrack({id:c.instreamId,kind:"captions",default:c.default,language:c.language,label:c.label},!1).track;o[r]=e}}}}},ry=(e,t)=>{for(let i=0;i<e.length;i++){if(Xm(t,e[i]))return!0;if(e[i].playlists&&ry(e[i].playlists,t))return!0}return!1},ay={AUDIO:(e,t)=>()=>{const{mediaTypes:{[e]:{tracks:i}}}=t;for(const e in i)if(i[e].enabled)return i[e];return null},SUBTITLES:(e,t)=>()=>{const{mediaTypes:{[e]:{tracks:i}}}=t;for(const e in i)if("showing"===i[e].mode||"hidden"===i[e].mode)return i[e];return null}};let ly;const cy=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],dy=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]};class uy extends gm.EventTarget{constructor(e){super();const{src:t,withCredentials:i,tech:n,bandwidth:s,externVhs:o,useCueTags:r,playlistExclusionDuration:a,enableLowInitialPlaylist:l,sourceType:c,cacheEncryptionKeys:d,bufferBasedABR:u,leastPixelDiffSelector:h,captionServices:p}=e;if(!t)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:f}=e;null==f&&(f=1/0),ly=o,this.bufferBasedABR=Boolean(u),this.leastPixelDiffSelector=Boolean(h),this.withCredentials=i,this.tech_=n,this.vhs_=n.vhs,this.sourceType_=c,this.useCueTags_=r,this.playlistExclusionDuration=a,this.maxPlaylistRetries=f,this.enableLowInitialPlaylist=l,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:i,maxPlaylistRetries:f,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=(()=>{const e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((t=>{e[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Tv,activeTrack:Tv,getActiveGroup:Tv,onGroupChanged:Tv,onTrackChanged:Tv,lastTrack_:null,logger_:km(`MediaGroups[${t}]`)}})),e})(),this.mediaSource=new(al().MediaSource),this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.seekable_=Tm(),this.hasPlayed_=!1,this.syncController_=new Kv(e),this.segmentMetadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new Jv,this.sourceUpdater_=new Vv(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new Qv;const m={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:p,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:s,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:d,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_="dash"===this.sourceType_?new Pg(t,this.vhs_,Sm(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new pg(t,this.vhs_,Sm(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new Sv(Sm(m,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new Sv(Sm(m,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new Gv(Sm(m,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise(((e,t)=>{function i(){n.off("vttjserror",s),e()}function s(){n.off("vttjsloaded",i),t()}n.one("vttjsloaded",i),n.one("vttjserror",s),n.addWebVttScript_()}))}),e),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",(()=>this.startABRTimer_())),this.tech_.on("pause",(()=>this.stopABRTimer_())),this.tech_.on("play",(()=>this.startABRTimer_()))),cy.forEach((e=>{this[e+"_"]=dy.bind(this,e)})),this.logger_=km("pc"),this.triggeredFmp4Usage=!1,"none"===this.tech_.preload()?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const g="none"===this.tech_.preload()?"play":"loadstart";this.tech_.one(g,(()=>{const e=Date.now();this.tech_.one("loadeddata",(()=>{this.timeToLoadedData__=Date.now()-e,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends}))}))}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),t=this.audioAppendsToLoadedData_();return-1===e||-1===t?-1:e+t}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const t=this.selectPlaylist();t&&this.shouldSwitchToMedia_(t)&&this.switchMedia_(t,e)}switchMedia_(e,t,i){const n=this.media(),s=n&&(n.id||n.uri),o=e.id||e.uri;s&&s!==o&&(this.logger_(`switch media ${s} -> ${o} from ${t}`),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${t}`})),this.mainPlaylistLoader_.media(e,i)}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=al().setInterval((()=>this.checkABR_()),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(al().clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),t=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return t;const i=e.mediaGroups.AUDIO,n=Object.keys(i);let s;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)s=this.mediaTypes_.AUDIO.activeTrack();else{const e=i.main||n.length&&i[n[0]];for(const t in e)if(e[t].default){s={label:t};break}}if(!s)return t;const o=[];for(const t in i)if(i[t][s.label]){const n=i[t][s.label];if(n.playlists&&n.playlists.length)o.push.apply(o,n.playlists);else if(n.uri)o.push(n);else if(e.playlists.length)for(let i=0;i<e.playlists.length;i++){const n=e.playlists[i];n.attributes&&n.attributes.AUDIO&&n.attributes.AUDIO===t&&o.push(n)}}return o.length?o:t}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",(()=>{const e=this.mainPlaylistLoader_.media(),t=1.5*e.targetDuration*1e3;Ym(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=t,e.endList&&"none"!==this.tech_.preload()&&(this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.mainSegmentLoader_.load()),(e=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((t=>{oy[t](t,e)}));const{mediaTypes:t,mainPlaylistLoader:i,tech:n,vhs:s,segmentLoaders:{AUDIO:o,main:r}}=e;["AUDIO","SUBTITLES"].forEach((i=>{t[i].activeGroup=((e,t)=>i=>{const{mainPlaylistLoader:n,mediaTypes:{[e]:{groups:s}}}=t,o=n.media();if(!o)return null;let r=null;o.attributes[e]&&(r=s[o.attributes[e]]);const a=Object.keys(s);if(!r)if("AUDIO"===e&&a.length>1&&Qm(t.main))for(let e=0;e<a.length;e++){const t=s[a[e]];if(ry(t,o)){r=t;break}}else s.main?r=s.main:1===a.length&&(r=s[a[0]]);return void 0===i?r:null!==i&&r&&r.filter((e=>e.id===i.id))[0]||null})(i,e),t[i].activeTrack=ay[i](i,e),t[i].onGroupChanged=((e,t)=>()=>{const{segmentLoaders:{[e]:i,main:n},mediaTypes:{[e]:s}}=t,o=s.activeTrack(),r=s.getActiveGroup(),a=s.activePlaylistLoader,l=s.lastGroup_;r&&l&&r.id===l.id||(s.lastGroup_=r,s.lastTrack_=o,ty(i,s),r&&!r.isMainPlaylist&&(r.playlistLoader?(i.resyncLoader(),iy(r.playlistLoader,s)):a&&n.resetEverything()))})(i,e),t[i].onGroupChanging=((e,t)=>()=>{const{segmentLoaders:{[e]:i},mediaTypes:{[e]:n}}=t;n.lastGroup_=null,i.abort(),i.pause()})(i,e),t[i].onTrackChanged=((e,t)=>()=>{const{mainPlaylistLoader:i,segmentLoaders:{[e]:n,main:s},mediaTypes:{[e]:o}}=t,r=o.activeTrack(),a=o.getActiveGroup(),l=o.activePlaylistLoader,c=o.lastTrack_;if((!c||!r||c.id!==r.id)&&(o.lastGroup_=a,o.lastTrack_=r,ty(n,o),a)){if(a.isMainPlaylist){if(!r||!c||r.id===c.id)return;const e=t.vhs.playlistController_,n=e.selectPlaylist();if(e.media()===n)return;return o.logger_(`track change. Switching main audio from ${c.id} to ${r.id}`),i.pause(),s.resetEverything(),void e.fastQualityChange_(n)}if("AUDIO"===e){if(!a.playlistLoader)return s.setAudio(!0),void s.resetEverything();n.setAudio(!0),s.setAudio(!1)}l!==a.playlistLoader?(n.track&&n.track(r),n.resetEverything(),iy(a.playlistLoader,o)):iy(a.playlistLoader,o)}})(i,e),t[i].getActiveGroup=((e,{mediaTypes:t})=>()=>{const i=t[e].activeTrack();return i?t[e].activeGroup(i):null})(i,e)}));const a=t.AUDIO.activeGroup();if(a){const e=(a.filter((e=>e.default))[0]||a[0]).id;t.AUDIO.tracks[e].enabled=!0,t.AUDIO.onGroupChanged(),t.AUDIO.onTrackChanged(),t.AUDIO.getActiveGroup().playlistLoader?(r.setAudio(!1),o.setAudio(!0)):r.setAudio(!0)}i.on("mediachange",(()=>{["AUDIO","SUBTITLES"].forEach((e=>t[e].onGroupChanged()))})),i.on("mediachanging",(()=>{["AUDIO","SUBTITLES"].forEach((e=>t[e].onGroupChanging()))}));const l=()=>{t.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"vhs-audio-change"})};n.audioTracks().addEventListener("change",l),n.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),s.on("dispose",(()=>{n.audioTracks().removeEventListener("change",l),n.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)})),n.clearTracks("audio");for(const e in t.AUDIO.tracks)n.audioTracks().addTrack(t.AUDIO.tracks[e])})({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),e),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",(()=>{this.trigger("selectedinitialmedia")}))})),this.mainPlaylistLoader_.on("loadedplaylist",(()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let e=this.mainPlaylistLoader_.media();if(!e){let t;if(this.excludeUnsupportedVariants_(),this.enableLowInitialPlaylist&&(t=this.selectInitialPlaylist()),t||(t=this.selectPlaylist()),!t||!this.shouldSwitchToMedia_(t))return;if(this.initialMedia_=t,this.switchMedia_(this.initialMedia_,"initial"),"vhs-json"!==this.sourceType_||!this.initialMedia_.segments)return;e=this.initialMedia_}this.handleUpdatedMediaPlaylist(e)})),this.mainPlaylistLoader_.on("error",(()=>{const e=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:e.playlist,error:e})})),this.mainPlaylistLoader_.on("mediachanging",(()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()})),this.mainPlaylistLoader_.on("mediachange",(()=>{const e=this.mainPlaylistLoader_.media(),t=1.5*e.targetDuration*1e3;Ym(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=t,this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})})),this.mainPlaylistLoader_.on("playlistunchanged",(()=>{const e=this.mainPlaylistLoader_.media();"playlist-unchanged"!==e.lastExcludeReason_&&this.stuckAtPlaylistEnd_(e)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))})),this.mainPlaylistLoader_.on("renditiondisabled",(()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})})),this.mainPlaylistLoader_.on("renditionenabled",(()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})}))}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,t){const i=e.mediaGroups||{};let n=!0;const s=Object.keys(i.AUDIO);for(const e in i.AUDIO)for(const t in i.AUDIO[e])i.AUDIO[e][t].uri||(n=!1);n&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(i.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),ly.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),s.length&&Object.keys(i.AUDIO[s[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const t=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,i=this.tech_.currentTime(),n=this.bufferLowWaterLine(),s=this.bufferHighWaterLine();return function({currentPlaylist:e,buffered:t,currentTime:i,nextPlaylist:n,bufferLowWaterLine:s,bufferHighWaterLine:o,duration:r,bufferBasedABR:a,log:l}){if(!n)return gm.log.warn("We received no playlist to switch to. Please check your stream."),!1;const c=`allowing switch ${e&&e.id||"null"} -> ${n.id}`;if(!e)return l(`${c} as current playlist is not set`),!0;if(n.id===e.id)return!1;const d=Boolean(Im(t,i).length);if(!e.endList)return d||"number"!=typeof e.partTargetDuration?(l(`${c} as current playlist is live`),!0):(l(`not ${c} as current playlist is live llhls, but currentTime isn't in buffered.`),!1);const u=Lm(t,i),h=a?Lg.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Lg.MAX_BUFFER_LOW_WATER_LINE;if(r<h)return l(`${c} as duration < max low water line (${r} < ${h})`),!0;const p=n.attributes.BANDWIDTH,f=e.attributes.BANDWIDTH;if(p<f&&(!a||u<o)){let e=`${c} as next bandwidth < current bandwidth (${p} < ${f})`;return a&&(e+=` and forwardBuffer < bufferHighWaterLine (${u} < ${o})`),l(e),!0}if((!a||p>f)&&u>=s){let e=`${c} as forwardBuffer >= bufferLowWaterLine (${u} >= ${s})`;return a&&(e+=` and next bandwidth > current bandwidth (${p} > ${f})`),l(e),!0}return l(`not ${c} as no switching criteria met`),!1}({buffered:this.tech_.buffered(),currentTime:i,currentPlaylist:t,nextPlaylist:e,bufferLowWaterLine:n,bufferHighWaterLine:s,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",(()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")})),this.mainSegmentLoader_.on("timeout",(()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()})),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",(()=>{this.trigger("progress")})),this.mainSegmentLoader_.on("error",(()=>{const e=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:e.playlist,error:e})})),this.mainSegmentLoader_.on("appenderror",(()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")})),this.mainSegmentLoader_.on("syncinfoupdate",(()=>{this.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("timestampoffset",(()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})})),this.audioSegmentLoader_.on("syncinfoupdate",(()=>{this.onSyncInfoUpdate_()})),this.audioSegmentLoader_.on("appenderror",(()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")})),this.mainSegmentLoader_.on("ended",(()=>{this.logger_("main segment loader ended"),this.onEndOfStream()})),this.mainSegmentLoader_.on("earlyabort",(e=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:10}))}));const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const e=this.getCodecsOrExclude_();e&&this.sourceUpdater_.addOrChangeSourceBuffers(e)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",(()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("fmp4",(()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("ended",(()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()}))}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}fastQualityChange_(e=this.selectPlaylist()){e!==this.mainPlaylistLoader_.media()?(this.switchMedia_(e,"fast-quality"),this.resetMainLoaderReplaceSegments()):this.logger_("skipping fastQualityChange because new media is same as old")}resetMainLoaderReplaceSegments(){const e=this.tech_.buffered(),t=e.end(e.length-1);this.mainSegmentLoader_.replaceSegmentsUntil=t,this.mainSegmentLoader_.resetLoaderProperties(),this.mainSegmentLoader_.resetLoader()}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const t=this.seekable();if(!t.length)return!1;const i=t.end(0);let n=i;if(e.start){const s=e.start.timeOffset;n=s<0?Math.max(i+s,t.start(0)):Math.min(i,s)}this.trigger("firstplay"),this.tech_.setCurrentTime(n)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,(e=>{}))}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const t=this.duration();e[e.length-1].endTime=isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const t=this.mainSegmentLoader_.getCurrentMediaInfo_();e=!t||t.hasVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const t=this.syncController_.getExpiredTime(e,this.duration());if(null===t)return!1;const i=ly.Playlist.playlistEnd(e,t),n=this.tech_.currentTime(),s=this.tech_.buffered();if(!s.length)return i-n<=Em;const o=s.end(s.length-1);return o-n<=Em&&i-o<=Em}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:t={},playlistExclusionDuration:i}){if(e=e||this.mainPlaylistLoader_.media(),i=i||t.playlistExclusionDuration||this.playlistExclusionDuration,!e)return this.error=t,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));e.playlistErrors_++;const n=this.mainPlaylistLoader_.main.playlists,s=n.filter(Wm),o=1===s.length&&s[0]===e;if(1===n.length&&i!==1/0)return gm.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(o);if(o){let t=!1;n.forEach((i=>{if(i===e)return;const n=i.excludeUntil;void 0!==n&&n!==1/0&&(t=!0,delete i.excludeUntil)})),t&&(gm.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let r;r=e.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*i,e.excludeUntil=r,t.reason&&(e.lastExcludeReason_=t.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const a=this.selectPlaylist();if(!a)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");const l=t.internal?this.logger_:gm.log.warn,c=t.message?" "+t.message:"";l(`${t.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${c} Switching to playlist ${a.id}.`),a.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),a.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const d=a.targetDuration/2*1e3||5e3,u="number"==typeof a.lastRequest&&Date.now()-a.lastRequest<=d;return this.switchMedia_(a,"exclude",o||u)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,t){const i=[],n="all"===e;(n||"main"===e)&&i.push(this.mainPlaylistLoader_);const s=[];(n||"audio"===e)&&s.push("AUDIO"),(n||"subtitle"===e)&&(s.push("CLOSED-CAPTIONS"),s.push("SUBTITLES")),s.forEach((e=>{const t=this.mediaTypes_[e]&&this.mediaTypes_[e].activePlaylistLoader;t&&i.push(t)})),["main","audio","subtitle"].forEach((t=>{const n=this[`${t}SegmentLoader_`];!n||e!==t&&"all"!==e||i.push(n)})),i.forEach((e=>t.forEach((t=>{"function"==typeof e[t]&&e[t]()}))))}setCurrentTime(e){const t=Im(this.tech_.buffered(),e);return this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media()&&this.mainPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.resetEverything(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.resetEverything(),void this.load()):0}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:ly.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}onSyncInfoUpdate_(){let e;if(!this.mainPlaylistLoader_)return;let t=this.mainPlaylistLoader_.media();if(!t)return;let i=this.syncController_.getExpiredTime(t,this.duration());if(null===i)return;const n=this.mainPlaylistLoader_.main,s=ly.Playlist.seekable(t,i,ly.Playlist.liveEdgeDelay(n,t));if(0===s.length)return;if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(t=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),i=this.syncController_.getExpiredTime(t,this.duration()),null===i)return;if(e=ly.Playlist.seekable(t,i,ly.Playlist.liveEdgeDelay(n,t)),0===e.length)return}let o,r;this.seekable_&&this.seekable_.length&&(o=this.seekable_.end(0),r=this.seekable_.start(0)),e?e.start(0)>s.end(0)||s.start(0)>e.end(0)?this.seekable_=s:this.seekable_=Tm([[e.start(0)>s.start(0)?e.start(0):s.start(0),e.end(0)<s.end(0)?e.end(0):s.end(0)]]):this.seekable_=s,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===o&&this.seekable_.start(0)===r||(this.logger_(`seekable updated [${Om(this.seekable_)}]`),this.tech_.trigger("seekablechanged"))}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,e),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(e){const e=this.seekable();if(!e.length)return;return void((isNaN(this.mediaSource.duration)||this.mediaSource.duration<e.end(e.length-1))&&this.sourceUpdater_.setDuration(e.end(e.length-1)))}const t=this.tech_.buffered();let i=ly.Playlist.duration(this.mainPlaylistLoader_.media());t.length>0&&(i=Math.max(i,t.end(t.length-1))),this.mediaSource.duration!==i&&this.sourceUpdater_.setDuration(i)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach((e=>{const t=this.mediaTypes_[e].groups;for(const e in t)t[e].forEach((e=>{e.playlistLoader&&e.playlistLoader.dispose()}))})),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,t=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),i=!e||!!this.audioSegmentLoader_.getCurrentMediaInfo_();return!(!t||!i)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},t=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const i=rv(this.main(),t),n={},s=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(n.video=i.video||e.main.videoCodec||"avc1.4d400d"),e.main.isMuxed&&(n.video+=`,${i.audio||e.main.audioCodec||Hl}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||s)&&(n.audio=i.audio||e.main.audioCodec||e.audio.audioCodec||Hl,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!n.audio&&!n.video)return void this.excludePlaylist({playlistToExclude:t,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});const o={};let r;if(["video","audio"].forEach((function(t){if(n.hasOwnProperty(t)&&(i=e[t].isFmp4,s=n[t],!(i?Fl(s):zl(s)))){const i=e[t].isFmp4?"browser":"muxer";o[i]=o[i]||[],o[i].push(n[t]),"audio"===t&&(r=i)}var i,s})),s&&r&&t.attributes.AUDIO){const e=t.attributes.AUDIO;this.main().playlists.forEach((i=>{(i.attributes&&i.attributes.AUDIO)===e&&i!==t&&(i.excludeUntil=1/0)})),this.logger_(`excluding audio group ${e} as ${r} does not support codec(s): "${n.audio}"`)}if(!Object.keys(o).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const e=[];if(["video","audio"].forEach((t=>{const i=(Rl(this.sourceUpdater_.codecs[t]||"")[0]||{}).type,s=(Rl(n[t]||"")[0]||{}).type;i&&s&&i.toLowerCase()!==s.toLowerCase()&&e.push(`"${this.sourceUpdater_.codecs[t]}" -> "${n[t]}"`)})),e.length)return void this.excludePlaylist({playlistToExclude:t,error:{message:`Codec switching not supported: ${e.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0})}return n}{const e=Object.keys(o).reduce(((e,t)=>(e&&(e+=", "),e+`${t} does not support codec(s): "${o[t].join(",")}"`)),"")+".";this.excludePlaylist({playlistToExclude:t,error:{internal:!0,message:e},playlistExclusionDuration:1/0})}}tryToCreateSourceBuffers_(){if("open"!==this.mediaSource.readyState||this.sourceUpdater_.hasCreatedSourceBuffers())return;if(!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const t=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(t)}excludeUnsupportedVariants_(){const e=this.main().playlists,t=[];Object.keys(e).forEach((i=>{const n=e[i];if(-1!==t.indexOf(n.id))return;t.push(n.id);const s=rv(this.main,n),o=[];!s.audio||zl(s.audio)||Fl(s.audio)||o.push(`audio codec ${s.audio}`),!s.video||zl(s.video)||Fl(s.video)||o.push(`video codec ${s.video}`),s.text&&"stpp.ttml.im1t"===s.text&&o.push(`text codec ${s.text}`),o.length&&(n.excludeUntil=1/0,this.logger_(`excluding ${n.id} for unsupported: ${o.join(", ")}`))}))}excludeIncompatibleVariants_(e){const t=[],i=this.main().playlists,n=sv(Rl(e)),s=ov(n),o=n.video&&Rl(n.video)[0]||null,r=n.audio&&Rl(n.audio)[0]||null;Object.keys(i).forEach((e=>{const n=i[e];if(-1!==t.indexOf(n.id)||n.excludeUntil===1/0)return;t.push(n.id);const a=[],l=rv(this.mainPlaylistLoader_.main,n),c=ov(l);if(l.audio||l.video){if(c!==s&&a.push(`codec count "${c}" !== "${s}"`),!this.sourceUpdater_.canChangeType()){const e=l.video&&Rl(l.video)[0]||null,t=l.audio&&Rl(l.audio)[0]||null;e&&o&&e.type.toLowerCase()!==o.type.toLowerCase()&&a.push(`video codec "${e.type}" !== "${o.type}"`),t&&r&&t.type.toLowerCase()!==r.type.toLowerCase()&&a.push(`audio codec "${t.type}" !== "${r.type}"`)}a.length&&(n.excludeUntil=1/0,this.logger_(`excluding ${n.id}: ${a.join(" && ")}`))}}))}updateAdCues_(e){let t=0;const i=this.seekable();i.length&&(t=i.start(0)),function(e,t,i=0){if(!e.segments)return;let n,s=i;for(let i=0;i<e.segments.length;i++){const o=e.segments[i];if(n||(n=Yv(t,s+o.duration/2)),n){if("cueIn"in o){n.endTime=s,n.adEndTime=s,s+=o.duration,n=null;continue}if(s<n.endTime){s+=o.duration;continue}n.endTime+=o.duration}else if("cueOut"in o&&(n=new(al().VTTCue)(s,s+o.duration,o.cueOut),n.adStartTime=s,n.adEndTime=s+parseFloat(o.cueOut),t.addCue(n)),"cueOutCont"in o){const[e,i]=o.cueOutCont.split("/").map(parseFloat);n=new(al().VTTCue)(s,s+o.duration,""),n.adStartTime=s-e,n.adEndTime=n.adStartTime+i,t.addCue(n)}s+=o.duration}}(e,this.cueTagsTrack_,t)}goalBufferLength(){const e=this.tech_.currentTime(),t=Lg.GOAL_BUFFER_LENGTH,i=Lg.GOAL_BUFFER_LENGTH_RATE,n=Math.max(t,Lg.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*i,n)}bufferLowWaterLine(){const e=this.tech_.currentTime(),t=Lg.BUFFER_LOW_WATER_LINE,i=Lg.BUFFER_LOW_WATER_LINE_RATE,n=Math.max(t,Lg.MAX_BUFFER_LOW_WATER_LINE),s=Math.max(t,Lg.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*i,this.bufferBasedABR?s:n)}bufferHighWaterLine(){return Lg.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){gv(this.inbandTextTracks_,"com.apple.streaming",this.tech_),(({inbandTextTracks:e,dateRanges:t})=>{const i=e.metadataTrack_;if(!i)return;const n=al().WebKitDataCue||al().VTTCue;t.forEach((e=>{for(const t of Object.keys(e)){if(mv.has(t))continue;const s=new n(e.startTime,e.endTime,"");s.id=e.id,s.type="com.apple.quicktime.HLS",s.value={key:fv[t],data:e[t]},"scte35Out"!==t&&"scte35In"!==t||(s.value.data=new Uint8Array(s.value.data.match(/[\da-f]{2}/gi)).buffer),i.addCue(s)}e.processDateRange()}))})({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,t,i){const n=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();gv(this.inbandTextTracks_,e,this.tech_),(({inbandTextTracks:e,metadataArray:t,timestampOffset:i,videoDuration:n})=>{if(!t)return;const s=al().WebKitDataCue||al().VTTCue,o=e.metadataTrack_;if(!o)return;if(t.forEach((e=>{const t=e.cueTime+i;!("number"!=typeof t||al().isNaN(t)||t<0)&&t<1/0&&e.frames&&e.frames.length&&e.frames.forEach((e=>{const i=new s(t,t,e.value||e.url||e.data||"");i.frame=e,i.value=e,function(e){Object.defineProperties(e.frame,{id:{get:()=>(gm.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key)},value:{get:()=>(gm.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data)},privateData:{get:()=>(gm.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data)}})}(i),o.addCue(i)}))})),!o.cues||!o.cues.length)return;const r=o.cues,a=[];for(let e=0;e<r.length;e++)r[e]&&a.push(r[e]);const l=a.reduce(((e,t)=>{const i=e[t.startTime]||[];return i.push(t),e[t.startTime]=i,e}),{}),c=Object.keys(l).sort(((e,t)=>Number(e)-Number(t)));c.forEach(((e,t)=>{const i=l[e],s=isFinite(n)?n:0,o=Number(c[t+1])||s;i.forEach((e=>{e.endTime=o}))}))})({inbandTextTracks:this.inbandTextTracks_,metadataArray:t,timestampOffset:n,videoDuration:i})}}class hy{constructor(e,t,i){const{playlistController_:n}=e,s=n.fastQualityChange_.bind(n);if(t.attributes){const e=t.attributes.RESOLUTION;this.width=e&&e.width,this.height=e&&e.height,this.bandwidth=t.attributes.BANDWIDTH,this.frameRate=t.attributes["FRAME-RATE"]}var o,r,a;this.codecs=rv(n.main(),t),this.playlist=t,this.id=i,this.enabled=(o=e.playlists,r=t.id,a=s,e=>{const t=o.main.playlists[r],i=$m(t),n=Wm(t);return void 0===e?n:(e?delete t.disabled:t.disabled=!0,e===n||i||(a(),e?o.trigger("renditionenabled"):o.trigger("renditiondisabled")),e)})}}const py=["seeking","seeked","pause","playing","error"];class fy{constructor(e){this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=km("PlaybackWatcher"),this.logger_("initialize");const t=()=>this.monitorCurrentTime_(),i=()=>this.monitorCurrentTime_(),n=()=>this.techWaiting_(),s=()=>this.resetTimeUpdate_(),o=this.playlistController_,r=["main","subtitle","audio"],a={};r.forEach((e=>{a[e]={reset:()=>this.resetSegmentDownloads_(e),updateend:()=>this.checkSegmentDownloads_(e)},o[`${e}SegmentLoader_`].on("appendsdone",a[e].updateend),o[`${e}SegmentLoader_`].on("playlistupdate",a[e].reset),this.tech_.on(["seeked","seeking"],a[e].reset)}));const l=e=>{["main","audio"].forEach((t=>{o[`${t}SegmentLoader_`][e]("appended",this.seekingAppendCheck_)}))};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),l("off"))},this.clearSeekingAppendCheck_=()=>l("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),l("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",n),this.tech_.on(py,s),this.tech_.on("canplay",i),this.tech_.one("play",t),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",n),this.tech_.off(py,s),this.tech_.off("canplay",i),this.tech_.off("play",t),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),r.forEach((e=>{o[`${e}SegmentLoader_`].off("appendsdone",a[e].updateend),o[`${e}SegmentLoader_`].off("playlistupdate",a[e].reset),this.tech_.off(["seeked","seeking"],a[e].reset)})),this.checkCurrentTimeTimeout_&&al().clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&al().clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=al().setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const t=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=t.buffered_()}checkSegmentDownloads_(e){const t=this.playlistController_,i=t[`${e}SegmentLoader_`],n=i.buffered_(),s=function(e,t){if(e===t)return!1;if(!e&&t||!t&&e)return!0;if(e.length!==t.length)return!0;for(let i=0;i<e.length;i++)if(e.start(i)!==t.start(i)||e.end(i)!==t.end(i))return!0;return!1}(this[`${e}Buffered_`],n);this[`${e}Buffered_`]=n,s?this.resetSegmentDownloads_(e):(this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:i.playlist_&&i.playlist_.id,buffered:Dm(n)}),this[`${e}StalledDownloads_`]<10||(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),"subtitle"!==e&&t.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0})))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+Em>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const e=this.seekable(),t=this.tech_.currentTime();let i;if(this.afterSeekableWindow_(e,t,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(i=e.end(e.length-1)),this.beforeSeekableWindow_(e,t)){const t=e.start(0);i=t+(t===e.end(0)?0:Em)}if(void 0!==i)return this.logger_(`Trying to seek outside of seekable at time ${t} with seekable range ${Om(e)}. Seeking to ${i}.`),this.tech_.setCurrentTime(i),!0;const n=this.playlistController_.sourceUpdater_,s=this.tech_.buffered(),o=n.audioBuffer?n.audioBuffered():null,r=n.videoBuffer?n.videoBuffered():null,a=this.media(),l=a.partTargetDuration?a.partTargetDuration:2*(a.targetDuration-Cm),c=[o,r];for(let e=0;e<c.length;e++)if(c[e]&&Lm(c[e],t)<l)return!1;const d=Mm(s,t);return 0!==d.length&&(i=d.start(0)+Em,this.logger_(`Buffered region starts (${d.start(0)})  just beyond seek point (${t}). Seeking to ${i}.`),this.tech_.setCurrentTime(i),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),t=this.tech_.buffered(),i=Im(t,e);return i.length&&e+3<=i.end(0)?(this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${i.start(0)} -> ${i.end(0)}]. Attempting to resume playback by seeking to the current time.`),void this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"})):void 0}techWaiting_(){const e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,t)){const i=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${t}. Seeking to live point (seekable end) ${i}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(i),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const i=this.tech_.vhs.playlistController_.sourceUpdater_,n=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:i.audioBuffered(),videoBuffered:i.videoBuffered(),currentTime:t}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const s=Mm(n,t);return s.length>0&&(this.logger_(`Stopped at ${t} and seeking to ${s.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(t),!0)}afterSeekableWindow_(e,t,i,n=!1){if(!e.length)return!1;let s=e.end(e.length-1)+Em;const o=!i.endList,r="number"==typeof i.partTargetDuration;return o&&(r||n)&&(s=e.end(e.length-1)+3*i.targetDuration),t>s}beforeSeekableWindow_(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:t,currentTime:i}){if(!e)return;let n;if(e.length&&t.length){const s=Im(e,i-3),o=Im(e,i),r=Im(t,i);r.length&&!o.length&&s.length&&(n={start:s.end(0),end:r.end(0)})}else Mm(e,i).length||(n=this.gapFromVideoUnderflow_(e,i));return!!n&&(this.logger_(`Encountered a gap in video from ${n.start} to ${n.end}. Seeking to current time ${i}`),!0)}skipTheGap_(e){const t=this.tech_.buffered(),i=this.tech_.currentTime(),n=Mm(t,i);this.resetTimeUpdate_(),0!==n.length&&i===e&&(this.logger_("skipTheGap_:","currentTime:",i,"scheduled currentTime:",e,"nextRange start:",n.start(0)),this.tech_.setCurrentTime(n.start(0)+Cm),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}))}gapFromVideoUnderflow_(e,t){const i=function(e){if(e.length<2)return Tm();const t=[];for(let i=1;i<e.length;i++){const n=e.end(i-1),s=e.start(i);t.push([n,s])}return Tm(t)}(e);for(let e=0;e<i.length;e++){const n=i.start(e),s=i.end(e);if(t-n<4&&t-n>2)return{start:n,end:s}}return null}}const my={errorInterval:30,getSource(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},gy=function(e,t){let i=0,n=0;const s=Sm(my,t);e.ready((()=>{e.trigger({type:"usage",name:"vhs-error-reload-initialized"})}));const o=function(){n&&e.currentTime(n)},r=function(t){null!=t&&(n=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",o),e.src(t),e.trigger({type:"usage",name:"vhs-error-reload"}),e.play())},a=function(){if(Date.now()-i<1e3*s.errorInterval)e.trigger({type:"usage",name:"vhs-error-reload-canceled"});else{if(s.getSource&&"function"==typeof s.getSource)return i=Date.now(),s.getSource.call(e,r);gm.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}},l=function(){e.off("loadedmetadata",o),e.off("error",a),e.off("dispose",l)};e.on("error",a),e.on("dispose",l),e.reloadSourceOnError=function(t){l(),gy(e,t)}};var vy="3.5.3";const yy={PlaylistLoader:pg,Playlist:Zm,utils:Tg,STANDARD_PLAYLIST_SELECTOR:pv,INITIAL_PLAYLIST_SELECTOR:function(){const e=this.playlists.main.playlists.filter(Zm.isEnabled);return dv(e,((e,t)=>uv(e,t))),e.filter((e=>!!rv(this.playlists.main,e).video))[0]||null},lastBandwidthSelector:pv,movingAverageBandwidthSelector:function(e){let t=-1,i=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){const n=this.useDevicePixelRatio&&al().devicePixelRatio||1;return t<0&&(t=this.systemBandwidth,i=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==i&&(t=e*this.systemBandwidth+(1-e)*t,i=this.systemBandwidth),hv(this.playlists.main,t,parseInt(cv(this.tech_.el(),"width"),10)*n,parseInt(cv(this.tech_.el(),"height"),10)*n,this.limitRenditionByPlayerDimensions,this.playlistController_)}},comparePlaylistBandwidth:uv,comparePlaylistResolution:function(e,t){let i,n;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||al().Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),n=n||al().Number.MAX_VALUE,i===n&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:i-n},xhr:gg()};Object.keys(Lg).forEach((e=>{Object.defineProperty(yy,e,{get:()=>(gm.log.warn(`using Vhs.${e} is UNSAFE be sure you know what you are doing`),Lg[e]),set(t){gm.log.warn(`using Vhs.${e} is UNSAFE be sure you know what you are doing`),"number"!=typeof t||t<0?gm.log.warn(`value of Vhs.${e} must be greater than or equal to 0`):Lg[e]=t}})}));const by="videojs-vhs",_y=function(e,t){const i=t.media();let n=-1;for(let t=0;t<e.length;t++)if(e[t].id===i.id){n=t;break}e.selectedIndex_=n,e.trigger({selectedIndex:n,type:"change"})};yy.canPlaySource=function(){return gm.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const xy=()=>{if(!al().localStorage)return null;const e=al().localStorage.getItem(by);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},wy=(e,t)=>{e._requestCallbackSet||(e._requestCallbackSet=new Set),e._requestCallbackSet.add(t)},ky=(e,t)=>{e._responseCallbackSet||(e._responseCallbackSet=new Set),e._responseCallbackSet.add(t)},Sy=(e,t)=>{e._requestCallbackSet&&(e._requestCallbackSet.delete(t),e._requestCallbackSet.size||delete e._requestCallbackSet)},Ty=(e,t)=>{e._responseCallbackSet&&(e._responseCallbackSet.delete(t),e._responseCallbackSet.size||delete e._responseCallbackSet)};yy.supportsNativeHls=function(){if(!cl()||!cl().createElement)return!1;const e=cl().createElement("video");return!!gm.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some((function(t){return/maybe|probably/i.test(e.canPlayType(t))}))}(),yy.supportsNativeDash=!!(cl()&&cl().createElement&&gm.getTech("Html5").isSupported())&&/maybe|probably/i.test(cl().createElement("video").canPlayType("application/dash+xml")),yy.supportsTypeNatively=e=>"hls"===e?yy.supportsNativeHls:"dash"===e&&yy.supportsNativeDash,yy.isSupported=function(){return gm.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")},yy.xhr.onRequest=function(e){wy(yy.xhr,e)},yy.xhr.onResponse=function(e){ky(yy.xhr,e)},yy.xhr.offRequest=function(e){Sy(yy.xhr,e)},yy.xhr.offResponse=function(e){Ty(yy.xhr,e)};const Cy=gm.getComponent("Component");class Ey extends Cy{constructor(e,t,i){if(super(t,i.vhs),"number"==typeof i.initialBandwidth&&(this.options_.bandwidth=i.initialBandwidth),this.logger_=km("VhsHandler"),t.options_&&t.options_.playerId){const e=gm.getPlayer(t.options_.playerId);this.player_=e}if(this.tech_=t,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&t.overrideNativeAudioTracks&&t.overrideNativeVideoTracks)t.overrideNativeAudioTracks(!0),t.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(cl(),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],(e=>{const t=cl().fullscreenElement||cl().webkitFullscreenElement||cl().mozFullScreenElement||cl().msFullscreenElement;t&&t.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()})),this.on(this.tech_,"seeking",(function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())})),this.on(this.tech_,"error",(function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()})),this.on(this.tech_,"play",this.play)}setOptions_(){if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=!1!==this.options_.llhls,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,"number"!=typeof this.options_.playlistExclusionDuration&&(this.options_.playlistExclusionDuration=60),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){const e=xy();e&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),e&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=Lg.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Lg.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach((e=>{void 0!==this.source_[e]&&(this.options_[e]=this.source_[e])})),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio}src(e,t){if(!e)return;var i;this.setOptions_(),this.options_.src=0===(i=this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(i.substring(i.indexOf(",")+1)):i,this.options_.tech=this.tech_,this.options_.externVhs=yy,this.options_.sourceType=$l(t),this.options_.seekTo=e=>{this.tech_.setCurrentTime(e)},this.playlistController_=new uy(this.options_);const n=Sm({liveRangeSafeTimeDelta:Em},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new fy(n),this.playlistController_.on("error",(()=>{const e=gm.players[this.tech_.options_.playerId];let t=this.playlistController_.error;"object"!=typeof t||t.code?"string"==typeof t&&(t={message:t,code:3}):t.code=3,e.error(t)}));const s=this.options_.bufferBasedABR?yy.movingAverageBandwidthSelector(.55):yy.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):s.bind(this),this.playlistController_.selectInitialPlaylist=yy.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(e){this.playlistController_.selectPlaylist=e.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(e){this.playlistController_.mainSegmentLoader_.throughput.rate=e,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let e=this.playlistController_.mainSegmentLoader_.bandwidth;const t=al().navigator.connection||al().navigator.mozConnection||al().navigator.webkitConnection,i=1e7;if(this.options_.useNetworkInformationApi&&t){const n=1e3*t.downlink*1e3;e=n>=i&&e>=i?Math.max(e,n):n}return e},set(e){this.playlistController_.mainSegmentLoader_.bandwidth=e,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const e=1/(this.bandwidth||1);let t;return t=this.throughput>0?1/this.throughput:0,Math.floor(1/(e+t))},set(){gm.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>Dm(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>Dm(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",(()=>{this.options_.useBandwidthFromLocalStorage&&(e=>{if(!al().localStorage)return!1;let t=xy();t=t?Sm(t,e):e;try{al().localStorage.setItem(by,JSON.stringify(t))}catch(e){return!1}})({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})})),this.playlistController_.on("selectedinitialmedia",(()=>{var e;(e=this).representations=()=>{const t=e.playlistController_.main(),i=Qm(t)?e.playlistController_.getAudioTrackPlaylists_():t.playlists;return i?i.filter((e=>!$m(e))).map(((t,i)=>new hy(e,t,t.id))):[]}})),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",(()=>{this.setupEme_()})),this.on(this.playlistController_,"progress",(function(){this.tech_.trigger("progress")})),this.on(this.playlistController_,"firstplay",(function(){this.ignoreNextSeekingEvent_=!0})),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=al().URL.createObjectURL(this.playlistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),(({player:e,sourceKeySystems:t,audioMedia:i,mainPlaylists:n})=>{if(!e.eme.initializeMediaKeys)return Promise.resolve();const s=(a=i?n.concat([i]):n,l=Object.keys(t),a.reduce(((e,t)=>{if(!t.contentProtection)return e;const i=l.reduce(((e,i)=>{const n=t.contentProtection[i];return n&&n.pssh&&(e[i]={pssh:n.pssh}),e}),{});return Object.keys(i).length&&e.push(i),e}),[])),o=[],r=[];var a,l;return s.forEach((t=>{r.push(new Promise(((t,i)=>{e.tech_.one("keysessioncreated",t)}))),o.push(new Promise(((i,n)=>{e.eme.initializeMediaKeys({keySystems:t},(e=>{e?n(e):i()}))})))})),Promise.race([Promise.all(o),Promise.race(r)])})({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then((()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()})).catch((e=>{this.logger_("error while creating EME key session",e),this.player_.error({message:"Failed to initialize media keys for EME",code:3})}))}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,t=(({player:e,sourceKeySystems:t,media:i,audioMedia:n})=>{const s=((e,t,i)=>{if(!e)return e;let n={};t&&t.attributes&&t.attributes.CODECS&&(n=sv(Rl(t.attributes.CODECS))),i&&i.attributes&&i.attributes.CODECS&&(n.audio=i.attributes.CODECS);const s=Ul(n.video),o=Ul(n.audio),r={};for(const i in e)r[i]={},o&&(r[i].audioContentType=o),s&&(r[i].videoContentType=s),t.contentProtection&&t.contentProtection[i]&&t.contentProtection[i].pssh&&(r[i].pssh=t.contentProtection[i].pssh),"string"==typeof e[i]&&(r[i].url=e[i]);return Sm(e,r)})(t,i,n);return!(!s||(e.currentSource().keySystems=s,s&&!e.eme&&(gm.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),1)))})({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});this.player_.tech_.on("keystatuschange",(e=>{if("output-restricted"!==e.status)return;const t=this.playlistController_.main();if(!t||!t.playlists)return;const i=[];t.playlists.forEach((e=>{e&&e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height>=720&&(!e.excludeUntil||e.excludeUntil<1/0)&&(e.excludeUntil=1/0,i.push(e))})),i.length&&(gm.log.warn('DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.',...i),this.playlistController_.mainSegmentLoader_.resetEverything(),this.playlistController_.fastQualityChange_())})),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),t?this.createKeySessions_():this.playlistController_.sourceUpdater_.initializedEme()}setupQualityLevels_(){const e=gm.players[this.tech_.options_.playerId];e&&e.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",(()=>{!function(e,t){t.representations().forEach((t=>{e.addQualityLevel(t)})),_y(e,t.playlists)}(this.qualityLevels_,this)})),this.playlists.on("mediachange",(()=>{_y(this.qualityLevels_,this.playlists)})))}static version(){return{"@videojs/http-streaming":vy,"mux.js":"7.0.0","mpd-parser":"1.1.1","m3u8-parser":"7.1.0","aes-decrypter":"4.0.1"}}version(){return this.constructor.version()}canChangeType(){return Vv.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&al().URL.revokeObjectURL&&(al().URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,t){return(({playlist:e,time:t,callback:i})=>{if(!i)throw new Error("getProgramTime: callback must be provided");if(!e||void 0===t)return i({message:"getProgramTime: playlist and time must be provided"});const n=((e,t)=>{if(!t||!t.segments||0===t.segments.length)return null;let i,n=0;for(let s=0;s<t.segments.length&&(i=t.segments[s],n=i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationEnd:n+i.duration,!(e<=n));s++);const s=t.segments[t.segments.length-1];if(s.videoTimingInfo&&s.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>n){if(e>n+.25*s.duration)return null;i=s}return{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:n-i.duration,type:i.videoTimingInfo?"accurate":"estimate"}})(t,e);if(!n)return i({message:"valid programTime was not found"});if("estimate"===n.type)return i({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:n.estimatedStart});const s={mediaSeconds:t},o=((e,t)=>{if(!t.dateTimeObject)return null;const i=t.videoTimingInfo.transmuxerPrependedSeconds,n=e-(t.videoTimingInfo.transmuxedPresentationStart+i);return new Date(t.dateTimeObject.getTime()+1e3*n)})(t,n.segment);return o&&(s.programDateTime=o.toISOString()),i(null,s)})({playlist:this.playlistController_.media(),time:e,callback:t})}seekToProgramTime(e,t,i=!0,n=2){return Cg({programTime:e,playlist:this.playlistController_.media(),retryCount:n,pauseAfterSeek:i,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})}setupXhrHooks_(){this.xhr.onRequest=e=>{wy(this.xhr,e)},this.xhr.onResponse=e=>{ky(this.xhr,e)},this.xhr.offRequest=e=>{Sy(this.xhr,e)},this.xhr.offResponse=e=>{Ty(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}}const Ay={name:"videojs-http-streaming",VERSION:vy,canHandleSource(e,t={}){const i=Sm(gm.options,t);return Ay.canPlayType(e.type,i)},handleSource(e,t,i={}){const n=Sm(gm.options,i);return t.vhs=new Ey(e,t,n),t.vhs.xhr=gg(),t.vhs.setupXhrHooks_(),t.vhs.src(e.src,e.type),t.vhs},canPlayType(e,t){const i=$l(e);if(!i)return"";const n=Ay.getOverrideNative(t);return!yy.supportsTypeNatively(i)||n?"maybe":""},getOverrideNative(e={}){const{vhs:t={}}=e,i=!(gm.browser.IS_ANY_SAFARI||gm.browser.IS_IOS),{overrideNative:n=i}=t;return n}};Fl("avc1.4d400d,mp4a.40.2")&&gm.getTech("Html5").registerSourceHandler(Ay,0),gm.VhsHandler=Ey,gm.VhsSourceHandler=Ay,gm.Vhs=yy,gm.use||gm.registerComponent("Vhs",yy),gm.options.vhs=gm.options.vhs||{},gm.getPlugin&&gm.getPlugin("reloadSourceOnError")||gm.registerPlugin("reloadSourceOnError",(function(e){gy(this,e)}));var Iy=i(8562),My={};My.styleTagTransform=ht(),My.setAttributes=lt(),My.insert=rt().bind(null,"head"),My.domAPI=st(),My.insertStyleElement=dt(),it()(Iy.Z,My),Iy.Z&&Iy.Z.locals&&Iy.Z.locals;const Oy=(0,t.aZ)({components:{SofaIcon:u},props:{customClass:{type:String,default:""},videoUrl:{type:String,default:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/Sintel.mp4"},iconSize:{type:String,default:"h-[18px]"}},name:"SofaVideoPlayer",setup(e){let i=(0,a.iH)();const n=(0,a.iH)(),s=(0,a.iH)(!1),o={autoplay:!1,controls:!0,sources:[{src:e.videoUrl,type:"video/mp4"}]},r=()=>{i.value?.play(),s.value=!0};return(0,t.YP)(e,(()=>{o.sources[0].src=e.videoUrl,i.value?.src(e.videoUrl),r()})),(0,t.bv)((()=>{i.value=gm(n.value,o,(()=>{}))})),(0,t.Ah)((()=>{i.value?.dispose()})),{videoPlayer:n,videoIsPlaying:s,playVideo:r}}});var Dy=i(138),Py={};Py.styleTagTransform=ht(),Py.setAttributes=lt(),Py.insert=rt().bind(null,"head"),Py.domAPI=st(),Py.insertStyleElement=dt(),it()(Dy.Z,Py),Dy.Z&&Dy.Z.locals&&Dy.Z.locals;const Ly=(0,d.Z)(Oy,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-icon");return(0,t.wg)(),(0,t.iD)("div",{class:(0,n.normalizeClass)(`${e.customClass} relative`)},[(0,t._)("video",sl,null,512),e.videoIsPlaying?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",ol,[(0,t.Wm)(l,{name:"play-video",customClass:`${e.iconSize} cursor-pointer`,onClick:i[0]||(i[0]=t=>e.playVideo())},null,8,["customClass"])]))],2)}]]),jy=["onClick","onMouseenter","onMouseleave"],By={class:"flex flex-row items-center space-x-2"},Ry=(0,t._)("span",{class:"w-[4px] h-[4px] rounded-full bg-deepGray"},null,-1),Ny={class:"w-full h-[144px] bg-cover relative"},Uy=["src"],Fy={key:0,class:"absolute top-0 left-0 h-full w-full flex flex-row space-x-3 items-center justify-center"},zy=["onClick"],Hy=["onClick"],Vy={class:"w-full py-3 px-3"},qy={class:"w-full !flex flex-row fixed bottom-0 left-0 items-center py-3 px-4 border-t-[1px] justify-between mdlg:!hidden bg-white border-[#F1F6FA] z-[9999999]"},$y={class:"w-full flex flex-row flex-nowrap overflow-x-auto scrollbar-hide"},Wy=["onClick"],Gy={class:"pl-2"},Yy=["onClick"],Xy={class:"bg-white w-full flex flex-col lg:!px-6 space-y-4 lg:!py-6 mdlg:!px-6 mdlg:!py-6 pt-0 pb-3 px-4 md:!rounded-[16px] rounded-t-[19px] items-center justify-center"},Ky={class:"w-full text-center hidden md:!inline-block"},Qy={class:"w-full flex flex-row justify-between items-center sticky top-0 left-0 md:!hidden"},Zy={class:"w-full grid md:!grid-cols-3 mdlg:!grid-cols-4 grid-cols-2 gap-4"},Jy=["onClick"],eb=(0,t.aZ)({components:{SofaIcon:h,SofaNormalText:P,draggable:Bn(),SofaModal:Ki,SofaHeaderText:M,SofaDeletePrompt:wn},props:{customClass:{type:String,default:""},data:{type:Array,default:[]}},name:"SofaAddQuestion",emits:["OnQuestionSelected"],setup(e,i){const n=(0,a.iH)(!1),s=(0,a.iH)(0),o=(0,a.iH)(!1),r=(0,a.iH)(!1),l=(0,a.iH)(!1),c=(0,a.iH)(!1),d=(0,a.iH)(b.Study.questionSettings),u=(0,a.iH)(b.Study.quizQuestionDeleted),h=(0,a.Vh)(e,"data"),p=b.Study.questionTypes,f=(0,a.iH)(b.Study.UpdatedQuestion),m=(0,a.iH)(),g=(0,a.iH)([]),v=(e,t)=>{s.value=t,r.value=!0;const n=b.Study.AllQuestions.results.filter((t=>t.id==e.id)),o=b.Study.ProcessQuestionData(n[0]);b.Study.selectedQuestion=JSON.parse(JSON.stringify(o)),i.emit("OnQuestionSelected",o)},y=(t=!0,i=0,n=!1)=>{g.value.length=0;const s=[];n?b.Study.SingleQuiz.questions.forEach((t=>{const i=e.data?.filter((e=>e.id==t));if(i.length){const e=b.Study.ProcessQuestionData(i[0]);s.push(e)}})):e.data?.forEach(((e,t)=>{const i=b.Study.ProcessQuestionData(e);s.push(i)})),g.value=s,g.value.length>0&&t&&v(g.value[i],i)};return(0,t.YP)(h,(()=>{y(!0,h.value.length-1)})),(0,t.YP)(d,(()=>{g.value.forEach(((e,t)=>{t==s.value&&(e=>{const t=d.value.filter((e=>"question-type"==e.type)),i=b.Study.AllQuestions.results.filter((t=>t.id==e.id)),n=b.Study.ProcessQuestionData(i[0]);e.active=n.active,e.content=n.content,e.explanation=n.explanation,e.icon=n.icon,e.itemType=n.itemType,e.options=n.options,e.placeholder=n.placeholder,e.questionMedia=n.questionMedia,e.questionMediaBlob=n.questionMediaBlob,e.settings=n.settings,e.timeLimit=n.timeLimit,e.type=t[0].value,e.image=t[0].questionType,e.key=t[0].itemType})(e)}))})),(0,t.bv)((()=>{h.value&&y(!0,0,!0),b.Study.watchProperty("UpdatedQuestion",f),b.Study.watchProperty("questionSettings",d),b.Study.watchProperty("quizQuestionDeleted",u)})),{questions:g,showScrollBar:n,selectQuestion:v,selectedQuestion:s,handleDrag:()=>{setTimeout((()=>{const e=g.value;if(g.value=e,g.value){const e=g.value.map((e=>e.id));b.Study.ReorderQuizQuestionsForm={questions:e},b.Study.ReorderQuizQuestions(b.Study.SingleQuiz.id)}}),500)},hideQuestions:o,addQuestion:e=>{b.Study.saveQuizLocalChanges(!0).then((()=>{const t=p[e];l.value=!1,b.Study.CreateQuestionForm=b.Study.convertQuestionToInput(t,e),b.Study.CreateQuestionForm.explanation="","writeAnswer"==e&&(b.Study.CreateQuestionForm.data.options=[b.Study.CreateQuestionForm.data.options[0]]),b.Study.CreateQuestion(!0,b.Study.SingleQuiz.id)}))},showAddQuestionModal:l,questionTypes:p,showDeleteQuestion:c,duplicateQuestion:()=>{b.Study.saveQuizLocalChanges(!0).then((()=>{const e=p[m.value.key];b.Study.CreateQuestionForm=b.Study.convertQuestionToInput(e,m.value.key),"writeAnswer"==m.value.key&&console.log(e),b.Study.CreateQuestionForm.explanation="","writeAnswer"==m.value.key&&(b.Study.CreateQuestionForm.data.options=[b.Study.CreateQuestionForm.data.options[0]]),b.Study.CreateQuestion(!0,b.Study.SingleQuiz.id).then((()=>{b.Common.showLoader({show:!0,loading:!1,message:"Question duplicated",type:"success"})}))}))},deleteQuestion:()=>{"published"!=b.Study.SingleQuiz.status?b.Study.saveQuizLocalChanges(!0).then((()=>{b.Study.DeleteQuestion(m.value.id,b.Study.SingleQuiz.id).then((e=>{e&&(b.Common.showLoader({show:!0,loading:!1,message:"Question has been deleted.",type:"success"}),c.value=!1)})).catch((()=>{b.Common.showLoader({show:!0,loading:!1,message:"Unable to delete question. Please try again",type:"error"})}))})):b.Common.showLoader({show:!0,loading:!1,message:"You cannot delete questions from published quiz",type:"warning"})},selectedQuestionData:m}}}),tb=(0,d.Z)(eb,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-normal-text"),c=(0,t.up)("sofa-icon"),d=(0,t.up)("draggable"),u=(0,t.up)("sofa-header-text"),h=(0,t.up)("sofa-modal"),p=(0,t.up)("sofa-delete-prompt");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",{class:(0,n.normalizeClass)("w-full mdlg:!flex hidden flex-col space-y-4 h-full overflow-y-auto scrollbar-thumb-gray-300 scrollbar-track-gray-100 "+(e.showScrollBar?"mdlg:!scrollbar-thin":"scrollbar-none")),onMouseover:i[1]||(i[1]=t=>e.showScrollBar=!0),onMouseleave:i[2]||(i[2]=t=>e.showScrollBar=!1)},[(0,t.Wm)(d,{list:e.questions,class:"w-full space-y-4","item-key":"id",group:{name:"question-list-lg"},onEnd:e.handleDrag},{item:(0,t.w5)((({element:i,index:s})=>[(0,t._)("div",{class:(0,n.normalizeClass)(`w-full px-4 py-4 rounded-[12px] cursor-pointer ${e.selectedQuestion==s?"bg-[#E6F5FF]":"bg-[#F1F6FA]"} space-y-2 flex flex-col`),onClick:t=>e.selectQuestion(i,s),onMouseenter:e=>i.hover=!0,onMouseleave:e=>i.hover=!1},[(0,t._)("div",By,[(0,t.Wm)(l,{customClass:"!font-bold"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(s+1),1)])),_:2},1024),Ry,(0,t.Wm)(l,{customClass:"!font-bold"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(i.type),1)])),_:2},1024)]),(0,t._)("div",Ny,[(0,t._)("img",{src:`/images/${i.image}.svg`,class:"w-full h-full"},null,8,Uy),i.hover?((0,t.wg)(),(0,t.iD)("div",Fy,[(0,t._)("div",{onClick:(0,y.withModifiers)((t=>{e.selectedQuestionData=i,e.duplicateQuestion()}),["stop"]),class:"w-[40px] h-[40px] bg-[#E1E6EB80] rounded-[8px] flex flex-row items-center justify-center"},[(0,t.Wm)(c,{name:"duplicate-quiz",customClass:"h-[24px]"})],8,zy),(0,t._)("div",{onClick:(0,y.withModifiers)((t=>{e.selectedQuestionData=i,e.showDeleteQuestion=!0}),["stop"]),class:"w-[40px] h-[40px] bg-[#E1E6EB80] rounded-[8px] flex flex-row items-center justify-center"},[(0,t.Wm)(c,{name:"delete-quiz",customClass:"h-[24px]"})],8,Hy)])):(0,t.kq)("",!0)])],42,jy)])),_:1},8,["list","onEnd"]),(0,t._)("div",Vy,[(0,t._)("div",{class:"h-[144px] w-full rounded-[12px] border-[2px] border-[#E1E6EB] flex flex-row items-center justify-center cursor-pointer",onClick:i[0]||(i[0]=t=>e.showAddQuestionModal=!0)},[(0,t.Wm)(c,{name:"add-item","custom-class":"h-[30px]"})])])],34),(0,t._)("div",qy,[(0,t._)("div",$y,[e.questions?((0,t.wg)(),(0,t.j4)(d,{key:0,class:"flex flex-row space-x-2 items-center flex-nowrap whitespace-nowrap pr-4",modelValue:e.questions,"onUpdate:modelValue":i[3]||(i[3]=t=>e.questions=t),group:"add-question-mobile","item-key":"id",onEnd:e.handleDrag,direction:"horizontal",disabled:!0},{item:(0,t.w5)((({element:i,index:s})=>[(0,t._)("div",{class:(0,n.normalizeClass)(`w-[48px] h-[48px] custom-border ${e.selectedQuestion==s?"bg-primaryPurple":"bg-lightGrayVaraint"}  items-center justify-center flex`),onClick:t=>e.selectQuestion(i,s)},[(0,t.Wm)(l,{color:e.selectedQuestion==s?"text-white":"text-bodyBlack"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(s+1),1)])),_:2},1032,["color"])],10,Wy)])),_:1},8,["modelValue","onEnd"])):(0,t.kq)("",!0)]),(0,t._)("div",{class:"w-[55px] flex flex-col justify-end",onClick:i[4]||(i[4]=t=>e.showAddQuestionModal=!0)},[(0,t._)("span",Gy,[(0,t.Wm)(c,{customClass:"h-[44px]",name:"faded-plus"})])])]),e.showAddQuestionModal?((0,t.wg)(),(0,t.j4)(h,{key:0,close:()=>{e.showAddQuestionModal=!1}},{default:(0,t.w5)((()=>[(0,t._)("div",{class:"mdlg:!w-[50%] lg:!w-[50%] mdlg:!h-full h-[95%] md:w-[70%] w-full flex flex-col justify-end md:!justify-start items-center relative",onClick:(0,y.withModifiers)((()=>{}),["stop"])},[(0,t._)("div",Xy,[(0,t._)("div",Ky,[(0,t.Wm)(u,{customClass:"!text-xl !font-bold "},{default:(0,t.w5)((()=>[(0,t.Uk)("Choose question type")])),_:1})]),(0,t._)("div",Qy,[(0,t.Wm)(l,{customClass:"!font-bold !text-base"},{default:(0,t.w5)((()=>[(0,t.Uk)(" Choose question type ")])),_:1}),(0,t.Wm)(c,{customClass:"h-[16px]",name:"circle-close",onClick:i[5]||(i[5]=t=>e.showAddQuestionModal=!1)})]),(0,t._)("div",Zy,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.questionTypes,((i,s)=>((0,t.wg)(),(0,t.iD)("div",{class:(0,n.normalizeClass)("col-span-1 px-3 py-3 flex flex-col space-y-2 cursor-pointer items-center justify-center hover:bg-[#E6F5FF]  bg-[#F2F5F8] rounded-[8px] "),key:s,onClick:t=>e.addQuestion(s.toString())},[(0,t.Wm)(c,{name:i.icon,"custom-class":"h-[50px]"},null,8,["name"]),(0,t.Wm)(l,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(i.type),1)])),_:2},1024)],8,Jy)))),128))])])],8,Yy)])),_:1},8,["close"])):(0,t.kq)("",!0),e.showDeleteQuestion?((0,t.wg)(),(0,t.j4)(p,{key:1,title:"Are you sure you?",subTitle:"This action is permanent. You won't be able to undo this.",close:()=>{e.showDeleteQuestion=!1},buttons:[{label:"No",isClose:!0,action:()=>{e.showDeleteQuestion=!1}},{label:"Yes, delete",isClose:!1,action:()=>{e.deleteQuestion()}}]},null,8,["subTitle","close","buttons"])):(0,t.kq)("",!0)],64)}]]),ib={key:0,class:"w-full flex flex-col h-full space-y-4"},nb={key:0,class:"w-full flex flex-row items-start custom-border px-4 py-4 bg-[#F1F6FA] space-x-3"},sb={class:"w-[24px]"},ob={key:1,class:"w-full flex flex-row items-center flex-wrap space-x-1 md:!gap-2 gap-1"},rb={class:"flex flex-row items-center space-x-1"},ab={class:"flex flex-row items-center space-x-1"},lb={class:"w-full md:!flex flex-row items-center justify-center space-x-3 bg-primaryPurple custom-border px-5 py-5 hidden"},cb={class:"w-full flex md:!hidden flex-col"},db={class:"w-full flex flex-col"},ub={key:2,class:"w-full flex flex-col items-center justify-center"},hb={class:"w-full grid grid-cols-2 gap-4 pt-4"},pb=["onMouseenter","onMouseleave"],fb={class:"flex-grow flex flex-row space-x-3"},mb=["placeholder","onUpdate:modelValue","disabled"],gb={class:"flex flex-row items-center space-x-2"},vb=["onClick"],yb={key:1,class:"col-span-1 flex flex-col space-y-4"},bb=["onMouseenter","onMouseleave"],_b={class:"flex-grow flex flex-row space-x-3"},xb=["placeholder","onUpdate:modelValue"],wb={class:"flex flex-row items-center space-x-2"},kb={key:1,class:"w-[26px]"},Sb={class:"w-full flex flex-col border-t-[1px] border-[#F1F6FA] pt-4"},Tb={class:"w-full flex flex-row items-start custom-border px-4 py-4 bg-[#F1F6FA] space-x-3"},Cb={class:"w-[24px]"},Eb=(0,t.aZ)({components:{SofaIcon:h,SofaNormalText:P,SofaButton:f,SofaTextarea:Ra,SofaCustomInput:Za,SofaFileAttachment:Js,SofaImageLoader:v,draggable:Bn()},props:{customClass:{type:String,default:""}},name:"SofaQuestionContent",setup(e){const i=(0,a.iH)(),n=(0,a.iH)(""),s=(0,a.iH)(0),o=(0,a.qj)({max:6,min:2}),r=(0,a.iH)(b.Study.questionSettings),l=(0,a.iH)(b.Study.selectedQuestion),c=(e=[])=>{const t=0==e?.length?i.value.settings?.filter((e=>"correct-anwsers"==e.type)):e;s.value=t?.length?parseInt(t[0].value):1,"multiple_choice"==n.value&&(s.value=6),"true_false"==n.value&&(s.value=1)},d=(0,a.qj)({}),u=(e=!1)=>{b.Common.debounce((()=>{"writeAnswer"!=d.itemType&&"sequence"!=d.itemType&&"match"!=d.itemType||d.options.forEach((e=>{e.answer=e.value})),"match"==d.itemType&&d.match?.forEach((e=>{e.answer=e.value})),b.Study.UpdateQuestionForm=b.Study.convertQuestionToInput(d,d.itemType),b.Study.UpdateQuestionForm.timeLimit=d.timeLimit,d.questionMediaBlob&&(b.Study.UpdateQuestionForm.questionMedia=d.questionMediaBlob),d.explanation?b.Study.UpdateQuestionForm.explanation=d.explanation:b.Study.UpdateQuestionForm.explanation="",b.Study.UpdateQuestionForm.id=d.id,e||(b.Study.quizDataUpdate=1e5*Math.random(),b.Study.SaveQuizChangesToLocal(b.Study.SingleQuiz.id,d.id,b.Study.UpdateQuestionForm),b.Study.AllQuestions.results.forEach((e=>{e.id==b.Study.UpdateQuestionForm.id&&(e.data=b.Study.UpdateQuestionForm.data,e.explanation=b.Study.UpdateQuestionForm.explanation,e.question=b.Study.UpdateQuestionForm.question,e.timeLimit=b.Study.UpdateQuestionForm.timeLimit)})))}),500)},h=()=>{i.value&&(d.active=i.value.active,d.content=i.value.content,d.id=i.value.id,d.image=i.value.image,d.options=i.value.options,d.placeholder=i.value.placeholder,d.settings=i.value.settings,d.type=i.value.type,d.timeLimit=i.value.timeLimit,d.match=i.value.match||[{shape:"circle",text:"Enter match",shapeSize:"h-[23px]",isRadio:!1,id:"",value:"1",answer:"1",showRemove:!1},{shape:"triangle",text:"Enter match",shapeSize:"h-[20px]",isRadio:!1,id:"",value:"2",answer:"2",showRemove:!1},{shape:"square",text:"Enter match",shapeSize:"h-[20px]",isRadio:!1,id:"",value:"3",answer:"3",showRemove:!1},{shape:"kite",text:"Enter match",shapeSize:"h-[24px]",isRadio:!1,id:"",value:"4",answer:"4",showRemove:!1}],d.data=i.value.data,d.itemType=i.value.itemType,d.explanation=i.value.explanation,d.questionMedia=i.value.questionMedia,d.questionMediaBlob=null,n.value=i.value.image,c(),u(),"write_answer"==n.value?o.min=1:o.min=2)};(0,t.YP)(i,(()=>{h()}));const p=e=>{const t=d.options;if(t.length>=e)t.length>e&&(d.options=i.value.options.slice(0,e));else{const i=["circle","triangle","square","kite"],n=e-d.options.length;for(let e=0;e<n;e++){const e={shape:i[Math.floor(Math.random()*i.length)],text:"Enter answer",shapeSize:"h-[23px]",isRadio:!0,id:b.Common.makeid(8),value:"new",answer:"",showRemove:!1};t.push(e)}}if("match"==n.value){const t=d.match;if(t.length>=e)t.length>e&&(d.match=i.value.match.slice(0,e));else{const i=["circle","triangle","square","kite"],n=e-d.match.length;for(let e=0;e<n;e++){const e={shape:i[Math.floor(Math.random()*i.length)],text:"Enter answer",shapeSize:"h-[23px]",isRadio:!1,id:b.Common.makeid(8),value:"new",answer:"",showRemove:!1};t.push(e)}}}};return(0,t.YP)(d,(()=>{u(!1)})),(0,t.YP)(r,(()=>{const e=r.value.filter((e=>"question-type"==e.type));e.length&&(d.options=i.value.options,"match"!=n.value&&"match"==e[0].questionType&&(d.options=[{shape:"circle",text:"Enter 1st word/sentence",shapeSize:"h-[23px]",isRadio:!1,id:"",value:"a",answer:"a",showRemove:!1},{shape:"triangle",text:"Enter 2nd word/sentence",shapeSize:"h-[20px]",isRadio:!1,id:"",value:"b",answer:"b",showRemove:!1},{shape:"square",text:"Enter 3rd word/sentence",shapeSize:"h-[20px]",isRadio:!1,id:"",value:"c",answer:"c",showRemove:!1},{shape:"kite",text:"Enter 4th word/sentence",shapeSize:"h-[24px]",isRadio:!1,id:"",value:"d",answer:"d",showRemove:!1}]),"true_false"==e[0].questionType&&(i.value.options=[{shape:"circle",text:"True",shapeSize:"h-[23px]",isRadio:!0,id:b.Common.makeid(6),value:"True",answer:"true",showRemove:!1},{shape:"triangle",text:"False",shapeSize:"h-[20px]",isRadio:!0,id:b.Common.makeid(6),value:"False",answer:"",showRemove:!1}]),"write_answer"==e[0].questionType?o.min=1:o.min=2,d.itemType=e[0].itemType,n.value=e[0].questionType,c());const t=r.value.filter((e=>"time-limit"==e.type));t.length&&d.timeLimit!=b.Common.timeEquivalentsInSeconds[t[0].value]&&(d.timeLimit=b.Common.timeEquivalentsInSeconds[t[0].value]);const a=r.value.filter((e=>"total-options"==e.type));if(a.length){const e=parseInt(a[0].value);d.options.length!=e&&p(e)}"true_false"==e[0].questionType&&p(2);const l=r.value.filter((e=>"correct-anwsers"==e.type));if(l.length){const e=parseInt(l[0].value);s.value!=e&&c(l)}d.settings=r.value})),(0,t.YP)(l,(()=>{i.value=l.value})),(0,t.bv)((()=>{b.Study.watchProperty("questionSettings",r),b.Study.watchProperty("selectedQuestion",l),i.value=b.Study.selectedQuestion,h()})),{reactiveQuestion:d,possibleAnswers:s,questionTypeMain:n,question:i,optionLimitSettings:o,setAnswers:e=>{let t=d.options.filter((e=>e.isRadio&&e.answer));t.filter((t=>t.id==e.id)).length?t=t.filter((t=>t.id!=e.id)):(t.length>=s.value&&t.pop(),t.push(e)),d.options.forEach((e=>{t.includes(e)?e.answer=e.value:e.answer=""}))},addNewDataItem:e=>{d.data.push({content:"",type:e,value:""})},removeItemFormData:e=>{d.data=d.data.filter(((t,i)=>e!=i))},setQuestionOptions:p,removeOption:e=>{d.options=d.options.filter(((t,i)=>i!=e)),"match"==n.value&&(d.match=d.match.filter(((t,i)=>i!=e)))}}}}),Ab=(0,d.Z)(Eb,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-icon"),c=(0,t.up)("sofa-textarea"),d=(0,t.up)("sofa-custom-input"),u=(0,t.up)("sofa-button"),h=(0,t.up)("sofa-normal-text"),p=(0,t.up)("sofa-file-attachment"),f=(0,t.up)("sofa-image-loader"),m=(0,t.up)("draggable");return e.question?((0,t.wg)(),(0,t.iD)("div",ib,["fill_in_blank"!=e.questionTypeMain&&"drag_answer"!=e.questionTypeMain?((0,t.wg)(),(0,t.iD)("div",nb,[(0,t._)("div",sb,[(0,t.Wm)(l,{name:"question-input","custom-class":"h-[23px]"})]),(0,t.Wm)(c,{hasTitle:!1,textAreaStyle:"!bg-[#F1F6FA] h-[130px] w-full placeholder:text-grayColor !px-0 !py-0 resize-none",placeholder:e.question.placeholder,richEditor:!1,updateValue:e.reactiveQuestion.content,modelValue:e.reactiveQuestion.content,"onUpdate:modelValue":i[0]||(i[0]=t=>e.reactiveQuestion.content=t),onInput:(0,y.withModifiers)((e=>null),["prevent"])},null,8,["placeholder","updateValue","modelValue","onInput"])])):(0,t.kq)("",!0),"fill_in_blank"==e.questionTypeMain||"drag_answer"==e.questionTypeMain?((0,t.wg)(),(0,t.iD)("div",ob,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.reactiveQuestion.data,((i,s)=>((0,t.wg)(),(0,t.iD)(t.HY,{key:s},[(0,t._)("span",rb,["text"==i.type?((0,t.wg)(),(0,t.j4)(d,{key:0,customClass:"bg-transparent focus:outline-none w-auto !text-bodyBlack  placeholder:text-grayColor py-2 px-2 questionText",placeholder:"Text here",modelValue:i.value,"onUpdate:modelValue":e=>i.value=e,updateValue:i.value},null,8,["modelValue","onUpdate:modelValue","updateValue"])):(0,t.kq)("",!0),"text"==i.type?((0,t.wg)(),(0,t.j4)(l,{key:1,customClass:"h-[14px] cursor-pointer",name:"circle-close",onClick:t=>e.removeItemFormData(s)},null,8,["onClick"])):(0,t.kq)("",!0)]),(0,t._)("span",ab,["answer"==i.type?((0,t.wg)(),(0,t.j4)(d,{key:0,class:(0,n.normalizeClass)("bg-transparent focus:outline-none w-auto placeholder:text-grayColor !text-bodyBlack  border-[2px] answerText border-[#E1E6EB] rounded-[8px] px-2 py-2"),placeholder:"Answer here",modelValue:i.value,"onUpdate:modelValue":e=>i.value=e,updateValue:i.value},null,8,["modelValue","onUpdate:modelValue","updateValue"])):(0,t.kq)("",!0),"answer"==i.type?((0,t.wg)(),(0,t.j4)(l,{key:1,customClass:"h-[14px]  cursor-pointer",name:"circle-close",onClick:t=>e.removeItemFormData(s)},null,8,["onClick"])):(0,t.kq)("",!0)])],64)))),128)),(0,t.Wm)(u,{onClick:i[1]||(i[1]=t=>e.addNewDataItem("text"))},{default:(0,t.w5)((()=>[(0,t.Uk)("Add text")])),_:1}),(0,t.Wm)(u,{onClick:i[2]||(i[2]=t=>e.addNewDataItem("answer"))},{default:(0,t.w5)((()=>[(0,t.Uk)("Add answer")])),_:1})])):(0,t.kq)("",!0),(0,t._)("div",lb,[(0,t.Wm)(h,{color:"text-white"},{default:(0,t.w5)((()=>[(0,t.Uk)("Choose image to add to this question (optional)")])),_:1}),(0,t.Wm)(p,{"is-wrapper":!0,accept:"image/png, image/gif, image/jpeg","custom-class":"!w-auto z-[999]","local-file-url":e.reactiveQuestion.questionMedia,"onUpdate:localFileUrl":i[3]||(i[3]=t=>e.reactiveQuestion.questionMedia=t),modelValue:e.reactiveQuestion.questionMediaBlob,"onUpdate:modelValue":i[4]||(i[4]=t=>e.reactiveQuestion.questionMediaBlob=t)},{content:(0,t.w5)((()=>[(0,t.Wm)(u,{bgColor:"bg-white",textColor:"text-bodyBlack","custom-class":"!z-50"},{default:(0,t.w5)((()=>[(0,t.Uk)("Add Image")])),_:1})])),_:1},8,["local-file-url","modelValue"])]),(0,t._)("div",cb,[(0,t.Wm)(p,{"is-wrapper":!0,accept:"image/png, image/gif, image/jpeg","custom-class":"!w-full flex flex-col z-[999]","local-file-url":e.reactiveQuestion.questionMedia,"onUpdate:localFileUrl":i[5]||(i[5]=t=>e.reactiveQuestion.questionMedia=t),modelValue:e.reactiveQuestion.questionMediaBlob,"onUpdate:modelValue":i[6]||(i[6]=t=>e.reactiveQuestion.questionMediaBlob=t)},{content:(0,t.w5)((()=>[(0,t._)("div",db,[(0,t.Wm)(u,{customClass:"w-full !z-50",padding:"py-3"},{default:(0,t.w5)((()=>[(0,t.Uk)("Add image (optional)")])),_:1})])])),_:1},8,["local-file-url","modelValue"])]),e.reactiveQuestion.questionMedia?((0,t.wg)(),(0,t.iD)("div",ub,[(0,t.Wm)(f,{photoUrl:e.reactiveQuestion.questionMedia,customClass:"h-[250px] lg:w-[70%] mdlg:w-[70%] w-full custom-border"},null,8,["photoUrl"])])):(0,t.kq)("",!0),(0,t._)("div",hb,["fill_in_blank"!=e.questionTypeMain&&"drag_answer"!=e.questionTypeMain?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,n.normalizeClass)(` ${"match"!=e.questionTypeMain?"col-span-2":"col-span-1"} flex flex-col space-y-4`)},[(0,t.Wm)(m,{list:e.reactiveQuestion.options,class:"w-full space-y-4","item-key":"id",group:{name:"question-options"},disabled:"write_answer"==e.questionTypeMain},{item:(0,t.w5)((({element:i,index:s})=>[(0,t._)("div",{class:(0,n.normalizeClass)(" w-full flex flex-row items-center justify-between rounded-[12px] px-3 py-3 border-lightBorderColor bg-white space-x-3"),style:{"border-width":"2px 2px 4px 2px"},onMouseenter:e=>i.showRemove=!0,onMouseleave:e=>i.showRemove=!1},[(0,t._)("div",fb,["write_answer"!=e.questionTypeMain?((0,t.wg)(),(0,t.j4)(l,{key:0,name:i.shape,"custom-class":`${i.shapeSize}`},null,8,["name","custom-class"])):(0,t.kq)("",!0),"write_answer"!=e.questionTypeMain?(0,t.wy)(((0,t.wg)(),(0,t.iD)("input",{key:1,class:"focus:outline-none bg-transparent placeholder:text-grayColor text-bodyBlack w-full",placeholder:i.text,"onUpdate:modelValue":e=>i.value=e,disabled:"true_false"==e.questionTypeMain},null,8,mb)),[[y.vModelText,i.value]]):((0,t.wg)(),(0,t.j4)(d,{key:2,class:"focus:outline-none bg-transparent placeholder:text-grayColor text-bodyBlack w-full",placeholder:i.text,modelValue:i.value,"onUpdate:modelValue":e=>i.value=e,updateValue:i.value},null,8,["placeholder","modelValue","onUpdate:modelValue","updateValue"]))]),(0,t._)("div",gb,[i.showRemove&&"true_false"!=e.questionTypeMain&&e.reactiveQuestion.options.length>e.optionLimitSettings.min?((0,t.wg)(),(0,t.j4)(l,{key:0,name:"remove","custom-class":"h-[23px] cursor-pointer",onClick:t=>e.removeOption(s)},null,8,["onClick"])):(0,t.kq)("",!0),!i.isRadio||"multiple_choice"!=e.questionTypeMain&&"true_false"!=e.questionTypeMain?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",{key:1,class:"w-[26px] cursor-pointer",onClick:t=>i.isRadio?e.setAnswers(i):null},[(0,t.Wm)(l,{name:i.answer?"selected":"not-selected","custom-class":"h-[23px]"},null,8,["name"])],8,vb))])],40,pb)])),_:1},8,["list","disabled"])],2)):(0,t.kq)("",!0),"match"==e.questionTypeMain?((0,t.wg)(),(0,t.iD)("div",yb,[(0,t.Wm)(m,{list:e.reactiveQuestion.match,class:"w-full space-y-4","item-key":"id",group:{name:"question-match"}},{item:(0,t.w5)((({element:i,index:s})=>[(0,t._)("div",{class:(0,n.normalizeClass)("w-full flex flex-row items-center justify-between rounded-[12px] px-3 py-3 border-lightBorderColor bg-white space-x-3"),style:{"border-width":"2px 2px 4px 2px"},onMouseenter:e=>i.showRemove=!0,onMouseleave:e=>i.showRemove=!1},[(0,t._)("div",_b,[(0,t.Wm)(l,{name:i.shape,"custom-class":`${i.shapeSize}`},null,8,["name","custom-class"]),(0,t.wy)((0,t._)("input",{class:"focus:outline-none bg-transparent placeholder:text-grayColor text-bodyBlack w-full",placeholder:i.text,"onUpdate:modelValue":e=>i.value=e},null,8,xb),[[y.vModelText,i.value]])]),(0,t._)("div",wb,[i.showRemove&&e.reactiveQuestion.match.length>e.optionLimitSettings.min?((0,t.wg)(),(0,t.j4)(l,{key:0,name:"remove","custom-class":"h-[23px] cursor-pointer",onClick:t=>e.removeOption(s)},null,8,["onClick"])):(0,t.kq)("",!0),i.isRadio?((0,t.wg)(),(0,t.iD)("div",kb,[(0,t.Wm)(l,{name:"not-selected","custom-class":"h-[23px]"})])):(0,t.kq)("",!0)])],40,bb)])),_:1},8,["list"])])):(0,t.kq)("",!0)]),("multiple_choice"==e.questionTypeMain||"sequence"==e.questionTypeMain||"match"==e.questionTypeMain||"write_answer"==e.questionTypeMain)&&e.reactiveQuestion.options.length<e.optionLimitSettings.max?((0,t.wg)(),(0,t.iD)("div",{key:3,class:"w-full flex flex-row justify-end space-x-2 items-center cursor-pointer",onClick:i[7]||(i[7]=t=>e.setQuestionOptions(e.reactiveQuestion.options.length+1))},[(0,t.Wm)(l,{name:"box-plus","custom-class":"h-[24px]"}),(0,t.Wm)(h,{color:"text-grayColor"},{default:(0,t.w5)((()=>[(0,t.Uk)("Add option")])),_:1})])):(0,t.kq)("",!0),(0,t._)("div",Sb,[(0,t._)("div",Tb,[(0,t._)("div",Cb,[(0,t.Wm)(l,{name:"question-input","custom-class":"h-[23px]"})]),(0,t.Wm)(c,{hasTitle:!1,textAreaStyle:"!bg-[#F1F6FA] h-[130px] w-full placeholder:text-grayColor !px-0 !py-0 resize-none",placeholder:"Explanation",richEditor:!1,updateValue:e.reactiveQuestion.explanation,modelValue:e.reactiveQuestion.explanation,"onUpdate:modelValue":i[8]||(i[8]=t=>e.reactiveQuestion.explanation=t),onInput:(0,y.withModifiers)((e=>null),["prevent"])},null,8,["updateValue","modelValue","onInput"])])])])):(0,t.kq)("",!0)}]]),Ib={key:0,class:"flex flex-col space-y-3 h-full w-full px-4"},Mb={class:"w-full flex items-center space-x-2 flex-row"},Ob=(0,t._)("span",{class:"w-[4px] h-[4px] rounded-full bg-primaryPurplePink"},null,-1),Db={class:"w-full flex flex-col space-y-3"},Pb={class:"flex flex-row space-x-1 items-center"},Lb={class:"w-full flex flex-row items-center"},jb={class:"space-x-2 flex flex-row items-center"},Bb={class:"w-full flex flex-row items-center space-x-2"},Rb=(0,t.aZ)({components:{SofaIcon:h,SofaNormalText:P,SofaImageLoader:v,SofaRatings:Ci,SofaAvatar:x},props:{customClass:{type:String,default:""},close:{type:Function,required:!1},data:{type:Object}},name:"SofaCourseSummary",setup:e=>({Logic:b})}),Nb=(0,d.Z)(Rb,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-image-loader"),c=(0,t.up)("sofa-normal-text"),d=(0,t.up)("sofa-ratings"),u=(0,t.up)("sofa-avatar"),h=(0,t.up)("sofa-icon");return e.data?((0,t.wg)(),(0,t.iD)("div",Ib,[(0,t.Wm)(l,{customClass:"w-full custom-border h-[200px]",photoUrl:e.data.photo?e.data.photo.link:"/images/default.png"},null,8,["photoUrl"]),(0,t.Wm)(c,{customClass:"text-left font-bold"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.data.title),1)])),_:1}),(0,t._)("div",Mb,[(0,t.Wm)(c,{color:"text-primaryPurplePink"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.data.sections.length)+" section"+(0,n.toDisplayString)(e.data.sections.length>1?"s":""),1)])),_:1}),Ob,(0,t.Wm)(c,{color:"text-primaryPurplePink"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.data.coursables.length)+" material"+(0,n.toDisplayString)(e.data.coursables.length>1?"s":""),1)])),_:1})]),(0,t.Wm)(c,{customClass:"text-left"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.data.description),1)])),_:1}),(0,t._)("div",Db,[(0,t._)("div",Pb,[(0,t.Wm)(d,{count:4,size:"h-[14px] mdlg:!h-[15px]"}),(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(4)+".0 ")])),_:1}),(0,t.Wm)(c,{color:"text-grayColor pl-2"},{default:(0,t.w5)((()=>[(0,t.Uk)(" ("+(0,n.toDisplayString)("24 ratings")+") ")])),_:1})]),(0,t._)("div",Lb,[(0,t._)("div",jb,[(0,t.Wm)(u,{size:"20",photoUrl:e.data.user.bio.photo?.link},null,8,["photoUrl"]),(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.data.user.bio.name.full),1)])),_:1})])]),(0,t._)("div",Bb,[(0,t.Wm)(h,{customClass:"h-[16px]",name:"calendar-black"}),(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t.Uk)(" Last updated "+(0,n.toDisplayString)(e.Logic.Common.fomartDate(e.data.updatedAt,"DD/MM/YYYY")),1)])),_:1})])])])):(0,t.kq)("",!0)}]]),Ub={class:"flex flex-col h-full w-full relative pb-4"},Fb=["onClick"],zb={class:"flex flex-row items-center space-x-2"},Hb={class:"md:flex flex-row items-center space-x-3 hidden"},Vb={key:1,class:"w-full space-y-1"},qb=["onClick"],$b={class:"w-full flex flex-row justify-between items-center"},Wb={class:"w-full flex flex-row space-x-2 items-center"},Gb={class:"flex flex-row items-center space-x-1"},Yb={key:1,class:"w-full flex flex-col space-y-3 pt-2"},Xb=["onClick"],Kb=(0,t.aZ)({components:{SofaIcon:h,SofaNormalText:P,SofaImageLoader:v,SofaRatings:Ci,SofaAvatar:x},props:{customClass:{type:String,default:""},close:{type:Function,required:!1},modelValue:{type:Object},lockContent:{type:Boolean,required:!1}},emits:["update:modelValue","OnMaterialSelected","onCourseContentSet"],name:"SofaCourseContent",setup(e,i){const s=(0,a.iH)(0),o=(0,a.iH)(b.Study.SingleCourse),r=(0,a.iH)(b.Study.SingleCourseFiles),l=(0,a.iH)(b.Study.SingleCourseQuizzes),c=(0,a.qj)([]),d=(0,a.iH)([]),u=(0,a.iH)(0),h=(0,a.iH)(),p=e=>localStorage.getItem(`course_${o.value.id}_material_${e}`),f=()=>{let e=0;c.forEach((t=>{t.materials.forEach((t=>{p(t.id)&&e++}))})),u.value=e};(0,t.YP)(o,(()=>{c.length<o.value.sections.length&&y(o.value.sections.length-1)})),(0,t.YP)(h,(()=>{i.emit("update:modelValue",h.value)}));const m=()=>{i.emit("OnMaterialSelected",h.value),"document"!=h.value.type&&"image"!=h.value.type&&"video"!=h.value.type||localStorage.setItem(`course_${o.value.id}_material_${h.value.id}`,"done"),f()},g=(e=!1)=>{e||localStorage.setItem("course_content_sections"+o.value.id,JSON.stringify(d.value));const t=JSON.parse(localStorage.getItem("course_content_sections"+o.value.id));c.length=0,c.push(...t),f()},v=(t,i,s=!1,o)=>{if(t){const e=`${process.env.VUE_APP_API_URL}/study/files/${t.id}/media?AccessToken=${JSON.parse(localStorage.getItem("AuthTokens")).accessToken}`;"image"==t.type&&d.value[o].materials.push({name:t.title,id:t.id,type:"image-course",details:{title:t.title,description:t.description,id:t.id},data:{zoom:100,fullScreen:!1,imageUrl:e},hover:!1}),"video"==t.type&&d.value[o].materials.push({name:t.title,id:t.id,type:"video-course",hover:!1,details:{title:t.title,link:e,duration:"4m 44s",description:t.description,id:t.id},data:{zoom:100,fullScreen:!1,videoUrl:e}}),"document"==t.type&&d.value[o].materials.push({name:t.title,id:t.id,type:"document-course",hover:!1,details:{title:t.title,pages:"3",description:t.description,id:t.id},data:{pages:{total:3,current:1},zoom:100,fullScreen:!1,documentUrl:e}})}if(i){const t=[];e.lockContent?d.value[o].materials.push({name:i.title,id:i.id,type:"quiz-course",data:[],hover:!1}):t.push(new Promise((e=>{b.Study.GetQuestions(i.id).then((t=>{if(t){const s=t.results.map((e=>{let t="";return"multipleChoice"==e.data.type?t=e.data.options[e.data.answers[0]]:"trueOrFalse"==e.data.type?t=`${(0,n.capitalize)(e.data.answer.toString())}`:"writeAnswer"==e.data.type||"sequence"==e.data.type||"dragAnswers"==e.data.type||"fillInBlanks"==e.data.type?t=(0,n.capitalize)(e.data.answers?.join(", ")):"match"==e.data.type&&(t=(0,n.capitalize)(e.data.set.map((e=>e.a)).join(", "))),{type:b.Study.questionTypes[e.data.type].type,duration:b.Common.EquivalentsSecondsInString[`${e.timeLimit}`],content:e.question,answer:t}})),r=(0,a.qj)(b.Study.contentDetails);r.title=i.title,r.id=i.id,r.price=0,r.image=i.photo?i.photo.link:"/images/default.png",r.info=i.description,r.lastUpdated=`Last updated ${b.Common.momentInstance(i.updatedAt).format("DD/MM/YYYY")}`,r.tags=i.tagIds.map((e=>b.Study.GetTagName(e))),r.user.name=i.user.bio.name.full,r.user.photoUrl=i.user.bio.photo?i.user.bio.photo.link:"",r.content.materialsCount=i.questions.length,r.labels={color:"purple",main:"Quiz",sub:`${i.questions.length} question${i.questions.length>1?"s":""}`},r.questions=s,d.value[o].materials.push({name:i.title,id:i.id,type:"quiz-course",data:r,hover:!1}),e("")}})).catch((()=>{d.value[o].materials.push({name:i.title,id:i.id,type:"quiz-course",data:[],hover:!1})}))}))),Promise.all(t).then((()=>{g()})).catch((()=>{g()}))}},y=(e=0)=>{d.value.length=0,s.value=e,localStorage.getItem("course_content_sections"+o.value.id)&&g(!0);let t=!1;o.value.sections.forEach(((e,i)=>{d.value.push({name:e.label,id:b.Common.makeid(9),materials:[],opened:i==s.value,edit:!1}),e.items.map((e=>{if("quiz"==e.type){const n=l.value.filter((t=>t.id==e.id));n.length&&v(void 0,n[0],!1,i),t=!0}else{const t=r.value.filter((t=>t.id==e.id));v(t[0],void 0,!1,i)}}))})),t||g()};return(0,t.YP)(c,(()=>{i.emit("onCourseContentSet",c)})),(0,t.bv)((()=>{o.value&&y(),setTimeout((()=>{e.lockContent||"sm"==b.Common.mediaQuery()||(e.modelValue?(h.value=e.modelValue,h.value.isMounted=!0,m()):c[0]&&c[0].materials[0]&&(h.value={id:c[0].materials[0].id,data:c[0].materials[0].data,details:c[0].materials[0].details,type:c[0].materials[0].type.split("-")[0],isMounted:!0,name:c[0].materials[0].name},m()))}),300)})),{Logic:b,sectionOptions:c,selectedSection:s,selectedMaterial:h,handleItemSelected:m,itemIsStudied:p,studiedMaterial:u,selectItem:e=>{h.value={id:e.id,data:e.data,details:e.details,type:e.type.split("-")[0],name:e.name},m()}}}}),Qb=(0,d.Z)(Kb,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-normal-text"),c=(0,t.up)("sofa-icon");return(0,t.wg)(),(0,t.iD)("div",Ub,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.sectionOptions,((i,s)=>((0,t.wg)(),(0,t.iD)("div",{class:"flex flex-col w-full space-y-2 py-4 px-4 border-[#F1F6FA] border-t-[1px]",key:s},[i?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},["unsectioned"!=i.name?((0,t.wg)(),(0,t.iD)("div",{key:0,class:"w-full flex flex-row items-center justify-between cursor-pointer px-1",onClick:t=>{i.opened=!i?.opened,e.selectedSection=s}},[(0,t._)("div",zb,[(0,t.Wm)(l,{customClass:"!font-bold"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(i.name),1)])),_:2},1024)]),(0,t._)("div",Hb,[(0,t.Wm)(c,{customClass:"h-[7px] cursor-pointer",name:i.opened?"chevron-up":"chevron-down"},null,8,["name"])])],8,Fb)):(0,t.kq)("",!0),i.opened?((0,t.wg)(),(0,t.iD)("div",Vb,["sm"!=e.Logic.Common.mediaQuery()?((0,t.wg)(!0),(0,t.iD)(t.HY,{key:0},(0,t.Ko)(i.materials,((i,s)=>((0,t.wg)(),(0,t.iD)("div",{key:s,class:(0,n.normalizeClass)(`w-fill flex flex-col space-y-1 ${e.lockContent?"opacity-80":""} rounded-[8px] px-3 py-3 cursor-pointer ${e.selectedMaterial?.id==i.id?"bg-lightBlue":"bg-white"}  hover:bg-lightBlue `),onClick:(0,y.withModifiers)((t=>e.selectItem(i)),["stop"])},[(0,t._)("div",$b,[(0,t.Wm)(l,{customClass:"!text-left !line-clamp-1"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(i.name),1)])),_:2},1024),e.lockContent?((0,t.wg)(),(0,t.j4)(c,{key:1,customClass:"h-[25px]",name:"locked-content"})):((0,t.wg)(),(0,t.j4)(c,{key:0,customClass:"h-[18px]",name:e.itemIsStudied(i.id)?"selected":"not-selected"},null,8,["name"]))]),(0,t._)("div",Wb,[(0,t._)("div",Gb,[(0,t.Wm)(c,{customClass:"h-[17px]",name:i.type},null,8,["name"]),(0,t.Wm)(l,{color:"text-grayColor",customClass:"!text-left !capitalize"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(i.type.split("-")[0]),1)])),_:2},1024)])])],10,qb)))),128)):((0,t.wg)(),(0,t.iD)("div",Yb,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(i.materials,((i,s)=>((0,t.wg)(),(0,t.iD)("div",{key:s,class:"w-full flex flex-row space-x-3 items-center py-1 hover:bg-lightBlue",onClick:(0,y.withModifiers)((t=>e.selectItem(i)),["stop"])},[(0,t.Wm)(c,{customClass:"h-[18px]",name:i.type},null,8,["name"]),(0,t.Wm)(l,{customClass:"!text-left !line-clamp-1",color:"text-[#141618]"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(i.name),1)])),_:2},1024)],8,Xb)))),128))]))])):(0,t.kq)("",!0)],64)):(0,t.kq)("",!0)])))),128))])}]]),Zb={class:"fixed w-full flex sofa-alert flex-row px-4 py-4 items-end justify-end z-[999999999999999]"},Jb={class:"flex flex-row items-center space-x-3"},e_={class:"w-[30px] flex flex-row justify-end"};function t_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var n_,s_,o_,r_,a_,l_,c_,d_,u_,h_,p_,f_,m_,g_,v_,y_={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},b_={duration:.5,overwrite:!1,delay:0},__=1e8,x_=1e-8,w_=2*Math.PI,k_=w_/4,S_=0,T_=Math.sqrt,C_=Math.cos,E_=Math.sin,A_=function(e){return"string"==typeof e},I_=function(e){return"function"==typeof e},M_=function(e){return"number"==typeof e},O_=function(e){return void 0===e},D_=function(e){return"object"==typeof e},P_=function(e){return!1!==e},L_=function(){return"undefined"!=typeof window},j_=function(e){return I_(e)||A_(e)},B_="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},R_=Array.isArray,N_=/(?:-?\.?\d|\.)+/gi,U_=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,F_=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,z_=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,H_=/[+-]=-?[.\d]+/,V_=/[^,'"\[\]\s]+/gi,q_=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,$_={},W_={},G_=function(e){return(W_=wx(e,$_))&&wk},Y_=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},X_=function(e,t){return!t&&console.warn(e)},K_=function(e,t){return e&&($_[e]=t)&&W_&&(W_[e]=t)||$_},Q_=function(){return 0},Z_={suppressEvents:!0,isStart:!0,kill:!1},J_={suppressEvents:!0,kill:!1},ex={suppressEvents:!0},tx={},ix=[],nx={},sx={},ox={},rx=30,ax=[],lx="",cx=function(e){var t,i,n=e[0];if(D_(n)||I_(n)||(e=[e]),!(t=(n._gsap||{}).harness)){for(i=ax.length;i--&&!ax[i].targetTest(n););t=ax[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new Bw(e[i],t)))||e.splice(i,1);return e},dx=function(e){return e._gsap||cx(Jx(e))[0]._gsap},ux=function(e,t,i){return(i=e[t])&&I_(i)?e[t]():O_(i)&&e.getAttribute&&e.getAttribute(t)||i},hx=function(e,t){return(e=e.split(",")).forEach(t)||e},px=function(e){return Math.round(1e5*e)/1e5||0},fx=function(e){return Math.round(1e7*e)/1e7||0},mx=function(e,t){var i=t.charAt(0),n=parseFloat(t.substr(2));return e=parseFloat(e),"+"===i?e+n:"-"===i?e-n:"*"===i?e*n:e/n},gx=function(e,t){for(var i=t.length,n=0;e.indexOf(t[n])<0&&++n<i;);return n<i},vx=function(){var e,t,i=ix.length,n=ix.slice(0);for(nx={},ix.length=0,e=0;e<i;e++)(t=n[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},yx=function(e,t,i,n){ix.length&&!s_&&vx(),e.render(t,i,n||s_&&t<0&&(e._initted||e._startAt)),ix.length&&!s_&&vx()},bx=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(V_).length<2?t:A_(e)?e.trim():e},_x=function(e){return e},xx=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},wx=function(e,t){for(var i in t)e[i]=t[i];return e},kx=function e(t,i){for(var n in i)"__proto__"!==n&&"constructor"!==n&&"prototype"!==n&&(t[n]=D_(i[n])?e(t[n]||(t[n]={}),i[n]):i[n]);return t},Sx=function(e,t){var i,n={};for(i in e)i in t||(n[i]=e[i]);return n},Tx=function(e){var t,i=e.parent||r_,n=e.keyframes?(t=R_(e.keyframes),function(e,i){for(var n in i)n in e||"duration"===n&&t||"ease"===n||(e[n]=i[n])}):xx;if(P_(e.inherit))for(;i;)n(e,i.vars.defaults),i=i.parent||i._dp;return e},Cx=function(e,t,i,n,s){void 0===i&&(i="_first"),void 0===n&&(n="_last");var o,r=e[n];if(s)for(o=t[s];r&&r[s]>o;)r=r._prev;return r?(t._next=r._next,r._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[n]=t,t._prev=r,t.parent=t._dp=e,t},Ex=function(e,t,i,n){void 0===i&&(i="_first"),void 0===n&&(n="_last");var s=t._prev,o=t._next;s?s._next=o:e[i]===t&&(e[i]=o),o?o._prev=s:e[n]===t&&(e[n]=s),t._next=t._prev=t.parent=null},Ax=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Ix=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},Mx=function(e,t,i,n){return e._startAt&&(s_?e._startAt.revert(J_):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,n))},Ox=function e(t){return!t||t._ts&&e(t.parent)},Dx=function(e){return e._repeat?Px(e._tTime,e=e.duration()+e._rDelay)*e:0},Px=function(e,t){var i=Math.floor(e/=t);return e&&i===e?i-1:i},Lx=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},jx=function(e){return e._end=fx(e._start+(e._tDur/Math.abs(e._ts||e._rts||x_)||0))},Bx=function(e,t){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=fx(i._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),jx(e),i._dirty||Ix(i,e)),e},Rx=function(e,t){var i;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(i=Lx(e.rawTime(),t),(!t._dur||Xx(0,t.totalDuration(),i)-t._tTime>x_)&&t.render(i,!0)),Ix(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-1e-8}},Nx=function(e,t,i,n){return t.parent&&Ax(t),t._start=fx((M_(i)?i:i||e!==r_?Wx(e,i,t):e._time)+t._delay),t._end=fx(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),Cx(e,t,"_first","_last",e._sort?"_start":0),Hx(t)||(e._recent=t),n||Rx(e,t),e._ts<0&&Bx(e,e._tTime),e},Ux=function(e,t){return($_.ScrollTrigger||Y_("scrollTrigger",t))&&$_.ScrollTrigger.create(t,e)},Fx=function(e,t,i,n,s){return qw(e,t,s),e._initted?!i&&e._pt&&!s_&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&u_!==kw.frame?(ix.push(e),e._lazy=[s,n],1):void 0:1},zx=function e(t){var i=t.parent;return i&&i._ts&&i._initted&&!i._lock&&(i.rawTime()<0||e(i))},Hx=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},Vx=function(e,t,i,n){var s=e._repeat,o=fx(t)||0,r=e._tTime/e._tDur;return r&&!n&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:fx(o*(s+1)+e._rDelay*s):o,r>0&&!n&&Bx(e,e._tTime=e._tDur*r),e.parent&&jx(e),i||Ix(e.parent,e),e},qx=function(e){return e instanceof Nw?Ix(e):Vx(e,e._dur)},$x={_start:0,endTime:Q_,totalDuration:Q_},Wx=function e(t,i,n){var s,o,r,a=t.labels,l=t._recent||$x,c=t.duration()>=__?l.endTime(!1):t._dur;return A_(i)&&(isNaN(i)||i in a)?(o=i.charAt(0),r="%"===i.substr(-1),s=i.indexOf("="),"<"===o||">"===o?(s>=0&&(i=i.replace(/=/,"")),("<"===o?l._start:l.endTime(l._repeat>=0))+(parseFloat(i.substr(1))||0)*(r?(s<0?l:n).totalDuration()/100:1)):s<0?(i in a||(a[i]=c),a[i]):(o=parseFloat(i.charAt(s-1)+i.substr(s+1)),r&&n&&(o=o/100*(R_(n)?n[0]:n).totalDuration()),s>1?e(t,i.substr(0,s-1),n)+o:c+o)):null==i?c:+i},Gx=function(e,t,i){var n,s,o=M_(t[1]),r=(o?2:1)+(e<2?0:1),a=t[r];if(o&&(a.duration=t[1]),a.parent=i,e){for(n=a,s=i;s&&!("immediateRender"in n);)n=s.vars.defaults||{},s=P_(s.vars.inherit)&&s.parent;a.immediateRender=P_(n.immediateRender),e<2?a.runBackwards=1:a.startAt=t[r-1]}return new Xw(t[0],a,t[r+1])},Yx=function(e,t){return e||0===e?t(e):t},Xx=function(e,t,i){return i<e?e:i>t?t:i},Kx=function(e,t){return A_(e)&&(t=q_.exec(e))?t[1]:""},Qx=[].slice,Zx=function(e,t){return e&&D_(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&D_(e[0]))&&!e.nodeType&&e!==a_},Jx=function(e,t,i){return o_&&!t&&o_.selector?o_.selector(e):!A_(e)||i||!l_&&Sw()?R_(e)?function(e,t,i){return void 0===i&&(i=[]),e.forEach((function(e){var n;return A_(e)&&!t||Zx(e,1)?(n=i).push.apply(n,Jx(e)):i.push(e)}))||i}(e,i):Zx(e)?Qx.call(e,0):e?[e]:[]:Qx.call((t||c_).querySelectorAll(e),0)},ew=function(e){return e=Jx(e)[0]||X_("Invalid scope")||{},function(t){var i=e.current||e.nativeElement||e;return Jx(t,i.querySelectorAll?i:i===e?X_("Invalid scope")||c_.createElement("div"):e)}},tw=function(e){return e.sort((function(){return.5-Math.random()}))},iw=function(e){if(I_(e))return e;var t=D_(e)?e:{each:e},i=Ow(t.ease),n=t.from||0,s=parseFloat(t.base)||0,o={},r=n>0&&n<1,a=isNaN(n)||r,l=t.axis,c=n,d=n;return A_(n)?c=d={center:.5,edges:.5,end:1}[n]||0:!r&&a&&(c=n[0],d=n[1]),function(e,r,u){var h,p,f,m,g,v,y,b,_,x=(u||t).length,w=o[x];if(!w){if(!(_="auto"===t.grid?0:(t.grid||[1,__])[1])){for(y=-__;y<(y=u[_++].getBoundingClientRect().left)&&_<x;);_--}for(w=o[x]=[],h=a?Math.min(_,x)*c-.5:n%_,p=_===__?0:a?x*d/_-.5:n/_|0,y=0,b=__,v=0;v<x;v++)f=v%_-h,m=p-(v/_|0),w[v]=g=l?Math.abs("y"===l?m:f):T_(f*f+m*m),g>y&&(y=g),g<b&&(b=g);"random"===n&&tw(w),w.max=y-b,w.min=b,w.v=x=(parseFloat(t.amount)||parseFloat(t.each)*(_>x?x-1:l?"y"===l?x/_:_:Math.max(_,x/_))||0)*("edges"===n?-1:1),w.b=x<0?s-x:s,w.u=Kx(t.amount||t.each)||0,i=i&&x<0?Iw(i):i}return x=(w[e]-w.min)/w.max||0,fx(w.b+(i?i(x):x)*w.v)+w.u}},nw=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var n=fx(Math.round(parseFloat(i)/e)*e*t);return(n-n%1)/t+(M_(i)?0:Kx(i))}},sw=function(e,t){var i,n,s=R_(e);return!s&&D_(e)&&(i=s=e.radius||__,e.values?(e=Jx(e.values),(n=!M_(e[0]))&&(i*=i)):e=nw(e.increment)),Yx(t,s?I_(e)?function(t){return n=e(t),Math.abs(n-t)<=i?n:t}:function(t){for(var s,o,r=parseFloat(n?t.x:t),a=parseFloat(n?t.y:0),l=__,c=0,d=e.length;d--;)(s=n?(s=e[d].x-r)*s+(o=e[d].y-a)*o:Math.abs(e[d]-r))<l&&(l=s,c=d);return c=!i||l<=i?e[c]:t,n||c===t||M_(t)?c:c+Kx(t)}:nw(e))},ow=function(e,t,i,n){return Yx(R_(e)?!t:!0===i?!!(i=0):!n,(function(){return R_(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(n=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(t-e+.99*i))/i)*i*n)/n}))},rw=function(e,t,i){return Yx(i,(function(i){return e[~~t(i)]}))},aw=function(e){for(var t,i,n,s,o=0,r="";~(t=e.indexOf("random(",o));)n=e.indexOf(")",t),s="["===e.charAt(t+7),i=e.substr(t+7,n-t-7).match(s?V_:N_),r+=e.substr(o,t-o)+ow(s?i:+i[0],s?0:+i[1],+i[2]||1e-5),o=n+1;return r+e.substr(o,e.length-o)},lw=function(e,t,i,n,s){var o=t-e,r=n-i;return Yx(s,(function(t){return i+((t-e)/o*r||0)}))},cw=function(e,t,i){var n,s,o,r=e.labels,a=__;for(n in r)(s=r[n]-t)<0==!!i&&s&&a>(s=Math.abs(s))&&(o=n,a=s);return o},dw=function(e,t,i){var n,s,o,r=e.vars,a=r[t],l=o_,c=e._ctx;if(a)return n=r[t+"Params"],s=r.callbackScope||e,i&&ix.length&&vx(),c&&(o_=c),o=n?a.apply(s,n):a.call(s),o_=l,o},uw=function(e){return Ax(e),e.scrollTrigger&&e.scrollTrigger.kill(!!s_),e.progress()<1&&dw(e,"onInterrupt"),e},hw=[],pw=function(e){if(L_()&&e){var t=(e=!e.name&&e.default||e).name,i=I_(e),n=t&&!i&&e.init?function(){this._props=[]}:e,s={init:Q_,render:sk,add:Hw,kill:rk,modifier:ok,rawVars:0},o={targetTest:0,get:0,getSetter:ek,aliases:{},register:0};if(Sw(),e!==n){if(sx[t])return;xx(n,xx(Sx(e,s),o)),wx(n.prototype,wx(s,Sx(e,o))),sx[n.prop=t]=n,e.targetTest&&(ax.push(n),tx[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}K_(t,n),e.register&&e.register(wk,n,ck)}else e&&hw.push(e)},fw=255,mw={aqua:[0,fw,fw],lime:[0,fw,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,fw],navy:[0,0,128],white:[fw,fw,fw],olive:[128,128,0],yellow:[fw,fw,0],orange:[fw,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[fw,0,0],pink:[fw,192,203],cyan:[0,fw,fw],transparent:[fw,fw,fw,0]},gw=function(e,t,i){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(i-t)*e*6:e<.5?i:3*e<2?t+(i-t)*(2/3-e)*6:t)*fw+.5|0},vw=function(e,t,i){var n,s,o,r,a,l,c,d,u,h,p=e?M_(e)?[e>>16,e>>8&fw,e&fw]:0:mw.black;if(!p){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),mw[e])p=mw[e];else if("#"===e.charAt(0)){if(e.length<6&&(n=e.charAt(1),s=e.charAt(2),o=e.charAt(3),e="#"+n+n+s+s+o+o+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(p=parseInt(e.substr(1,6),16))>>16,p>>8&fw,p&fw,parseInt(e.substr(7),16)/255];p=[(e=parseInt(e.substr(1),16))>>16,e>>8&fw,e&fw]}else if("hsl"===e.substr(0,3))if(p=h=e.match(N_),t){if(~e.indexOf("="))return p=e.match(U_),i&&p.length<4&&(p[3]=1),p}else r=+p[0]%360/360,a=+p[1]/100,n=2*(l=+p[2]/100)-(s=l<=.5?l*(a+1):l+a-l*a),p.length>3&&(p[3]*=1),p[0]=gw(r+1/3,n,s),p[1]=gw(r,n,s),p[2]=gw(r-1/3,n,s);else p=e.match(N_)||mw.transparent;p=p.map(Number)}return t&&!h&&(n=p[0]/fw,s=p[1]/fw,o=p[2]/fw,l=((c=Math.max(n,s,o))+(d=Math.min(n,s,o)))/2,c===d?r=a=0:(u=c-d,a=l>.5?u/(2-c-d):u/(c+d),r=c===n?(s-o)/u+(s<o?6:0):c===s?(o-n)/u+2:(n-s)/u+4,r*=60),p[0]=~~(r+.5),p[1]=~~(100*a+.5),p[2]=~~(100*l+.5)),i&&p.length<4&&(p[3]=1),p},yw=function(e){var t=[],i=[],n=-1;return e.split(_w).forEach((function(e){var s=e.match(F_)||[];t.push.apply(t,s),i.push(n+=s.length+1)})),t.c=i,t},bw=function(e,t,i){var n,s,o,r,a="",l=(e+a).match(_w),c=t?"hsla(":"rgba(",d=0;if(!l)return e;if(l=l.map((function(e){return(e=vw(e,t,1))&&c+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),i&&(o=yw(e),(n=i.c).join(a)!==o.c.join(a)))for(r=(s=e.replace(_w,"1").split(F_)).length-1;d<r;d++)a+=s[d]+(~n.indexOf(d)?l.shift()||c+"0,0,0,0)":(o.length?o:l.length?l:i).shift());if(!s)for(r=(s=e.split(_w)).length-1;d<r;d++)a+=s[d]+l[d];return a+s[r]},_w=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in mw)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),xw=/hsl[a]?\(/,ww=function(e){var t,i=e.join(" ");if(_w.lastIndex=0,_w.test(i))return t=xw.test(i),e[1]=bw(e[1],t),e[0]=bw(e[0],t,yw(e[1])),!0},kw=function(){var e,t,i,n,s,o,r=Date.now,a=500,l=33,c=r(),d=c,u=1e3/240,h=u,p=[],f=function i(f){var m,g,v,y,b=r()-d,_=!0===f;if(b>a&&(c+=b-l),((m=(v=(d+=b)-c)-h)>0||_)&&(y=++n.frame,s=v-1e3*n.time,n.time=v/=1e3,h+=m+(m>=u?4:u-m),g=1),_||(e=t(i)),g)for(o=0;o<p.length;o++)p[o](v,s,y,f)};return n={time:0,frame:0,tick:function(){f(!0)},deltaRatio:function(e){return s/(1e3/(e||60))},wake:function(){d_&&(!l_&&L_()&&(a_=l_=window,c_=a_.document||{},$_.gsap=wk,(a_.gsapVersions||(a_.gsapVersions=[])).push(wk.version),G_(W_||a_.GreenSockGlobals||!a_.gsap&&a_||{}),i=a_.requestAnimationFrame,hw.forEach(pw)),e&&n.sleep(),t=i||function(e){return setTimeout(e,h-1e3*n.time+1|0)},p_=1,f(2))},sleep:function(){(i?a_.cancelAnimationFrame:clearTimeout)(e),p_=0,t=Q_},lagSmoothing:function(e,t){a=e||1/0,l=Math.min(t||33,a)},fps:function(e){u=1e3/(e||240),h=1e3*n.time+u},add:function(e,t,i){var s=t?function(t,i,o,r){e(t,i,o,r),n.remove(s)}:e;return n.remove(e),p[i?"unshift":"push"](s),Sw(),s},remove:function(e,t){~(t=p.indexOf(e))&&p.splice(t,1)&&o>=t&&o--},_listeners:p},n}(),Sw=function(){return!p_&&kw.wake()},Tw={},Cw=/^[\d.\-M][\d.\-,\s]/,Ew=/["']/g,Aw=function(e){for(var t,i,n,s={},o=e.substr(1,e.length-3).split(":"),r=o[0],a=1,l=o.length;a<l;a++)i=o[a],t=a!==l-1?i.lastIndexOf(","):i.length,n=i.substr(0,t),s[r]=isNaN(n)?n.replace(Ew,"").trim():+n,r=i.substr(t+1).trim();return s},Iw=function(e){return function(t){return 1-e(1-t)}},Mw=function e(t,i){for(var n,s=t._first;s;)s instanceof Nw?e(s,i):!s.vars.yoyoEase||s._yoyo&&s._repeat||s._yoyo===i||(s.timeline?e(s.timeline,i):(n=s._ease,s._ease=s._yEase,s._yEase=n,s._yoyo=i)),s=s._next},Ow=function(e,t){return e&&(I_(e)?e:Tw[e]||function(e){var t,i,n,s,o=(e+"").split("("),r=Tw[o[0]];return r&&o.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[Aw(o[1])]:(t=e,i=t.indexOf("(")+1,n=t.indexOf(")"),s=t.indexOf("(",i),t.substring(i,~s&&s<n?t.indexOf(")",n+1):n)).split(",").map(bx)):Tw._CE&&Cw.test(e)?Tw._CE("",e):r}(e))||t},Dw=function(e,t,i,n){void 0===i&&(i=function(e){return 1-t(1-e)}),void 0===n&&(n=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var s,o={easeIn:t,easeOut:i,easeInOut:n};return hx(e,(function(e){for(var t in Tw[e]=$_[e]=o,Tw[s=e.toLowerCase()]=i,o)Tw[s+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=Tw[e+"."+t]=o[t]})),o},Pw=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},Lw=function e(t,i,n){var s=i>=1?i:1,o=(n||(t?.3:.45))/(i<1?i:1),r=o/w_*(Math.asin(1/s)||0),a=function(e){return 1===e?1:s*Math.pow(2,-10*e)*E_((e-r)*o)+1},l="out"===t?a:"in"===t?function(e){return 1-a(1-e)}:Pw(a);return o=w_/o,l.config=function(i,n){return e(t,i,n)},l},jw=function e(t,i){void 0===i&&(i=1.70158);var n=function(e){return e?--e*e*((i+1)*e+i)+1:0},s="out"===t?n:"in"===t?function(e){return 1-n(1-e)}:Pw(n);return s.config=function(i){return e(t,i)},s};hx("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var i=t<5?t+1:t;Dw(e+",Power"+(i-1),t?function(e){return Math.pow(e,i)}:function(e){return e},(function(e){return 1-Math.pow(1-e,i)}),(function(e){return e<.5?Math.pow(2*e,i)/2:1-Math.pow(2*(1-e),i)/2}))})),Tw.Linear.easeNone=Tw.none=Tw.Linear.easeIn,Dw("Elastic",Lw("in"),Lw("out"),Lw()),f_=7.5625,g_=1/(m_=2.75),Dw("Bounce",(function(e){return 1-v_(1-e)}),v_=function(e){return e<g_?f_*e*e:e<.7272727272727273?f_*Math.pow(e-1.5/m_,2)+.75:e<.9090909090909092?f_*(e-=2.25/m_)*e+.9375:f_*Math.pow(e-2.625/m_,2)+.984375}),Dw("Expo",(function(e){return e?Math.pow(2,10*(e-1)):0})),Dw("Circ",(function(e){return-(T_(1-e*e)-1)})),Dw("Sine",(function(e){return 1===e?1:1-C_(e*k_)})),Dw("Back",jw("in"),jw("out"),jw()),Tw.SteppedEase=Tw.steps=$_.SteppedEase={config:function(e,t){void 0===e&&(e=1);var i=1/e,n=e+(t?0:1),s=t?1:0;return function(e){return((n*Xx(0,.99999999,e)|0)+s)*i}}},b_.ease=Tw["quad.out"],hx("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(e){return lx+=e+","+e+"Params,"}));var Bw=function(e,t){this.id=S_++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:ux,this.set=t?t.getSetter:ek},Rw=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,Vx(this,+e.duration,1,1),this.data=e.data,o_&&(this._ctx=o_,o_.data.push(this)),p_||kw.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,Vx(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(Sw(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(Bx(this,e),!i._dp||i.parent||Rx(i,this);i&&i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&Nx(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===x_||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),yx(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+Dx(this))%(this._dur+this._rDelay)||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+Dx(this),t):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(e,t){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*i,t):this._repeat?Px(this._tTime,i)+1:1},t.timeScale=function(e){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var t=this.parent&&this._ts?Lx(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,this.totalTime(Xx(-Math.abs(this._delay),this._tDur,t),!0),jx(this),function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e}(this)},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Sw(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==x_&&(this._tTime-=x_)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&Nx(t,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+(P_(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Lx(t.rawTime(e),this):this._tTime:this._tTime},t.revert=function(e){void 0===e&&(e=ex);var t=s_;return s_=e,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),"nested"!==this.data&&!1!==e.kill&&this.kill(),s_=t,this},t.globalTime=function(e){for(var t=this,i=arguments.length?e:t.rawTime();t;)i=t._start+i/(t._ts||1),t=t._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1/0:this._sat.globalTime(e):i},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,qx(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){if(arguments.length){var t=this._time;return this._rDelay=e,qx(this),t?this.time(t):this}return this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(Wx(this,e),P_(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,P_(t))},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,i=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=i&&e<this.endTime(!0)-x_))},t.eventCallback=function(e,t,i){var n=this.vars;return arguments.length>1?(t?(n[e]=t,i&&(n[e+"Params"]=i),"onUpdate"===e&&(this._onUpdate=t)):delete n[e],this):n[e]},t.then=function(e){var t=this;return new Promise((function(i){var n=I_(e)?e:_x,s=function(){var e=t.then;t.then=null,I_(n)&&(n=n(t))&&(n.then||n===t)&&(t.then=e),i(n),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?s():t._prom=s}))},t.kill=function(){uw(this)},e}();xx(Rw.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var Nw=function(e){function t(t,i){var n;return void 0===t&&(t={}),(n=e.call(this,t)||this).labels={},n.smoothChildTiming=!!t.smoothChildTiming,n.autoRemoveChildren=!!t.autoRemoveChildren,n._sort=P_(t.sortChildren),r_&&Nx(t.parent||r_,t_(n),i),t.reversed&&n.reverse(),t.paused&&n.paused(!0),t.scrollTrigger&&Ux(t_(n),t.scrollTrigger),n}i_(t,e);var i=t.prototype;return i.to=function(e,t,i){return Gx(0,arguments,this),this},i.from=function(e,t,i){return Gx(1,arguments,this),this},i.fromTo=function(e,t,i,n){return Gx(2,arguments,this),this},i.set=function(e,t,i){return t.duration=0,t.parent=this,Tx(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new Xw(e,t,Wx(this,i),1),this},i.call=function(e,t,i){return Nx(this,Xw.delayedCall(0,e,t),i)},i.staggerTo=function(e,t,i,n,s,o,r){return i.duration=t,i.stagger=i.stagger||n,i.onComplete=o,i.onCompleteParams=r,i.parent=this,new Xw(e,i,Wx(this,s)),this},i.staggerFrom=function(e,t,i,n,s,o,r){return i.runBackwards=1,Tx(i).immediateRender=P_(i.immediateRender),this.staggerTo(e,t,i,n,s,o,r)},i.staggerFromTo=function(e,t,i,n,s,o,r,a){return n.startAt=i,Tx(n).immediateRender=P_(n.immediateRender),this.staggerTo(e,t,n,s,o,r,a)},i.render=function(e,t,i){var n,s,o,r,a,l,c,d,u,h,p,f,m=this._time,g=this._dirty?this.totalDuration():this._tDur,v=this._dur,y=e<=0?0:fx(e),b=this._zTime<0!=e<0&&(this._initted||!v);if(this!==r_&&y>g&&e>=0&&(y=g),y!==this._tTime||i||b){if(m!==this._time&&v&&(y+=this._time-m,e+=this._time-m),n=y,u=this._start,l=!(d=this._ts),b&&(v||(m=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(p=this._yoyo,a=v+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*a+e,t,i);if(n=fx(y%a),y===g?(r=this._repeat,n=v):((r=~~(y/a))&&r===y/a&&(n=v,r--),n>v&&(n=v)),h=Px(this._tTime,a),!m&&this._tTime&&h!==r&&this._tTime-h*a-this._dur<=0&&(h=r),p&&1&r&&(n=v-n,f=1),r!==h&&!this._lock){var _=p&&1&h,x=_===(p&&1&r);if(r<h&&(_=!_),m=_?0:y%v?v:y,this._lock=1,this.render(m||(f?0:fx(r*a)),t,!v)._lock=0,this._tTime=y,!t&&this.parent&&dw(this,"onRepeat"),this.vars.repeatRefresh&&!f&&(this.invalidate()._lock=1),m&&m!==this._time||l!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(v=this._dur,g=this._tDur,x&&(this._lock=2,m=_?v:-1e-4,this.render(m,!0),this.vars.repeatRefresh&&!f&&this.invalidate()),this._lock=0,!this._ts&&!l)return this;Mw(this,f)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(c=function(e,t,i){var n;if(i>t)for(n=e._first;n&&n._start<=i;){if("isPause"===n.data&&n._start>t)return n;n=n._next}else for(n=e._last;n&&n._start>=i;){if("isPause"===n.data&&n._start<t)return n;n=n._prev}}(this,fx(m),fx(n)),c&&(y-=n-(n=c._start))),this._tTime=y,this._time=n,this._act=!d,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,m=0),!m&&n&&!t&&!r&&(dw(this,"onStart"),this._tTime!==y))return this;if(n>=m&&e>=0)for(s=this._first;s;){if(o=s._next,(s._act||n>=s._start)&&s._ts&&c!==s){if(s.parent!==this)return this.render(e,t,i);if(s.render(s._ts>0?(n-s._start)*s._ts:(s._dirty?s.totalDuration():s._tDur)+(n-s._start)*s._ts,t,i),n!==this._time||!this._ts&&!l){c=0,o&&(y+=this._zTime=-1e-8);break}}s=o}else{s=this._last;for(var w=e<0?e:n;s;){if(o=s._prev,(s._act||w<=s._end)&&s._ts&&c!==s){if(s.parent!==this)return this.render(e,t,i);if(s.render(s._ts>0?(w-s._start)*s._ts:(s._dirty?s.totalDuration():s._tDur)+(w-s._start)*s._ts,t,i||s_&&(s._initted||s._startAt)),n!==this._time||!this._ts&&!l){c=0,o&&(y+=this._zTime=w?-1e-8:x_);break}}s=o}}if(c&&!t&&(this.pause(),c.render(n>=m?0:-1e-8)._zTime=n>=m?1:-1,this._ts))return this._start=u,jx(this),this.render(e,t,i);this._onUpdate&&!t&&dw(this,"onUpdate",!0),(y===g&&this._tTime>=this.totalDuration()||!y&&m)&&(u!==this._start&&Math.abs(d)===Math.abs(this._ts)||this._lock||((e||!v)&&(y===g&&this._ts>0||!y&&this._ts<0)&&Ax(this,1),t||e<0&&!m||!y&&!m&&g||(dw(this,y===g&&e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(y<g&&this.timeScale()>0)&&this._prom())))}return this},i.add=function(e,t){var i=this;if(M_(t)||(t=Wx(this,t,e)),!(e instanceof Rw)){if(R_(e))return e.forEach((function(e){return i.add(e,t)})),this;if(A_(e))return this.addLabel(e,t);if(!I_(e))return this;e=Xw.delayedCall(0,e)}return this!==e?Nx(this,e,t):this},i.getChildren=function(e,t,i,n){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===i&&(i=!0),void 0===n&&(n=-__);for(var s=[],o=this._first;o;)o._start>=n&&(o instanceof Xw?t&&s.push(o):(i&&s.push(o),e&&s.push.apply(s,o.getChildren(!0,t,i)))),o=o._next;return s},i.getById=function(e){for(var t=this.getChildren(1,1,1),i=t.length;i--;)if(t[i].vars.id===e)return t[i]},i.remove=function(e){return A_(e)?this.removeLabel(e):I_(e)?this.killTweensOf(e):(Ex(this,e),e===this._recent&&(this._recent=this._last),Ix(this))},i.totalTime=function(t,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=fx(kw.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,i),this._forcing=0,this):this._tTime},i.addLabel=function(e,t){return this.labels[e]=Wx(this,t),this},i.removeLabel=function(e){return delete this.labels[e],this},i.addPause=function(e,t,i){var n=Xw.delayedCall(0,t||Q_,i);return n.data="isPause",this._hasPause=1,Nx(this,n,Wx(this,e))},i.removePause=function(e){var t=this._first;for(e=Wx(this,e);t;)t._start===e&&"isPause"===t.data&&Ax(t),t=t._next},i.killTweensOf=function(e,t,i){for(var n=this.getTweensOf(e,i),s=n.length;s--;)Uw!==n[s]&&n[s].kill(e,t);return this},i.getTweensOf=function(e,t){for(var i,n=[],s=Jx(e),o=this._first,r=M_(t);o;)o instanceof Xw?gx(o._targets,s)&&(r?(!Uw||o._initted&&o._ts)&&o.globalTime(0)<=t&&o.globalTime(o.totalDuration())>t:!t||o.isActive())&&n.push(o):(i=o.getTweensOf(s,t)).length&&n.push.apply(n,i),o=o._next;return n},i.tweenTo=function(e,t){t=t||{};var i,n=this,s=Wx(n,e),o=t,r=o.startAt,a=o.onStart,l=o.onStartParams,c=o.immediateRender,d=Xw.to(n,xx({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:s,overwrite:"auto",duration:t.duration||Math.abs((s-(r&&"time"in r?r.time:n._time))/n.timeScale())||x_,onStart:function(){if(n.pause(),!i){var e=t.duration||Math.abs((s-(r&&"time"in r?r.time:n._time))/n.timeScale());d._dur!==e&&Vx(d,e,0,1).render(d._time,!0,!0),i=1}a&&a.apply(d,l||[])}},t));return c?d.render(0):d},i.tweenFromTo=function(e,t,i){return this.tweenTo(t,xx({startAt:{time:Wx(this,e)}},i))},i.recent=function(){return this._recent},i.nextLabel=function(e){return void 0===e&&(e=this._time),cw(this,Wx(this,e))},i.previousLabel=function(e){return void 0===e&&(e=this._time),cw(this,Wx(this,e),1)},i.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+x_)},i.shiftChildren=function(e,t,i){void 0===i&&(i=0);for(var n,s=this._first,o=this.labels;s;)s._start>=i&&(s._start+=e,s._end+=e),s=s._next;if(t)for(n in o)o[n]>=i&&(o[n]+=e);return Ix(this)},i.invalidate=function(t){var i=this._first;for(this._lock=0;i;)i.invalidate(t),i=i._next;return e.prototype.invalidate.call(this,t)},i.clear=function(e){void 0===e&&(e=!0);for(var t,i=this._first;i;)t=i._next,this.remove(i),i=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),Ix(this)},i.totalDuration=function(e){var t,i,n,s=0,o=this,r=o._last,a=__;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-e:e));if(o._dirty){for(n=o.parent;r;)t=r._prev,r._dirty&&r.totalDuration(),(i=r._start)>a&&o._sort&&r._ts&&!o._lock?(o._lock=1,Nx(o,r,i-r._delay,1)._lock=0):a=i,i<0&&r._ts&&(s-=i,(!n&&!o._dp||n&&n.smoothChildTiming)&&(o._start+=i/o._ts,o._time-=i,o._tTime-=i),o.shiftChildren(-i,!1,-Infinity),a=0),r._end>s&&r._ts&&(s=r._end),r=t;Vx(o,o===r_&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},t.updateRoot=function(e){if(r_._ts&&(yx(r_,Lx(e,r_)),u_=kw.frame),kw.frame>=rx){rx+=y_.autoSleep||120;var t=r_._first;if((!t||!t._ts)&&y_.autoSleep&&kw._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||kw.sleep()}}},t}(Rw);xx(Nw.prototype,{_lock:0,_hasPause:0,_forcing:0});var Uw,Fw,zw=function(e,t,i,n,s,o,r){var a,l,c,d,u,h,p,f,m=new ck(this._pt,e,t,0,1,nk,null,s),g=0,v=0;for(m.b=i,m.e=n,i+="",(p=~(n+="").indexOf("random("))&&(n=aw(n)),o&&(o(f=[i,n],e,t),i=f[0],n=f[1]),l=i.match(z_)||[];a=z_.exec(n);)d=a[0],u=n.substring(g,a.index),c?c=(c+1)%5:"rgba("===u.substr(-5)&&(c=1),d!==l[v++]&&(h=parseFloat(l[v-1])||0,m._pt={_next:m._pt,p:u||1===v?u:",",s:h,c:"="===d.charAt(1)?mx(h,d)-h:parseFloat(d)-h,m:c&&c<4?Math.round:0},g=z_.lastIndex);return m.c=g<n.length?n.substring(g,n.length):"",m.fp=r,(H_.test(n)||p)&&(m.e=0),this._pt=m,m},Hw=function(e,t,i,n,s,o,r,a,l,c){I_(n)&&(n=n(s||0,e,o));var d,u=e[t],h="get"!==i?i:I_(u)?l?e[t.indexOf("set")||!I_(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():u,p=I_(u)?l?Zw:Qw:Kw;if(A_(n)&&(~n.indexOf("random(")&&(n=aw(n)),"="===n.charAt(1)&&((d=mx(h,n)+(Kx(h)||0))||0===d)&&(n=d)),!c||h!==n||Fw)return isNaN(h*n)||""===n?(!u&&!(t in e)&&Y_(t,n),zw.call(this,e,t,h,n,p,a||y_.stringFilter,l)):(d=new ck(this._pt,e,t,+h||0,n-(h||0),"boolean"==typeof u?ik:tk,0,p),l&&(d.fp=l),r&&d.modifier(r,this,e),this._pt=d)},Vw=function(e,t,i,n,s,o){var r,a,l,c;if(sx[e]&&!1!==(r=new sx[e]).init(s,r.rawVars?t[e]:function(e,t,i,n,s){if(I_(e)&&(e=Ww(e,s,t,i,n)),!D_(e)||e.style&&e.nodeType||R_(e)||B_(e))return A_(e)?Ww(e,s,t,i,n):e;var o,r={};for(o in e)r[o]=Ww(e[o],s,t,i,n);return r}(t[e],n,s,o,i),i,n,o)&&(i._pt=a=new ck(i._pt,s,e,0,1,r.render,r,0,r.priority),i!==h_))for(l=i._ptLookup[i._targets.indexOf(s)],c=r._props.length;c--;)l[r._props[c]]=a;return r},qw=function e(t,i,n){var s,o,r,a,l,c,d,u,h,p,f,m,g,v=t.vars,y=v.ease,b=v.startAt,_=v.immediateRender,x=v.lazy,w=v.onUpdate,k=v.onUpdateParams,S=v.callbackScope,T=v.runBackwards,C=v.yoyoEase,E=v.keyframes,A=v.autoRevert,I=t._dur,M=t._startAt,O=t._targets,D=t.parent,P=D&&"nested"===D.data?D.vars.targets:O,L="auto"===t._overwrite&&!n_,j=t.timeline;if(j&&(!E||!y)&&(y="none"),t._ease=Ow(y,b_.ease),t._yEase=C?Iw(Ow(!0===C?y:C,b_.ease)):0,C&&t._yoyo&&!t._repeat&&(C=t._yEase,t._yEase=t._ease,t._ease=C),t._from=!j&&!!v.runBackwards,!j||E&&!v.stagger){if(m=(u=O[0]?dx(O[0]).harness:0)&&v[u.prop],s=Sx(v,tx),M&&(M._zTime<0&&M.progress(1),i<0&&T&&_&&!A?M.render(-1,!0):M.revert(T&&I?J_:Z_),M._lazy=0),b){if(Ax(t._startAt=Xw.set(O,xx({data:"isStart",overwrite:!1,parent:D,immediateRender:!0,lazy:!M&&P_(x),startAt:null,delay:0,onUpdate:w,onUpdateParams:k,callbackScope:S,stagger:0},b))),t._startAt._dp=0,t._startAt._sat=t,i<0&&(s_||!_&&!A)&&t._startAt.revert(J_),_&&I&&i<=0&&n<=0)return void(i&&(t._zTime=i))}else if(T&&I&&!M)if(i&&(_=!1),r=xx({overwrite:!1,data:"isFromStart",lazy:_&&!M&&P_(x),immediateRender:_,stagger:0,parent:D},s),m&&(r[u.prop]=m),Ax(t._startAt=Xw.set(O,r)),t._startAt._dp=0,t._startAt._sat=t,i<0&&(s_?t._startAt.revert(J_):t._startAt.render(-1,!0)),t._zTime=i,_){if(!i)return}else e(t._startAt,x_,x_);for(t._pt=t._ptCache=0,x=I&&P_(x)||x&&!I,o=0;o<O.length;o++){if(d=(l=O[o])._gsap||cx(O)[o]._gsap,t._ptLookup[o]=p={},nx[d.id]&&ix.length&&vx(),f=P===O?o:P.indexOf(l),u&&!1!==(h=new u).init(l,m||s,t,f,P)&&(t._pt=a=new ck(t._pt,l,h.name,0,1,h.render,h,0,h.priority),h._props.forEach((function(e){p[e]=a})),h.priority&&(c=1)),!u||m)for(r in s)sx[r]&&(h=Vw(r,s,t,f,l,P))?h.priority&&(c=1):p[r]=a=Hw.call(t,l,r,"get",s[r],f,P,0,v.stringFilter);t._op&&t._op[o]&&t.kill(l,t._op[o]),L&&t._pt&&(Uw=t,r_.killTweensOf(l,p,t.globalTime(i)),g=!t.parent,Uw=0),t._pt&&x&&(nx[d.id]=1)}c&&lk(t),t._onInit&&t._onInit(t)}t._onUpdate=w,t._initted=(!t._op||t._pt)&&!g,E&&i<=0&&j.render(__,!0,!0)},$w=function(e,t,i,n){var s,o,r=t.ease||n||"power1.inOut";if(R_(t))o=i[e]||(i[e]=[]),t.forEach((function(e,i){return o.push({t:i/(t.length-1)*100,v:e,e:r})}));else for(s in t)o=i[s]||(i[s]=[]),"ease"===s||o.push({t:parseFloat(e),v:t[s],e:r})},Ww=function(e,t,i,n,s){return I_(e)?e.call(t,i,n,s):A_(e)&&~e.indexOf("random(")?aw(e):e},Gw=lx+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Yw={};hx(Gw+",id,stagger,delay,duration,paused,scrollTrigger",(function(e){return Yw[e]=1}));var Xw=function(e){function t(t,i,n,s){var o;"number"==typeof i&&(n.duration=i,i=n,n=null);var r,a,l,c,d,u,h,p,f=(o=e.call(this,s?i:Tx(i))||this).vars,m=f.duration,g=f.delay,v=f.immediateRender,y=f.stagger,b=f.overwrite,_=f.keyframes,x=f.defaults,w=f.scrollTrigger,k=f.yoyoEase,S=i.parent||r_,T=(R_(t)||B_(t)?M_(t[0]):"length"in i)?[t]:Jx(t);if(o._targets=T.length?cx(T):X_("GSAP target "+t+" not found. https://greensock.com",!y_.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=b,_||y||j_(m)||j_(g)){if(i=o.vars,(r=o.timeline=new Nw({data:"nested",defaults:x||{},targets:S&&"nested"===S.data?S.vars.targets:T})).kill(),r.parent=r._dp=t_(o),r._start=0,y||j_(m)||j_(g)){if(c=T.length,h=y&&iw(y),D_(y))for(d in y)~Gw.indexOf(d)&&(p||(p={}),p[d]=y[d]);for(a=0;a<c;a++)(l=Sx(i,Yw)).stagger=0,k&&(l.yoyoEase=k),p&&wx(l,p),u=T[a],l.duration=+Ww(m,t_(o),a,u,T),l.delay=(+Ww(g,t_(o),a,u,T)||0)-o._delay,!y&&1===c&&l.delay&&(o._delay=g=l.delay,o._start+=g,l.delay=0),r.to(u,l,h?h(a,u,T):0),r._ease=Tw.none;r.duration()?m=g=0:o.timeline=0}else if(_){Tx(xx(r.vars.defaults,{ease:"none"})),r._ease=Ow(_.ease||i.ease||"none");var C,E,A,I=0;if(R_(_))_.forEach((function(e){return r.to(T,e,">")})),r.duration();else{for(d in l={},_)"ease"===d||"easeEach"===d||$w(d,_[d],l,_.easeEach);for(d in l)for(C=l[d].sort((function(e,t){return e.t-t.t})),I=0,a=0;a<C.length;a++)(A={ease:(E=C[a]).e,duration:(E.t-(a?C[a-1].t:0))/100*m})[d]=E.v,r.to(T,A,I),I+=A.duration;r.duration()<m&&r.to({},{duration:m-r.duration()})}}m||o.duration(m=r.duration())}else o.timeline=0;return!0!==b||n_||(Uw=t_(o),r_.killTweensOf(T),Uw=0),Nx(S,t_(o),n),i.reversed&&o.reverse(),i.paused&&o.paused(!0),(v||!m&&!_&&o._start===fx(S._time)&&P_(v)&&Ox(t_(o))&&"nested"!==S.data)&&(o._tTime=-1e-8,o.render(Math.max(0,-g)||0)),w&&Ux(t_(o),w),o}i_(t,e);var i=t.prototype;return i.render=function(e,t,i){var n,s,o,r,a,l,c,d,u,h=this._time,p=this._tDur,f=this._dur,m=e<0,g=e>p-x_&&!m?p:e<x_?0:e;if(f){if(g!==this._tTime||!e||i||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m){if(n=g,d=this.timeline,this._repeat){if(r=f+this._rDelay,this._repeat<-1&&m)return this.totalTime(100*r+e,t,i);if(n=fx(g%r),g===p?(o=this._repeat,n=f):((o=~~(g/r))&&o===g/r&&(n=f,o--),n>f&&(n=f)),(l=this._yoyo&&1&o)&&(u=this._yEase,n=f-n),a=Px(this._tTime,r),n===h&&!i&&this._initted)return this._tTime=g,this;o!==a&&(d&&this._yEase&&Mw(d,l),!this.vars.repeatRefresh||l||this._lock||(this._lock=i=1,this.render(fx(r*o),!0).invalidate()._lock=0))}if(!this._initted){if(Fx(this,m?e:n,i,t,g))return this._tTime=0,this;if(h!==this._time)return this;if(f!==this._dur)return this.render(e,t,i)}if(this._tTime=g,this._time=n,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(u||this._ease)(n/f),this._from&&(this.ratio=c=1-c),n&&!h&&!t&&!o&&(dw(this,"onStart"),this._tTime!==g))return this;for(s=this._pt;s;)s.r(c,s.d),s=s._next;d&&d.render(e<0?e:!n&&l?-1e-8:d._dur*d._ease(n/this._dur),t,i)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(m&&Mx(this,e,0,i),dw(this,"onUpdate")),this._repeat&&o!==a&&this.vars.onRepeat&&!t&&this.parent&&dw(this,"onRepeat"),g!==this._tDur&&g||this._tTime!==g||(m&&!this._onUpdate&&Mx(this,e,0,!0),(e||!f)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&Ax(this,1),t||m&&!h||!(g||h||l)||(dw(this,g===p?"onComplete":"onReverseComplete",!0),this._prom&&!(g<p&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,i,n){var s,o,r,a=e.ratio,l=t<0||!t&&(!e._start&&zx(e)&&(e._initted||!Hx(e))||(e._ts<0||e._dp._ts<0)&&!Hx(e))?0:1,c=e._rDelay,d=0;if(c&&e._repeat&&(d=Xx(0,e._tDur,t),o=Px(d,c),e._yoyo&&1&o&&(l=1-l),o!==Px(e._tTime,c)&&(a=1-l,e.vars.repeatRefresh&&e._initted&&e.invalidate())),l!==a||s_||n||e._zTime===x_||!t&&e._zTime){if(!e._initted&&Fx(e,t,n,i,d))return;for(r=e._zTime,e._zTime=t||(i?x_:0),i||(i=t&&!r),e.ratio=l,e._from&&(l=1-l),e._time=0,e._tTime=d,s=e._pt;s;)s.r(l,s.d),s=s._next;t<0&&Mx(e,t,0,!0),e._onUpdate&&!i&&dw(e,"onUpdate"),d&&e._repeat&&!i&&e.parent&&dw(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===l&&(l&&Ax(e,1),i||s_||(dw(e,l?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,i);return this},i.targets=function(){return this._targets},i.invalidate=function(t){return(!t||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(t),e.prototype.invalidate.call(this,t)},i.resetTo=function(e,t,i,n){p_||kw.wake(),this._ts||this.play();var s=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||qw(this,s),function(e,t,i,n,s,o,r){var a,l,c,d,u=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!u)for(u=e._ptCache[t]=[],c=e._ptLookup,d=e._targets.length;d--;){if((a=c[d][t])&&a.d&&a.d._pt)for(a=a.d._pt;a&&a.p!==t&&a.fp!==t;)a=a._next;if(!a)return Fw=1,e.vars[t]="+=0",qw(e,r),Fw=0,1;u.push(a)}for(d=u.length;d--;)(a=(l=u[d])._pt||l).s=!n&&0!==n||s?a.s+(n||0)+o*a.c:n,a.c=i-a.s,l.e&&(l.e=px(i)+Kx(l.e)),l.b&&(l.b=a.s+Kx(l.b))}(this,e,t,i,n,this._ease(s/this._dur),s)?this.resetTo(e,t,i,n):(Bx(this,0),this.parent||Cx(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},i.kill=function(e,t){if(void 0===t&&(t="all"),!(e||t&&"all"!==t))return this._lazy=this._pt=0,this.parent?uw(this):this;if(this.timeline){var i=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,Uw&&!0!==Uw.vars.overwrite)._first||uw(this),this.parent&&i!==this.timeline.totalDuration()&&Vx(this,this._dur*this.timeline._tDur/i,0,1),this}var n,s,o,r,a,l,c,d=this._targets,u=e?Jx(e):d,h=this._ptLookup,p=this._pt;if((!t||"all"===t)&&function(e,t){for(var i=e.length,n=i===t.length;n&&i--&&e[i]===t[i];);return i<0}(d,u))return"all"===t&&(this._pt=0),uw(this);for(n=this._op=this._op||[],"all"!==t&&(A_(t)&&(a={},hx(t,(function(e){return a[e]=1})),t=a),t=function(e,t){var i,n,s,o,r=e[0]?dx(e[0]).harness:0,a=r&&r.aliases;if(!a)return t;for(n in i=wx({},t),a)if(n in i)for(s=(o=a[n].split(",")).length;s--;)i[o[s]]=i[n];return i}(d,t)),c=d.length;c--;)if(~u.indexOf(d[c]))for(a in s=h[c],"all"===t?(n[c]=t,r=s,o={}):(o=n[c]=n[c]||{},r=t),r)(l=s&&s[a])&&("kill"in l.d&&!0!==l.d.kill(a)||Ex(this,l,"_pt"),delete s[a]),"all"!==o&&(o[a]=1);return this._initted&&!this._pt&&p&&uw(this),this},t.to=function(e,i){return new t(e,i,arguments[2])},t.from=function(e,t){return Gx(1,arguments)},t.delayedCall=function(e,i,n,s){return new t(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:i,onReverseComplete:i,onCompleteParams:n,onReverseCompleteParams:n,callbackScope:s})},t.fromTo=function(e,t,i){return Gx(2,arguments)},t.set=function(e,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new t(e,i)},t.killTweensOf=function(e,t,i){return r_.killTweensOf(e,t,i)},t}(Rw);xx(Xw.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),hx("staggerTo,staggerFrom,staggerFromTo",(function(e){Xw[e]=function(){var t=new Nw,i=Qx.call(arguments,0);return i.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,i)}}));var Kw=function(e,t,i){return e[t]=i},Qw=function(e,t,i){return e[t](i)},Zw=function(e,t,i,n){return e[t](n.fp,i)},Jw=function(e,t,i){return e.setAttribute(t,i)},ek=function(e,t){return I_(e[t])?Qw:O_(e[t])&&e.setAttribute?Jw:Kw},tk=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},ik=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},nk=function(e,t){var i=t._pt,n="";if(!e&&t.b)n=t.b;else if(1===e&&t.e)n=t.e;else{for(;i;)n=i.p+(i.m?i.m(i.s+i.c*e):Math.round(1e4*(i.s+i.c*e))/1e4)+n,i=i._next;n+=t.c}t.set(t.t,t.p,n,t)},sk=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},ok=function(e,t,i,n){for(var s,o=this._pt;o;)s=o._next,o.p===n&&o.modifier(e,t,i),o=s},rk=function(e){for(var t,i,n=this._pt;n;)i=n._next,n.p===e&&!n.op||n.op===e?Ex(this,n,"_pt"):n.dep||(t=1),n=i;return!t},ak=function(e,t,i,n){n.mSet(e,t,n.m.call(n.tween,i,n.mt),n)},lk=function(e){for(var t,i,n,s,o=e._pt;o;){for(t=o._next,i=n;i&&i.pr>o.pr;)i=i._next;(o._prev=i?i._prev:s)?o._prev._next=o:n=o,(o._next=i)?i._prev=o:s=o,o=t}e._pt=n},ck=function(){function e(e,t,i,n,s,o,r,a,l){this.t=t,this.s=n,this.c=s,this.p=i,this.r=o||tk,this.d=r||this,this.set=a||Kw,this.pr=l||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,i){this.mSet=this.mSet||this.set,this.set=ak,this.m=e,this.mt=i,this.tween=t},e}();hx(lx+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(e){return tx[e]=1})),$_.TweenMax=$_.TweenLite=Xw,$_.TimelineLite=$_.TimelineMax=Nw,r_=new Nw({sortChildren:!1,defaults:b_,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),y_.stringFilter=ww;var dk=[],uk={},hk=[],pk=0,fk=0,mk=function(e){return(uk[e]||hk).map((function(e){return e()}))},gk=function(){var e=Date.now(),t=[];e-pk>2&&(mk("matchMediaInit"),dk.forEach((function(e){var i,n,s,o,r=e.queries,a=e.conditions;for(n in r)(i=a_.matchMedia(r[n]).matches)&&(s=1),i!==a[n]&&(a[n]=i,o=1);o&&(e.revert(),s&&t.push(e))})),mk("matchMediaRevert"),t.forEach((function(e){return e.onMatch(e)})),pk=e,mk("matchMedia"))},vk=function(){function e(e,t){this.selector=t&&ew(t),this.data=[],this._r=[],this.isReverted=!1,this.id=fk++,e&&this.add(e)}var t=e.prototype;return t.add=function(e,t,i){I_(e)&&(i=t,t=e,e=I_);var n=this,s=function(){var e,s=o_,o=n.selector;return s&&s!==n&&s.data.push(n),i&&(n.selector=ew(i)),o_=n,e=t.apply(n,arguments),I_(e)&&n._r.push(e),o_=s,n.selector=o,n.isReverted=!1,e};return n.last=s,e===I_?s(n):e?n[e]=s:s},t.ignore=function(e){var t=o_;o_=null,e(this),o_=t},t.getTweens=function(){var t=[];return this.data.forEach((function(i){return i instanceof e?t.push.apply(t,i.getTweens()):i instanceof Xw&&!(i.parent&&"nested"===i.parent.data)&&t.push(i)})),t},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(e,t){var i=this;if(e){var n=this.getTweens();this.data.forEach((function(e){"isFlip"===e.data&&(e.revert(),e.getChildren(!0,!0,!1).forEach((function(e){return n.splice(n.indexOf(e),1)})))})),n.map((function(e){return{g:e.globalTime(0),t:e}})).sort((function(e,t){return t.g-e.g||-1/0})).forEach((function(t){return t.t.revert(e)})),this.data.forEach((function(t){return!(t instanceof Xw)&&t.revert&&t.revert(e)})),this._r.forEach((function(t){return t(e,i)})),this.isReverted=!0}else this.data.forEach((function(e){return e.kill&&e.kill()}));if(this.clear(),t)for(var s=dk.length;s--;)dk[s].id===this.id&&dk.splice(s,1)},t.revert=function(e){this.kill(e||{})},e}(),yk=function(){function e(e){this.contexts=[],this.scope=e}var t=e.prototype;return t.add=function(e,t,i){D_(e)||(e={matches:e});var n,s,o,r=new vk(0,i||this.scope),a=r.conditions={};for(s in o_&&!r.selector&&(r.selector=o_.selector),this.contexts.push(r),t=r.add("onMatch",t),r.queries=e,e)"all"===s?o=1:(n=a_.matchMedia(e[s]))&&(dk.indexOf(r)<0&&dk.push(r),(a[s]=n.matches)&&(o=1),n.addListener?n.addListener(gk):n.addEventListener("change",gk));return o&&t(r),this},t.revert=function(e){this.kill(e||{})},t.kill=function(e){this.contexts.forEach((function(t){return t.kill(e,!0)}))},e}(),bk={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach((function(e){return pw(e)}))},timeline:function(e){return new Nw(e)},getTweensOf:function(e,t){return r_.getTweensOf(e,t)},getProperty:function(e,t,i,n){A_(e)&&(e=Jx(e)[0]);var s=dx(e||{}).get,o=i?_x:bx;return"native"===i&&(i=""),e?t?o((sx[t]&&sx[t].get||s)(e,t,i,n)):function(t,i,n){return o((sx[t]&&sx[t].get||s)(e,t,i,n))}:e},quickSetter:function(e,t,i){if((e=Jx(e)).length>1){var n=e.map((function(e){return wk.quickSetter(e,t,i)})),s=n.length;return function(e){for(var t=s;t--;)n[t](e)}}e=e[0]||{};var o=sx[t],r=dx(e),a=r.harness&&(r.harness.aliases||{})[t]||t,l=o?function(t){var n=new o;h_._pt=0,n.init(e,i?t+i:t,h_,0,[e]),n.render(1,n),h_._pt&&sk(1,h_)}:r.set(e,a);return o?l:function(t){return l(e,a,i?t+i:t,r,1)}},quickTo:function(e,t,i){var n,s=wk.to(e,wx(((n={})[t]="+=0.1",n.paused=!0,n),i||{})),o=function(e,i,n){return s.resetTo(t,e,i,n)};return o.tween=s,o},isTweening:function(e){return r_.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Ow(e.ease,b_.ease)),kx(b_,e||{})},config:function(e){return kx(y_,e||{})},registerEffect:function(e){var t=e.name,i=e.effect,n=e.plugins,s=e.defaults,o=e.extendTimeline;(n||"").split(",").forEach((function(e){return e&&!sx[e]&&!$_[e]&&X_(t+" effect requires "+e+" plugin.")})),ox[t]=function(e,t,n){return i(Jx(e),xx(t||{},s),n)},o&&(Nw.prototype[t]=function(e,i,n){return this.add(ox[t](e,D_(i)?i:(n=i)&&{},this),n)})},registerEase:function(e,t){Tw[e]=Ow(t)},parseEase:function(e,t){return arguments.length?Ow(e,t):Tw},getById:function(e){return r_.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var i,n,s=new Nw(e);for(s.smoothChildTiming=P_(e.smoothChildTiming),r_.remove(s),s._dp=0,s._time=s._tTime=r_._time,i=r_._first;i;)n=i._next,!t&&!i._dur&&i instanceof Xw&&i.vars.onComplete===i._targets[0]||Nx(s,i,i._start-i._delay),i=n;return Nx(r_,s,0),s},context:function(e,t){return e?new vk(e,t):o_},matchMedia:function(e){return new yk(e)},matchMediaRefresh:function(){return dk.forEach((function(e){var t,i,n=e.conditions;for(i in n)n[i]&&(n[i]=!1,t=1);t&&e.revert()}))||gk()},addEventListener:function(e,t){var i=uk[e]||(uk[e]=[]);~i.indexOf(t)||i.push(t)},removeEventListener:function(e,t){var i=uk[e],n=i&&i.indexOf(t);n>=0&&i.splice(n,1)},utils:{wrap:function e(t,i,n){var s=i-t;return R_(t)?rw(t,e(0,t.length),i):Yx(n,(function(e){return(s+(e-t)%s)%s+t}))},wrapYoyo:function e(t,i,n){var s=i-t,o=2*s;return R_(t)?rw(t,e(0,t.length-1),i):Yx(n,(function(e){return t+((e=(o+(e-t)%o)%o||0)>s?o-e:e)}))},distribute:iw,random:ow,snap:sw,normalize:function(e,t,i){return lw(e,t,0,1,i)},getUnit:Kx,clamp:function(e,t,i){return Yx(i,(function(i){return Xx(e,t,i)}))},splitColor:vw,toArray:Jx,selector:ew,mapRange:lw,pipe:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},unitize:function(e,t){return function(i){return e(parseFloat(i))+(t||Kx(i))}},interpolate:function e(t,i,n,s){var o=isNaN(t+i)?0:function(e){return(1-e)*t+e*i};if(!o){var r,a,l,c,d,u=A_(t),h={};if(!0===n&&(s=1)&&(n=null),u)t={p:t},i={p:i};else if(R_(t)&&!R_(i)){for(l=[],c=t.length,d=c-2,a=1;a<c;a++)l.push(e(t[a-1],t[a]));c--,o=function(e){e*=c;var t=Math.min(d,~~e);return l[t](e-t)},n=i}else s||(t=wx(R_(t)?[]:{},t));if(!l){for(r in i)Hw.call(h,t,r,"get",i[r]);o=function(e){return sk(e,h)||(u?t.p:t)}}}return Yx(n,o)},shuffle:tw},install:G_,effects:ox,ticker:kw,updateRoot:Nw.updateRoot,plugins:sx,globalTimeline:r_,core:{PropTween:ck,globals:K_,Tween:Xw,Timeline:Nw,Animation:Rw,getCache:dx,_removeLinkedListItem:Ex,reverting:function(){return s_},context:function(e){return e&&o_&&(o_.data.push(e),e._ctx=o_),o_},suppressOverwrites:function(e){return n_=e}}};hx("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return bk[e]=Xw[e]})),kw.add(Nw.updateRoot),h_=bk.to({},{duration:0});var _k=function(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},xk=function(e,t){return{name:e,rawVars:1,init:function(e,i,n){n._onInit=function(e){var n,s;if(A_(i)&&(n={},hx(i,(function(e){return n[e]=1})),i=n),t){for(s in n={},i)n[s]=t(i[s]);i=n}!function(e,t){var i,n,s,o=e._targets;for(i in t)for(n=o.length;n--;)(s=e._ptLookup[n][i])&&(s=s.d)&&(s._pt&&(s=_k(s,i)),s&&s.modifier&&s.modifier(t[i],e,o[n],i))}(e,i)}}}},wk=bk.registerPlugin({name:"attr",init:function(e,t,i,n,s){var o,r,a;for(o in this.tween=i,t)a=e.getAttribute(o)||"",(r=this.add(e,"setAttribute",(a||0)+"",t[o],n,s,0,0,o)).op=o,r.b=a,this._props.push(o)},render:function(e,t){for(var i=t._pt;i;)s_?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i],0,0,0,0,0,1)}},xk("roundProps",nw),xk("modifiers"),xk("snap",sw))||bk;Xw.version=Nw.version=wk.version="3.12.2",d_=1,L_()&&Sw(),Tw.Power0,Tw.Power1,Tw.Power2,Tw.Power3,Tw.Power4,Tw.Linear,Tw.Quad,Tw.Cubic,Tw.Quart,Tw.Quint,Tw.Strong,Tw.Elastic,Tw.Back,Tw.SteppedEase,Tw.Bounce,Tw.Sine,Tw.Expo,Tw.Circ;var kk,Sk,Tk,Ck,Ek,Ak,Ik,Mk,Ok={},Dk=180/Math.PI,Pk=Math.PI/180,Lk=Math.atan2,jk=/([A-Z])/g,Bk=/(left|right|width|margin|padding|x)/i,Rk=/[\s,\(]\S/,Nk={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Uk=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},Fk=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},zk=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},Hk=function(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},Vk=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},qk=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},$k=function(e,t,i){return e.style[t]=i},Wk=function(e,t,i){return e.style.setProperty(t,i)},Gk=function(e,t,i){return e._gsap[t]=i},Yk=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},Xk=function(e,t,i,n,s){var o=e._gsap;o.scaleX=o.scaleY=i,o.renderTransform(s,o)},Kk=function(e,t,i,n,s){var o=e._gsap;o[t]=i,o.renderTransform(s,o)},Qk="transform",Zk=Qk+"Origin",Jk=function e(t,i){var n=this,s=this.target,o=s.style;if(t in Ok&&o){if(this.tfm=this.tfm||{},"transform"===t)return Nk.transform.split(",").forEach((function(t){return e.call(n,t,i)}));if(~(t=Nk[t]||t).indexOf(",")?t.split(",").forEach((function(e){return n.tfm[e]=vS(s,e)})):this.tfm[t]=s._gsap.x?s._gsap[t]:vS(s,t),this.props.indexOf(Qk)>=0)return;s._gsap.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(Zk,i,"")),t=Qk}(o||i)&&this.props.push(t,i,o[t])},eS=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},tS=function(){var e,t,i=this.props,n=this.target,s=n.style,o=n._gsap;for(e=0;e<i.length;e+=3)i[e+1]?n[i[e]]=i[e+2]:i[e+2]?s[i[e]]=i[e+2]:s.removeProperty("--"===i[e].substr(0,2)?i[e]:i[e].replace(jk,"-$1").toLowerCase());if(this.tfm){for(t in this.tfm)o[t]=this.tfm[t];o.svg&&(o.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),(e=Ik())&&e.isStart||s[Qk]||(eS(s),o.uncache=1)}},iS=function(e,t){var i={target:e,props:[],revert:tS,save:Jk};return e._gsap||wk.core.getCache(e),t&&t.split(",").forEach((function(e){return i.save(e)})),i},nS=function(e,t){var i=Sk.createElementNS?Sk.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Sk.createElement(e);return i.style?i:Sk.createElement(e)},sS=function e(t,i,n){var s=getComputedStyle(t);return s[i]||s.getPropertyValue(i.replace(jk,"-$1").toLowerCase())||s.getPropertyValue(i)||!n&&e(t,rS(i)||i,1)||""},oS="O,Moz,ms,Ms,Webkit".split(","),rS=function(e,t,i){var n=(t||Ek).style,s=5;if(e in n&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);s--&&!(oS[s]+e in n););return s<0?null:(3===s?"ms":s>=0?oS[s]:"")+e},aS=function(){"undefined"!=typeof window&&window.document&&(kk=window,Sk=kk.document,Tk=Sk.documentElement,Ek=nS("div")||{style:{}},nS("div"),Qk=rS(Qk),Zk=Qk+"Origin",Ek.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Mk=!!rS("perspective"),Ik=wk.core.reverting,Ck=1)},lS=function e(t){var i,n=nS("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=this.parentNode,o=this.nextSibling,r=this.style.cssText;if(Tk.appendChild(n),n.appendChild(this),this.style.display="block",t)try{i=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(e){}else this._gsapBBox&&(i=this._gsapBBox());return s&&(o?s.insertBefore(this,o):s.appendChild(this)),Tk.removeChild(n),this.style.cssText=r,i},cS=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},dS=function(e){var t;try{t=e.getBBox()}catch(i){t=lS.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===lS||(t=lS.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+cS(e,["x","cx","x1"])||0,y:+cS(e,["y","cy","y1"])||0,width:0,height:0}},uS=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!dS(e))},hS=function(e,t){if(t){var i=e.style;t in Ok&&t!==Zk&&(t=Qk),i.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),i.removeProperty(t.replace(jk,"-$1").toLowerCase())):i.removeAttribute(t)}},pS=function(e,t,i,n,s,o){var r=new ck(e._pt,t,i,0,1,o?qk:Vk);return e._pt=r,r.b=n,r.e=s,e._props.push(i),r},fS={deg:1,rad:1,turn:1},mS={grid:1,flex:1},gS=function e(t,i,n,s){var o,r,a,l,c=parseFloat(n)||0,d=(n+"").trim().substr((c+"").length)||"px",u=Ek.style,h=Bk.test(i),p="svg"===t.tagName.toLowerCase(),f=(p?"client":"offset")+(h?"Width":"Height"),m=100,g="px"===s,v="%"===s;return s===d||!c||fS[s]||fS[d]?c:("px"!==d&&!g&&(c=e(t,i,n,"px")),l=t.getCTM&&uS(t),!v&&"%"!==d||!Ok[i]&&!~i.indexOf("adius")?(u[h?"width":"height"]=m+(g?d:s),r=~i.indexOf("adius")||"em"===s&&t.appendChild&&!p?t:t.parentNode,l&&(r=(t.ownerSVGElement||{}).parentNode),r&&r!==Sk&&r.appendChild||(r=Sk.body),(a=r._gsap)&&v&&a.width&&h&&a.time===kw.time&&!a.uncache?px(c/a.width*m):((v||"%"===d)&&!mS[sS(r,"display")]&&(u.position=sS(t,"position")),r===t&&(u.position="static"),r.appendChild(Ek),o=Ek[f],r.removeChild(Ek),u.position="absolute",h&&v&&((a=dx(r)).time=kw.time,a.width=r[f]),px(g?o*c/m:o&&c?m/o*c:0))):(o=l?t.getBBox()[h?"width":"height"]:t[f],px(v?c/o*m:c/100*o)))},vS=function(e,t,i,n){var s;return Ck||aS(),t in Nk&&"transform"!==t&&~(t=Nk[t]).indexOf(",")&&(t=t.split(",")[0]),Ok[t]&&"transform"!==t?(s=AS(e,n),s="transformOrigin"!==t?s[t]:s.svg?s.origin:IS(sS(e,Zk))+" "+s.zOrigin+"px"):(!(s=e.style[t])||"auto"===s||n||~(s+"").indexOf("calc("))&&(s=xS[t]&&xS[t](e,t,i)||sS(e,t)||ux(e,t)||("opacity"===t?1:0)),i&&!~(s+"").trim().indexOf(" ")?gS(e,t,s,i)+i:s},yS=function(e,t,i,n){if(!i||"none"===i){var s=rS(t,e,1),o=s&&sS(e,s,1);o&&o!==i?(t=s,i=o):"borderColor"===t&&(i=sS(e,"borderTopColor"))}var r,a,l,c,d,u,h,p,f,m,g,v=new ck(this._pt,e.style,t,0,1,nk),y=0,b=0;if(v.b=i,v.e=n,i+="","auto"==(n+="")&&(e.style[t]=n,n=sS(e,t)||n,e.style[t]=i),ww(r=[i,n]),n=r[1],l=(i=r[0]).match(F_)||[],(n.match(F_)||[]).length){for(;a=F_.exec(n);)h=a[0],f=n.substring(y,a.index),d?d=(d+1)%5:"rgba("!==f.substr(-5)&&"hsla("!==f.substr(-5)||(d=1),h!==(u=l[b++]||"")&&(c=parseFloat(u)||0,g=u.substr((c+"").length),"="===h.charAt(1)&&(h=mx(c,h)+g),p=parseFloat(h),m=h.substr((p+"").length),y=F_.lastIndex-m.length,m||(m=m||y_.units[t]||g,y===n.length&&(n+=m,v.e+=m)),g!==m&&(c=gS(e,t,u,m)||0),v._pt={_next:v._pt,p:f||1===b?f:",",s:c,c:p-c,m:d&&d<4||"zIndex"===t?Math.round:0});v.c=y<n.length?n.substring(y,n.length):""}else v.r="display"===t&&"none"===n?qk:Vk;return H_.test(n)&&(v.e=0),this._pt=v,v},bS={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},_S=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var i,n,s,o=t.t,r=o.style,a=t.u,l=o._gsap;if("all"===a||!0===a)r.cssText="",n=1;else for(s=(a=a.split(",")).length;--s>-1;)i=a[s],Ok[i]&&(n=1,i="transformOrigin"===i?Zk:Qk),hS(o,i);n&&(hS(o,Qk),l&&(l.svg&&o.removeAttribute("transform"),AS(o,1),l.uncache=1,eS(r)))}},xS={clearProps:function(e,t,i,n,s){if("isFromStart"!==s.data){var o=e._pt=new ck(e._pt,t,i,0,0,_S);return o.u=n,o.pr=-10,o.tween=s,e._props.push(i),1}}},wS=[1,0,0,1,0,0],kS={},SS=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},TS=function(e){var t=sS(e,Qk);return SS(t)?wS:t.substr(7).match(U_).map(px)},CS=function(e,t){var i,n,s,o,r=e._gsap||dx(e),a=e.style,l=TS(e);return r.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(s=e.transform.baseVal.consolidate().matrix).a,s.b,s.c,s.d,s.e,s.f]).join(",")?wS:l:(l!==wS||e.offsetParent||e===Tk||r.svg||(s=a.display,a.display="block",(i=e.parentNode)&&e.offsetParent||(o=1,n=e.nextElementSibling,Tk.appendChild(e)),l=TS(e),s?a.display=s:hS(e,"display"),o&&(n?i.insertBefore(e,n):i?i.appendChild(e):Tk.removeChild(e))),t&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},ES=function(e,t,i,n,s,o){var r,a,l,c=e._gsap,d=s||CS(e,!0),u=c.xOrigin||0,h=c.yOrigin||0,p=c.xOffset||0,f=c.yOffset||0,m=d[0],g=d[1],v=d[2],y=d[3],b=d[4],_=d[5],x=t.split(" "),w=parseFloat(x[0])||0,k=parseFloat(x[1])||0;i?d!==wS&&(a=m*y-g*v)&&(l=w*(-g/a)+k*(m/a)-(m*_-g*b)/a,w=w*(y/a)+k*(-v/a)+(v*_-y*b)/a,k=l):(w=(r=dS(e)).x+(~x[0].indexOf("%")?w/100*r.width:w),k=r.y+(~(x[1]||x[0]).indexOf("%")?k/100*r.height:k)),n||!1!==n&&c.smooth?(b=w-u,_=k-h,c.xOffset=p+(b*m+_*v)-b,c.yOffset=f+(b*g+_*y)-_):c.xOffset=c.yOffset=0,c.xOrigin=w,c.yOrigin=k,c.smooth=!!n,c.origin=t,c.originIsAbsolute=!!i,e.style[Zk]="0px 0px",o&&(pS(o,c,"xOrigin",u,w),pS(o,c,"yOrigin",h,k),pS(o,c,"xOffset",p,c.xOffset),pS(o,c,"yOffset",f,c.yOffset)),e.setAttribute("data-svg-origin",w+" "+k)},AS=function(e,t){var i=e._gsap||new Bw(e);if("x"in i&&!t&&!i.uncache)return i;var n,s,o,r,a,l,c,d,u,h,p,f,m,g,v,y,b,_,x,w,k,S,T,C,E,A,I,M,O,D,P,L,j=e.style,B=i.scaleX<0,R="px",N="deg",U=getComputedStyle(e),F=sS(e,Zk)||"0";return n=s=o=l=c=d=u=h=p=0,r=a=1,i.svg=!(!e.getCTM||!uS(e)),U.translate&&("none"===U.translate&&"none"===U.scale&&"none"===U.rotate||(j[Qk]=("none"!==U.translate?"translate3d("+(U.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==U.rotate?"rotate("+U.rotate+") ":"")+("none"!==U.scale?"scale("+U.scale.split(" ").join(",")+") ":"")+("none"!==U[Qk]?U[Qk]:"")),j.scale=j.rotate=j.translate="none"),g=CS(e,i.svg),i.svg&&(i.uncache?(E=e.getBBox(),F=i.xOrigin-E.x+"px "+(i.yOrigin-E.y)+"px",C=""):C=!t&&e.getAttribute("data-svg-origin"),ES(e,C||F,!!C||i.originIsAbsolute,!1!==i.smooth,g)),f=i.xOrigin||0,m=i.yOrigin||0,g!==wS&&(_=g[0],x=g[1],w=g[2],k=g[3],n=S=g[4],s=T=g[5],6===g.length?(r=Math.sqrt(_*_+x*x),a=Math.sqrt(k*k+w*w),l=_||x?Lk(x,_)*Dk:0,(u=w||k?Lk(w,k)*Dk+l:0)&&(a*=Math.abs(Math.cos(u*Pk))),i.svg&&(n-=f-(f*_+m*w),s-=m-(f*x+m*k))):(L=g[6],D=g[7],I=g[8],M=g[9],O=g[10],P=g[11],n=g[12],s=g[13],o=g[14],c=(v=Lk(L,O))*Dk,v&&(C=S*(y=Math.cos(-v))+I*(b=Math.sin(-v)),E=T*y+M*b,A=L*y+O*b,I=S*-b+I*y,M=T*-b+M*y,O=L*-b+O*y,P=D*-b+P*y,S=C,T=E,L=A),d=(v=Lk(-w,O))*Dk,v&&(y=Math.cos(-v),P=k*(b=Math.sin(-v))+P*y,_=C=_*y-I*b,x=E=x*y-M*b,w=A=w*y-O*b),l=(v=Lk(x,_))*Dk,v&&(C=_*(y=Math.cos(v))+x*(b=Math.sin(v)),E=S*y+T*b,x=x*y-_*b,T=T*y-S*b,_=C,S=E),c&&Math.abs(c)+Math.abs(l)>359.9&&(c=l=0,d=180-d),r=px(Math.sqrt(_*_+x*x+w*w)),a=px(Math.sqrt(T*T+L*L)),v=Lk(S,T),u=Math.abs(v)>2e-4?v*Dk:0,p=P?1/(P<0?-P:P):0),i.svg&&(C=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!SS(sS(e,Qk)),C&&e.setAttribute("transform",C))),Math.abs(u)>90&&Math.abs(u)<270&&(B?(r*=-1,u+=l<=0?180:-180,l+=l<=0?180:-180):(a*=-1,u+=u<=0?180:-180)),t=t||i.uncache,i.x=n-((i.xPercent=n&&(!t&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-n)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+R,i.y=s-((i.yPercent=s&&(!t&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-s)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+R,i.z=o+R,i.scaleX=px(r),i.scaleY=px(a),i.rotation=px(l)+N,i.rotationX=px(c)+N,i.rotationY=px(d)+N,i.skewX=u+N,i.skewY=h+N,i.transformPerspective=p+R,(i.zOrigin=parseFloat(F.split(" ")[2])||0)&&(j[Zk]=IS(F)),i.xOffset=i.yOffset=0,i.force3D=y_.force3D,i.renderTransform=i.svg?BS:Mk?jS:OS,i.uncache=0,i},IS=function(e){return(e=e.split(" "))[0]+" "+e[1]},MS=function(e,t,i){var n=Kx(t);return px(parseFloat(t)+parseFloat(gS(e,"x",i+"px",n)))+n},OS=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,jS(e,t)},DS="0deg",PS="0px",LS=") ",jS=function(e,t){var i=t||this,n=i.xPercent,s=i.yPercent,o=i.x,r=i.y,a=i.z,l=i.rotation,c=i.rotationY,d=i.rotationX,u=i.skewX,h=i.skewY,p=i.scaleX,f=i.scaleY,m=i.transformPerspective,g=i.force3D,v=i.target,y=i.zOrigin,b="",_="auto"===g&&e&&1!==e||!0===g;if(y&&(d!==DS||c!==DS)){var x,w=parseFloat(c)*Pk,k=Math.sin(w),S=Math.cos(w);w=parseFloat(d)*Pk,x=Math.cos(w),o=MS(v,o,k*x*-y),r=MS(v,r,-Math.sin(w)*-y),a=MS(v,a,S*x*-y+y)}m!==PS&&(b+="perspective("+m+LS),(n||s)&&(b+="translate("+n+"%, "+s+"%) "),(_||o!==PS||r!==PS||a!==PS)&&(b+=a!==PS||_?"translate3d("+o+", "+r+", "+a+") ":"translate("+o+", "+r+LS),l!==DS&&(b+="rotate("+l+LS),c!==DS&&(b+="rotateY("+c+LS),d!==DS&&(b+="rotateX("+d+LS),u===DS&&h===DS||(b+="skew("+u+", "+h+LS),1===p&&1===f||(b+="scale("+p+", "+f+LS),v.style[Qk]=b||"translate(0, 0)"},BS=function(e,t){var i,n,s,o,r,a=t||this,l=a.xPercent,c=a.yPercent,d=a.x,u=a.y,h=a.rotation,p=a.skewX,f=a.skewY,m=a.scaleX,g=a.scaleY,v=a.target,y=a.xOrigin,b=a.yOrigin,_=a.xOffset,x=a.yOffset,w=a.forceCSS,k=parseFloat(d),S=parseFloat(u);h=parseFloat(h),p=parseFloat(p),(f=parseFloat(f))&&(p+=f=parseFloat(f),h+=f),h||p?(h*=Pk,p*=Pk,i=Math.cos(h)*m,n=Math.sin(h)*m,s=Math.sin(h-p)*-g,o=Math.cos(h-p)*g,p&&(f*=Pk,r=Math.tan(p-f),s*=r=Math.sqrt(1+r*r),o*=r,f&&(r=Math.tan(f),i*=r=Math.sqrt(1+r*r),n*=r)),i=px(i),n=px(n),s=px(s),o=px(o)):(i=m,o=g,n=s=0),(k&&!~(d+"").indexOf("px")||S&&!~(u+"").indexOf("px"))&&(k=gS(v,"x",d,"px"),S=gS(v,"y",u,"px")),(y||b||_||x)&&(k=px(k+y-(y*i+b*s)+_),S=px(S+b-(y*n+b*o)+x)),(l||c)&&(r=v.getBBox(),k=px(k+l/100*r.width),S=px(S+c/100*r.height)),r="matrix("+i+","+n+","+s+","+o+","+k+","+S+")",v.setAttribute("transform",r),w&&(v.style[Qk]=r)},RS=function(e,t,i,n,s){var o,r,a=360,l=A_(s),c=parseFloat(s)*(l&&~s.indexOf("rad")?Dk:1)-n,d=n+c+"deg";return l&&("short"===(o=s.split("_")[1])&&(c%=a)!=c%180&&(c+=c<0?a:-360),"cw"===o&&c<0?c=(c+36e9)%a-~~(c/a)*a:"ccw"===o&&c>0&&(c=(c-36e9)%a-~~(c/a)*a)),e._pt=r=new ck(e._pt,t,i,n,c,Fk),r.e=d,r.u="deg",e._props.push(i),r},NS=function(e,t){for(var i in t)e[i]=t[i];return e},US=function(e,t,i){var n,s,o,r,a,l,c,d=NS({},i._gsap),u=i.style;for(s in d.svg?(o=i.getAttribute("transform"),i.setAttribute("transform",""),u[Qk]=t,n=AS(i,1),hS(i,Qk),i.setAttribute("transform",o)):(o=getComputedStyle(i)[Qk],u[Qk]=t,n=AS(i,1),u[Qk]=o),Ok)(o=d[s])!==(r=n[s])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(s)<0&&(a=Kx(o)!==(c=Kx(r))?gS(i,s,o,c):parseFloat(o),l=parseFloat(r),e._pt=new ck(e._pt,n,s,a,l-a,Uk),e._pt.u=c||0,e._props.push(s));NS(n,d)};hx("padding,margin,Width,Radius",(function(e,t){var i="Top",n="Right",s="Bottom",o="Left",r=(t<3?[i,n,s,o]:[i+o,i+n,s+n,s+o]).map((function(i){return t<2?e+i:"border"+i+e}));xS[t>1?"border"+e:e]=function(e,t,i,n,s){var o,a;if(arguments.length<4)return o=r.map((function(t){return vS(e,t,i)})),5===(a=o.join(" ")).split(o[0]).length?o[0]:a;o=(n+"").split(" "),a={},r.forEach((function(e,t){return a[e]=o[t]=o[t]||o[(t-1)/2|0]})),e.init(t,a,s)}}));var FS,zS,HS={name:"css",register:aS,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,n,s){var o,r,a,l,c,d,u,h,p,f,m,g,v,y,b,_,x,w,k,S,T=this._props,C=e.style,E=i.vars.startAt;for(u in Ck||aS(),this.styles=this.styles||iS(e),_=this.styles.props,this.tween=i,t)if("autoRound"!==u&&(r=t[u],!sx[u]||!Vw(u,t,i,n,e,s)))if(c=typeof r,d=xS[u],"function"===c&&(c=typeof(r=r.call(i,n,e,s))),"string"===c&&~r.indexOf("random(")&&(r=aw(r)),d)d(this,e,u,r,i)&&(b=1);else if("--"===u.substr(0,2))o=(getComputedStyle(e).getPropertyValue(u)+"").trim(),r+="",_w.lastIndex=0,_w.test(o)||(h=Kx(o),p=Kx(r)),p?h!==p&&(o=gS(e,u,o,p)+p):h&&(r+=h),this.add(C,"setProperty",o,r,n,s,0,0,u),T.push(u),_.push(u,0,C[u]);else if("undefined"!==c){if(E&&u in E?(o="function"==typeof E[u]?E[u].call(i,n,e,s):E[u],A_(o)&&~o.indexOf("random(")&&(o=aw(o)),Kx(o+"")||(o+=y_.units[u]||Kx(vS(e,u))||""),"="===(o+"").charAt(1)&&(o=vS(e,u))):o=vS(e,u),l=parseFloat(o),(f="string"===c&&"="===r.charAt(1)&&r.substr(0,2))&&(r=r.substr(2)),a=parseFloat(r),u in Nk&&("autoAlpha"===u&&(1===l&&"hidden"===vS(e,"visibility")&&a&&(l=0),_.push("visibility",0,C.visibility),pS(this,C,"visibility",l?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==u&&"transform"!==u&&~(u=Nk[u]).indexOf(",")&&(u=u.split(",")[0])),m=u in Ok)if(this.styles.save(u),g||((v=e._gsap).renderTransform&&!t.parseTransform||AS(e,t.parseTransform),y=!1!==t.smoothOrigin&&v.smooth,(g=this._pt=new ck(this._pt,C,Qk,0,1,v.renderTransform,v,0,-1)).dep=1),"scale"===u)this._pt=new ck(this._pt,v,"scaleY",v.scaleY,(f?mx(v.scaleY,f+a):a)-v.scaleY||0,Uk),this._pt.u=0,T.push("scaleY",u),u+="X";else{if("transformOrigin"===u){_.push(Zk,0,C[Zk]),w=void 0,k=void 0,S=void 0,w=(x=r).split(" "),k=w[0],S=w[1]||"50%","top"!==k&&"bottom"!==k&&"left"!==S&&"right"!==S||(x=k,k=S,S=x),w[0]=bS[k]||k,w[1]=bS[S]||S,r=w.join(" "),v.svg?ES(e,r,0,y,0,this):((p=parseFloat(r.split(" ")[2])||0)!==v.zOrigin&&pS(this,v,"zOrigin",v.zOrigin,p),pS(this,C,u,IS(o),IS(r)));continue}if("svgOrigin"===u){ES(e,r,1,y,0,this);continue}if(u in kS){RS(this,v,u,l,f?mx(l,f+r):r);continue}if("smoothOrigin"===u){pS(this,v,"smooth",v.smooth,r);continue}if("force3D"===u){v[u]=r;continue}if("transform"===u){US(this,r,e);continue}}else u in C||(u=rS(u)||u);if(m||(a||0===a)&&(l||0===l)&&!Rk.test(r)&&u in C)a||(a=0),(h=(o+"").substr((l+"").length))!==(p=Kx(r)||(u in y_.units?y_.units[u]:h))&&(l=gS(e,u,o,p)),this._pt=new ck(this._pt,m?v:C,u,l,(f?mx(l,f+a):a)-l,m||"px"!==p&&"zIndex"!==u||!1===t.autoRound?Uk:Hk),this._pt.u=p||0,h!==p&&"%"!==p&&(this._pt.b=o,this._pt.r=zk);else if(u in C)yS.call(this,e,u,o,f?f+r:r);else if(u in e)this.add(e,u,o||e[u],f?f+r:r,n,s);else if("parseTransform"!==u){Y_(u,r);continue}m||(u in C?_.push(u,0,C[u]):_.push(u,1,o||e[u])),T.push(u)}b&&lk(this)},render:function(e,t){if(t.tween._time||!Ik())for(var i=t._pt;i;)i.r(e,i.d),i=i._next;else t.styles.revert()},get:vS,aliases:Nk,getSetter:function(e,t,i){var n=Nk[t];return n&&n.indexOf(",")<0&&(t=n),t in Ok&&t!==Zk&&(e._gsap.x||vS(e,"x"))?i&&Ak===i?"scale"===t?Yk:Gk:(Ak=i||{})&&("scale"===t?Xk:Kk):e.style&&!O_(e.style[t])?$k:~t.indexOf("-")?Wk:ek(e,t)},core:{_removeProperty:hS,_getMatrix:CS}};wk.utils.checkPrefix=rS,wk.core.getStyleSaver=iS,zS=hx("x,y,z,scale,scaleX,scaleY,xPercent,yPercent"+","+(FS="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){Ok[e]=1})),hx(FS,(function(e){y_.units[e]="deg",kS[e]=1})),Nk[zS[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+FS,hx("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(e){var t=e.split(":");Nk[t[1]]=zS[t[0]]})),hx("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){y_.units[e]="px"})),wk.registerPlugin(HS);var VS=wk.registerPlugin(HS)||wk;VS.core.Tween;const qS=(0,t.aZ)({components:{SofaIcon:h,SofaNormalText:P},props:{type:{type:String,default:"success"},content:{type:String,default:""},close:{type:Function}},name:"SofaAlert",setup(e){(0,t.bv)((()=>{VS.from(".sofa-alert",{y:-130,duration:1.5,ease:"expo.out"}),setTimeout((()=>{i()}),4e3)}));const i=()=>{e.close&&(VS.to(".sofa-alert",{y:-130,duration:1.5,ease:"expo.out"}),setTimeout((()=>{e.close&&e.close()}),1500))};return{closeAlert:i}}}),$S=(0,d.Z)(qS,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-icon"),c=(0,t.up)("sofa-normal-text");return(0,t.wg)(),(0,t.iD)("div",Zb,[(0,t._)("div",{class:(0,n.normalizeClass)(`md:!min-w-[300px] mdlg:!min-w-[300px] md:!w-auto mdlg:!w-auto w-full flex flex-row items-center md:py-4 md:px-4 px-3 py-3 custom-border justify-between border-[2px] ${"success"==e.type?"border-[#4BAF7D] bg-[#E1F5EB]":""}\n      ${"error"==e.type?"border-[#F55F5F] bg-[#FAEBEB]":""}\n      ${"warning"==e.type?"border-[#FA9632] bg-[#FFF4EB]":""} \n      ${"info"==e.type?"border-[#7DC8FA] bg-[#E2F3FD]":""} `)},[(0,t._)("div",Jb,[(0,t.Wm)(l,{name:`${e.type}-icon`,customClass:"h-[25px]"},null,8,["name"]),(0,t.Wm)(c,{customClass:"!font-semibold w-full text-left"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.content),1)])),_:1})]),(0,t._)("div",e_,[(0,t.Wm)(l,{name:"circle-close",customClass:"h-[18px]",onClick:i[0]||(i[0]=t=>e.closeAlert())})])],2)])}]]),WS=["onClick"],GS={class:"bg-white w-full flex flex-col lg:!px-6 md:!space-y-5 space-y-3 py-0 relative lg:!py-6 mdlg:!px-6 mdlg:!py-6 md:!py-0 md:!px-0 mdlg:!rounded-[16px] rounded-t-[16px] items-center justify-center"},YS={class:"w-full hidden flex-col space-y-3 justify-center items-center mdlg:!flex"},XS={class:"w-full flex flex-row items-center justify-center"},KS={class:"w-full flex flex-row justify-between items-center sticky top-0 left-0 mdlg:!hidden py-2 border-[#F1F6FA] border-b-[1px] px-4"},QS={class:"w-full flex flex-row items-center justify-center mdlg:!hidden"},ZS={class:"w-full flex flex-row items-start justify-center mdlg:!hidden px-4"},JS={class:"w-full flex flex-row justify-center items-center pb-10 md:pb-0"},eT=(0,t.aZ)({components:{SofaIcon:h,SofaNormalText:P,SofaHeaderText:M,SofaModal:Ki,SofaButton:f},props:{close:{type:Function},customClass:{type:String,default:""},title:{type:String,default:""},subTitle:{type:String,default:""},button:{type:Object}},name:"SofaSuccessPrompt",setup:()=>({showModal:(0,a.iH)(!0)})}),tT=(0,d.Z)(eT,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-icon"),c=(0,t.up)("sofa-header-text"),d=(0,t.up)("sofa-normal-text"),u=(0,t.up)("sofa-button"),h=(0,t.up)("sofa-modal");return(0,t.wg)(),(0,t.j4)(h,{close:()=>{e.close&&e.close()}},{default:(0,t.w5)((()=>[(0,t._)("div",{class:"mdlg:!w-[32%] lg:!w-[30%] mdlg:!h-full w-full h-auto md:w-full flex flex-col items-center relative",onClick:(0,y.withModifiers)((()=>{}),["stop"])},[(0,t._)("div",GS,[(0,t._)("div",YS,[(0,t._)("div",XS,[(0,t.Wm)(l,{name:"success-modal-icon",customClass:"h-[39px]"})]),(0,t.Wm)(c,{customClass:"text-xl"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.title),1)])),_:1}),(0,t.Wm)(d,{color:"text-[#78828C]"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.subTitle),1)])),_:1})]),(0,t._)("div",KS,[(0,t.Wm)(d,{customClass:"!font-bold !text-base"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.title),1)])),_:1}),(0,t.Wm)(l,{customClass:"h-[19px]",name:"circle-close",onClick:i[0]||(i[0]=t=>e.close?e.close():null)})]),(0,t._)("div",QS,[(0,t.Wm)(l,{name:"success-modal-icon",customClass:"h-[39px]"})]),(0,t._)("div",ZS,[(0,t.Wm)(d,{customClass:"text-center"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.subTitle),1)])),_:1})]),(0,t._)("div",JS,[(0,t.Wm)(u,{onClick:i[1]||(i[1]=t=>e.button.action?e.button.action():null),padding:"px-4 py-1"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.button.label),1)])),_:1})])])],8,WS)])),_:1},8,["close"])}]]),iT={class:"mdlg:!hidden lg:!hidden flex flex-row items-center justify-between w-full"},nT={class:"py-4 cursor-pointer flex flex-row items-center justify-center"},sT={key:0,src:"/images/logo.svg",class:"h-[24px]"},oT={class:"hidden flex-row space-x-5 items-center justify-start flex-grow mdlg:!flex lg:!flex"},rT=[(0,t._)("img",{src:"/images/logo.svg",class:"h-[26px]"},null,-1)],aT=["onClick"],lT={class:"bg-ligthGray w-[30%] py-2 rounded-[24px] flex flex-row items-center space-x-2 px-4"},cT={class:"hidden mdlg:!flex lg:!flex flex-row items-center space-x-4"},dT={key:0,class:"w-[400px] min-h-[250px] max-h-[400px] bg-white shadow-custom custom-border pb-3 px-4 absolute top-[140%] right-0 z-[99999999] hidden mdlg:flex flex-col"},uT={class:"flex flex-row space-x-4 items-center"},hT={key:0,class:"flex flex-row space-x-2 items-center"},pT={class:"md:!flex hidden flex-row items-center space-x-4"},fT={key:0,class:"flex flex-row space-x-4 border-r-[1px] border-[#E1E6EB] items-center pr-3 cursor-pointer"},mT=["onClick"],gT=["onClick"],vT={class:"bg-white w-full flex flex-col lg:!px-6 md:!space-y-4 space-y-3 px-4 pb-5 md:!rounded-[16px] rounded-t-[16px] items-center justify-center"};var yT,bT;!function(e){e.and="and",e.or="or"}(yT||(yT={})),function(e){e.lt="lt",e.lte="lte",e.gt="gt",e.gte="gte",e.eq="eq",e.ne="ne",e.in="in",e.nin="nin",e.exists="exists"}(bT||(bT={}));const _T={class:"w-full flex flex-col space-y-1 relative overflow-y-auto h-full flex-grow"},xT={class:"w-full flex flex-row items-center justify-between sticky top-0 left-0 bg-white py-3 z-10"},wT={key:0,class:"w-full flex flex-col space-y-3"},kT={class:"flex flex-col space-y-1"},ST={key:0,class:"flex flex-col"},TT=[(0,t._)("span",{class:"h-[8px] w-[8px] rounded-full bg-primaryBlue"},null,-1)],CT={key:1,class:"w-full flex flex-col space-y-2 flex-grow items-center justify-center h-full"},ET=(0,t.aZ)({components:{SofaIcon:h,SofaNormalText:P,SofaHeaderText:M},props:{close:{type:Function}},setup(){const e=(0,a.iH)(b.Notifications.AllNotifications);return(0,t.bv)((()=>{b.Notifications.ToggleAllNotifications(!0)})),{AllNotifications:e,Logic:b}}}),AT=(0,d.Z)(ET,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-header-text"),c=(0,t.up)("sofa-icon"),d=(0,t.up)("sofa-normal-text");return(0,t.wg)(),(0,t.iD)("div",_T,[(0,t._)("div",xT,[(0,t.Wm)(l,{customClass:"!font-bold !text-base"},{default:(0,t.w5)((()=>[(0,t.Uk)(" Notifications ")])),_:1}),(0,t.Wm)(c,{customClass:"h-[19px] cursor-pointer",name:"circle-close",onClick:i[0]||(i[0]=t=>e.close?e.close():null)})]),e.AllNotifications.results.length?((0,t.wg)(),(0,t.iD)("div",wT,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.AllNotifications.results,((i,s)=>((0,t.wg)(),(0,t.iD)("div",{class:(0,n.normalizeClass)("w-full flex flex-row items-start justify-between "+(i.seen?"opacity-80":"")),key:s},[(0,t._)("div",kT,[(0,t.Wm)(d,{"custom-class":"text-left"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(i.body),1)])),_:2},1024),(0,t.Wm)(d,{color:"text-[#78828C]",customClass:"!text-left"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.Logic.Common.timeFromNow(i.createdAt)),1)])),_:2},1024)]),i.seen?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",ST,TT))],2)))),128))])):((0,t.wg)(),(0,t.iD)("div",CT,[(0,t.Wm)(c,{name:"empty-notification",customClass:"h-[48px]"}),(0,t.Wm)(d,{color:"text-[#78828C]",customClass:"!text-center"},{default:(0,t.w5)((()=>[(0,t.Uk)(" You have no notifications ")])),_:1})]))])}]]),IT=(0,t.aZ)({components:{SofaIcon:u,SofaNormalText:P,SofaAvatar:x,SofaButton:f,SofaHeaderText:M,SofaModal:Ki,notification:AT,SofaTextField:ys,SofaBadge:k},props:{goBack:{type:Function,required:!0},goToRoute:{type:Function,required:!0},tabIsActive:{type:Function,required:!0},subpageActions:{type:Array,default:[]},title:{type:String,default:""},tabs:{type:Array,default:[]},type:{type:String,default:"main"},customClass:{type:String,default:"flex"},showAddItem:{type:Function,required:!0},badges:{type:Array,default:[]}},name:"SofaTopBar",setup(e,i){const n=(0,a.iH)(b.Users.UserProfile),s=(0,a.iH)(!1),o=(0,a.iH)("");return(0,t.bv)((()=>{b.Users.watchProperty("UserProfile",n),b.Notifications.GetNotifications({where:[{field:"userId",condition:bT.eq,value:b.Auth.AuthUser?.id}]})})),{Logic:b,UserProfile:n,showNotification:s,searchQuery:o,initiateSearch:()=>{o.value.length>1&&b.Common.GoToRoute("/marketplace/search?q="+o.value)}}}}),MT=(0,d.Z)(IT,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-icon"),c=(0,t.up)("sofa-avatar"),d=(0,t.up)("sofa-normal-text"),u=(0,t.up)("sofa-text-field"),h=(0,t.up)("sofa-button"),p=(0,t.up)("notification"),f=(0,t.up)("sofa-header-text"),m=(0,t.up)("sofa-badge"),g=(0,t.up)("sofa-modal");return(0,t.wg)(),(0,t.iD)("div",{class:(0,n.normalizeClass)(` flex-row items-center w-full lg:text-sm mdlg:text-[12px] text-xs  z-[8999] space-x-2 px-3 mdlg:px-4 sticky  top-0 mdlg:!bg-white  lg:!bg-white bg-backgroundGray justify-between mdlg:!shadow-custom lg:!shadow-custom ${e.customClass}`)},["main"==e.type?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t._)("div",iT,[(0,t.Wm)(c,{size:"32",bgColor:"bg-grayColor",photoUrl:e.UserProfile?.bio?.photo?e.UserProfile?.bio?.photo.link:"",onClick:i[0]||(i[0]=t=>e.Logic.Common.GoToRoute("/settings"))},{default:(0,t.w5)((()=>[(0,t.Wm)(l,{customClass:"h-[23px]",name:"user"})])),_:1},8,["photoUrl"]),(0,t._)("div",nT,[e.title?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("img",sT)),(0,t.Wm)(d,{customClass:"!font-bold !text-base"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.title),1)])),_:1})]),(0,t._)("div",{class:"w-[30px] h-[30px] flex flex-row items-center justify-center",onClick:i[1]||(i[1]=t=>e.showNotification=!0)},[(0,t.Wm)(l,{customClass:"h-[22px]",name:"bell"})])]),(0,t._)("div",oT,[(0,t._)("div",{class:"py-4 pr-3 cursor-pointer",onClick:i[2]||(i[2]=t=>e.Logic.Common.GoToRoute("/"))},rT),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.tabs,((i,s)=>((0,t.wg)(),(0,t.iD)("div",{class:(0,n.normalizeClass)("py-4 flex flex-row items-center justify-center space-x-2 cursor-pointer "+(e.tabIsActive(i.routeTag)?"border-b-[2px] border-primaryPurple":"")),onClick:t=>e.Logic.Common.GoToRoute(i.path),key:s},[(0,t.Wm)(l,{customClass:i.icon_size,name:e.tabIsActive(i.routeTag)?`${i.icon}-active`:i.icon},null,8,["customClass","name"]),(0,t.Wm)(d,{customClass:"font-bold",color:e.tabIsActive(i.routeTag)?"text-primaryPurple":"text-darkBody"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(i.name),1)])),_:2},1032,["color"])],10,aT)))),128)),(0,t._)("div",lT,[(0,t.Wm)(l,{customClass:"h-[15px]",name:"search"}),(0,t.Wm)(u,{customClass:"bg-transparent text-bodyBlack placeholder-[#78828C] w-full focus:outline-none",placeholder:"Search ",padding:"px-1 py-0",modelValue:e.searchQuery,"onUpdate:modelValue":i[3]||(i[3]=t=>e.searchQuery=t),onOnEnter:e.initiateSearch},null,8,["modelValue","onOnEnter"])])]),(0,t._)("div",cT,[(0,t.Wm)(h,{padding:"px-4 py-1",onClick:i[4]||(i[4]=t=>e.showAddItem())},{default:(0,t.w5)((()=>[(0,t.Uk)("Create")])),_:1}),(0,t._)("div",{class:"flex flex-col relative",tabindex:"10",onBlur:i[6]||(i[6]=t=>e.showNotification=!1)},[(0,t._)("div",{class:"w-[36px] h-[36px] flex flex-row items-center justify-center border-[1px] border-[#E1E6EB] rounded-full cursor-pointer",onClick:i[5]||(i[5]=t=>e.showNotification=!0)},[(0,t.Wm)(l,{customClass:"h-[16px]",name:"bell"})]),e.showNotification?((0,t.wg)(),(0,t.iD)("div",dT,[(0,t.Wm)(p,{close:()=>{e.showNotification=!1}},null,8,["close"])])):(0,t.kq)("",!0)],32),(0,t.Wm)(c,{size:"36",bgColor:"bg-grayColor",photoUrl:e.UserProfile?.bio?.photo?e.UserProfile?.bio?.photo.link:"",customClass:"!cursor-pointer",onClick:i[7]||(i[7]=t=>e.Logic.Common.GoToRoute("/settings"))},{default:(0,t.w5)((()=>[(0,t.Wm)(l,{customClass:"h-[23px]",name:"user"})])),_:1},8,["photoUrl"])])],64)):(0,t.kq)("",!0),"subpage"==e.type?((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t._)("div",uT,[(0,t.Wm)(l,{customClass:"h-[12px] cursor-pointer",name:"back-arrow",onClick:i[8]||(i[8]=t=>e.Logic.Common.goBack())}),(0,t.Wm)(f,{customClass:"!font-bold py-4"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.title),1)])),_:1}),e.badges.length?((0,t.wg)(),(0,t.iD)("div",hT,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.badges,((e,i)=>((0,t.wg)(),(0,t.j4)(m,{color:e.color,key:i},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.text),1)])),_:2},1032,["color"])))),128))])):(0,t.kq)("",!0)]),(0,t._)("div",pT,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.subpageActions,((e,i)=>((0,t.wg)(),(0,t.iD)(t.HY,{key:i},[e.isIcon?((0,t.wg)(),(0,t.iD)("div",fT,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.data,((e,i)=>((0,t.wg)(),(0,t.iD)("div",{class:"flex flex-row space-x-2 items-center",key:i,onClick:t=>e.handler()},[(0,t.Wm)(l,{name:e.icon,customClass:e.size},null,8,["name","customClass"]),(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.name),1)])),_:2},1024)],8,mT)))),128))])):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[e.IsOutlined?((0,t.wg)(),(0,t.j4)(h,{key:1,bgColor:"bg-white",textColor:"text-grayColor","custom-class":"!font-semibold !border-[2px]!border-grayColor border-[1px] border-gray-200",onClick:t=>e.handler(),padding:"px-4 py-1"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.name),1)])),_:2},1032,["onClick"])):((0,t.wg)(),(0,t.j4)(h,{key:0,padding:"px-4 py-1",customClass:"!font-semibold",onClick:t=>e.handler()},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(e.name),1)])),_:2},1032,["onClick"]))],64))],64)))),128))])],64)):(0,t.kq)("",!0),e.showNotification?((0,t.wg)(),(0,t.j4)(g,{key:2,close:()=>{e.showNotification=!1},"custom-class":"mdlg:!hidden"},{default:(0,t.w5)((()=>[(0,t._)("div",{class:"mdlg:!w-[50%] lg:!w-[50%] mdlg:!h-full w-full h-auto max-h-[80%] md:w-[70%] flex flex-col items-center relative",onClick:(0,y.withModifiers)((()=>{}),["stop"])},[(0,t._)("div",vT,[(0,t.Wm)(p,{close:()=>{e.showNotification=!1}},null,8,["close"])])],8,gT)])),_:1},8,["close"])):(0,t.kq)("",!0)],2)}]]),OT={class:"w-full flex flex-col space-y-3 fixed left-0 bottom-0 mdlg:!hidden z-[9000]"},DT={key:0,class:"w-full flex flex-row items-center justify-end pr-2 mdlg:hidden"},PT={class:"grid grid-cols-5 gap-3 lg:!hidden items-center py-3 z-50 w-full justify-center rounded-t-xl bg-backgroundGray"},LT={key:0,class:"w-[8px] h-[4px] bg-primaryPurple rounded-[8px]"},jT={key:0,class:"w-[8px] h-[4px] bg-primaryPurple rounded-[8px]"},BT={class:"h-[52px] w-[52px] rounded-full flex flex-row justify-center items-center bg-primaryPurple"},RT={key:0,class:"w-[8px] h-[4px] bg-primaryPurple rounded-[8px]"},NT={key:0,class:"w-[8px] h-[4px] bg-primaryPurple rounded-[8px]"},UT={components:{SofaIcon:u,SofaNormalText:P},props:{tabIsActive:{type:Function,required:!0},accountType:{type:String,default:""},showAddItem:{type:Function,required:!0}},name:"SofaBottomBar",setup:()=>({hoverTab:(0,a.iH)(""),tabs:[],Logic:b})},FT=(0,d.Z)(UT,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-normal-text"),c=(0,t.up)("sofa-icon");return(0,t.wg)(),(0,t.iD)("div",OT,[s.tabIsActive("base")?((0,t.wg)(),(0,t.iD)("div",DT,[(0,t._)("span",{class:"px-3 py-2 bg-primaryPurple flex flex-row space-x-2 rounded-tl-[16px] rounded-br-[16px] rounded-tr-[8px] rounded-bl-[8px]",style:{"box-shadow":"0px 4px 8px rgba(120, 130, 140, 0.05)"},onClick:i[0]||(i[0]=e=>o.Logic.Common.GoToRoute("/chat/new"))},[(0,t.Wm)(l,{color:"text-white"},{default:(0,t.w5)((()=>[(0,t.Uk)(" Ask me anything ")])),_:1}),(0,t._)("div",{style:(0,n.normalizeStyle)("background-image: url('/images/icons/robot.svg')"),class:"w-[24px] h-[24px] flex flex-row items-center justify-center bg-cover bg-center rounded-full"},null,4)])])):(0,t.kq)("",!0),(0,t._)("div",PT,[(0,t._)("div",{class:"col-span-1 flex flex-col items-center justify-center",onClick:i[1]||(i[1]=e=>o.Logic.Common.GoToRoute("/"))},[(0,t.Wm)(c,{name:s.tabIsActive("base")?"home-mobile-active":"home-mobile",customClass:"h-[30px] pb-2 "},null,8,["name"]),s.tabIsActive("base")?((0,t.wg)(),(0,t.iD)("span",LT)):(0,t.kq)("",!0)]),(0,t._)("div",{class:"col-span-1 flex flex-col items-center justify-center",onClick:i[2]||(i[2]=e=>o.Logic.Common.GoToRoute("/chat"))},[(0,t.Wm)(c,{name:s.tabIsActive("chat")?"chat-mobile-active":"chat-mobile",customClass:"h-[30px] pb-2 "},null,8,["name"]),s.tabIsActive("chat")?((0,t.wg)(),(0,t.iD)("span",jT)):(0,t.kq)("",!0)]),(0,t._)("div",{class:"col-span-1 flex flex-col items-center justify-center",onClick:i[3]||(i[3]=e=>s.showAddItem())},[(0,t._)("div",BT,[(0,t.Wm)(c,{name:"plus-white",customClass:"h-[17px]"})])]),(0,t._)("div",{class:"col-span-1 flex flex-col items-center justify-center",onClick:i[4]||(i[4]=e=>o.Logic.Common.GoToRoute("/marketplace"))},[(0,t.Wm)(c,{name:s.tabIsActive("marketplace")?"marketplace-active":"marketplace",customClass:"h-[31px] pb-2 "},null,8,["name"]),s.tabIsActive("explore")?((0,t.wg)(),(0,t.iD)("span",RT)):(0,t.kq)("",!0)]),(0,t._)("div",{class:"col-span-1 flex flex-col items-center justify-center",onClick:i[5]||(i[5]=e=>o.Logic.Common.GoToRoute("/library"))},[(0,t.Wm)(c,{name:s.tabIsActive("library")?"library-mobile-active":"library-mobile",customClass:"h-[30px] pb-2 "},null,8,["name"]),s.tabIsActive("library")?((0,t.wg)(),(0,t.iD)("span",NT)):(0,t.kq)("",!0)])])])}]]),zT={class:"flex flex-row space-x-2 items-center pt-2"},HT=["src"],VT={class:"flex flex-col space-y-3 pt-8"},qT=["onMouseover"],$T=(0,t.aZ)({components:{SofaHeaderText:M,SofaNormalText:P,SofaIcon:u},props:{tabIsActive:{type:Function,required:!0},tabs:{type:Array},logoPath:{type:String,default:"/images/icons/squareSofa-logo.svg"},logoSize:{type:String,default:"h-[22px]"}},name:"SofaSideBar",setup:e=>({hoverTab:(0,a.iH)("")})}),WT=(0,d.Z)($T,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-icon"),c=(0,t.up)("sofa-normal-text"),d=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("span",zT,[(0,t._)("img",{src:e.logoPath,class:(0,n.normalizeClass)(`${e.logoSize}`)},null,10,HT)]),(0,t._)("div",VT,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.tabs,((s,o)=>((0,t.wg)(),(0,t.iD)("div",{key:o,onMouseover:t=>e.hoverTab=s.icon,onMouseleave:i[0]||(i[0]=t=>e.hoverTab=""),class:(0,n.normalizeClass)("flex flex-col")},[(0,t.Wm)(d,{to:s.path,class:(0,n.normalizeClass)(`flex flex-row py-2 items-center px-4 space-x-3 rounded w-full ${e.tabIsActive(s.routeTag)?"bg-white rounded-md":""} `),onClick:e=>s.showSub?s.showSub=!1:s.showSub=!0},{default:(0,t.w5)((()=>[(0,t._)("span",null,[(0,t.Wm)(l,{name:e.tabIsActive(s.routeTag)?s.icon:`${s.icon}-white`,"custom-class":` ${s.icon_size?s.icon_size:"lg:h-[19px] mdlg:h-[19px]"} `},null,8,["name","custom-class"])]),(0,t.Wm)(c,{"custom-class":"pt-[2px] ",color:e.tabIsActive(s.routeTag)?"text-bodyDark font-semibold":"text-white "},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(s.name),1)])),_:2},1032,["color"])])),_:2},1032,["to","class","onClick"]),s.showSub?((0,t.wg)(!0),(0,t.iD)(t.HY,{key:0},(0,t.Ko)(s.sub,((i,s)=>((0,t.wg)(),(0,t.j4)(d,{key:s,to:i.path,class:(0,n.normalizeClass)(`flex flex-row py-2 items-center px-4 space-x-3 rounded w-full  ${e.tabIsActive(i.path)?" rounded-md":""} `)},{default:(0,t.w5)((()=>[(0,t._)("span",{class:(0,n.normalizeClass)("w-[6px] h-[6px] rounded-full "+(e.tabIsActive(i.path)?"bg-white":"bg-gray-400 "))},null,2),(0,t.Wm)(c,{"custom-class":"pt-[2px] ",color:e.tabIsActive(i.path)?"text-white":"text-gray-400"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.toDisplayString)(i.name),1)])),_:2},1032,["color"])])),_:2},1032,["to","class"])))),128)):(0,t.kq)("",!0)],40,qT)))),128))])],64)}]]),GT=["id"];function YT(e){return e+.5|0}const XT=(e,t,i)=>Math.max(Math.min(e,i),t);function KT(e){return XT(YT(2.55*e),0,255)}function QT(e){return XT(YT(255*e),0,255)}function ZT(e){return XT(YT(e/2.55)/100,0,1)}function JT(e){return XT(YT(100*e),0,100)}const eC={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},tC=[..."0123456789ABCDEF"],iC=e=>tC[15&e],nC=e=>tC[(240&e)>>4]+tC[15&e],sC=e=>(240&e)>>4==(15&e);const oC=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function rC(e,t,i){const n=t*Math.min(i,1-i),s=(t,s=(t+e/30)%12)=>i-n*Math.max(Math.min(s-3,9-s,1),-1);return[s(0),s(8),s(4)]}function aC(e,t,i){const n=(n,s=(n+e/60)%6)=>i-i*t*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function lC(e,t,i){const n=rC(e,1,.5);let s;for(t+i>1&&(s=1/(t+i),t*=s,i*=s),s=0;s<3;s++)n[s]*=1-t-i,n[s]+=t;return n}function cC(e){const t=e.r/255,i=e.g/255,n=e.b/255,s=Math.max(t,i,n),o=Math.min(t,i,n),r=(s+o)/2;let a,l,c;return s!==o&&(c=s-o,l=r>.5?c/(2-s-o):c/(s+o),a=function(e,t,i,n,s){return e===s?(t-i)/n+(t<i?6:0):t===s?(i-e)/n+2:(e-t)/n+4}(t,i,n,c,s),a=60*a+.5),[0|a,l||0,r]}function dC(e,t,i,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,i,n)).map(QT)}function uC(e,t,i){return dC(rC,e,t,i)}function hC(e){return(e%360+360)%360}const pC={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},fC={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let mC;const gC=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,vC=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,yC=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function bC(e,t,i){if(e){let n=cC(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*i,0===t?360:1)),n=uC(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function _C(e,t){return e?Object.assign(t||{},e):e}function xC(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=QT(e[3]))):(t=_C(e,{r:0,g:0,b:0,a:1})).a=QT(t.a),t}function wC(e){return"r"===e.charAt(0)?function(e){const t=gC.exec(e);let i,n,s,o=255;if(t){if(t[7]!==i){const e=+t[7];o=t[8]?KT(e):XT(255*e,0,255)}return i=+t[1],n=+t[3],s=+t[5],i=255&(t[2]?KT(i):XT(i,0,255)),n=255&(t[4]?KT(n):XT(n,0,255)),s=255&(t[6]?KT(s):XT(s,0,255)),{r:i,g:n,b:s,a:o}}}(e):function(e){const t=oC.exec(e);let i,n=255;if(!t)return;t[5]!==i&&(n=t[6]?KT(+t[5]):QT(+t[5]));const s=hC(+t[2]),o=+t[3]/100,r=+t[4]/100;return i="hwb"===t[1]?function(e,t,i){return dC(lC,e,t,i)}(s,o,r):"hsv"===t[1]?function(e,t,i){return dC(aC,e,t,i)}(s,o,r):uC(s,o,r),{r:i[0],g:i[1],b:i[2],a:n}}(e)}class kC{constructor(e){if(e instanceof kC)return e;const t=typeof e;let i;var n,s,o;"object"===t?i=xC(e):"string"===t&&(o=(n=e).length,"#"===n[0]&&(4===o||5===o?s={r:255&17*eC[n[1]],g:255&17*eC[n[2]],b:255&17*eC[n[3]],a:5===o?17*eC[n[4]]:255}:7!==o&&9!==o||(s={r:eC[n[1]]<<4|eC[n[2]],g:eC[n[3]]<<4|eC[n[4]],b:eC[n[5]]<<4|eC[n[6]],a:9===o?eC[n[7]]<<4|eC[n[8]]:255})),i=s||function(e){mC||(mC=function(){const e={},t=Object.keys(fC),i=Object.keys(pC);let n,s,o,r,a;for(n=0;n<t.length;n++){for(r=a=t[n],s=0;s<i.length;s++)o=i[s],a=a.replace(o,pC[o]);o=parseInt(fC[r],16),e[a]=[o>>16&255,o>>8&255,255&o]}return e}(),mC.transparent=[0,0,0,0]);const t=mC[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(e)||wC(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=_C(this._rgb);return e&&(e.a=ZT(e.a)),e}set rgb(e){this._rgb=xC(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${ZT(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0;var e}hexString(){return this._valid?(e=this._rgb,t=(e=>sC(e.r)&&sC(e.g)&&sC(e.b)&&sC(e.a))(e)?iC:nC,e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0):void 0;var e,t}hslString(){return this._valid?function(e){if(!e)return;const t=cC(e),i=t[0],n=JT(t[1]),s=JT(t[2]);return e.a<255?`hsla(${i}, ${n}%, ${s}%, ${ZT(e.a)})`:`hsl(${i}, ${n}%, ${s}%)`}(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,n=e.rgb;let s;const o=t===s?.5:t,r=2*o-1,a=i.a-n.a,l=((r*a==-1?r:(r+a)/(1+r*a))+1)/2;s=1-l,i.r=255&l*i.r+s*n.r+.5,i.g=255&l*i.g+s*n.g+.5,i.b=255&l*i.b+s*n.b+.5,i.a=o*i.a+(1-o)*n.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,i){const n=yC(ZT(e.r)),s=yC(ZT(e.g)),o=yC(ZT(e.b));return{r:QT(vC(n+i*(yC(ZT(t.r))-n))),g:QT(vC(s+i*(yC(ZT(t.g))-s))),b:QT(vC(o+i*(yC(ZT(t.b))-o))),a:e.a+i*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new kC(this.rgb)}alpha(e){return this._rgb.a=QT(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=YT(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return bC(this._rgb,2,e),this}darken(e){return bC(this._rgb,2,-e),this}saturate(e){return bC(this._rgb,1,e),this}desaturate(e){return bC(this._rgb,1,-e),this}rotate(e){return function(e,t){var i=cC(e);i[0]=hC(i[0]+t),i=uC(i),e.r=i[0],e.g=i[1],e.b=i[2]}(this._rgb,e),this}}function SC(){}const TC=(()=>{let e=0;return()=>e++})();function CC(e){return null==e}function EC(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function AC(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function IC(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)}function MC(e,t){return IC(e)?e:t}function OC(e,t){return void 0===e?t:e}const DC=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function PC(e,t,i){if(e&&"function"==typeof e.call)return e.apply(i,t)}function LC(e,t,i,n){let s,o,r;if(EC(e))if(o=e.length,n)for(s=o-1;s>=0;s--)t.call(i,e[s],s);else for(s=0;s<o;s++)t.call(i,e[s],s);else if(AC(e))for(r=Object.keys(e),o=r.length,s=0;s<o;s++)t.call(i,e[r[s]],r[s])}function jC(e,t){let i,n,s,o;if(!e||!t||e.length!==t.length)return!1;for(i=0,n=e.length;i<n;++i)if(s=e[i],o=t[i],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function BC(e){if(EC(e))return e.map(BC);if(AC(e)){const t=Object.create(null),i=Object.keys(e),n=i.length;let s=0;for(;s<n;++s)t[i[s]]=BC(e[i[s]]);return t}return e}function RC(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function NC(e,t,i,n){if(!RC(e))return;const s=t[e],o=i[e];AC(s)&&AC(o)?UC(s,o,n):t[e]=BC(o)}function UC(e,t,i){const n=EC(t)?t:[t],s=n.length;if(!AC(e))return e;const o=(i=i||{}).merger||NC;let r;for(let t=0;t<s;++t){if(r=n[t],!AC(r))continue;const s=Object.keys(r);for(let t=0,n=s.length;t<n;++t)o(s[t],e,r,i)}return e}function FC(e,t){return UC(e,t,{merger:zC})}function zC(e,t,i){if(!RC(e))return;const n=t[e],s=i[e];AC(n)&&AC(s)?FC(n,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=BC(s))}const HC={"":e=>e,x:e=>e.x,y:e=>e.y};function VC(e,t){const i=HC[t]||(HC[t]=function(e){const t=function(e){const t=e.split("."),i=[];let n="";for(const e of t)n+=e,n.endsWith("\\")?n=n.slice(0,-1)+".":(i.push(n),n="");return i}(e);return e=>{for(const i of t){if(""===i)break;e=e&&e[i]}return e}}(t));return i(e)}function qC(e){return e.charAt(0).toUpperCase()+e.slice(1)}const $C=e=>void 0!==e,WC=e=>"function"==typeof e,GC=(e,t)=>{if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0},YC=Math.PI,XC=2*YC,KC=XC+YC,QC=Number.POSITIVE_INFINITY,ZC=YC/180,JC=YC/2,eE=YC/4,tE=2*YC/3,iE=Math.log10,nE=Math.sign;function sE(e,t,i){return Math.abs(e-t)<i}function oE(e){const t=Math.round(e);e=sE(e,t,e/1e3)?t:e;const i=Math.pow(10,Math.floor(iE(e))),n=e/i;return(n<=1?1:n<=2?2:n<=5?5:10)*i}function rE(e){return!isNaN(parseFloat(e))&&isFinite(e)}function aE(e,t,i){let n,s,o;for(n=0,s=e.length;n<s;n++)o=e[n][i],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function lE(e){return e*(YC/180)}function cE(e){return e*(180/YC)}function dE(e){if(!IC(e))return;let t=1,i=0;for(;Math.round(e*t)/t!==e;)t*=10,i++;return i}function uE(e,t){const i=t.x-e.x,n=t.y-e.y,s=Math.sqrt(i*i+n*n);let o=Math.atan2(n,i);return o<-.5*YC&&(o+=XC),{angle:o,distance:s}}function hE(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function pE(e,t){return(e-t+KC)%XC-YC}function fE(e){return(e%XC+XC)%XC}function mE(e,t,i,n){const s=fE(e),o=fE(t),r=fE(i),a=fE(o-s),l=fE(r-s),c=fE(s-o),d=fE(s-r);return s===o||s===r||n&&o===r||a>l&&c<d}function gE(e,t,i){return Math.max(t,Math.min(i,e))}function vE(e,t,i,n=1e-6){return e>=Math.min(t,i)-n&&e<=Math.max(t,i)+n}function yE(e,t,i){i=i||(i=>e[i]<t);let n,s=e.length-1,o=0;for(;s-o>1;)n=o+s>>1,i(n)?o=n:s=n;return{lo:o,hi:s}}const bE=(e,t,i,n)=>yE(e,i,n?n=>{const s=e[n][t];return s<i||s===i&&e[n+1][t]===i}:n=>e[n][t]<i),_E=(e,t,i)=>yE(e,i,(n=>e[n][t]>=i)),xE=["push","pop","shift","splice","unshift"];function wE(e,t){const i=e._chartjs;if(!i)return;const n=i.listeners,s=n.indexOf(t);-1!==s&&n.splice(s,1),n.length>0||(xE.forEach((t=>{delete e[t]})),delete e._chartjs)}function kE(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const SE="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function TE(e,t){let i=[],n=!1;return function(...s){i=s,n||(n=!0,SE.call(window,(()=>{n=!1,e.apply(t,i)})))}}const CE=e=>"start"===e?"left":"end"===e?"right":"center",EE=(e,t,i)=>"start"===e?t:"end"===e?i:(t+i)/2;function AE(e,t,i){const n=t.length;let s=0,o=n;if(e._sorted){const{iScale:r,_parsed:a}=e,l=r.axis,{min:c,max:d,minDefined:u,maxDefined:h}=r.getUserBounds();u&&(s=gE(Math.min(bE(a,l,c).lo,i?n:bE(t,l,r.getPixelForValue(c)).lo),0,n-1)),o=h?gE(Math.max(bE(a,r.axis,d,!0).hi+1,i?0:bE(t,l,r.getPixelForValue(d),!0).hi+1),s,n)-s:n-s}return{start:s,count:o}}function IE(e){const{xScale:t,yScale:i,_scaleRanges:n}=e,s={xmin:t.min,xmax:t.max,ymin:i.min,ymax:i.max};if(!n)return e._scaleRanges=s,!0;const o=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==i.min||n.ymax!==i.max;return Object.assign(n,s),o}const ME=e=>0===e||1===e,OE=(e,t,i)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*XC/i),DE=(e,t,i)=>Math.pow(2,-10*e)*Math.sin((e-t)*XC/i)+1,PE={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*JC),easeOutSine:e=>Math.sin(e*JC),easeInOutSine:e=>-.5*(Math.cos(YC*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>ME(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>ME(e)?e:OE(e,.075,.3),easeOutElastic:e=>ME(e)?e:DE(e,.075,.3),easeInOutElastic(e){const t=.1125;return ME(e)?e:e<.5?.5*OE(2*e,t,.45):.5+.5*DE(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-PE.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,i=2.75;return e<1/i?t*e*e:e<2/i?t*(e-=1.5/i)*e+.75:e<2.5/i?t*(e-=2.25/i)*e+.9375:t*(e-=2.625/i)*e+.984375},easeInOutBounce:e=>e<.5?.5*PE.easeInBounce(2*e):.5*PE.easeOutBounce(2*e-1)+.5};function LE(e){if(e&&"object"==typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function jE(e){return LE(e)?e:new kC(e)}function BE(e){return LE(e)?e:new kC(e).saturate(.5).darken(.1).hexString()}const RE=["x","y","borderWidth","radius","tension"],NE=["color","borderColor","backgroundColor"],UE=new Map;function FE(e,t,i){return function(e,t){t=t||{};const i=e+JSON.stringify(t);let n=UE.get(i);return n||(n=new Intl.NumberFormat(e,t),UE.set(i,n)),n}(t,i).format(e)}const zE={values:e=>EC(e)?e:""+e,numeric(e,t,i){if(0===e)return"0";const n=this.chart.options.locale;let s,o=e;if(i.length>1){const t=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(t<1e-4||t>1e15)&&(s="scientific"),o=function(e,t){let i=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(i)>=1&&e!==Math.floor(e)&&(i=e-Math.floor(e)),i}(e,i)}const r=iE(Math.abs(o)),a=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),FE(e,n,l)},logarithmic(e,t,i){if(0===e)return"0";const n=i[t].significand||e/Math.pow(10,Math.floor(iE(e)));return[1,2,3,5,10,15].includes(n)||t>.8*i.length?zE.numeric.call(this,e,t,i):""}};var HE={formatters:zE};const VE=Object.create(null),qE=Object.create(null);function $E(e,t){if(!t)return e;const i=t.split(".");for(let t=0,n=i.length;t<n;++t){const n=i[t];e=e[n]||(e[n]=Object.create(null))}return e}function WE(e,t,i){return"string"==typeof t?UC($E(e,t),i):UC($E(e,""),t)}class GE{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>BE(t.backgroundColor),this.hoverBorderColor=(e,t)=>BE(t.borderColor),this.hoverColor=(e,t)=>BE(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return WE(this,e,t)}get(e){return $E(this,e)}describe(e,t){return WE(qE,e,t)}override(e,t){return WE(VE,e,t)}route(e,t,i,n){const s=$E(this,e),o=$E(this,i),r="_"+t;Object.defineProperties(s,{[r]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[r],t=o[n];return AC(e)?Object.assign({},t,e):OC(e,t)},set(e){this[r]=e}}})}apply(e){e.forEach((e=>e(this)))}}var YE=new GE({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:NE},numbers:{type:"number",properties:RE}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:HE.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function XE(e,t,i,n,s){let o=t[s];return o||(o=t[s]=e.measureText(s).width,i.push(s)),o>n&&(n=o),n}function KE(e,t,i,n){let s=(n=n||{}).data=n.data||{},o=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(s=n.data={},o=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let r=0;const a=i.length;let l,c,d,u,h;for(l=0;l<a;l++)if(u=i[l],null==u||EC(u)){if(EC(u))for(c=0,d=u.length;c<d;c++)h=u[c],null==h||EC(h)||(r=XE(e,s,o,r,h))}else r=XE(e,s,o,r,u);e.restore();const p=o.length/2;if(p>i.length){for(l=0;l<p;l++)delete s[o[l]];o.splice(0,p)}return r}function QE(e,t,i){const n=e.currentDevicePixelRatio,s=0!==i?Math.max(i/2,.5):0;return Math.round((t-s)*n)/n+s}function ZE(e,t){(t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function JE(e,t,i,n){eA(e,t,i,n,null)}function eA(e,t,i,n,s){let o,r,a,l,c,d,u,h;const p=t.pointStyle,f=t.rotation,m=t.radius;let g=(f||0)*ZC;if(p&&"object"==typeof p&&(o=p.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return e.save(),e.translate(i,n),e.rotate(g),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),void e.restore();if(!(isNaN(m)||m<=0)){switch(e.beginPath(),p){default:s?e.ellipse(i,n,s/2,m,0,0,XC):e.arc(i,n,m,0,XC),e.closePath();break;case"triangle":d=s?s/2:m,e.moveTo(i+Math.sin(g)*d,n-Math.cos(g)*m),g+=tE,e.lineTo(i+Math.sin(g)*d,n-Math.cos(g)*m),g+=tE,e.lineTo(i+Math.sin(g)*d,n-Math.cos(g)*m),e.closePath();break;case"rectRounded":c=.516*m,l=m-c,r=Math.cos(g+eE)*l,u=Math.cos(g+eE)*(s?s/2-c:l),a=Math.sin(g+eE)*l,h=Math.sin(g+eE)*(s?s/2-c:l),e.arc(i-u,n-a,c,g-YC,g-JC),e.arc(i+h,n-r,c,g-JC,g),e.arc(i+u,n+a,c,g,g+JC),e.arc(i-h,n+r,c,g+JC,g+YC),e.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*m,d=s?s/2:l,e.rect(i-d,n-l,2*d,2*l);break}g+=eE;case"rectRot":u=Math.cos(g)*(s?s/2:m),r=Math.cos(g)*m,a=Math.sin(g)*m,h=Math.sin(g)*(s?s/2:m),e.moveTo(i-u,n-a),e.lineTo(i+h,n-r),e.lineTo(i+u,n+a),e.lineTo(i-h,n+r),e.closePath();break;case"crossRot":g+=eE;case"cross":u=Math.cos(g)*(s?s/2:m),r=Math.cos(g)*m,a=Math.sin(g)*m,h=Math.sin(g)*(s?s/2:m),e.moveTo(i-u,n-a),e.lineTo(i+u,n+a),e.moveTo(i+h,n-r),e.lineTo(i-h,n+r);break;case"star":u=Math.cos(g)*(s?s/2:m),r=Math.cos(g)*m,a=Math.sin(g)*m,h=Math.sin(g)*(s?s/2:m),e.moveTo(i-u,n-a),e.lineTo(i+u,n+a),e.moveTo(i+h,n-r),e.lineTo(i-h,n+r),g+=eE,u=Math.cos(g)*(s?s/2:m),r=Math.cos(g)*m,a=Math.sin(g)*m,h=Math.sin(g)*(s?s/2:m),e.moveTo(i-u,n-a),e.lineTo(i+u,n+a),e.moveTo(i+h,n-r),e.lineTo(i-h,n+r);break;case"line":r=s?s/2:Math.cos(g)*m,a=Math.sin(g)*m,e.moveTo(i-r,n-a),e.lineTo(i+r,n+a);break;case"dash":e.moveTo(i,n),e.lineTo(i+Math.cos(g)*(s?s/2:m),n+Math.sin(g)*m);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function tA(e,t,i){return i=i||.5,!t||e&&e.x>t.left-i&&e.x<t.right+i&&e.y>t.top-i&&e.y<t.bottom+i}function iA(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function nA(e){e.restore()}function sA(e,t,i,n,s){if(!t)return e.lineTo(i.x,i.y);if("middle"===s){const n=(t.x+i.x)/2;e.lineTo(n,t.y),e.lineTo(n,i.y)}else"after"===s!=!!n?e.lineTo(t.x,i.y):e.lineTo(i.x,t.y);e.lineTo(i.x,i.y)}function oA(e,t,i,n){if(!t)return e.lineTo(i.x,i.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?i.cp2x:i.cp1x,n?i.cp2y:i.cp1y,i.x,i.y)}function rA(e,t,i,n,s){if(s.strikethrough||s.underline){const o=e.measureText(n),r=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,l=i-o.actualBoundingBoxAscent,c=i+o.actualBoundingBoxDescent,d=s.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(r,d),e.lineTo(a,d),e.stroke()}}function aA(e,t){const i=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=i}function lA(e,t,i,n,s,o={}){const r=EC(t)?t:[t],a=o.strokeWidth>0&&""!==o.strokeColor;let l,c;for(e.save(),e.font=s.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),CC(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,o),l=0;l<r.length;++l)c=r[l],o.backdrop&&aA(e,o.backdrop),a&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),CC(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(c,i,n,o.maxWidth)),e.fillText(c,i,n,o.maxWidth),rA(e,i,n,c,o),n+=Number(s.lineHeight);e.restore()}function cA(e,t){const{x:i,y:n,w:s,h:o,radius:r}=t;e.arc(i+r.topLeft,n+r.topLeft,r.topLeft,1.5*YC,YC,!0),e.lineTo(i,n+o-r.bottomLeft),e.arc(i+r.bottomLeft,n+o-r.bottomLeft,r.bottomLeft,YC,JC,!0),e.lineTo(i+s-r.bottomRight,n+o),e.arc(i+s-r.bottomRight,n+o-r.bottomRight,r.bottomRight,JC,0,!0),e.lineTo(i+s,n+r.topRight),e.arc(i+s-r.topRight,n+r.topRight,r.topRight,0,-JC,!0),e.lineTo(i+r.topLeft,n)}const dA=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,uA=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function hA(e,t){const i=(""+e).match(dA);if(!i||"normal"===i[1])return 1.2*t;switch(e=+i[2],i[3]){case"px":return e;case"%":e/=100}return t*e}const pA=e=>+e||0;function fA(e,t){const i={},n=AC(t),s=n?Object.keys(t):t,o=AC(e)?n?i=>OC(e[i],e[t[i]]):t=>e[t]:()=>e;for(const e of s)i[e]=pA(o(e));return i}function mA(e){return fA(e,{top:"y",right:"x",bottom:"y",left:"x"})}function gA(e){return fA(e,["topLeft","topRight","bottomLeft","bottomRight"])}function vA(e){const t=mA(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function yA(e,t){e=e||{},t=t||YE.font;let i=OC(e.size,t.size);"string"==typeof i&&(i=parseInt(i,10));let n=OC(e.style,t.style);n&&!(""+n).match(uA)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const s={family:OC(e.family,t.family),lineHeight:hA(OC(e.lineHeight,t.lineHeight),i),size:i,style:n,weight:OC(e.weight,t.weight),string:""};return s.string=function(e){return!e||CC(e.size)||CC(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(s),s}function bA(e,t,i,n){let s,o,r,a=!0;for(s=0,o=e.length;s<o;++s)if(r=e[s],void 0!==r&&(void 0!==t&&"function"==typeof r&&(r=r(t),a=!1),void 0!==i&&EC(r)&&(r=r[i%r.length],a=!1),void 0!==r))return n&&!a&&(n.cacheable=!1),r}function _A(e,t){return Object.assign(Object.create(e),t)}function xA(e,t=[""],i,n,s=(()=>e[0])){const o=i||e;void 0===n&&(n=DA("_fallback",e));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:n,_getTarget:s,override:i=>xA([i,...e],t,o,n)};return new Proxy(r,{deleteProperty:(t,i)=>(delete t[i],delete t._keys,delete e[0][i],!0),get:(i,n)=>CA(i,n,(()=>function(e,t,i,n){let s;for(const o of t)if(s=DA(SA(o,e),i),void 0!==s)return TA(e,s)?MA(i,n,e,s):s}(n,t,e,i))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>PA(e).includes(t),ownKeys:e=>PA(e),set(e,t,i){const n=e._storage||(e._storage=s());return e[t]=n[t]=i,delete e._keys,!0}})}function wA(e,t,i,n){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:i,_stack:new Set,_descriptors:kA(e,n),setContext:t=>wA(e,t,i,n),override:s=>wA(e.override(s),t,i,n)};return new Proxy(s,{deleteProperty:(t,i)=>(delete t[i],delete e[i],!0),get:(e,t,i)=>CA(e,t,(()=>function(e,t,i){const{_proxy:n,_context:s,_subProxy:o,_descriptors:r}=e;let a=n[t];return WC(a)&&r.isScriptable(t)&&(a=function(e,t,i,n){const{_proxy:s,_context:o,_subProxy:r,_stack:a}=i;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(o,r||n);return a.delete(e),TA(e,l)&&(l=MA(s._scopes,s,e,l)),l}(t,a,e,i)),EC(a)&&a.length&&(a=function(e,t,i,n){const{_proxy:s,_context:o,_subProxy:r,_descriptors:a}=i;if(void 0!==o.index&&n(e))return t[o.index%t.length];if(AC(t[0])){const i=t,n=s._scopes.filter((e=>e!==i));t=[];for(const l of i){const i=MA(n,s,e,l);t.push(wA(i,o,r&&r[e],a))}}return t}(t,a,e,r.isIndexable)),TA(t,a)&&(a=wA(a,s,o&&o[t],r)),a}(e,t,i))),getOwnPropertyDescriptor:(t,i)=>t._descriptors.allKeys?Reflect.has(e,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,i),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,i)=>Reflect.has(e,i),ownKeys:()=>Reflect.ownKeys(e),set:(t,i,n)=>(e[i]=n,delete t[i],!0)})}function kA(e,t={scriptable:!0,indexable:!0}){const{_scriptable:i=t.scriptable,_indexable:n=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:i,indexable:n,isScriptable:WC(i)?i:()=>i,isIndexable:WC(n)?n:()=>n}}const SA=(e,t)=>e?e+qC(t):t,TA=(e,t)=>AC(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function CA(e,t,i){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const n=i();return e[t]=n,n}function EA(e,t,i){return WC(e)?e(t,i):e}const AA=(e,t)=>!0===e?t:"string"==typeof e?VC(t,e):void 0;function IA(e,t,i,n,s){for(const o of t){const t=AA(i,o);if(t){e.add(t);const o=EA(t._fallback,i,s);if(void 0!==o&&o!==i&&o!==n)return o}else if(!1===t&&void 0!==n&&i!==n)return null}return!1}function MA(e,t,i,n){const s=t._rootScopes,o=EA(t._fallback,i,n),r=[...e,...s],a=new Set;a.add(n);let l=OA(a,r,i,o||i,n);return null!==l&&(void 0===o||o===i||(l=OA(a,r,o,l,n),null!==l))&&xA(Array.from(a),[""],s,o,(()=>function(e,t,i){const n=e._getTarget();t in n||(n[t]={});const s=n[t];return EC(s)&&AC(i)?i:s||{}}(t,i,n)))}function OA(e,t,i,n,s){for(;i;)i=IA(e,t,i,n,s);return i}function DA(e,t){for(const i of t){if(!i)continue;const t=i[e];if(void 0!==t)return t}}function PA(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const i of e)for(const e of Object.keys(i).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function LA(e,t,i,n){const{iScale:s}=e,{key:o="r"}=this._parsing,r=new Array(n);let a,l,c,d;for(a=0,l=n;a<l;++a)c=a+i,d=t[c],r[a]={r:s.parse(VC(d,o),c)};return r}const jA=Number.EPSILON||1e-14,BA=(e,t)=>t<e.length&&!e[t].skip&&e[t],RA=e=>"x"===e?"y":"x";function NA(e,t,i,n){const s=e.skip?t:e,o=t,r=i.skip?t:i,a=hE(o,s),l=hE(r,o);let c=a/(a+l),d=l/(a+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const u=n*c,h=n*d;return{previous:{x:o.x-u*(r.x-s.x),y:o.y-u*(r.y-s.y)},next:{x:o.x+h*(r.x-s.x),y:o.y+h*(r.y-s.y)}}}function UA(e,t,i){return Math.max(Math.min(e,i),t)}function FA(e,t,i,n,s){let o,r,a,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)!function(e,t="x"){const i=RA(t),n=e.length,s=Array(n).fill(0),o=Array(n);let r,a,l,c=BA(e,0);for(r=0;r<n;++r)if(a=l,l=c,c=BA(e,r+1),l){if(c){const e=c[t]-l[t];s[r]=0!==e?(c[i]-l[i])/e:0}o[r]=a?c?nE(s[r-1])!==nE(s[r])?0:(s[r-1]+s[r])/2:s[r-1]:s[r]}!function(e,t,i){const n=e.length;let s,o,r,a,l,c=BA(e,0);for(let d=0;d<n-1;++d)l=c,c=BA(e,d+1),l&&c&&(sE(t[d],0,jA)?i[d]=i[d+1]=0:(s=i[d]/t[d],o=i[d+1]/t[d],a=Math.pow(s,2)+Math.pow(o,2),a<=9||(r=3/Math.sqrt(a),i[d]=s*r*t[d],i[d+1]=o*r*t[d])))}(e,s,o),function(e,t,i="x"){const n=RA(i),s=e.length;let o,r,a,l=BA(e,0);for(let c=0;c<s;++c){if(r=a,a=l,l=BA(e,c+1),!a)continue;const s=a[i],d=a[n];r&&(o=(s-r[i])/3,a[`cp1${i}`]=s-o,a[`cp1${n}`]=d-o*t[c]),l&&(o=(l[i]-s)/3,a[`cp2${i}`]=s+o,a[`cp2${n}`]=d+o*t[c])}}(e,o,t)}(e,s);else{let i=n?e[e.length-1]:e[0];for(o=0,r=e.length;o<r;++o)a=e[o],l=NA(i,a,e[Math.min(o+1,r-(n?0:1))%r],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,i=a}t.capBezierPoints&&function(e,t){let i,n,s,o,r,a=tA(e[0],t);for(i=0,n=e.length;i<n;++i)r=o,o=a,a=i<n-1&&tA(e[i+1],t),o&&(s=e[i],r&&(s.cp1x=UA(s.cp1x,t.left,t.right),s.cp1y=UA(s.cp1y,t.top,t.bottom)),a&&(s.cp2x=UA(s.cp2x,t.left,t.right),s.cp2y=UA(s.cp2y,t.top,t.bottom)))}(e,i)}function zA(){return"undefined"!=typeof window&&"undefined"!=typeof document}function HA(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function VA(e,t,i){let n;return"string"==typeof e?(n=parseInt(e,10),-1!==e.indexOf("%")&&(n=n/100*t.parentNode[i])):n=e,n}const qA=e=>e.ownerDocument.defaultView.getComputedStyle(e,null),$A=["top","right","bottom","left"];function WA(e,t,i){const n={};i=i?"-"+i:"";for(let s=0;s<4;s++){const o=$A[s];n[o]=parseFloat(e[t+"-"+o+i])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const GA=(e,t,i)=>(e>0||t>0)&&(!i||!i.shadowRoot);function YA(e,t){if("native"in e)return e;const{canvas:i,currentDevicePixelRatio:n}=t,s=qA(i),o="border-box"===s.boxSizing,r=WA(s,"padding"),a=WA(s,"border","width"),{x:l,y:c,box:d}=function(e,t){const i=e.touches,n=i&&i.length?i[0]:e,{offsetX:s,offsetY:o}=n;let r,a,l=!1;if(GA(s,o,e.target))r=s,a=o;else{const e=t.getBoundingClientRect();r=n.clientX-e.left,a=n.clientY-e.top,l=!0}return{x:r,y:a,box:l}}(e,i),u=r.left+(d&&a.left),h=r.top+(d&&a.top);let{width:p,height:f}=t;return o&&(p-=r.width+a.width,f-=r.height+a.height),{x:Math.round((l-u)/p*i.width/n),y:Math.round((c-h)/f*i.height/n)}}const XA=e=>Math.round(10*e)/10;function KA(e,t,i){const n=t||1,s=Math.floor(e.height*n),o=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const r=e.canvas;return r.style&&(i||!r.style.height&&!r.style.width)&&(r.style.height=`${e.height}px`,r.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==n||r.height!==s||r.width!==o)&&(e.currentDevicePixelRatio=n,r.height=s,r.width=o,e.ctx.setTransform(n,0,0,n,0,0),!0)}const QA=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}();function ZA(e,t){const i=function(e,t){return qA(e).getPropertyValue(t)}(e,t),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function JA(e,t,i,n){return{x:e.x+i*(t.x-e.x),y:e.y+i*(t.y-e.y)}}function eI(e,t,i,n){return{x:e.x+i*(t.x-e.x),y:"middle"===n?i<.5?e.y:t.y:"after"===n?i<1?e.y:t.y:i>0?t.y:e.y}}function tI(e,t,i,n){const s={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},r=JA(e,s,i),a=JA(s,o,i),l=JA(o,t,i),c=JA(r,a,i),d=JA(a,l,i);return JA(c,d,i)}function iI(e,t,i){return e?function(e,t){return{x:i=>e+e+t-i,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,i):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function nI(e,t){let i,n;"ltr"!==t&&"rtl"!==t||(i=e.canvas.style,n=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",t,"important"),e.prevTextDirection=n)}function sI(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function oI(e){return"angle"===e?{between:mE,compare:pE,normalize:fE}:{between:vE,compare:(e,t)=>e-t,normalize:e=>e}}function rI({start:e,end:t,count:i,loop:n,style:s}){return{start:e%i,end:t%i,loop:n&&(t-e+1)%i==0,style:s}}function aI(e,t,i){if(!i)return[e];const{property:n,start:s,end:o}=i,r=t.length,{compare:a,between:l,normalize:c}=oI(n),{start:d,end:u,loop:h,style:p}=function(e,t,i){const{property:n,start:s,end:o}=i,{between:r,normalize:a}=oI(n),l=t.length;let c,d,{start:u,end:h,loop:p}=e;if(p){for(u+=l,h+=l,c=0,d=l;c<d&&r(a(t[u%l][n]),s,o);++c)u--,h--;u%=l,h%=l}return h<u&&(h+=l),{start:u,end:h,loop:p,style:e.style}}(e,t,i),f=[];let m,g,v,y=!1,b=null;for(let e=d,i=d;e<=u;++e)g=t[e%r],g.skip||(m=c(g[n]),m!==v&&(y=l(m,s,o),null===b&&(y||l(s,v,m)&&0!==a(s,v))&&(b=0===a(m,s)?e:i),null!==b&&(!y||0===a(o,m)||l(o,v,m))&&(f.push(rI({start:b,end:e,loop:h,count:r,style:p})),b=null),i=e,v=m));return null!==b&&f.push(rI({start:b,end:u,loop:h,count:r,style:p})),f}function lI(e,t){const i=[],n=e.segments;for(let s=0;s<n.length;s++){const o=aI(n[s],e.points,t);o.length&&i.push(...o)}return i}function cI(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function dI(e,t){if(!t)return!1;const i=[],n=function(e,t){return LE(t)?(i.includes(t)||i.push(t),i.indexOf(t)):t};return JSON.stringify(e,n)!==JSON.stringify(t,n)}class uI{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,n){const s=t.listeners[n],o=t.duration;s.forEach((n=>n({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(i-t.start,o)})))}_refresh(){this._request||(this._running=!0,this._request=SE.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(e=Date.now()){let t=0;this._charts.forEach(((i,n)=>{if(!i.running||!i.items.length)return;const s=i.items;let o,r=s.length-1,a=!1;for(;r>=0;--r)o=s[r],o._active?(o._total>i.duration&&(i.duration=o._total),o.tick(e),a=!0):(s[r]=s[s.length-1],s.pop());a&&(n.draw(),this._notify(n,i,e,"progress")),s.length||(i.running=!1,this._notify(n,i,e,"complete"),i.initial=!1),t+=s.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let n=i.length-1;for(;n>=0;--n)i[n].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var hI=new uI;const pI="transparent",fI={boolean:(e,t,i)=>i>.5?t:e,color(e,t,i){const n=jE(e||pI),s=n.valid&&jE(t||pI);return s&&s.valid?s.mix(n,i).hexString():t},number:(e,t,i)=>e+(t-e)*i};class mI{constructor(e,t,i,n){const s=t[i];n=bA([e.to,n,s,e.from]);const o=bA([e.from,s,n]);this._active=!0,this._fn=e.fn||fI[e.type||typeof o],this._easing=PE[e.easing]||PE.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=o,this._to=n,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const n=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=bA([e.to,t,n,e.from]),this._from=bA([e.from,n,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,n=this._prop,s=this._from,o=this._loop,r=this._to;let a;if(this._active=s!==r&&(o||t<i),!this._active)return this._target[n]=r,void this._notify(!0);t<0?this._target[n]=s:(a=t/i%2,a=o&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[n]=this._fn(s,r,a))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,i)=>{e.push({res:t,rej:i})}))}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let e=0;e<i.length;e++)i[e][t]()}}class gI{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!AC(e))return;const t=Object.keys(YE.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach((n=>{const s=e[n];if(!AC(s))return;const o={};for(const e of t)o[e]=s[e];(EC(s.properties)&&s.properties||[n]).forEach((e=>{e!==n&&i.has(e)||i.set(e,o)}))}))}_animateOptions(e,t){const i=t.options,n=function(e,t){if(!t)return;let i=e.options;if(i)return i.$shared&&(e.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i;e.options=t}(e,i);if(!n)return[];const s=this._createAnimations(n,i);return i.$shared&&function(e,t){const i=[],n=Object.keys(t);for(let t=0;t<n.length;t++){const s=e[n[t]];s&&s.active()&&i.push(s.wait())}return Promise.all(i)}(e.options.$animations,i).then((()=>{e.options=i}),(()=>{})),s}_createAnimations(e,t){const i=this._properties,n=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),r=Date.now();let a;for(a=o.length-1;a>=0;--a){const l=o[a];if("$"===l.charAt(0))continue;if("options"===l){n.push(...this._animateOptions(e,t));continue}const c=t[l];let d=s[l];const u=i.get(l);if(d){if(u&&d.active()){d.update(u,c,r);continue}d.cancel()}u&&u.duration?(s[l]=d=new mI(u,e,l,c),n.push(d)):e[l]=c}return n}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const i=this._createAnimations(e,t);return i.length?(hI.add(this._chart,i),!0):void 0}}function vI(e,t){const i=e&&e.options||{},n=i.reverse,s=void 0===i.min?t:0,o=void 0===i.max?t:0;return{start:n?o:s,end:n?s:o}}function yI(e,t){const i=[],n=e._getSortedDatasetMetas(t);let s,o;for(s=0,o=n.length;s<o;++s)i.push(n[s].index);return i}function bI(e,t,i,n={}){const s=e.keys,o="single"===n.mode;let r,a,l,c;if(null!==t){for(r=0,a=s.length;r<a;++r){if(l=+s[r],l===i){if(n.all)continue;break}c=e.values[l],IC(c)&&(o||0===t||nE(t)===nE(c))&&(t+=c)}return t}}function _I(e,t){const i=e&&e.options.stacked;return i||void 0===i&&void 0!==t.stack}function xI(e,t,i){const n=e[t]||(e[t]={});return n[i]||(n[i]={})}function wI(e,t,i,n){for(const s of t.getMatchingVisibleMetas(n).reverse()){const t=e[s.index];if(i&&t>0||!i&&t<0)return s.index}return null}function kI(e,t){const{chart:i,_cachedMeta:n}=e,s=i._stacks||(i._stacks={}),{iScale:o,vScale:r,index:a}=n,l=o.axis,c=r.axis,d=function(e,t,i){return`${e.id}.${t.id}.${i.stack||i.type}`}(o,r,n),u=t.length;let h;for(let e=0;e<u;++e){const i=t[e],{[l]:o,[c]:u}=i;h=(i._stacks||(i._stacks={}))[c]=xI(s,d,o),h[a]=u,h._top=wI(h,r,!0,n.type),h._bottom=wI(h,r,!1,n.type),(h._visualValues||(h._visualValues={}))[a]=u}}function SI(e,t){const i=e.scales;return Object.keys(i).filter((e=>i[e].axis===t)).shift()}function TI(e,t){const i=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[n]||void 0===t[n][i])return;delete t[n][i],void 0!==t[n]._visualValues&&void 0!==t[n]._visualValues[i]&&delete t[n]._visualValues[i]}}}const CI=e=>"reset"===e||"none"===e,EI=(e,t)=>t?e:Object.assign({},e);class AI{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=_I(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&TI(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),n=(e,t,i,n)=>"x"===e?t:"r"===e?n:i,s=t.xAxisID=OC(i.xAxisID,SI(e,"x")),o=t.yAxisID=OC(i.yAxisID,SI(e,"y")),r=t.rAxisID=OC(i.rAxisID,SI(e,"r")),a=t.indexAxis,l=t.iAxisID=n(a,s,o,r),c=t.vAxisID=n(a,o,s,r);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(r),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&wE(this._data,this),e._stacked&&TI(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(AC(t))this._data=function(e){const t=Object.keys(e),i=new Array(t.length);let n,s,o;for(n=0,s=t.length;n<s;++n)o=t[n],i[n]={x:o,y:e[o]};return i}(t);else if(i!==t){if(i){wE(i,this);const e=this._cachedMeta;TI(e),e._parsed=[]}t&&Object.isExtensible(t)&&(this,(n=t)._chartjs?n._chartjs.listeners.push(this):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[this]}}),xE.forEach((e=>{const t="_onData"+qC(e),i=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...e){const s=i.apply(this,e);return n._chartjs.listeners.forEach((i=>{"function"==typeof i[t]&&i[t](...e)})),s}})})))),this._syncList=[],this._data=t}var n}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let n=!1;this._dataCheck();const s=t._stacked;t._stacked=_I(t.vScale,t),t.stack!==i.stack&&(n=!0,TI(t),t.stack=i.stack),this._resyncElements(e),(n||s!==t._stacked)&&kI(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:n}=this,{iScale:s,_stacked:o}=i,r=s.axis;let a,l,c,d=0===e&&t===n.length||i._sorted,u=e>0&&i._parsed[e-1];if(!1===this._parsing)i._parsed=n,i._sorted=!0,c=n;else{c=EC(n[e])?this.parseArrayData(i,n,e,t):AC(n[e])?this.parseObjectData(i,n,e,t):this.parsePrimitiveData(i,n,e,t);const s=()=>null===l[r]||u&&l[r]<u[r];for(a=0;a<t;++a)i._parsed[a+e]=l=c[a],d&&(s()&&(d=!1),u=l);i._sorted=d}o&&kI(this,c)}parsePrimitiveData(e,t,i,n){const{iScale:s,vScale:o}=e,r=s.axis,a=o.axis,l=s.getLabels(),c=s===o,d=new Array(n);let u,h,p;for(u=0,h=n;u<h;++u)p=u+i,d[u]={[r]:c||s.parse(l[p],p),[a]:o.parse(t[p],p)};return d}parseArrayData(e,t,i,n){const{xScale:s,yScale:o}=e,r=new Array(n);let a,l,c,d;for(a=0,l=n;a<l;++a)c=a+i,d=t[c],r[a]={x:s.parse(d[0],c),y:o.parse(d[1],c)};return r}parseObjectData(e,t,i,n){const{xScale:s,yScale:o}=e,{xAxisKey:r="x",yAxisKey:a="y"}=this._parsing,l=new Array(n);let c,d,u,h;for(c=0,d=n;c<d;++c)u=c+i,h=t[u],l[c]={x:s.parse(VC(h,r),u),y:o.parse(VC(h,a),u)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const n=this.chart,s=this._cachedMeta,o=t[e.axis];return bI({keys:yI(n,!0),values:t._stacks[e.axis]._visualValues},o,s.index,{mode:i})}updateRangeFromParsed(e,t,i,n){const s=i[t.axis];let o=null===s?NaN:s;const r=n&&i._stacks[t.axis];n&&r&&(n.values=r,o=bI(n,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const i=this._cachedMeta,n=i._parsed,s=i._sorted&&e===i.iScale,o=n.length,r=this._getOtherScale(e),a=((e,t,i)=>e&&!t.hidden&&t._stacked&&{keys:yI(i,!0),values:null})(t,i,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(e){const{min:t,max:i,minDefined:n,maxDefined:s}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:s?i:Number.POSITIVE_INFINITY}}(r);let u,h;function p(){h=n[u];const t=h[r.axis];return!IC(h[e.axis])||c>t||d<t}for(u=0;u<o&&(p()||(this.updateRangeFromParsed(l,e,h,a),!s));++u);if(s)for(u=o-1;u>=0;--u)if(!p()){this.updateRangeFromParsed(l,e,h,a);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let n,s,o;for(n=0,s=t.length;n<s;++n)o=t[n][e.axis],IC(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,n=t.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:n?""+n.getLabelForValue(s[n.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,i,n,s;return AC(e)?(t=e.top,i=e.right,n=e.bottom,s=e.left):t=i=n=s=e,{top:t,right:i,bottom:n,left:s,disabled:!1===e}}(OC(this.options.clip,function(e,t,i){if(!1===i)return!1;const n=vI(e,i),s=vI(t,i);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,n=i.data||[],s=t.chartArea,o=[],r=this._drawStart||0,a=this._drawCount||n.length-r,l=this.options.drawActiveElementsOnTop;let c;for(i.dataset&&i.dataset.draw(e,s,r,a),c=r;c<r+a;++c){const t=n[c];t.hidden||(t.active&&l?o.push(t):t.draw(e,s))}for(c=0;c<o.length;++c)o[c].draw(e,s)}getStyle(e,t){const i=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const n=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];s=t.$context||(t.$context=function(e,t,i){return _A(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:i,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),s.parsed=this.getParsed(e),s.raw=n.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=function(e,t){return _A(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=n,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const n="active"===t,s=this._cachedDataOpts,o=e+"-"+t,r=s[o],a=this.enableOptionSharing&&$C(i);if(r)return EI(r,a);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),d=n?[`${e}Hover`,"hover",e,""]:[e,""],u=l.getOptionScopes(this.getDataset(),c),h=Object.keys(YE.elements[e]),p=l.resolveNamedOptions(u,h,(()=>this.getContext(i,n,t)),d);return p.$shared&&(p.$shared=a,s[o]=Object.freeze(EI(p,a))),p}_resolveAnimations(e,t,i){const n=this.chart,s=this._cachedDataOpts,o=`animation-${t}`,r=s[o];if(r)return r;let a;if(!1!==n.options.animation){const n=this.chart.config,s=n.datasetAnimationScopeKeys(this._type,t),o=n.getOptionScopes(this.getDataset(),s);a=n.createResolver(o,this.getContext(e,i,t))}const l=new gI(n,a&&a.animations);return a&&a._cacheable&&(s[o]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||CI(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),n=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(t,s)||s!==n;return this.updateSharedOptions(s,t,i),{sharedOptions:s,includeOptions:o}}updateElement(e,t,i,n){CI(n)?Object.assign(e,i):this._resolveAnimations(t,n).update(e,i)}updateSharedOptions(e,t,i){e&&!CI(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,n){e.active=n;const s=this.getStyle(t,n);this._resolveAnimations(t,i,n).update(e,{options:!n&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[e,t,i]of this._syncList)this[e](t,i);this._syncList=[];const n=i.length,s=t.length,o=Math.min(s,n);o&&this.parse(0,o),s>n?this._insertElements(n,s-n,e):s<n&&this._removeElements(s,n-s)}_insertElements(e,t,i=!0){const n=this._cachedMeta,s=n.data,o=e+t;let r;const a=e=>{for(e.length+=t,r=e.length-1;r>=o;r--)e[r]=e[r-t]};for(a(s),r=e;r<o;++r)s[r]=new this.dataElementType;this._parsing&&a(n._parsed),this.parse(e,t),i&&this.updateElements(s,e,t,"reset")}updateElements(e,t,i,n){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const n=i._parsed.splice(e,t);i._stacked&&TI(i,n)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,n]=e;this[t](i,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function II(e){const t=e.iScale,i=function(e,t){if(!e._cache.$bar){const i=e.getMatchingVisibleMetas(t);let n=[];for(let t=0,s=i.length;t<s;t++)n=n.concat(i[t].controller.getAllParsedValues(e));e._cache.$bar=kE(n.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let n,s,o,r,a=t._length;const l=()=>{32767!==o&&-32768!==o&&($C(r)&&(a=Math.min(a,Math.abs(o-r)||a)),r=o)};for(n=0,s=i.length;n<s;++n)o=t.getPixelForValue(i[n]),l();for(r=void 0,n=0,s=t.ticks.length;n<s;++n)o=t.getPixelForTick(n),l();return a}function MI(e,t,i,n){return EC(e)?function(e,t,i,n){const s=i.parse(e[0],n),o=i.parse(e[1],n),r=Math.min(s,o),a=Math.max(s,o);let l=r,c=a;Math.abs(r)>Math.abs(a)&&(l=a,c=r),t[i.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:o,min:r,max:a}}(e,t,i,n):t[i.axis]=i.parse(e,n),t}function OI(e,t,i,n){const s=e.iScale,o=e.vScale,r=s.getLabels(),a=s===o,l=[];let c,d,u,h;for(c=i,d=i+n;c<d;++c)h=t[c],u={},u[s.axis]=a||s.parse(r[c],c),l.push(MI(h,u,o,c));return l}function DI(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function PI(e,t,i,n){let s=t.borderSkipped;const o={};if(!s)return void(e.borderSkipped=o);if(!0===s)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:r,end:a,reverse:l,top:c,bottom:d}=function(e){let t,i,n,s,o;return e.horizontal?(t=e.base>e.x,i="left",n="right"):(t=e.base<e.y,i="bottom",n="top"),t?(s="end",o="start"):(s="start",o="end"),{start:i,end:n,reverse:t,top:s,bottom:o}}(e);"middle"===s&&i&&(e.enableBorderRadius=!0,(i._top||0)===n?s=c:(i._bottom||0)===n?s=d:(o[LI(d,r,a,l)]=!0,s=c)),o[LI(s,r,a,l)]=!0,e.borderSkipped=o}function LI(e,t,i,n){var s,o,r;return n?(r=i,e=jI(e=(s=e)===(o=t)?r:s===r?o:s,i,t)):e=jI(e,t,i),e}function jI(e,t,i){return"start"===e?t:"end"===e?i:e}function BI(e,{inflateAmount:t},i){e.inflateAmount="auto"===t?1===i?.33:0:t}class RI extends AI{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:n}}=e.legend.options;return t.labels.map(((t,s)=>{const o=e.getDatasetMeta(0).controller.getStyle(s);return{text:t,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:n,lineWidth:o.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(s),index:s}}))}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,n=this._cachedMeta;if(!1===this._parsing)n._parsed=i;else{let s,o,r=e=>+i[e];if(AC(i[e])){const{key:e="value"}=this._parsing;r=t=>+VC(i[t],e)}for(s=e,o=e+t;s<o;++s)n._parsed[s]=r(s)}}_getRotation(){return lE(this.options.rotation-90)}_getCircumference(){return lE(this.options.circumference)}_getRotationExtents(){let e=XC,t=-XC;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const n=this.chart.getDatasetMeta(i).controller,s=n._getRotation(),o=n._getCircumference();e=Math.min(e,s),t=Math.max(t,s+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,n=this._cachedMeta,s=n.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,r=Math.max((Math.min(i.width,i.height)-o)/2,0),a=Math.min((_=this.options.cutout,x=r,"string"==typeof _&&_.endsWith("%")?parseFloat(_)/100:+_/x),1),l=this._getRingWeight(this.index),{circumference:c,rotation:d}=this._getRotationExtents(),{ratioX:u,ratioY:h,offsetX:p,offsetY:f}=function(e,t,i){let n=1,s=1,o=0,r=0;if(t<XC){const a=e,l=a+t,c=Math.cos(a),d=Math.sin(a),u=Math.cos(l),h=Math.sin(l),p=(e,t,n)=>mE(e,a,l,!0)?1:Math.max(t,t*i,n,n*i),f=(e,t,n)=>mE(e,a,l,!0)?-1:Math.min(t,t*i,n,n*i),m=p(0,c,u),g=p(JC,d,h),v=f(YC,c,u),y=f(YC+JC,d,h);n=(m-v)/2,s=(g-y)/2,o=-(m+v)/2,r=-(g+y)/2}return{ratioX:n,ratioY:s,offsetX:o,offsetY:r}}(d,c,a),m=(i.width-o)/u,g=(i.height-o)/h,v=Math.max(Math.min(m,g)/2,0),y=DC(this.options.radius,v),b=(y-Math.max(y*a,0))/this._getVisibleDatasetWeightTotal();var _,x;this.offsetX=p*y,this.offsetY=f*y,n.total=this.calculateTotal(),this.outerRadius=y-b*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-b*l,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const i=this.options,n=this._cachedMeta,s=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||null===n._parsed[e]||n.data[e].hidden?0:this.calculateCircumference(n._parsed[e]*s/XC)}updateElements(e,t,i,n){const s="reset"===n,o=this.chart,r=o.chartArea,a=o.options.animation,l=(r.left+r.right)/2,c=(r.top+r.bottom)/2,d=s&&a.animateScale,u=d?0:this.innerRadius,h=d?0:this.outerRadius,{sharedOptions:p,includeOptions:f}=this._getSharedOptions(t,n);let m,g=this._getRotation();for(m=0;m<t;++m)g+=this._circumference(m,s);for(m=t;m<t+i;++m){const t=this._circumference(m,s),i=e[m],o={x:l+this.offsetX,y:c+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:h,innerRadius:u};f&&(o.options=p||this.resolveDataElementOptions(m,i.active?"active":n)),g+=t,this.updateElement(i,m,o,n)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i,n=0;for(i=0;i<t.length;i++){const s=e._parsed[i];null===s||isNaN(s)||!this.chart.getDataVisibility(i)||t[i].hidden||(n+=Math.abs(s))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?XC*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,n=i.data.labels||[],s=FE(t._parsed[e],i.options.locale);return{label:n[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const i=this.chart;let n,s,o,r,a;if(!e)for(n=0,s=i.data.datasets.length;n<s;++n)if(i.isDatasetVisible(n)){o=i.getDatasetMeta(n),e=o.data,r=o.controller;break}if(!e)return 0;for(n=0,s=e.length;n<s;++n)a=r.resolveDataElementOptions(n),"inner"!==a.borderAlign&&(t=Math.max(t,a.borderWidth||0,a.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,n=e.length;i<n;++i){const e=this.resolveDataElementOptions(i);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(OC(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class NI extends AI{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:n}}=e.legend.options;return t.labels.map(((t,s)=>{const o=e.getDatasetMeta(0).controller.getStyle(s);return{text:t,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:n,lineWidth:o.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(s),index:s}}))}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,n=i.data.labels||[],s=FE(t._parsed[e].r,i.options.locale);return{label:n[e]||"",value:s}}parseObjectData(e,t,i,n){return LA.bind(this)(e,t,i,n)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,i)=>{const n=this.getParsed(i).r;!isNaN(n)&&this.chart.getDataVisibility(i)&&(n<t.min&&(t.min=n),n>t.max&&(t.max=n))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,i=e.options,n=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(n/2,0),o=(s-Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=s-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(e,t,i,n){const s="reset"===n,o=this.chart,r=o.options.animation,a=this._cachedMeta.rScale,l=a.xCenter,c=a.yCenter,d=a.getIndexAngle(0)-.5*YC;let u,h=d;const p=360/this.countVisibleElements();for(u=0;u<t;++u)h+=this._computeAngle(u,n,p);for(u=t;u<t+i;u++){const t=e[u];let i=h,f=h+this._computeAngle(u,n,p),m=o.getDataVisibility(u)?a.getDistanceFromCenterForValue(this.getParsed(u).r):0;h=f,s&&(r.animateScale&&(m=0),r.animateRotate&&(i=f=d));const g={x:l,y:c,innerRadius:0,outerRadius:m,startAngle:i,endAngle:f,options:this.resolveDataElementOptions(u,t.active?"active":n)};this.updateElement(t,u,g,n)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&t++})),t}_computeAngle(e,t,i){return this.chart.getDataVisibility(e)?lE(this.resolveDataElementOptions(e,t).angle||i):0}}var UI=Object.freeze({__proto__:null,BarController:class extends AI{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,i,n){return OI(e,t,i,n)}parseArrayData(e,t,i,n){return OI(e,t,i,n)}parseObjectData(e,t,i,n){const{iScale:s,vScale:o}=e,{xAxisKey:r="x",yAxisKey:a="y"}=this._parsing,l="x"===s.axis?r:a,c="x"===o.axis?r:a,d=[];let u,h,p,f;for(u=i,h=i+n;u<h;++u)f=t[u],p={},p[s.axis]=s.parse(VC(f,l),u),d.push(MI(VC(f,c),p,o,u));return d}updateRangeFromParsed(e,t,i,n){super.updateRangeFromParsed(e,t,i,n);const s=i._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:n}=t,s=this.getParsed(e),o=s._custom,r=DI(o)?"["+o.start+", "+o.end+"]":""+n.getLabelForValue(s[n.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:r}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,n){const s="reset"===n,{index:o,_cachedMeta:{vScale:r}}=this,a=r.getBasePixel(),l=r.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:u}=this._getSharedOptions(t,n);for(let h=t;h<t+i;h++){const t=this.getParsed(h),i=s||CC(t[r.axis])?{base:a,head:a}:this._calculateBarValuePixels(h),p=this._calculateBarIndexPixels(h,c),f=(t._stacks||{})[r.axis],m={horizontal:l,base:i.base,enableBorderRadius:!f||DI(t._custom)||o===f._top||o===f._bottom,x:l?i.head:p.center,y:l?p.center:i.head,height:l?p.size:Math.abs(i.size),width:l?Math.abs(i.size):p.size};u&&(m.options=d||this.resolveDataElementOptions(h,e[h].active?"active":n));const g=m.options||e[h].options;PI(m,g,f,o),BI(m,g,c.ratio),this.updateElement(e[h],h,m,n)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,n=i.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),s=i.options.stacked,o=[],r=e=>{const i=e.controller.getParsed(t),n=i&&i[e.vScale.axis];if(CC(n)||isNaN(n))return!0};for(const i of n)if((void 0===t||!r(i))&&((!1===s||-1===o.indexOf(i.stack)||void 0===s&&void 0===i.stack)&&o.push(i.stack),i.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,i){const n=this._getStacks(e,i),s=void 0!==t?n.indexOf(t):-1;return-1===s?n.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,n=[];let s,o;for(s=0,o=t.data.length;s<o;++s)n.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const r=e.barThickness;return{min:r||II(t),pixels:n,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:r?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:n},options:{base:s,minBarLength:o}}=this,r=s||0,a=this.getParsed(e),l=a._custom,c=DI(l);let d,u,h=a[t.axis],p=0,f=i?this.applyStack(t,a,i):h;f!==h&&(p=f-h,f=h),c&&(h=l.barStart,f=l.barEnd-l.barStart,0!==h&&nE(h)!==nE(l.barEnd)&&(p=0),p+=h);const m=CC(s)||c?p:s;let g=t.getPixelForValue(m);if(d=this.chart.getDataVisibility(e)?t.getPixelForValue(p+f):g,u=d-g,Math.abs(u)<o){u=function(e,t,i){return 0!==e?nE(e):(t.isHorizontal()?1:-1)*(t.min>=i?1:-1)}(u,t,r)*o,h===r&&(g-=u/2);const e=t.getPixelForDecimal(0),s=t.getPixelForDecimal(1),l=Math.min(e,s),p=Math.max(e,s);g=Math.max(Math.min(g,p),l),d=g+u,i&&!c&&(a._stacks[t.axis]._visualValues[n]=t.getValueForPixel(d)-t.getValueForPixel(g))}if(g===t.getPixelForValue(r)){const e=nE(u)*t.getLineWidthForValue(r)/2;g+=e,u-=e}return{size:u,base:g,head:d,center:d+u/2}}_calculateBarIndexPixels(e,t){const i=t.scale,n=this.options,s=n.skipNull,o=OC(n.maxBarThickness,1/0);let r,a;if(t.grouped){const i=s?this._getStackCount(e):t.stackCount,l="flex"===n.barThickness?function(e,t,i,n){const s=t.pixels,o=s[e];let r=e>0?s[e-1]:null,a=e<s.length-1?s[e+1]:null;const l=i.categoryPercentage;null===r&&(r=o-(null===a?t.end-t.start:a-o)),null===a&&(a=o+o-r);const c=o-(o-Math.min(r,a))/2*l;return{chunk:Math.abs(a-r)/2*l/n,ratio:i.barPercentage,start:c}}(e,t,n,i):function(e,t,i,n){const s=i.barThickness;let o,r;return CC(s)?(o=t.min*i.categoryPercentage,r=i.barPercentage):(o=s*n,r=1),{chunk:o/n,ratio:r,start:t.pixels[e]-o/2}}(e,t,n,i),c=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);r=l.start+l.chunk*c+l.chunk/2,a=Math.min(o,l.chunk*l.ratio)}else r=i.getPixelForValue(this.getParsed(e)[i.axis],e),a=Math.min(o,t.min*t.ratio);return{base:r-a/2,head:r+a/2,center:r,size:a}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,n=i.length;let s=0;for(;s<n;++s)null!==this.getParsed(s)[t.axis]&&i[s].draw(this._ctx)}},BubbleController:class extends AI{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,i,n){const s=super.parsePrimitiveData(e,t,i,n);for(let e=0;e<s.length;e++)s[e]._custom=this.resolveDataElementOptions(e+i).radius;return s}parseArrayData(e,t,i,n){const s=super.parseArrayData(e,t,i,n);for(let e=0;e<s.length;e++){const n=t[i+e];s[e]._custom=OC(n[2],this.resolveDataElementOptions(e+i).radius)}return s}parseObjectData(e,t,i,n){const s=super.parseObjectData(e,t,i,n);for(let e=0;e<s.length;e++){const n=t[i+e];s[e]._custom=OC(n&&n.r&&+n.r,this.resolveDataElementOptions(e+i).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:s}=t,o=this.getParsed(e),r=n.getLabelForValue(o.x),a=s.getLabelForValue(o.y),l=o._custom;return{label:i[e]||"",value:"("+r+", "+a+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,i,n){const s="reset"===n,{iScale:o,vScale:r}=this._cachedMeta,{sharedOptions:a,includeOptions:l}=this._getSharedOptions(t,n),c=o.axis,d=r.axis;for(let u=t;u<t+i;u++){const t=e[u],i=!s&&this.getParsed(u),h={},p=h[c]=s?o.getPixelForDecimal(.5):o.getPixelForValue(i[c]),f=h[d]=s?r.getBasePixel():r.getPixelForValue(i[d]);h.skip=isNaN(p)||isNaN(f),l&&(h.options=a||this.resolveDataElementOptions(u,t.active?"active":n),s&&(h.options.radius=0)),this.updateElement(t,u,h,n)}}resolveDataElementOptions(e,t){const i=this.getParsed(e);let n=super.resolveDataElementOptions(e,t);n.$shared&&(n=Object.assign({},n,{$shared:!1}));const s=n.radius;return"active"!==t&&(n.radius=0),n.radius+=OC(i&&i._custom,s),n}},DoughnutController:RI,LineController:class extends AI{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:n=[],_dataset:s}=t,o=this.chart._animationsDisabled;let{start:r,count:a}=AE(t,n,o);this._drawStart=r,this._drawCount=a,IE(t)&&(r=0,a=n.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=n;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:l},e),this.updateElements(n,r,a,e)}updateElements(e,t,i,n){const s="reset"===n,{iScale:o,vScale:r,_stacked:a,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,n),u=o.axis,h=r.axis,{spanGaps:p,segment:f}=this.options,m=rE(p)?p:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||s||"none"===n,v=t+i,y=e.length;let b=t>0&&this.getParsed(t-1);for(let i=0;i<y;++i){const p=e[i],y=g?p:{};if(i<t||i>=v){y.skip=!0;continue}const _=this.getParsed(i),x=CC(_[h]),w=y[u]=o.getPixelForValue(_[u],i),k=y[h]=s||x?r.getBasePixel():r.getPixelForValue(a?this.applyStack(r,_,a):_[h],i);y.skip=isNaN(w)||isNaN(k)||x,y.stop=i>0&&Math.abs(_[u]-b[u])>m,f&&(y.parsed=_,y.raw=l.data[i]),d&&(y.options=c||this.resolveDataElementOptions(i,p.active?"active":n)),g||this.updateElement(p,i,y,n),b=_}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,n=e.data||[];if(!n.length)return i;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}},PieController:class extends RI{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}},PolarAreaController:NI,RadarController:class extends AI{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const t=this._cachedMeta.vScale,i=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(i[t.axis])}}parseObjectData(e,t,i,n){return LA.bind(this)(e,t,i,n)}update(e){const t=this._cachedMeta,i=t.dataset,n=t.data||[],s=t.iScale.getLabels();if(i.points=n,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const o={_loop:!0,_fullLoop:s.length===n.length,options:t};this.updateElement(i,void 0,o,e)}this.updateElements(n,0,n.length,e)}updateElements(e,t,i,n){const s=this._cachedMeta.rScale,o="reset"===n;for(let r=t;r<t+i;r++){const t=e[r],i=this.resolveDataElementOptions(r,t.active?"active":n),a=s.getPointPositionForValue(r,this.getParsed(r).r),l=o?s.xCenter:a.x,c=o?s.yCenter:a.y,d={x:l,y:c,angle:a.angle,skip:isNaN(l)||isNaN(c),options:i};this.updateElement(t,r,d,n)}}},ScatterController:class extends AI{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:s}=t,o=this.getParsed(e),r=n.getLabelForValue(o.x),a=s.getLabelForValue(o.y);return{label:i[e]||"",value:"("+r+", "+a+")"}}update(e){const t=this._cachedMeta,{data:i=[]}=t,n=this.chart._animationsDisabled;let{start:s,count:o}=AE(t,i,n);if(this._drawStart=s,this._drawCount=o,IE(t)&&(s=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:s,_dataset:o}=t;s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!o._decimated,s.points=i;const r=this.resolveDatasetElementOptions(e);r.segment=this.options.segment,this.updateElement(s,void 0,{animated:!n,options:r},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(i,s,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,i,n){const s="reset"===n,{iScale:o,vScale:r,_stacked:a,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,n),d=this.getSharedOptions(c),u=this.includeOptions(n,d),h=o.axis,p=r.axis,{spanGaps:f,segment:m}=this.options,g=rE(f)?f:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||"none"===n;let y=t>0&&this.getParsed(t-1);for(let c=t;c<t+i;++c){const t=e[c],i=this.getParsed(c),f=v?t:{},b=CC(i[p]),_=f[h]=o.getPixelForValue(i[h],c),x=f[p]=s||b?r.getBasePixel():r.getPixelForValue(a?this.applyStack(r,i,a):i[p],c);f.skip=isNaN(_)||isNaN(x)||b,f.stop=c>0&&Math.abs(i[h]-y[h])>g,m&&(f.parsed=i,f.raw=l.data[c]),u&&(f.options=d||this.resolveDataElementOptions(c,t.active?"active":n)),v||this.updateElement(t,c,f,n),y=i}this.updateSharedOptions(d,n,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}const i=e.dataset,n=i.options&&i.options.borderWidth||0;if(!t.length)return n;const s=t[0].size(this.resolveDataElementOptions(0)),o=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(n,s,o)/2}}});function FI(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class zI{static override(e){Object.assign(zI.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return FI()}parse(){return FI()}format(){return FI()}add(){return FI()}diff(){return FI()}startOf(){return FI()}endOf(){return FI()}}var HI=zI;function VI(e,t,i,n){const{controller:s,data:o,_sorted:r}=e,a=s._cachedMeta.iScale;if(a&&t===a.axis&&"r"!==t&&r&&o.length){const e=a._reversePixels?_E:bE;if(!n)return e(o,t,i);if(s._sharedOptions){const n=o[0],s="function"==typeof n.getRange&&n.getRange(t);if(s){const n=e(o,t,i-s),r=e(o,t,i+s);return{lo:n.lo,hi:r.hi}}}}return{lo:0,hi:o.length-1}}function qI(e,t,i,n,s){const o=e.getSortedVisibleDatasetMetas(),r=i[t];for(let e=0,i=o.length;e<i;++e){const{index:i,data:a}=o[e],{lo:l,hi:c}=VI(o[e],t,r,s);for(let e=l;e<=c;++e){const t=a[e];t.skip||n(t,i,e)}}}function $I(e,t,i,n,s){const o=[];return s||e.isPointInArea(t)?(qI(e,i,t,(function(i,r,a){(s||tA(i,e.chartArea,0))&&i.inRange(t.x,t.y,n)&&o.push({element:i,datasetIndex:r,index:a})}),!0),o):o}function WI(e,t,i,n,s,o){return o||e.isPointInArea(t)?"r"!==i||n?function(e,t,i,n,s,o){let r=[];const a=function(e){const t=-1!==e.indexOf("x"),i=-1!==e.indexOf("y");return function(e,n){const s=t?Math.abs(e.x-n.x):0,o=i?Math.abs(e.y-n.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}(i);let l=Number.POSITIVE_INFINITY;return qI(e,i,t,(function(i,c,d){const u=i.inRange(t.x,t.y,s);if(n&&!u)return;const h=i.getCenterPoint(s);if(!o&&!e.isPointInArea(h)&&!u)return;const p=a(t,h);p<l?(r=[{element:i,datasetIndex:c,index:d}],l=p):p===l&&r.push({element:i,datasetIndex:c,index:d})})),r}(e,t,i,n,s,o):function(e,t,i,n){let s=[];return qI(e,i,t,(function(e,i,o){const{startAngle:r,endAngle:a}=e.getProps(["startAngle","endAngle"],n),{angle:l}=uE(e,{x:t.x,y:t.y});mE(l,r,a)&&s.push({element:e,datasetIndex:i,index:o})})),s}(e,t,i,s):[]}function GI(e,t,i,n,s){const o=[],r="x"===i?"inXRange":"inYRange";let a=!1;return qI(e,i,t,((e,n,l)=>{e[r](t[i],s)&&(o.push({element:e,datasetIndex:n,index:l}),a=a||e.inRange(t.x,t.y,s))})),n&&!a?[]:o}var YI={evaluateInteractionItems:qI,modes:{index(e,t,i,n){const s=YA(t,e),o=i.axis||"x",r=i.includeInvisible||!1,a=i.intersect?$I(e,s,o,n,r):WI(e,s,o,!1,n,r),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=a[0].index,i=e.data[t];i&&!i.skip&&l.push({element:i,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,i,n){const s=YA(t,e),o=i.axis||"xy",r=i.includeInvisible||!1;let a=i.intersect?$I(e,s,o,n,r):WI(e,s,o,!1,n,r);if(a.length>0){const t=a[0].datasetIndex,i=e.getDatasetMeta(t).data;a=[];for(let e=0;e<i.length;++e)a.push({element:i[e],datasetIndex:t,index:e})}return a},point:(e,t,i,n)=>$I(e,YA(t,e),i.axis||"xy",n,i.includeInvisible||!1),nearest(e,t,i,n){const s=YA(t,e),o=i.axis||"xy",r=i.includeInvisible||!1;return WI(e,s,o,i.intersect,n,r)},x:(e,t,i,n)=>GI(e,YA(t,e),"x",i.intersect,n),y:(e,t,i,n)=>GI(e,YA(t,e),"y",i.intersect,n)}};const XI=["left","top","right","bottom"];function KI(e,t){return e.filter((e=>e.pos===t))}function QI(e,t){return e.filter((e=>-1===XI.indexOf(e.pos)&&e.box.axis===t))}function ZI(e,t){return e.sort(((e,i)=>{const n=t?i:e,s=t?e:i;return n.weight===s.weight?n.index-s.index:n.weight-s.weight}))}function JI(e,t,i,n){return Math.max(e[i],t[i])+Math.max(e[n],t[n])}function eM(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function tM(e,t,i,n){const{pos:s,box:o}=i,r=e.maxPadding;if(!AC(s)){i.size&&(e[s]-=i.size);const t=n[i.stack]||{size:0,count:1};t.size=Math.max(t.size,i.horizontal?o.height:o.width),i.size=t.size/t.count,e[s]+=i.size}o.getPadding&&eM(r,o.getPadding());const a=Math.max(0,t.outerWidth-JI(r,e,"left","right")),l=Math.max(0,t.outerHeight-JI(r,e,"top","bottom")),c=a!==e.w,d=l!==e.h;return e.w=a,e.h=l,i.horizontal?{same:c,other:d}:{same:d,other:c}}function iM(e,t){const i=t.maxPadding;return function(e){const n={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{n[e]=Math.max(t[e],i[e])})),n}(e?["left","right"]:["top","bottom"])}function nM(e,t,i,n){const s=[];let o,r,a,l,c,d;for(o=0,r=e.length,c=0;o<r;++o){a=e[o],l=a.box,l.update(a.width||t.w,a.height||t.h,iM(a.horizontal,t));const{same:r,other:u}=tM(t,i,a,n);c|=r&&s.length,d=d||u,l.fullSize||s.push(a)}return c&&nM(s,t,i,n)||d}function sM(e,t,i,n,s){e.top=i,e.left=t,e.right=t+n,e.bottom=i+s,e.width=n,e.height=s}function oM(e,t,i,n){const s=i.padding;let{x:o,y:r}=t;for(const a of e){const e=a.box,l=n[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/l.weight||1;if(a.horizontal){const n=t.w*c,o=l.size||e.height;$C(l.start)&&(r=l.start),e.fullSize?sM(e,s.left,r,i.outerWidth-s.right-s.left,o):sM(e,t.left+l.placed,r,n,o),l.start=r,l.placed+=n,r=e.bottom}else{const n=t.h*c,r=l.size||e.width;$C(l.start)&&(o=l.start),e.fullSize?sM(e,o,s.top,r,i.outerHeight-s.bottom-s.top):sM(e,o,t.top+l.placed,r,n),l.start=o,l.placed+=n,o=e.right}}t.x=o,t.y=r}var rM={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const i=e.boxes?e.boxes.indexOf(t):-1;-1!==i&&e.boxes.splice(i,1)},configure(e,t,i){t.fullSize=i.fullSize,t.position=i.position,t.weight=i.weight},update(e,t,i,n){if(!e)return;const s=vA(e.options.layout.padding),o=Math.max(t-s.width,0),r=Math.max(i-s.height,0),a=function(e){const t=function(e){const t=[];let i,n,s,o,r,a;for(i=0,n=(e||[]).length;i<n;++i)s=e[i],({position:o,options:{stack:r,stackWeight:a=1}}=s),t.push({index:i,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:r&&o+r,stackWeight:a});return t}(e),i=ZI(t.filter((e=>e.box.fullSize)),!0),n=ZI(KI(t,"left"),!0),s=ZI(KI(t,"right")),o=ZI(KI(t,"top"),!0),r=ZI(KI(t,"bottom")),a=QI(t,"x"),l=QI(t,"y");return{fullSize:i,leftAndTop:n.concat(o),rightAndBottom:s.concat(l).concat(r).concat(a),chartArea:KI(t,"chartArea"),vertical:n.concat(s).concat(l),horizontal:o.concat(r).concat(a)}}(e.boxes),l=a.vertical,c=a.horizontal;LC(e.boxes,(e=>{"function"==typeof e.beforeLayout&&e.beforeLayout()}));const d=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,u=Object.freeze({outerWidth:t,outerHeight:i,padding:s,availableWidth:o,availableHeight:r,vBoxMaxWidth:o/2/d,hBoxMaxHeight:r/2}),h=Object.assign({},s);eM(h,vA(n));const p=Object.assign({maxPadding:h,w:o,h:r,x:s.left,y:s.top},s),f=function(e,t){const i=function(e){const t={};for(const i of e){const{stack:e,pos:n,stackWeight:s}=i;if(!e||!XI.includes(n))continue;const o=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}(e),{vBoxMaxWidth:n,hBoxMaxHeight:s}=t;let o,r,a;for(o=0,r=e.length;o<r;++o){a=e[o];const{fullSize:r}=a.box,l=i[a.stack],c=l&&a.stackWeight/l.weight;a.horizontal?(a.width=c?c*n:r&&t.availableWidth,a.height=s):(a.width=n,a.height=c?c*s:r&&t.availableHeight)}return i}(l.concat(c),u);nM(a.fullSize,p,u,f),nM(l,p,u,f),nM(c,p,u,f)&&nM(l,p,u,f),function(e){const t=e.maxPadding;function i(i){const n=Math.max(t[i]-e[i],0);return e[i]+=n,n}e.y+=i("top"),e.x+=i("left"),i("right"),i("bottom")}(p),oM(a.leftAndTop,p,u,f),p.x+=p.w,p.y+=p.h,oM(a.rightAndBottom,p,u,f),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},LC(a.chartArea,(t=>{const i=t.box;Object.assign(i,e.chartArea),i.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})}))}};class aM{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,n){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,n?Math.floor(t/n):i)}}isAttached(e){return!0}updateConfig(e){}}class lM extends aM{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const cM="$chartjs",dM={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},uM=e=>null===e||""===e,hM=!!QA&&{passive:!0};function pM(e,t,i){e.canvas.removeEventListener(t,i,hM)}function fM(e,t){for(const i of e)if(i===t||i.contains(t))return!0}function mM(e,t,i){const n=e.canvas,s=new MutationObserver((e=>{let t=!1;for(const i of e)t=t||fM(i.addedNodes,n),t=t&&!fM(i.removedNodes,n);t&&i()}));return s.observe(document,{childList:!0,subtree:!0}),s}function gM(e,t,i){const n=e.canvas,s=new MutationObserver((e=>{let t=!1;for(const i of e)t=t||fM(i.removedNodes,n),t=t&&!fM(i.addedNodes,n);t&&i()}));return s.observe(document,{childList:!0,subtree:!0}),s}const vM=new Map;let yM=0;function bM(){const e=window.devicePixelRatio;e!==yM&&(yM=e,vM.forEach(((t,i)=>{i.currentDevicePixelRatio!==e&&t()})))}function _M(e,t,i){const n=e.canvas,s=n&&HA(n);if(!s)return;const o=TE(((e,t)=>{const n=s.clientWidth;i(e,t),n<s.clientWidth&&i()}),window),r=new ResizeObserver((e=>{const t=e[0],i=t.contentRect.width,n=t.contentRect.height;0===i&&0===n||o(i,n)}));return r.observe(s),function(e,t){vM.size||window.addEventListener("resize",bM),vM.set(e,t)}(e,o),r}function xM(e,t,i){i&&i.disconnect(),"resize"===t&&function(e){vM.delete(e),vM.size||window.removeEventListener("resize",bM)}(e)}function wM(e,t,i){const n=e.canvas,s=TE((t=>{null!==e.ctx&&i(function(e,t){const i=dM[e.type]||e.type,{x:n,y:s}=YA(e,t);return{type:i,chart:t,native:e,x:void 0!==n?n:null,y:void 0!==s?s:null}}(t,e))}),e);return function(e,t,i){e.addEventListener(t,i,hM)}(n,t,s),s}class kM extends aM{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(function(e,t){const i=e.style,n=e.getAttribute("height"),s=e.getAttribute("width");if(e[cM]={initial:{height:n,width:s,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",uM(s)){const t=ZA(e,"width");void 0!==t&&(e.width=t)}if(uM(n))if(""===e.style.height)e.height=e.width/(t||2);else{const t=ZA(e,"height");void 0!==t&&(e.height=t)}}(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[cM])return!1;const i=t[cM].initial;["height","width"].forEach((e=>{const n=i[e];CC(n)?t.removeAttribute(e):t.setAttribute(e,n)}));const n=i.style||{};return Object.keys(n).forEach((e=>{t.style[e]=n[e]})),t.width=t.width,delete t[cM],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const n=e.$proxies||(e.$proxies={}),s={attach:mM,detach:gM,resize:_M}[t]||wM;n[t]=s(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),n=i[t];n&&(({attach:xM,detach:xM,resize:xM}[t]||pM)(e,t,n),i[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,n){return function(e,t,i,n){const s=qA(e),o=WA(s,"margin"),r=VA(s.maxWidth,e,"clientWidth")||QC,a=VA(s.maxHeight,e,"clientHeight")||QC,l=function(e,t,i){let n,s;if(void 0===t||void 0===i){const o=HA(e);if(o){const e=o.getBoundingClientRect(),r=qA(o),a=WA(r,"border","width"),l=WA(r,"padding");t=e.width-l.width-a.width,i=e.height-l.height-a.height,n=VA(r.maxWidth,o,"clientWidth"),s=VA(r.maxHeight,o,"clientHeight")}else t=e.clientWidth,i=e.clientHeight}return{width:t,height:i,maxWidth:n||QC,maxHeight:s||QC}}(e,t,i);let{width:c,height:d}=l;if("content-box"===s.boxSizing){const e=WA(s,"border","width"),t=WA(s,"padding");c-=t.width+e.width,d-=t.height+e.height}return c=Math.max(0,c-o.width),d=Math.max(0,n?c/n:d-o.height),c=XA(Math.min(c,r,l.maxWidth)),d=XA(Math.min(d,a,l.maxHeight)),c&&!d&&(d=XA(c/2)),(void 0!==t||void 0!==i)&&n&&l.height&&d>l.height&&(d=l.height,c=XA(Math.floor(d*n))),{width:c,height:d}}(e,t,i,n)}isAttached(e){const t=HA(e);return!(!t||!t.isConnected)}}class SM{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return rE(this.x)&&rE(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const n={};return e.forEach((e=>{n[e]=i[e]&&i[e].active()?i[e]._to:this[e]})),n}}function TM(e,t,i,n,s){const o=OC(n,0),r=Math.min(OC(s,e.length),e.length);let a,l,c,d=0;for(i=Math.ceil(i),s&&(a=s-n,i=a/Math.floor(a/i)),c=o;c<0;)d++,c=Math.round(o+d*i);for(l=Math.max(o,0);l<r;l++)l===c&&(t.push(e[l]),d++,c=Math.round(o+d*i))}const CM=(e,t,i)=>"top"===t||"left"===t?e[t]+i:e[t]-i,EM=(e,t)=>Math.min(t||e,e);function AM(e,t){const i=[],n=e.length/t,s=e.length;let o=0;for(;o<s;o+=n)i.push(e[Math.floor(o)]);return i}function IM(e,t,i){const n=e.ticks.length,s=Math.min(t,n-1),o=e._startPixel,r=e._endPixel,a=1e-6;let l,c=e.getPixelForTick(s);if(!(i&&(l=1===n?Math.max(c-o,r-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(s-1))/2,c+=s<t?l:-l,c<o-a||c>r+a)))return c}function MM(e){return e.drawTicks?e.tickLength:0}function OM(e,t){if(!e.display)return 0;const i=yA(e.font,t),n=vA(e.padding);return(EC(e.text)?e.text.length:1)*i.lineHeight+n.height}function DM(e,t,i){let n=CE(e);return(i&&"right"!==t||!i&&"right"===t)&&(n=(e=>"left"===e?"right":"right"===e?"left":e)(n)),n}class PM extends SM{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:n}=this;return e=MC(e,Number.POSITIVE_INFINITY),t=MC(t,Number.NEGATIVE_INFINITY),i=MC(i,Number.POSITIVE_INFINITY),n=MC(n,Number.NEGATIVE_INFINITY),{min:MC(e,i),max:MC(t,n),minDefined:IC(e),maxDefined:IC(t)}}getMinMax(e){let t,{min:i,max:n,minDefined:s,maxDefined:o}=this.getUserBounds();if(s&&o)return{min:i,max:n};const r=this.getMatchingVisibleMetas();for(let a=0,l=r.length;a<l;++a)t=r[a].controller.getMinMax(this,e),s||(i=Math.min(i,t.min)),o||(n=Math.max(n,t.max));return i=o&&i>n?n:i,n=s&&i>n?i:n,{min:MC(i,MC(n,i)),max:MC(n,MC(i,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){PC(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:n,grace:s,ticks:o}=this.options,r=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,i){const{min:n,max:s}=e,o=DC(t,(s-n)/2),r=(e,t)=>i&&0===e?0:e+t;return{min:r(n,-Math.abs(o)),max:r(s,o)}}(this,s,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=r<this.ticks.length;this._convertTicksToLabels(a?AM(this.ticks,r):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=function(e,t){const i=e.options.ticks,n=function(e){const t=e.options.offset,i=e._tickSize(),n=e._length/i+(t?0:1),s=e._maxLength/i;return Math.floor(Math.min(n,s))}(e),s=Math.min(i.maxTicksLimit||n,n),o=i.major.enabled?function(e){const t=[];let i,n;for(i=0,n=e.length;i<n;i++)e[i].major&&t.push(i);return t}(t):[],r=o.length,a=o[0],l=o[r-1],c=[];if(r>s)return function(e,t,i,n){let s,o=0,r=i[0];for(n=Math.ceil(n),s=0;s<e.length;s++)s===r&&(t.push(e[s]),o++,r=i[o*n])}(t,c,o,r/s),c;const d=function(e,t,i){const n=function(e){const t=e.length;let i,n;if(t<2)return!1;for(n=e[0],i=1;i<t;++i)if(e[i]-e[i-1]!==n)return!1;return n}(e),s=t.length/i;if(!n)return Math.max(s,1);const o=function(e){const t=[],i=Math.sqrt(e);let n;for(n=1;n<i;n++)e%n==0&&(t.push(n),t.push(e/n));return i===(0|i)&&t.push(i),t.sort(((e,t)=>e-t)).pop(),t}(n);for(let e=0,t=o.length-1;e<t;e++){const t=o[e];if(t>s)return t}return Math.max(s,1)}(o,t,s);if(r>0){let e,i;const n=r>1?Math.round((l-a)/(r-1)):null;for(TM(t,c,d,CC(n)?0:a-n,a),e=0,i=r-1;e<i;e++)TM(t,c,d,o[e],o[e+1]);return TM(t,c,d,l,CC(n)?t.length:l+n),c}return TM(t,c,d),c}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,i=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,i=!i),this._startPixel=e,this._endPixel=t,this._reversePixels=i,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){PC(this.options.afterUpdate,[this])}beforeSetDimensions(){PC(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){PC(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),PC(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){PC(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,n,s;for(i=0,n=e.length;i<n;i++)s=e[i],s.label=PC(t.callback,[s.value,i,e],this)}afterTickToLabelConversion(){PC(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){PC(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=EM(this.ticks.length,e.ticks.maxTicksLimit),n=t.minRotation||0,s=t.maxRotation;let o,r,a,l=n;if(!this._isVisible()||!t.display||n>=s||i<=1||!this.isHorizontal())return void(this.labelRotation=n);const c=this._getLabelSizes(),d=c.widest.width,u=c.highest.height,h=gE(this.chart.width-d,0,this.maxWidth);o=e.offset?this.maxWidth/i:h/(i-1),d+6>o&&(o=h/(i-(e.offset?.5:1)),r=this.maxHeight-MM(e.grid)-t.padding-OM(e.title,this.chart.options.font),a=Math.sqrt(d*d+u*u),l=cE(Math.min(Math.asin(gE((c.highest.height+6)/o,-1,1)),Math.asin(gE(r/a,-1,1))-Math.asin(gE(u/a,-1,1)))),l=Math.max(n,Math.min(s,l))),this.labelRotation=l}afterCalculateLabelRotation(){PC(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){PC(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:n,grid:s}}=this,o=this._isVisible(),r=this.isHorizontal();if(o){const o=OM(n,t.options.font);if(r?(e.width=this.maxWidth,e.height=MM(s)+o):(e.height=this.maxHeight,e.width=MM(s)+o),i.display&&this.ticks.length){const{first:t,last:n,widest:s,highest:o}=this._getLabelSizes(),a=2*i.padding,l=lE(this.labelRotation),c=Math.cos(l),d=Math.sin(l);if(r){const t=i.mirror?0:d*s.width+c*o.height;e.height=Math.min(this.maxHeight,e.height+t+a)}else{const t=i.mirror?0:c*s.width+d*o.height;e.width=Math.min(this.maxWidth,e.width+t+a)}this._calculatePadding(t,n,d,c)}}this._handleMargins(),r?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,n){const{ticks:{align:s,padding:o},position:r}=this.options,a=0!==this.labelRotation,l="top"!==r&&"x"===this.axis;if(this.isHorizontal()){const r=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,u=0;a?l?(d=n*e.width,u=i*t.height):(d=i*e.height,u=n*t.width):"start"===s?u=t.width:"end"===s?d=e.width:"inner"!==s&&(d=e.width/2,u=t.width/2),this.paddingLeft=Math.max((d-r+o)*this.width/(this.width-r),0),this.paddingRight=Math.max((u-c+o)*this.width/(this.width-c),0)}else{let i=t.height/2,n=e.height/2;"start"===s?(i=0,n=e.height):"end"===s&&(i=t.height,n=0),this.paddingTop=i+o,this.paddingBottom=n+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){PC(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,i=e.length;t<i;t++)CC(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=AM(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:n,_longestTextCache:s}=this,o=[],r=[],a=Math.floor(t/EM(t,i));let l,c,d,u,h,p,f,m,g,v,y,b=0,_=0;for(l=0;l<t;l+=a){if(u=e[l].label,h=this._resolveTickFontOptions(l),n.font=p=h.string,f=s[p]=s[p]||{data:{},gc:[]},m=h.lineHeight,g=v=0,CC(u)||EC(u)){if(EC(u))for(c=0,d=u.length;c<d;++c)y=u[c],CC(y)||EC(y)||(g=XE(n,f.data,f.gc,g,y),v+=m)}else g=XE(n,f.data,f.gc,g,u),v=m;o.push(g),r.push(v),b=Math.max(g,b),_=Math.max(v,_)}!function(e,t){LC(e,(e=>{const i=e.gc,n=i.length/2;let s;if(n>t){for(s=0;s<n;++s)delete e.data[i[s]];i.splice(0,n)}}))}(s,t);const x=o.indexOf(b),w=r.indexOf(_),k=e=>({width:o[e]||0,height:r[e]||0});return{first:k(0),last:k(t-1),widest:k(x),highest:k(w),widths:o,heights:r}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return gE(this._alignToPixels?QE(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=function(e,t,i){return _A(e,{tick:i,index:t,type:"tick"})}(this.getContext(),e,i))}return this.$context||(this.$context=_A(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=lE(this.labelRotation),i=Math.abs(Math.cos(t)),n=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,r=s?s.widest.width+o:0,a=s?s.highest.height+o:0;return this.isHorizontal()?a*i>r*n?r/i:a/n:a*n<r*i?a/i:r/n}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,n=this.options,{grid:s,position:o,border:r}=n,a=s.offset,l=this.isHorizontal(),c=this.ticks.length+(a?1:0),d=MM(s),u=[],h=r.setContext(this.getContext()),p=h.display?h.width:0,f=p/2,m=function(e){return QE(i,e,p)};let g,v,y,b,_,x,w,k,S,T,C,E;if("top"===o)g=m(this.bottom),x=this.bottom-d,k=g-f,T=m(e.top)+f,E=e.bottom;else if("bottom"===o)g=m(this.top),T=e.top,E=m(e.bottom)-f,x=g+f,k=this.top+d;else if("left"===o)g=m(this.right),_=this.right-d,w=g-f,S=m(e.left)+f,C=e.right;else if("right"===o)g=m(this.left),S=e.left,C=m(e.right)-f,_=g+f,w=this.left+d;else if("x"===t){if("center"===o)g=m((e.top+e.bottom)/2+.5);else if(AC(o)){const e=Object.keys(o)[0],t=o[e];g=m(this.chart.scales[e].getPixelForValue(t))}T=e.top,E=e.bottom,x=g+f,k=x+d}else if("y"===t){if("center"===o)g=m((e.left+e.right)/2);else if(AC(o)){const e=Object.keys(o)[0],t=o[e];g=m(this.chart.scales[e].getPixelForValue(t))}_=g-f,w=_-d,S=e.left,C=e.right}const A=OC(n.ticks.maxTicksLimit,c),I=Math.max(1,Math.ceil(c/A));for(v=0;v<c;v+=I){const e=this.getContext(v),t=s.setContext(e),n=r.setContext(e),o=t.lineWidth,c=t.color,d=n.dash||[],h=n.dashOffset,p=t.tickWidth,f=t.tickColor,m=t.tickBorderDash||[],g=t.tickBorderDashOffset;y=IM(this,v,a),void 0!==y&&(b=QE(i,y,o),l?_=w=S=C=b:x=k=T=E=b,u.push({tx1:_,ty1:x,tx2:w,ty2:k,x1:S,y1:T,x2:C,y2:E,width:o,color:c,borderDash:d,borderDashOffset:h,tickWidth:p,tickColor:f,tickBorderDash:m,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,u}_computeLabelItems(e){const t=this.axis,i=this.options,{position:n,ticks:s}=i,o=this.isHorizontal(),r=this.ticks,{align:a,crossAlign:l,padding:c,mirror:d}=s,u=MM(i.grid),h=u+c,p=d?-c:h,f=-lE(this.labelRotation),m=[];let g,v,y,b,_,x,w,k,S,T,C,E,A="middle";if("top"===n)x=this.bottom-p,w=this._getXAxisLabelAlignment();else if("bottom"===n)x=this.top+p,w=this._getXAxisLabelAlignment();else if("left"===n){const e=this._getYAxisLabelAlignment(u);w=e.textAlign,_=e.x}else if("right"===n){const e=this._getYAxisLabelAlignment(u);w=e.textAlign,_=e.x}else if("x"===t){if("center"===n)x=(e.top+e.bottom)/2+h;else if(AC(n)){const e=Object.keys(n)[0],t=n[e];x=this.chart.scales[e].getPixelForValue(t)+h}w=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===n)_=(e.left+e.right)/2-h;else if(AC(n)){const e=Object.keys(n)[0],t=n[e];_=this.chart.scales[e].getPixelForValue(t)}w=this._getYAxisLabelAlignment(u).textAlign}"y"===t&&("start"===a?A="top":"end"===a&&(A="bottom"));const I=this._getLabelSizes();for(g=0,v=r.length;g<v;++g){y=r[g],b=y.label;const e=s.setContext(this.getContext(g));k=this.getPixelForTick(g)+s.labelOffset,S=this._resolveTickFontOptions(g),T=S.lineHeight,C=EC(b)?b.length:1;const t=C/2,i=e.color,a=e.textStrokeColor,c=e.textStrokeWidth;let u,h=w;if(o?(_=k,"inner"===w&&(h=g===v-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),E="top"===n?"near"===l||0!==f?-C*T+T/2:"center"===l?-I.highest.height/2-t*T+T:-I.highest.height+T/2:"near"===l||0!==f?T/2:"center"===l?I.highest.height/2-t*T:I.highest.height-C*T,d&&(E*=-1),0===f||e.showLabelBackdrop||(_+=T/2*Math.sin(f))):(x=k,E=(1-C)*T/2),e.showLabelBackdrop){const t=vA(e.backdropPadding),i=I.heights[g],n=I.widths[g];let s=E-t.top,o=0-t.left;switch(A){case"middle":s-=i/2;break;case"bottom":s-=i}switch(w){case"center":o-=n/2;break;case"right":o-=n}u={left:o,top:s,width:n+t.width,height:i+t.height,color:e.backdropColor}}m.push({label:b,font:S,textOffset:E,options:{rotation:f,color:i,strokeColor:a,strokeWidth:c,textAlign:h,textBaseline:A,translation:[_,x],backdrop:u}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-lE(this.labelRotation))return"top"===e?"left":"right";let i="center";return"start"===t.align?i="left":"end"===t.align?i="right":"inner"===t.align&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:n,padding:s}}=this.options,o=e+s,r=this._getLabelSizes().widest.width;let a,l;return"left"===t?n?(l=this.right+s,"near"===i?a="left":"center"===i?(a="center",l+=r/2):(a="right",l+=r)):(l=this.right-o,"near"===i?a="right":"center"===i?(a="center",l-=r/2):(a="left",l=this.left)):"right"===t?n?(l=this.left+s,"near"===i?a="right":"center"===i?(a="center",l-=r/2):(a="left",l-=r)):(l=this.left+o,"near"===i?a="left":"center"===i?(a="center",l+=r/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:n,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,n,s,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex((t=>t.value===e));return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const r=(e,t,n)=>{n.width&&n.color&&(i.save(),i.lineWidth=n.width,i.strokeStyle=n.color,i.setLineDash(n.borderDash||[]),i.lineDashOffset=n.borderDashOffset,i.beginPath(),i.moveTo(e.x,e.y),i.lineTo(t.x,t.y),i.stroke(),i.restore())};if(t.display)for(s=0,o=n.length;s<o;++s){const e=n[s];t.drawOnChartArea&&r({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&r({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:n}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const r=n.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,d,u;this.isHorizontal()?(l=QE(e,this.left,o)-o/2,c=QE(e,this.right,r)+r/2,d=u=a):(d=QE(e,this.top,o)-o/2,u=QE(e,this.bottom,r)+r/2,l=c=a),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(l,d),t.lineTo(c,u),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,i=this._computeLabelArea();i&&iA(t,i);const n=this.getLabelItems(e);for(const e of n){const i=e.options,n=e.font;lA(t,e.label,0,e.textOffset,n,i)}i&&nA(t)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:n}}=this;if(!i.display)return;const s=yA(i.font),o=vA(i.padding),r=i.align;let a=s.lineHeight/2;"bottom"===t||"center"===t||AC(t)?(a+=o.bottom,EC(i.text)&&(a+=s.lineHeight*(i.text.length-1))):a+=o.top;const{titleX:l,titleY:c,maxWidth:d,rotation:u}=function(e,t,i,n){const{top:s,left:o,bottom:r,right:a,chart:l}=e,{chartArea:c,scales:d}=l;let u,h,p,f=0;const m=r-s,g=a-o;if(e.isHorizontal()){if(h=EE(n,o,a),AC(i)){const e=Object.keys(i)[0],n=i[e];p=d[e].getPixelForValue(n)+m-t}else p="center"===i?(c.bottom+c.top)/2+m-t:CM(e,i,t);u=a-o}else{if(AC(i)){const e=Object.keys(i)[0],n=i[e];h=d[e].getPixelForValue(n)-g+t}else h="center"===i?(c.left+c.right)/2-g+t:CM(e,i,t);p=EE(n,r,s),f="left"===i?-JC:JC}return{titleX:h,titleY:p,maxWidth:u,rotation:f}}(this,a,t,r);lA(e,i.text,0,0,s,{color:i.color,maxWidth:d,rotation:u,textAlign:DM(r,t,n),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=OC(e.grid&&e.grid.z,-1),n=OC(e.border&&e.border.z,0);return this._isVisible()&&this.draw===PM.prototype.draw?[{z:i,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",n=[];let s,o;for(s=0,o=t.length;s<o;++s){const o=t[s];o[i]!==this.id||e&&o.type!==e||n.push(o)}return n}_resolveTickFontOptions(e){return yA(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class LM{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;(function(e){return"id"in e&&"defaults"in e})(t)&&(i=this.register(t));const n=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in n||(n[s]=e,function(e,t,i){const n=UC(Object.create(null),[i?YE.get(i):{},YE.get(t),e.defaults]);YE.set(t,n),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((i=>{const n=i.split("."),s=n.pop(),o=[e].concat(n).join("."),r=t[i].split("."),a=r.pop(),l=r.join(".");YE.route(o,s,l,a)}))}(t,e.defaultRoutes),e.descriptors&&YE.describe(t,e.descriptors)}(e,o,i),this.override&&YE.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,n=this.scope;i in t&&delete t[i],n&&i in YE[n]&&(delete YE[n][i],this.override&&delete VE[i])}}class jM{constructor(){this.controllers=new LM(AI,"datasets",!0),this.elements=new LM(SM,"elements"),this.plugins=new LM(Object,"plugins"),this.scales=new LM(PM,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach((t=>{const n=i||this._getRegistryForType(t);i||n.isForType(t)||n===this.plugins&&t.id?this._exec(e,n,t):LC(t,(t=>{const n=i||this._getRegistryForType(t);this._exec(e,n,t)}))}))}_exec(e,t,i){const n=qC(e);PC(i["before"+n],[],i),t[e](i),PC(i["after"+n],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const n=t.get(e);if(void 0===n)throw new Error('"'+e+'" is not a registered '+i+".");return n}}var BM=new jM;class RM{constructor(){this._init=[]}notify(e,t,i,n){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=n?this._descriptors(e).filter(n):this._descriptors(e),o=this._notify(s,e,t,i);return"afterDestroy"===t&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,i,n){n=n||{};for(const s of e){const e=s.plugin;if(!1===PC(e[i],[t,n,s.options],e)&&n.cancelable)return!1}return!0}invalidate(){CC(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,n=OC(i.options&&i.options.plugins,{}),s=function(e){const t={},i=[],n=Object.keys(BM.plugins.items);for(let e=0;e<n.length;e++)i.push(BM.getPlugin(n[e]));const s=e.plugins||[];for(let e=0;e<s.length;e++){const n=s[e];-1===i.indexOf(n)&&(i.push(n),t[n.id]=!0)}return{plugins:i,localIds:t}}(i);return!1!==n||t?function(e,{plugins:t,localIds:i},n,s){const o=[],r=e.getContext();for(const a of t){const t=a.id,l=NM(n[t],s);null!==l&&o.push({plugin:a,options:UM(e.config,{plugin:a,local:i[t]},l,r)})}return o}(e,s,n,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,n=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(n(t,i),e,"stop"),this._notify(n(i,t),e,"start")}}function NM(e,t){return t||!1!==e?!0===e?{}:e:null}function UM(e,{plugin:t,local:i},n,s){const o=e.pluginScopeKeys(t),r=e.getOptionScopes(n,o);return i&&t.defaults&&r.push(t.defaults),e.createResolver(r,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function FM(e,t){const i=YE.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||i.indexAxis||"x"}function zM(e){if("x"===e||"y"===e||"r"===e)return e}function HM(e,...t){if(zM(e))return e;for(const n of t){const t=n.axis||("top"===(i=n.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||e.length>1&&zM(e[0].toLowerCase());if(t)return t}var i;throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function VM(e,t,i){if(i[t+"AxisID"]===e)return{axis:t}}function qM(e){const t=e.options||(e.options={});t.plugins=OC(t.plugins,{}),t.scales=function(e,t){const i=VE[e.type]||{scales:{}},n=t.scales||{},s=FM(e.type,t),o=Object.create(null);return Object.keys(n).forEach((t=>{const r=n[t];if(!AC(r))return console.error(`Invalid scale configuration for scale: ${t}`);if(r._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const a=HM(t,r,function(e,t){if(t.data&&t.data.datasets){const i=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(i.length)return VM(e,"x",i[0])||VM(e,"y",i[0])}return{}}(t,e),YE.scales[r.type]),l=function(e,t){return e===t?"_index_":"_value_"}(a,s),c=i.scales||{};o[t]=FC(Object.create(null),[{axis:a},r,c[a],c[l]])})),e.data.datasets.forEach((i=>{const s=i.type||e.type,r=i.indexAxis||FM(s,t),a=(VE[s]||{}).scales||{};Object.keys(a).forEach((e=>{const t=function(e,t){let i=e;return"_index_"===e?i=t:"_value_"===e&&(i="x"===t?"y":"x"),i}(e,r),s=i[t+"AxisID"]||t;o[s]=o[s]||Object.create(null),FC(o[s],[{axis:t},n[s],a[e]])}))})),Object.keys(o).forEach((e=>{const t=o[e];FC(t,[YE.scales[t.type],YE.scale])})),o}(e,t)}function $M(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const WM=new Map,GM=new Set;function YM(e,t){let i=WM.get(e);return i||(i=t(),WM.set(e,i),GM.add(i)),i}const XM=(e,t,i)=>{const n=VC(t,i);void 0!==n&&e.add(n)};class KM{constructor(e){this._config=function(e){return(e=e||{}).data=$M(e.data),qM(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=$M(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),qM(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return YM(e,(()=>[[`datasets.${e}`,""]]))}datasetAnimationScopeKeys(e,t){return YM(`${e}.transition.${t}`,(()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]]))}datasetElementScopeKeys(e,t){return YM(`${e}-${t}`,(()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]]))}pluginScopeKeys(e){const t=e.id;return YM(`${this.type}-plugin-${t}`,(()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const i=this._scopeCache;let n=i.get(e);return n&&!t||(n=new Map,i.set(e,n)),n}getOptionScopes(e,t,i){const{options:n,type:s}=this,o=this._cachedScopes(e,i),r=o.get(t);if(r)return r;const a=new Set;t.forEach((t=>{e&&(a.add(e),t.forEach((t=>XM(a,e,t)))),t.forEach((e=>XM(a,n,e))),t.forEach((e=>XM(a,VE[s]||{},e))),t.forEach((e=>XM(a,YE,e))),t.forEach((e=>XM(a,qE,e)))}));const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),GM.has(t)&&o.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,VE[t]||{},YE.datasets[t]||{},{type:t},YE,qE]}resolveNamedOptions(e,t,i,n=[""]){const s={$shared:!0},{resolver:o,subPrefixes:r}=QM(this._resolverCache,e,n);let a=o;(function(e,t){const{isScriptable:i,isIndexable:n}=kA(e);for(const s of t){const t=i(s),o=n(s),r=(o||t)&&e[s];if(t&&(WC(r)||ZM(r))||o&&EC(r))return!0}return!1})(o,t)&&(s.$shared=!1,a=wA(o,i=WC(i)?i():i,this.createResolver(e,i,r)));for(const e of t)s[e]=a[e];return s}createResolver(e,t,i=[""],n){const{resolver:s}=QM(this._resolverCache,e,i);return AC(t)?wA(s,t,void 0,n):s}}function QM(e,t,i){let n=e.get(t);n||(n=new Map,e.set(t,n));const s=i.join();let o=n.get(s);return o||(o={resolver:xA(t,i),subPrefixes:i.filter((e=>!e.toLowerCase().includes("hover")))},n.set(s,o)),o}const ZM=e=>AC(e)&&Object.getOwnPropertyNames(e).reduce(((t,i)=>t||WC(e[i])),!1),JM=["top","bottom","left","right","chartArea"];function eO(e,t){return"top"===e||"bottom"===e||-1===JM.indexOf(e)&&"x"===t}function tO(e,t){return function(i,n){return i[e]===n[e]?i[t]-n[t]:i[e]-n[e]}}function iO(e){const t=e.chart,i=t.options.animation;t.notifyPlugins("afterRender"),PC(i&&i.onComplete,[e],t)}function nO(e){const t=e.chart,i=t.options.animation;PC(i&&i.onProgress,[e],t)}function sO(e){return zA()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const oO={},rO=e=>{const t=sO(e);return Object.values(oO).filter((e=>e.canvas===t)).pop()};function aO(e,t,i){const n=Object.keys(e);for(const s of n){const n=+s;if(n>=t){const o=e[s];delete e[s],(i>0||n>t)&&(e[n+i]=o)}}}function lO(e,t,i){return e.options.clip?e[i]:t[i]}class cO{static defaults=YE;static instances=oO;static overrides=VE;static registry=BM;static version="4.4.0";static getChart=rO;static register(...e){BM.add(...e),dO()}static unregister(...e){BM.remove(...e),dO()}constructor(e,t){const i=this.config=new KM(t),n=sO(e),s=rO(n);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function(e){return!zA()||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?lM:kM}(n)),this.platform.updateConfig(i);const r=this.platform.acquireContext(n,o.aspectRatio),a=r&&r.canvas,l=a&&a.height,c=a&&a.width;this.id=TC(),this.ctx=r,this.canvas=a,this.width=c,this.height=l,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new RM,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let i;return function(...n){return t?(clearTimeout(i),i=setTimeout(e,t,n)):e.apply(this,n),t}}((e=>this.update(e)),o.resizeDelay||0),this._dataChanges=[],oO[this.id]=this,r&&a?(hI.listen(this,"complete",iO),hI.listen(this,"progress",nO),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:n,_aspectRatio:s}=this;return CC(e)?t&&s?s:n?i/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return BM}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():KA(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ZE(this.canvas,this.ctx),this}stop(){return hI.stop(this),this}resize(e,t){hI.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,n=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(n,e,t,s),r=i.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,KA(this,r,!0)&&(this.notifyPlugins("resize",{size:o}),PC(i.onResize,[this,o],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){LC(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,n=Object.keys(i).reduce(((e,t)=>(e[t]=!1,e)),{});let s=[];t&&(s=s.concat(Object.keys(t).map((e=>{const i=t[e],n=HM(e,i),s="r"===n,o="x"===n;return{options:i,dposition:s?"chartArea":o?"bottom":"left",dtype:s?"radialLinear":o?"category":"linear"}})))),LC(s,(t=>{const s=t.options,o=s.id,r=HM(o,s),a=OC(s.type,t.dtype);void 0!==s.position&&eO(s.position,r)===eO(t.dposition)||(s.position=t.dposition),n[o]=!0;let l=null;o in i&&i[o].type===a?l=i[o]:(l=new(BM.getScale(a))({id:o,type:a,ctx:this.ctx,chart:this}),i[l.id]=l),l.init(s,e)})),LC(n,((e,t)=>{e||delete i[t]})),LC(i,(e=>{rM.configure(this,e,e.options),rM.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort(((e,t)=>e.index-t.index)),i>t){for(let e=t;e<i;++e)this._destroyDatasetMeta(e);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(tO("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,i)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(i)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,n;for(this._removeUnreferencedMetasets(),i=0,n=t.length;i<n;i++){const n=t[i];let s=this.getDatasetMeta(i);const o=n.type||this.config.type;if(s.type&&s.type!==o&&(this._destroyDatasetMeta(i),s=this.getDatasetMeta(i)),s.type=o,s.indexAxis=n.indexAxis||FM(o,this.options),s.order=n.order||0,s.index=i,s.label=""+n.label,s.visible=this.isDatasetVisible(i),s.controller)s.controller.updateIndex(i),s.controller.linkScales();else{const t=BM.getController(o),{datasetElementType:n,dataElementType:r}=YE.datasets[o];Object.assign(t,{dataElementType:BM.getElement(r),datasetElementType:n&&BM.getElement(n)}),s.controller=new t(this,i),e.push(s.controller)}}return this._updateMetasets(),e}_resetElements(){LC(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let e=0,t=this.data.datasets.length;e<t;e++){const{controller:t}=this.getDatasetMeta(e),i=!n&&-1===s.indexOf(t);t.buildOrUpdateElements(i),o=Math.max(+t.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),n||LC(s,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(tO("z","_idx"));const{_active:r,_lastEvent:a}=this;a?this._eventHandler(a,!0):r.length&&this._updateHoverStyles(r,r,!0),this.render()}_updateScales(){LC(this.scales,(e=>{rM.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);GC(t,i)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:n,count:s}of t)aO(e,n,"_removeElements"===i?-s:s)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),n=i(0);for(let e=1;e<t;e++)if(!GC(n,i(e)))return;return Array.from(n).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;rM.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],LC(this.boxes,(e=>{i&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,WC(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),n={meta:i,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",n)&&(i.controller._update(t),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(hI.has(this)?this.attached&&!hI.running(this)&&hI.start(this):(this.draw(),iO({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resize(e,t),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let n,s;for(n=0,s=t.length;n<s;++n){const s=t[n];e&&!s.visible||i.push(s)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i=e._clip,n=!i.disabled,s=function(e,t){const{xScale:i,yScale:n}=e;return i&&n?{left:lO(i,t,"left"),right:lO(i,t,"right"),top:lO(n,t,"top"),bottom:lO(n,t,"bottom")}:t}(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(n&&iA(t,{left:!1===i.left?0:s.left-i.left,right:!1===i.right?this.width:s.right+i.right,top:!1===i.top?0:s.top-i.top,bottom:!1===i.bottom?this.height:s.bottom+i.bottom}),e.controller.draw(),n&&nA(t),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return tA(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,n){const s=YI.modes[t];return"function"==typeof s?s(this,e,i,n):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let n=i.filter((e=>e&&e._dataset===t)).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(n)),n}getContext(){return this.$context||(this.$context=_A(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return"boolean"==typeof i.hidden?!i.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const n=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,n);$C(t)?(s.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update((t=>t.datasetIndex===e?n:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),hI.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),ZE(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete oO[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(i,n)=>{t.addEventListener(this,i,n),e[i]=n},n=(e,t,i)=>{e.offsetX=t,e.offsetY=i,this._eventHandler(e)};LC(this.options.events,(e=>i(e,n)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(i,n)=>{t.addEventListener(this,i,n),e[i]=n},n=(i,n)=>{e[i]&&(t.removeEventListener(this,i,n),delete e[i])},s=(e,t)=>{this.canvas&&this.resize(e,t)};let o;const r=()=>{n("attach",r),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,n("resize",s),this._stop(),this._resize(0,0),i("attach",r)},t.isAttached(this.canvas)?r():o()}unbindEvents(){LC(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},LC(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const n=i?"set":"remove";let s,o,r,a;for("dataset"===t&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+n+"DatasetHoverStyle"]()),r=0,a=e.length;r<a;++r){o=e[r];const t=o&&this.getDatasetMeta(o.datasetIndex).controller;t&&t[n+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map((({datasetIndex:e,index:t})=>{const i=this.getDatasetMeta(e);if(!i)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:i.data[t],index:t}}));!jC(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,i){const n=this.options.hover,s=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),o=s(t,e),r=i?e:s(e,t);o.length&&this.updateHoverStyle(o,n.mode,!1),r.length&&n.mode&&this.updateHoverStyle(r,n.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},n=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",i,n))return;const s=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,n),(s||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:n=[],options:s}=this,o=t,r=this._getActiveElements(e,n,i,o),a=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,i,n){return i&&"mouseout"!==e.type?n?t:e:null}(e,this._lastEvent,i,a);i&&(this._lastEvent=null,PC(s.onHover,[e,r,this],this),a&&PC(s.onClick,[e,r,this],this));const c=!jC(r,n);return(c||t)&&(this._active=r,this._updateHoverStyles(r,n,t)),this._lastEvent=l,c}_getActiveElements(e,t,i,n){if("mouseout"===e.type)return[];if(!i)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,n)}}function dO(){return LC(cO.instances,(e=>e._plugins.invalidate()))}function uO(e,t,i,n){return{x:i+e*Math.cos(t),y:n+e*Math.sin(t)}}function hO(e,t,i,n,s,o){const{x:r,y:a,startAngle:l,pixelMargin:c,innerRadius:d}=t,u=Math.max(t.outerRadius+n+i-c,0),h=d>0?d+n+i+c:0;let p=0;const f=s-l;if(n){const e=((d>0?d-n:0)+(u>0?u-n:0))/2;p=(f-(0!==e?f*e/(e+n):f))/2}const m=(f-Math.max(.001,f*u-i/YC)/u)/2,g=l+m+p,v=s-m-p,{outerStart:y,outerEnd:b,innerStart:_,innerEnd:x}=function(e,t,i,n){const s=fA(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),o=(i-t)/2,r=Math.min(o,n*t/2),a=e=>{const t=(i-Math.min(o,e))*n/2;return gE(e,0,Math.min(o,t))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:gE(s.innerStart,0,r),innerEnd:gE(s.innerEnd,0,r)}}(t,h,u,v-g),w=u-y,k=u-b,S=g+y/w,T=v-b/k,C=h+_,E=h+x,A=g+_/C,I=v-x/E;if(e.beginPath(),o){const t=(S+T)/2;if(e.arc(r,a,u,S,t),e.arc(r,a,u,t,T),b>0){const t=uO(k,T,r,a);e.arc(t.x,t.y,b,T,v+JC)}const i=uO(E,v,r,a);if(e.lineTo(i.x,i.y),x>0){const t=uO(E,I,r,a);e.arc(t.x,t.y,x,v+JC,I+Math.PI)}const n=(v-x/h+(g+_/h))/2;if(e.arc(r,a,h,v-x/h,n,!0),e.arc(r,a,h,n,g+_/h,!0),_>0){const t=uO(C,A,r,a);e.arc(t.x,t.y,_,A+Math.PI,g-JC)}const s=uO(w,g,r,a);if(e.lineTo(s.x,s.y),y>0){const t=uO(w,S,r,a);e.arc(t.x,t.y,y,g-JC,S)}}else{e.moveTo(r,a);const t=Math.cos(S)*u+r,i=Math.sin(S)*u+a;e.lineTo(t,i);const n=Math.cos(T)*u+r,s=Math.sin(T)*u+a;e.lineTo(n,s)}e.closePath()}function pO(e,t,i=t){e.lineCap=OC(i.borderCapStyle,t.borderCapStyle),e.setLineDash(OC(i.borderDash,t.borderDash)),e.lineDashOffset=OC(i.borderDashOffset,t.borderDashOffset),e.lineJoin=OC(i.borderJoinStyle,t.borderJoinStyle),e.lineWidth=OC(i.borderWidth,t.borderWidth),e.strokeStyle=OC(i.borderColor,t.borderColor)}function fO(e,t,i){e.lineTo(i.x,i.y)}function mO(e,t,i={}){const n=e.length,{start:s=0,end:o=n-1}=i,{start:r,end:a}=t,l=Math.max(s,r),c=Math.min(o,a),d=s<r&&o<r||s>a&&o>a;return{count:n,start:l,loop:t.loop,ilen:c<l&&!d?n+c-l:c-l}}function gO(e,t,i,n){const{points:s,options:o}=t,{count:r,start:a,loop:l,ilen:c}=mO(s,i,n),d=function(e){return e.stepped?sA:e.tension||"monotone"===e.cubicInterpolationMode?oA:fO}(o);let u,h,p,{move:f=!0,reverse:m}=n||{};for(u=0;u<=c;++u)h=s[(a+(m?c-u:u))%r],h.skip||(f?(e.moveTo(h.x,h.y),f=!1):d(e,p,h,m,o.stepped),p=h);return l&&(h=s[(a+(m?c:0))%r],d(e,p,h,m,o.stepped)),!!l}function vO(e,t,i,n){const s=t.points,{count:o,start:r,ilen:a}=mO(s,i,n),{move:l=!0,reverse:c}=n||{};let d,u,h,p,f,m,g=0,v=0;const y=e=>(r+(c?a-e:e))%o,b=()=>{p!==f&&(e.lineTo(g,f),e.lineTo(g,p),e.lineTo(g,m))};for(l&&(u=s[y(0)],e.moveTo(u.x,u.y)),d=0;d<=a;++d){if(u=s[y(d)],u.skip)continue;const t=u.x,i=u.y,n=0|t;n===h?(i<p?p=i:i>f&&(f=i),g=(v*g+t)/++v):(b(),e.lineTo(t,i),h=n,v=0,p=f=i),m=i}b()}function yO(e){const t=e.options,i=t.borderDash&&t.borderDash.length;return e._decimated||e._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||i?gO:vO}const bO="function"==typeof Path2D;class _O extends SM{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||"monotone"===i.cubicInterpolationMode)&&!i.stepped&&!this._pointsUpdated){const n=i.spanGaps?this._loop:this._fullLoop;FA(this._points,i,e,n,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const i=e.points,n=e.options.spanGaps,s=i.length;if(!s)return[];const o=!!e._loop,{start:r,end:a}=function(e,t,i,n){let s=0,o=t-1;if(i&&!n)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,i&&(o+=s);o>s&&e[o%t].skip;)o--;return o%=t,{start:s,end:o}}(i,s,o,n);return function(e,t,i,n){return n&&n.setContext&&i?function(e,t,i,n){const s=e._chart.getContext(),o=cI(e.options),{_datasetIndex:r,options:{spanGaps:a}}=e,l=i.length,c=[];let d=o,u=t[0].start,h=u;function p(e,t,n,s){const o=a?-1:1;if(e!==t){for(e+=l;i[e%l].skip;)e-=o;for(;i[t%l].skip;)t+=o;e%l!=t%l&&(c.push({start:e%l,end:t%l,loop:n,style:s}),d=s,u=t%l)}}for(const e of t){u=a?u:e.start;let t,o=i[u%l];for(h=u+1;h<=e.end;h++){const a=i[h%l];t=cI(n.setContext(_A(s,{type:"segment",p0:o,p1:a,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:r}))),dI(t,d)&&p(u,h-1,e.loop,d),o=a,d=t}u<h-1&&p(u,h-1,e.loop,d)}return c}(e,t,i,n):t}(e,!0===n?[{start:r,end:a,loop:o}]:function(e,t,i,n){const s=e.length,o=[];let r,a=t,l=e[t];for(r=t+1;r<=i;++r){const i=e[r%s];i.skip||i.stop?l.skip||(n=!1,o.push({start:t%s,end:(r-1)%s,loop:n}),t=a=i.stop?r:null):(a=r,l.skip&&(t=r)),l=i}return null!==a&&o.push({start:t%s,end:a%s,loop:n}),o}(i,r,a<r?a+s:a,!!e._fullLoop&&0===r&&a===s-1),i,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,n=e[t],s=this.points,o=lI(this,{property:t,start:n,end:n});if(!o.length)return;const r=[],a=function(e){return e.stepped?eI:e.tension||"monotone"===e.cubicInterpolationMode?tI:JA}(i);let l,c;for(l=0,c=o.length;l<c;++l){const{start:c,end:d}=o[l],u=s[c],h=s[d];if(u===h){r.push(u);continue}const p=a(u,h,Math.abs((n-u[t])/(h[t]-u[t])),i.stepped);p[t]=e[t],r.push(p)}return 1===r.length?r[0]:r}pathSegment(e,t,i){return yO(this)(e,this,t,i)}path(e,t,i){const n=this.segments,s=yO(this);let o=this._loop;t=t||0,i=i||this.points.length-t;for(const r of n)o&=s(e,this,r,{start:t,end:t+i-1});return!!o}draw(e,t,i,n){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),function(e,t,i,n){bO&&!t.options.segment?function(e,t,i,n){let s=t._path;s||(s=t._path=new Path2D,t.path(s,i,n)&&s.closePath()),pO(e,t.options),e.stroke(s)}(e,t,i,n):function(e,t,i,n){const{segments:s,options:o}=t,r=yO(t);for(const a of s)pO(e,o,a.style),e.beginPath(),r(e,t,a,{start:i,end:i+n-1})&&e.closePath(),e.stroke()}(e,t,i,n)}(e,this,i,n),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function xO(e,t,i,n){const s=e.options,{[i]:o}=e.getProps([i],n);return Math.abs(t-o)<s.radius+s.hitRadius}function wO(e,t){const{x:i,y:n,base:s,width:o,height:r}=e.getProps(["x","y","base","width","height"],t);let a,l,c,d,u;return e.horizontal?(u=r/2,a=Math.min(i,s),l=Math.max(i,s),c=n-u,d=n+u):(u=o/2,a=i-u,l=i+u,c=Math.min(n,s),d=Math.max(n,s)),{left:a,top:c,right:l,bottom:d}}function kO(e,t,i,n){return e?0:gE(t,i,n)}function SO(e,t,i,n){const s=null===t,o=null===i,r=e&&!(s&&o)&&wO(e,n);return r&&(s||vE(t,r.left,r.right))&&(o||vE(i,r.top,r.bottom))}function TO(e,t){e.rect(t.x,t.y,t.w,t.h)}function CO(e,t,i={}){const n=e.x!==i.x?-t:0,s=e.y!==i.y?-t:0,o=(e.x+e.w!==i.x+i.w?t:0)-n,r=(e.y+e.h!==i.y+i.h?t:0)-s;return{x:e.x+n,y:e.y+s,w:e.w+o,h:e.h+r,radius:e.radius}}var EO=Object.freeze({__proto__:null,ArcElement:class extends SM{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,i){const n=this.getProps(["x","y"],i),{angle:s,distance:o}=uE(n,{x:e,y:t}),{startAngle:r,endAngle:a,innerRadius:l,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),u=(this.options.spacing+this.options.borderWidth)/2,h=OC(d,a-r)>=XC||mE(s,r,a),p=vE(o,l+u,c+u);return h&&p}getCenterPoint(e){const{x:t,y:i,startAngle:n,endAngle:s,innerRadius:o,outerRadius:r}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:a,spacing:l}=this.options,c=(n+s)/2,d=(o+r+l+a)/2;return{x:t+Math.cos(c)*d,y:i+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:i}=this,n=(t.offset||0)/4,s=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=i>XC?Math.floor(i/XC):0,0===i||this.innerRadius<0||this.outerRadius<0)return;e.save();const r=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(r)*n,Math.sin(r)*n);const a=n*(1-Math.sin(Math.min(YC,i||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,i,n,s){const{fullCircles:o,startAngle:r,circumference:a}=t;let l=t.endAngle;if(o){hO(e,t,i,n,l,s);for(let t=0;t<o;++t)e.fill();isNaN(a)||(l=r+(a%XC||XC))}hO(e,t,i,n,l,s),e.fill()}(e,this,a,s,o),function(e,t,i,n,s){const{fullCircles:o,startAngle:r,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:u,borderDashOffset:h}=l,p="inner"===l.borderAlign;if(!c)return;e.setLineDash(u||[]),e.lineDashOffset=h,p?(e.lineWidth=2*c,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let f=t.endAngle;if(o){hO(e,t,i,n,f,s);for(let t=0;t<o;++t)e.stroke();isNaN(a)||(f=r+(a%XC||XC))}p&&function(e,t,i){const{startAngle:n,pixelMargin:s,x:o,y:r,outerRadius:a,innerRadius:l}=t;let c=s/a;e.beginPath(),e.arc(o,r,a,n-c,i+c),l>s?(c=s/l,e.arc(o,r,l,i+c,n-c,!0)):e.arc(o,r,s,i+JC,n-JC),e.closePath(),e.clip()}(e,t,f),o||(hO(e,t,i,n,f,s),e.stroke())}(e,this,a,s,o),e.restore()}},BarElement:class extends SM{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:n}}=this,{inner:s,outer:o}=function(e){const t=wO(e),i=t.right-t.left,n=t.bottom-t.top,s=function(e,t,i){const n=e.options.borderWidth,s=e.borderSkipped,o=mA(n);return{t:kO(s.top,o.top,0,i),r:kO(s.right,o.right,0,t),b:kO(s.bottom,o.bottom,0,i),l:kO(s.left,o.left,0,t)}}(e,i/2,n/2),o=function(e,t,i){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,o=gA(s),r=Math.min(t,i),a=e.borderSkipped,l=n||AC(s);return{topLeft:kO(!l||a.top||a.left,o.topLeft,0,r),topRight:kO(!l||a.top||a.right,o.topRight,0,r),bottomLeft:kO(!l||a.bottom||a.left,o.bottomLeft,0,r),bottomRight:kO(!l||a.bottom||a.right,o.bottomRight,0,r)}}(e,i/2,n/2);return{outer:{x:t.left,y:t.top,w:i,h:n,radius:o},inner:{x:t.left+s.l,y:t.top+s.t,w:i-s.l-s.r,h:n-s.t-s.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,o.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(s.b,s.r))}}}}(this),r=(a=o.radius).topLeft||a.topRight||a.bottomLeft||a.bottomRight?cA:TO;var a;e.save(),o.w===s.w&&o.h===s.h||(e.beginPath(),r(e,CO(o,t,s)),e.clip(),r(e,CO(s,-t,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),r(e,CO(s,t)),e.fillStyle=n,e.fill(),e.restore()}inRange(e,t,i){return SO(this,e,t,i)}inXRange(e,t){return SO(this,e,null,t)}inYRange(e,t){return SO(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:n,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+n)/2:t,y:s?i:(i+n)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}},LineElement:_O,PointElement:class extends SM{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,i){const n=this.options,{x:s,y:o}=this.getProps(["x","y"],i);return Math.pow(e-s,2)+Math.pow(t-o,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(e,t){return xO(this,e,"x",t)}inYRange(e,t){return xO(this,e,"y",t)}getCenterPoint(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}size(e){let t=(e=e||this.options||{}).radius||0;return t=Math.max(t,t&&e.hoverRadius||0),2*(t+(t&&e.borderWidth||0))}draw(e,t){const i=this.options;this.skip||i.radius<.1||!tA(this,t,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,JE(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}});const AO=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],IO=AO.map((e=>e.replace("rgb(","rgba(").replace(")",", 0.5)")));function MO(e){return AO[e%AO.length]}function OO(e){return IO[e%IO.length]}function DO(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}var PO={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,i){if(!i.enabled)return;const{data:{datasets:n},options:s}=e.config,{elements:o}=s;if(!i.forceOverride&&(DO(n)||(r=s)&&(r.borderColor||r.backgroundColor)||o&&DO(o)))return;var r;const a=function(e){let t=0;return(i,n)=>{const s=e.getDatasetMeta(n).controller;s instanceof RI?t=function(e,t){return e.backgroundColor=e.data.map((()=>MO(t++))),t}(i,t):s instanceof NI?t=function(e,t){return e.backgroundColor=e.data.map((()=>OO(t++))),t}(i,t):s&&(t=function(e,t){return e.borderColor=MO(t),e.backgroundColor=OO(t),++t}(i,t))}}(e);n.forEach(a)}};function LO(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function jO(e){e.data.datasets.forEach((e=>{LO(e)}))}var BO={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,i)=>{if(!i.enabled)return void jO(e);const n=e.width;e.data.datasets.forEach(((t,s)=>{const{_data:o,indexAxis:r}=t,a=e.getDatasetMeta(s),l=o||t.data;if("y"===bA([r,e.options.indexAxis]))return;if(!a.controller.supportsDecimation)return;const c=e.scales[a.xAxisID];if("linear"!==c.type&&"time"!==c.type)return;if(e.options.parsing)return;let d,{start:u,count:h}=function(e,t){const i=t.length;let n,s=0;const{iScale:o}=e,{min:r,max:a,minDefined:l,maxDefined:c}=o.getUserBounds();return l&&(s=gE(bE(t,o.axis,r).lo,0,i-1)),n=c?gE(bE(t,o.axis,a).hi+1,s,i)-s:i-s,{start:s,count:n}}(a,l);if(h<=(i.threshold||4*n))LO(t);else{switch(CC(o)&&(t._data=l,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),i.algorithm){case"lttb":d=function(e,t,i,n,s){const o=s.samples||n;if(o>=i)return e.slice(t,t+i);const r=[],a=(i-2)/(o-2);let l=0;const c=t+i-1;let d,u,h,p,f,m=t;for(r[l++]=e[m],d=0;d<o-2;d++){let n,s=0,o=0;const c=Math.floor((d+1)*a)+1+t,g=Math.min(Math.floor((d+2)*a)+1,i)+t,v=g-c;for(n=c;n<g;n++)s+=e[n].x,o+=e[n].y;s/=v,o/=v;const y=Math.floor(d*a)+1+t,b=Math.min(Math.floor((d+1)*a)+1,i)+t,{x:_,y:x}=e[m];for(h=p=-1,n=y;n<b;n++)p=.5*Math.abs((_-s)*(e[n].y-x)-(_-e[n].x)*(o-x)),p>h&&(h=p,u=e[n],f=n);r[l++]=u,m=f}return r[l++]=e[c],r}(l,u,h,n,i);break;case"min-max":d=function(e,t,i,n){let s,o,r,a,l,c,d,u,h,p,f=0,m=0;const g=[],v=t+i-1,y=e[t].x,b=e[v].x-y;for(s=t;s<t+i;++s){o=e[s],r=(o.x-y)/b*n,a=o.y;const t=0|r;if(t===l)a<h?(h=a,c=s):a>p&&(p=a,d=s),f=(m*f+o.x)/++m;else{const i=s-1;if(!CC(c)&&!CC(d)){const t=Math.min(c,d),n=Math.max(c,d);t!==u&&t!==i&&g.push({...e[t],x:f}),n!==u&&n!==i&&g.push({...e[n],x:f})}s>0&&i!==u&&g.push(e[i]),g.push(o),l=t,m=0,h=p=a,c=d=u=s}}return g}(l,u,h,n);break;default:throw new Error(`Unsupported decimation algorithm '${i.algorithm}'`)}t._decimated=d}}))},destroy(e){jO(e)}};function RO(e,t,i,n){if(n)return;let s=t[e],o=i[e];return"angle"===e&&(s=fE(s),o=fE(o)),{property:e,start:s,end:o}}function NO(e,t,i){for(;t>e;t--){const e=i[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function UO(e,t,i,n){return e&&t?n(e[i],t[i]):e?e[i]:t?t[i]:0}function FO(e,t){let i=[],n=!1;return EC(e)?(n=!0,i=e):i=function(e,t){const{x:i=null,y:n=null}=e||{},s=t.points,o=[];return t.segments.forEach((({start:e,end:t})=>{t=NO(e,t,s);const r=s[e],a=s[t];null!==n?(o.push({x:r.x,y:n}),o.push({x:a.x,y:n})):null!==i&&(o.push({x:i,y:r.y}),o.push({x:i,y:a.y}))})),o}(e,t),i.length?new _O({points:i,options:{tension:0},_loop:n,_fullLoop:n}):null}function zO(e){return e&&!1!==e.fill}function HO(e,t,i){let n=e[t].fill;const s=[t];let o;if(!i)return n;for(;!1!==n&&-1===s.indexOf(n);){if(!IC(n))return n;if(o=e[n],!o)return!1;if(o.visible)return n;s.push(n),n=o.fill}return!1}function VO(e,t,i){const n=function(e){const t=e.options,i=t.fill;let n=OC(i&&i.target,i);return void 0===n&&(n=!!t.backgroundColor),!1!==n&&null!==n&&(!0===n?"origin":n)}(e);if(AC(n))return!isNaN(n.value)&&n;let s=parseFloat(n);return IC(s)&&Math.floor(s)===s?function(e,t,i,n){return"-"!==e&&"+"!==e||(i=t+i),!(i===t||i<0||i>=n)&&i}(n[0],t,s,i):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function qO(e,t,i){const n=[];for(let s=0;s<i.length;s++){const o=i[s],{first:r,last:a,point:l}=$O(o,t,"x");if(!(!l||r&&a))if(r)n.unshift(l);else if(e.push(l),!a)break}e.push(...n)}function $O(e,t,i){const n=e.interpolate(t,i);if(!n)return{};const s=n[i],o=e.segments,r=e.points;let a=!1,l=!1;for(let e=0;e<o.length;e++){const t=o[e],n=r[t.start][i],c=r[t.end][i];if(vE(s,n,c)){a=s===n,l=s===c;break}}return{first:a,last:l,point:n}}class WO{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:n,y:s,radius:o}=this;return t=t||{start:0,end:XC},e.arc(n,s,o,t.end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:n}=this,s=e.angle;return{x:t+Math.cos(s)*n,y:i+Math.sin(s)*n,angle:s}}}function GO(e,t,i){const n=function(e){const{chart:t,fill:i,line:n}=e;if(IC(i))return function(e,t){const i=e.getDatasetMeta(t);return i&&e.isDatasetVisible(t)?i.dataset:null}(t,i);if("stack"===i)return function(e){const{scale:t,index:i,line:n}=e,s=[],o=n.segments,r=n.points,a=function(e,t){const i=[],n=e.getMatchingVisibleMetas("line");for(let e=0;e<n.length;e++){const s=n[e];if(s.index===t)break;s.hidden||i.unshift(s.dataset)}return i}(t,i);a.push(FO({x:null,y:t.bottom},n));for(let e=0;e<o.length;e++){const t=o[e];for(let e=t.start;e<=t.end;e++)qO(s,r[e],a)}return new _O({points:s,options:{}})}(e);if("shape"===i)return!0;const s=function(e){return(e.scale||{}).getPointPositionForValue?function(e){const{scale:t,fill:i}=e,n=t.options,s=t.getLabels().length,o=n.reverse?t.max:t.min,r=function(e,t,i){let n;return n="start"===e?i:"end"===e?t.options.reverse?t.min:t.max:AC(e)?e.value:t.getBaseValue(),n}(i,t,o),a=[];if(n.grid.circular){const e=t.getPointPositionForValue(0,o);return new WO({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(r)})}for(let e=0;e<s;++e)a.push(t.getPointPositionForValue(e,r));return a}(e):function(e){const{scale:t={},fill:i}=e,n=function(e,t){let i=null;return"start"===e?i=t.bottom:"end"===e?i=t.top:AC(e)?i=t.getPixelForValue(e.value):t.getBasePixel&&(i=t.getBasePixel()),i}(i,t);if(IC(n)){const e=t.isHorizontal();return{x:e?n:null,y:e?null:n}}return null}(e)}(e);return s instanceof WO?s:FO(s,n)}(t),{line:s,scale:o,axis:r}=t,a=s.options,l=a.fill,c=a.backgroundColor,{above:d=c,below:u=c}=l||{};n&&s.points.length&&(iA(e,i),function(e,t){const{line:i,target:n,above:s,below:o,area:r,scale:a}=t,l=i._loop?"angle":t.axis;e.save(),"x"===l&&o!==s&&(YO(e,n,r.top),XO(e,{line:i,target:n,color:s,scale:a,property:l}),e.restore(),e.save(),YO(e,n,r.bottom)),XO(e,{line:i,target:n,color:o,scale:a,property:l}),e.restore()}(e,{line:s,target:n,above:d,below:u,area:i,scale:o,axis:r}),nA(e))}function YO(e,t,i){const{segments:n,points:s}=t;let o=!0,r=!1;e.beginPath();for(const a of n){const{start:n,end:l}=a,c=s[n],d=s[NO(n,l,s)];o?(e.moveTo(c.x,c.y),o=!1):(e.lineTo(c.x,i),e.lineTo(c.x,c.y)),r=!!t.pathSegment(e,a,{move:r}),r?e.closePath():e.lineTo(d.x,i)}e.lineTo(t.first().x,i),e.closePath(),e.clip()}function XO(e,t){const{line:i,target:n,property:s,color:o,scale:r}=t,a=function(e,t,i){const n=e.segments,s=e.points,o=t.points,r=[];for(const e of n){let{start:n,end:a}=e;a=NO(n,a,s);const l=RO(i,s[n],s[a],e.loop);if(!t.segments){r.push({source:e,target:l,start:s[n],end:s[a]});continue}const c=lI(t,l);for(const t of c){const n=RO(i,o[t.start],o[t.end],t.loop),a=aI(e,s,n);for(const e of a)r.push({source:e,target:t,start:{[i]:UO(l,n,"start",Math.max)},end:{[i]:UO(l,n,"end",Math.min)}})}}return r}(i,n,s);for(const{source:t,target:l,start:c,end:d}of a){const{style:{backgroundColor:a=o}={}}=t,u=!0!==n;e.save(),e.fillStyle=a,KO(e,r,u&&RO(s,c,d)),e.beginPath();const h=!!i.pathSegment(e,t);let p;if(u){h?e.closePath():QO(e,n,d,s);const t=!!n.pathSegment(e,l,{move:h,reverse:!0});p=h&&t,p||QO(e,n,c,s)}e.closePath(),e.fill(p?"evenodd":"nonzero"),e.restore()}}function KO(e,t,i){const{top:n,bottom:s}=t.chart.chartArea,{property:o,start:r,end:a}=i||{};"x"===o&&(e.beginPath(),e.rect(r,n,a-r,s-n),e.clip())}function QO(e,t,i,n){const s=t.interpolate(i,n);s&&e.lineTo(s.x,s.y)}var ZO={id:"filler",afterDatasetsUpdate(e,t,i){const n=(e.data.datasets||[]).length,s=[];let o,r,a,l;for(r=0;r<n;++r)o=e.getDatasetMeta(r),a=o.dataset,l=null,a&&a.options&&a instanceof _O&&(l={visible:e.isDatasetVisible(r),index:r,fill:VO(a,r,n),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,s.push(l);for(r=0;r<n;++r)l=s[r],l&&!1!==l.fill&&(l.fill=HO(s,r,i.propagate))},beforeDraw(e,t,i){const n="beforeDraw"===i.drawTime,s=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let t=s.length-1;t>=0;--t){const i=s[t].$filler;i&&(i.line.updateControlPoints(o,i.axis),n&&i.fill&&GO(e.ctx,i,o))}},beforeDatasetsDraw(e,t,i){if("beforeDatasetsDraw"!==i.drawTime)return;const n=e.getSortedVisibleDatasetMetas();for(let t=n.length-1;t>=0;--t){const i=n[t].$filler;zO(i)&&GO(e.ctx,i,e.chartArea)}},beforeDatasetDraw(e,t,i){const n=t.meta.$filler;zO(n)&&"beforeDatasetDraw"===i.drawTime&&GO(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const JO=(e,t)=>{let{boxHeight:i=t,boxWidth:n=t}=e;return e.usePointStyle&&(i=Math.min(i,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:i,itemHeight:Math.max(t,i)}};class eD extends SM{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=PC(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,i)=>e.sort(t,i,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const i=e.labels,n=yA(i.font),s=n.size,o=this._computeTitleHeight(),{boxWidth:r,itemHeight:a}=JO(i,s);let l,c;t.font=n.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(o,s,r,a)+10):(c=this.maxHeight,l=this._fitCols(o,n,r,a)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,n){const{ctx:s,maxWidth:o,options:{labels:{padding:r}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],c=n+r;let d=e;s.textAlign="left",s.textBaseline="middle";let u=-1,h=-c;return this.legendItems.forEach(((e,p)=>{const f=i+t/2+s.measureText(e.text).width;(0===p||l[l.length-1]+f+2*r>o)&&(d+=c,l[l.length-(p>0?0:1)]=0,h+=c,u++),a[p]={left:0,top:h,row:u,width:f,height:n},l[l.length-1]+=f+r})),d}_fitCols(e,t,i,n){const{ctx:s,maxHeight:o,options:{labels:{padding:r}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],c=o-e;let d=r,u=0,h=0,p=0,f=0;return this.legendItems.forEach(((e,o)=>{const{itemWidth:m,itemHeight:g}=function(e,t,i,n,s){const o=function(e,t,i,n){let s=e.text;return s&&"string"!=typeof s&&(s=s.reduce(((e,t)=>e.length>t.length?e:t))),t+i.size/2+n.measureText(s).width}(n,e,t,i),r=function(e,t,i){let n=e;return"string"!=typeof t.text&&(n=tD(t,i)),n}(s,n,t.lineHeight);return{itemWidth:o,itemHeight:r}}(i,t,s,e,n);o>0&&h+g+2*r>c&&(d+=u+r,l.push({width:u,height:h}),p+=u+r,f++,u=h=0),a[o]={left:p,top:h,col:f,width:m,height:g},u=Math.max(u,m),h+=g+r})),d+=u,l.push({width:u,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:n},rtl:s}}=this,o=iI(s,this.left,this.width);if(this.isHorizontal()){let s=0,r=EE(i,this.left+n,this.right-this.lineWidths[s]);for(const a of t)s!==a.row&&(s=a.row,r=EE(i,this.left+n,this.right-this.lineWidths[s])),a.top+=this.top+e+n,a.left=o.leftForLtr(o.x(r),a.width),r+=a.width+n}else{let s=0,r=EE(i,this.top+e+n,this.bottom-this.columnSizes[s].height);for(const a of t)a.col!==s&&(s=a.col,r=EE(i,this.top+e+n,this.bottom-this.columnSizes[s].height)),a.top=r,a.left+=this.left+n,a.left=o.leftForLtr(o.x(a.left),a.width),r+=a.height+n}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;iA(e,this),this._draw(),nA(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:n}=this,{align:s,labels:o}=e,r=YE.color,a=iI(e.rtl,this.left,this.width),l=yA(o.font),{padding:c}=o,d=l.size,u=d/2;let h;this.drawTitle(),n.textAlign=a.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=l.string;const{boxWidth:p,boxHeight:f,itemHeight:m}=JO(o,d),g=this.isHorizontal(),v=this._computeTitleHeight();h=g?{x:EE(s,this.left+c,this.right-i[0]),y:this.top+c+v,line:0}:{x:this.left+c,y:EE(s,this.top+v+c,this.bottom-t[0].height),line:0},nI(this.ctx,e.textDirection);const y=m+c;this.legendItems.forEach(((b,_)=>{n.strokeStyle=b.fontColor,n.fillStyle=b.fontColor;const x=n.measureText(b.text).width,w=a.textAlign(b.textAlign||(b.textAlign=o.textAlign)),k=p+u+x;let S=h.x,T=h.y;if(a.setWidth(this.width),g?_>0&&S+k+c>this.right&&(T=h.y+=y,h.line++,S=h.x=EE(s,this.left+c,this.right-i[h.line])):_>0&&T+y>this.bottom&&(S=h.x=S+t[h.line].width+c,h.line++,T=h.y=EE(s,this.top+v+c,this.bottom-t[h.line].height)),function(e,t,i){if(isNaN(p)||p<=0||isNaN(f)||f<0)return;n.save();const s=OC(i.lineWidth,1);if(n.fillStyle=OC(i.fillStyle,r),n.lineCap=OC(i.lineCap,"butt"),n.lineDashOffset=OC(i.lineDashOffset,0),n.lineJoin=OC(i.lineJoin,"miter"),n.lineWidth=s,n.strokeStyle=OC(i.strokeStyle,r),n.setLineDash(OC(i.lineDash,[])),o.usePointStyle){const r={radius:f*Math.SQRT2/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:s},l=a.xPlus(e,p/2);eA(n,r,l,t+u,o.pointStyleWidth&&p)}else{const o=t+Math.max((d-f)/2,0),r=a.leftForLtr(e,p),l=gA(i.borderRadius);n.beginPath(),Object.values(l).some((e=>0!==e))?cA(n,{x:r,y:o,w:p,h:f,radius:l}):n.rect(r,o,p,f),n.fill(),0!==s&&n.stroke()}n.restore()}(a.x(S),T,b),S=((e,t,i,n)=>e===(n?"left":"right")?i:"center"===e?(t+i)/2:t)(w,S+p+u,g?S+k:this.right,e.rtl),function(e,t,i){lA(n,i.text,e,t+m/2,l,{strikethrough:i.hidden,textAlign:a.textAlign(i.textAlign)})}(a.x(S),T,b),g)h.x+=k+c;else if("string"!=typeof b.text){const e=l.lineHeight;h.y+=tD(b,e)+c}else h.y+=y})),sI(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=yA(t.font),n=vA(t.padding);if(!t.display)return;const s=iI(e.rtl,this.left,this.width),o=this.ctx,r=t.position,a=i.size/2,l=n.top+a;let c,d=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),c=this.top+l,d=EE(e.align,d,this.right-u);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+EE(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=EE(r,d,d+u);o.textAlign=s.textAlign(CE(r)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=i.string,lA(o,t.text,h,c,i)}_computeTitleHeight(){const e=this.options.title,t=yA(e.font),i=vA(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,n,s;if(vE(e,this.left,this.right)&&vE(t,this.top,this.bottom))for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(n=s[i],vE(e,n.left,n.left+n.width)&&vE(t,n.top,n.top+n.height))return this.legendItems[i];return null}handleEvent(e){const t=this.options;if(!function(e,t){return!("mousemove"!==e&&"mouseout"!==e||!t.onHover&&!t.onLeave)||!(!t.onClick||"click"!==e&&"mouseup"!==e)}(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const n=this._hoveredItem,s=((e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index)(n,i);n&&!s&&PC(t.onLeave,[e,n,this],this),this._hoveredItem=i,i&&!s&&PC(t.onHover,[e,i,this],this)}else i&&PC(t.onClick,[e,i,this],this)}}function tD(e,t){return t*(e.text?e.text.length:0)}var iD={id:"legend",_element:eD,start(e,t,i){const n=e.legend=new eD({ctx:e.ctx,options:i,chart:e});rM.configure(e,n,i),rM.addBox(e,n)},stop(e){rM.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,i){const n=e.legend;rM.configure(e,n,i),n.options=i},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,i){const n=t.datasetIndex,s=i.chart;s.isDatasetVisible(n)?(s.hide(n),t.hidden=!0):(s.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:i,pointStyle:n,textAlign:s,color:o,useBorderRadius:r,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(i?0:void 0),c=vA(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:o,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:n||l.pointStyle,rotation:l.rotation,textAlign:s||l.textAlign,borderRadius:r&&(a||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class nD extends SM{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const n=EC(i.text)?i.text.length:1;this._padding=vA(i.padding);const s=n*yA(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:i,bottom:n,right:s,options:o}=this,r=o.align;let a,l,c,d=0;return this.isHorizontal()?(l=EE(r,i,s),c=t+e,a=s-i):("left"===o.position?(l=i+e,c=EE(r,n,t),d=-.5*YC):(l=s-e,c=EE(r,t,n),d=.5*YC),a=n-t),{titleX:l,titleY:c,maxWidth:a,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=yA(t.font),n=i.lineHeight/2+this._padding.top,{titleX:s,titleY:o,maxWidth:r,rotation:a}=this._drawArgs(n);lA(e,t.text,0,0,i,{color:t.color,maxWidth:r,rotation:a,textAlign:CE(t.align),textBaseline:"middle",translation:[s,o]})}}var sD={id:"title",_element:nD,start(e,t,i){!function(e,t){const i=new nD({ctx:e.ctx,options:t,chart:e});rM.configure(e,i,t),rM.addBox(e,i),e.titleBlock=i}(e,i)},stop(e){const t=e.titleBlock;rM.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,i){const n=e.titleBlock;rM.configure(e,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const oD=new WeakMap;var rD={id:"subtitle",start(e,t,i){const n=new nD({ctx:e.ctx,options:i,chart:e});rM.configure(e,n,i),rM.addBox(e,n),oD.set(e,n)},stop(e){rM.removeBox(e,oD.get(e)),oD.delete(e)},beforeUpdate(e,t,i){const n=oD.get(e);rM.configure(e,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const aD={average(e){if(!e.length)return!1;let t,i,n=0,s=0,o=0;for(t=0,i=e.length;t<i;++t){const i=e[t].element;if(i&&i.hasValue()){const e=i.tooltipPosition();n+=e.x,s+=e.y,++o}}return{x:n/o,y:s/o}},nearest(e,t){if(!e.length)return!1;let i,n,s,o=t.x,r=t.y,a=Number.POSITIVE_INFINITY;for(i=0,n=e.length;i<n;++i){const n=e[i].element;if(n&&n.hasValue()){const e=hE(t,n.getCenterPoint());e<a&&(a=e,s=n)}}if(s){const e=s.tooltipPosition();o=e.x,r=e.y}return{x:o,y:r}}};function lD(e,t){return t&&(EC(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function cD(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function dD(e,t){const{element:i,datasetIndex:n,index:s}=t,o=e.getDatasetMeta(n).controller,{label:r,value:a}=o.getLabelAndValue(s);return{chart:e,label:r,parsed:o.getParsed(s),raw:e.data.datasets[n].data[s],formattedValue:a,dataset:o.getDataset(),dataIndex:s,datasetIndex:n,element:i}}function uD(e,t){const i=e.chart.ctx,{body:n,footer:s,title:o}=e,{boxWidth:r,boxHeight:a}=t,l=yA(t.bodyFont),c=yA(t.titleFont),d=yA(t.footerFont),u=o.length,h=s.length,p=n.length,f=vA(t.padding);let m=f.height,g=0,v=n.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);v+=e.beforeBody.length+e.afterBody.length,u&&(m+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),v&&(m+=p*(t.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(v-p)*l.lineHeight+(v-1)*t.bodySpacing),h&&(m+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let y=0;const b=function(e){g=Math.max(g,i.measureText(e).width+y)};return i.save(),i.font=c.string,LC(e.title,b),i.font=l.string,LC(e.beforeBody.concat(e.afterBody),b),y=t.displayColors?r+2+t.boxPadding:0,LC(n,(e=>{LC(e.before,b),LC(e.lines,b),LC(e.after,b)})),y=0,i.font=d.string,LC(e.footer,b),i.restore(),g+=f.width,{width:g,height:m}}function hD(e,t,i,n){const{x:s,width:o}=i,{width:r,chartArea:{left:a,right:l}}=e;let c="center";return"center"===n?c=s<=(a+l)/2?"left":"right":s<=o/2?c="left":s>=r-o/2&&(c="right"),function(e,t,i,n){const{x:s,width:o}=n,r=i.caretSize+i.caretPadding;return"left"===e&&s+o+r>t.width||"right"===e&&s-o-r<0||void 0}(c,e,t,i)&&(c="center"),c}function pD(e,t,i){const n=i.yAlign||t.yAlign||function(e,t){const{y:i,height:n}=t;return i<n/2?"top":i>e.height-n/2?"bottom":"center"}(e,i);return{xAlign:i.xAlign||t.xAlign||hD(e,t,i,n),yAlign:n}}function fD(e,t,i,n){const{caretSize:s,caretPadding:o,cornerRadius:r}=e,{xAlign:a,yAlign:l}=i,c=s+o,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:p}=gA(r);let f=function(e,t){let{x:i,width:n}=e;return"right"===t?i-=n:"center"===t&&(i-=n/2),i}(t,a);const m=function(e,t,i){let{y:n,height:s}=e;return"top"===t?n+=i:n-="bottom"===t?s+i:s/2,n}(t,l,c);return"center"===l?"left"===a?f+=c:"right"===a&&(f-=c):"left"===a?f-=Math.max(d,h)+s:"right"===a&&(f+=Math.max(u,p)+s),{x:gE(f,0,n.width-t.width),y:gE(m,0,n.height-t.height)}}function mD(e,t,i){const n=vA(i.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-n.right:e.x+n.left}function gD(e){return lD([],cD(e))}function vD(e,t){const i=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return i?e.override(i):e}const yD={beforeTitle:SC,title(e){if(e.length>0){const t=e[0],i=t.chart.data.labels,n=i?i.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return i[t.dataIndex]}return""},afterTitle:SC,beforeBody:SC,beforeLabel:SC,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const i=e.formattedValue;return CC(i)||(t+=i),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:SC,afterBody:SC,beforeFooter:SC,footer:SC,afterFooter:SC};function bD(e,t,i,n){const s=e[t].call(i,n);return void 0===s?yD[t].call(i,n):s}class _D extends SM{static positioners=aD;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),n=i.enabled&&t.options.animation&&i.animations,s=new gI(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=(this,_A(this.chart.getContext(),{tooltip:this,tooltipItems:this._tooltipItems,type:"tooltip"})))}getTitle(e,t){const{callbacks:i}=t,n=bD(i,"beforeTitle",this,e),s=bD(i,"title",this,e),o=bD(i,"afterTitle",this,e);let r=[];return r=lD(r,cD(n)),r=lD(r,cD(s)),r=lD(r,cD(o)),r}getBeforeBody(e,t){return gD(bD(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,n=[];return LC(e,(e=>{const t={before:[],lines:[],after:[]},s=vD(i,e);lD(t.before,cD(bD(s,"beforeLabel",this,e))),lD(t.lines,bD(s,"label",this,e)),lD(t.after,cD(bD(s,"afterLabel",this,e))),n.push(t)})),n}getAfterBody(e,t){return gD(bD(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,n=bD(i,"beforeFooter",this,e),s=bD(i,"footer",this,e),o=bD(i,"afterFooter",this,e);let r=[];return r=lD(r,cD(n)),r=lD(r,cD(s)),r=lD(r,cD(o)),r}_createItems(e){const t=this._active,i=this.chart.data,n=[],s=[],o=[];let r,a,l=[];for(r=0,a=t.length;r<a;++r)l.push(dD(this.chart,t[r]));return e.filter&&(l=l.filter(((t,n,s)=>e.filter(t,n,s,i)))),e.itemSort&&(l=l.sort(((t,n)=>e.itemSort(t,n,i)))),LC(l,(t=>{const i=vD(e.callbacks,t);n.push(bD(i,"labelColor",this,t)),s.push(bD(i,"labelPointStyle",this,t)),o.push(bD(i,"labelTextColor",this,t))})),this.labelColors=n,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=l,l}update(e,t){const i=this.options.setContext(this.getContext()),n=this._active;let s,o=[];if(n.length){const e=aD[i.position].call(this,n,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const t=this._size=uD(this,i),r=Object.assign({},e,t),a=pD(this.chart,i,r),l=fD(i,r,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,s={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,n){const s=this.getCaretPosition(e,i,n);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,i){const{xAlign:n,yAlign:s}=this,{caretSize:o,cornerRadius:r}=i,{topLeft:a,topRight:l,bottomLeft:c,bottomRight:d}=gA(r),{x:u,y:h}=e,{width:p,height:f}=t;let m,g,v,y,b,_;return"center"===s?(b=h+f/2,"left"===n?(m=u,g=m-o,y=b+o,_=b-o):(m=u+p,g=m+o,y=b-o,_=b+o),v=m):(g="left"===n?u+Math.max(a,c)+o:"right"===n?u+p-Math.max(l,d)-o:this.caretX,"top"===s?(y=h,b=y-o,m=g-o,v=g+o):(y=h+f,b=y+o,m=g+o,v=g-o),_=y),{x1:m,x2:g,x3:v,y1:y,y2:b,y3:_}}drawTitle(e,t,i){const n=this.title,s=n.length;let o,r,a;if(s){const l=iI(i.rtl,this.x,this.width);for(e.x=mD(this,i.titleAlign,i),t.textAlign=l.textAlign(i.titleAlign),t.textBaseline="middle",o=yA(i.titleFont),r=i.titleSpacing,t.fillStyle=i.titleColor,t.font=o.string,a=0;a<s;++a)t.fillText(n[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r,a+1===s&&(e.y+=i.titleMarginBottom-r)}}_drawColorBox(e,t,i,n,s){const o=this.labelColors[i],r=this.labelPointStyles[i],{boxHeight:a,boxWidth:l}=s,c=yA(s.bodyFont),d=mD(this,"left",s),u=n.x(d),h=a<c.lineHeight?(c.lineHeight-a)/2:0,p=t.y+h;if(s.usePointStyle){const t={radius:Math.min(l,a)/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:1},i=n.leftForLtr(u,l)+l/2,c=p+a/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,JE(e,t,i,c),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,JE(e,t,i,c)}else{e.lineWidth=AC(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const t=n.leftForLtr(u,l),i=n.leftForLtr(n.xPlus(u,1),l-2),r=gA(o.borderRadius);Object.values(r).some((e=>0!==e))?(e.beginPath(),e.fillStyle=s.multiKeyBackground,cA(e,{x:t,y:p,w:l,h:a,radius:r}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),cA(e,{x:i,y:p+1,w:l-2,h:a-2,radius:r}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(t,p,l,a),e.strokeRect(t,p,l,a),e.fillStyle=o.backgroundColor,e.fillRect(i,p+1,l-2,a-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:n}=this,{bodySpacing:s,bodyAlign:o,displayColors:r,boxHeight:a,boxWidth:l,boxPadding:c}=i,d=yA(i.bodyFont);let u=d.lineHeight,h=0;const p=iI(i.rtl,this.x,this.width),f=function(i){t.fillText(i,p.x(e.x+h),e.y+u/2),e.y+=u+s},m=p.textAlign(o);let g,v,y,b,_,x,w;for(t.textAlign=o,t.textBaseline="middle",t.font=d.string,e.x=mD(this,m,i),t.fillStyle=i.bodyColor,LC(this.beforeBody,f),h=r&&"right"!==m?"center"===o?l/2+c:l+2+c:0,b=0,x=n.length;b<x;++b){for(g=n[b],v=this.labelTextColors[b],t.fillStyle=v,LC(g.before,f),y=g.lines,r&&y.length&&(this._drawColorBox(t,e,b,p,i),u=Math.max(d.lineHeight,a)),_=0,w=y.length;_<w;++_)f(y[_]),u=d.lineHeight;LC(g.after,f)}h=0,u=d.lineHeight,LC(this.afterBody,f),e.y-=s}drawFooter(e,t,i){const n=this.footer,s=n.length;let o,r;if(s){const a=iI(i.rtl,this.x,this.width);for(e.x=mD(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=a.textAlign(i.footerAlign),t.textBaseline="middle",o=yA(i.footerFont),t.fillStyle=i.footerColor,t.font=o.string,r=0;r<s;++r)t.fillText(n[r],a.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,t,i,n){const{xAlign:s,yAlign:o}=this,{x:r,y:a}=e,{width:l,height:c}=i,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:p}=gA(n.cornerRadius);t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.beginPath(),t.moveTo(r+d,a),"top"===o&&this.drawCaret(e,t,i,n),t.lineTo(r+l-u,a),t.quadraticCurveTo(r+l,a,r+l,a+u),"center"===o&&"right"===s&&this.drawCaret(e,t,i,n),t.lineTo(r+l,a+c-p),t.quadraticCurveTo(r+l,a+c,r+l-p,a+c),"bottom"===o&&this.drawCaret(e,t,i,n),t.lineTo(r+h,a+c),t.quadraticCurveTo(r,a+c,r,a+c-h),"center"===o&&"left"===s&&this.drawCaret(e,t,i,n),t.lineTo(r,a+d),t.quadraticCurveTo(r,a,r+d,a),t.closePath(),t.fill(),n.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,n=i&&i.x,s=i&&i.y;if(n||s){const i=aD[e.position].call(this,this._active,this._eventPosition);if(!i)return;const o=this._size=uD(this,e),r=Object.assign({},i,this._size),a=pD(t,e,r),l=fD(e,r,a,t);n._to===l.x&&s._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=o.width,this.height=o.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const n={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=vA(t.padding),r=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&r&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,n,t),nI(e,t.textDirection),s.y+=o.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),sI(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,n=e.map((({datasetIndex:e,index:t})=>{const i=this.chart.getDatasetMeta(e);if(!i)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:i.data[t],index:t}})),s=!jC(i,n),o=this._positionChanged(n,t);(s||o)&&(this._active=n,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,s=this._active||[],o=this._getActiveElements(e,s,t,i),r=this._positionChanged(o,e),a=t||!jC(o,s)||r;return a&&(this._active=o,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),a}_getActiveElements(e,t,i,n){const s=this.options;if("mouseout"===e.type)return[];if(!n)return t;const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:i,caretY:n,options:s}=this,o=aD[s.position].call(this,e,t);return!1!==o&&(i!==o.x||n!==o.y)}}var xD={id:"tooltip",_element:_D,positioners:aD,afterInit(e,t,i){i&&(e.tooltip=new _D({chart:e,options:i}))},beforeUpdate(e,t,i){e.tooltip&&e.tooltip.initialize(i)},reset(e,t,i){e.tooltip&&e.tooltip.initialize(i)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const i={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...i,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",i)}},afterEvent(e,t){if(e.tooltip){const i=t.replay;e.tooltip.handleEvent(t.event,i,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:yD},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},wD=Object.freeze({__proto__:null,Colors:PO,Decimation:BO,Filler:ZO,Legend:iD,SubTitle:rD,Title:sD,Tooltip:xD});function kD(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}function SD(e,t,{horizontal:i,minRotation:n}){const s=lE(n),o=(i?Math.sin(s):Math.cos(s))||.001,r=.75*t*(""+e).length;return Math.min(t/o,r)}class TD extends PM{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return CC(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:n,max:s}=this;const o=e=>n=t?n:e,r=e=>s=i?s:e;if(e){const e=nE(n),t=nE(s);e<0&&t<0?r(0):e>0&&t>0&&o(0)}if(n===s){let t=0===s?1:Math.abs(.05*s);r(s+t),e||o(n-t)}this.min=n,this.max=s}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:i,stepSize:n}=e;return n?(t=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),i=i||11),i&&(t=Math.min(i,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const n=function(e,t){const i=[],{bounds:n,step:s,min:o,max:r,precision:a,count:l,maxTicks:c,maxDigits:d,includeBounds:u}=e,h=s||1,p=c-1,{min:f,max:m}=t,g=!CC(o),v=!CC(r),y=!CC(l),b=(m-f)/(d+1);let _,x,w,k,S=oE((m-f)/p/h)*h;if(S<1e-14&&!g&&!v)return[{value:f},{value:m}];k=Math.ceil(m/S)-Math.floor(f/S),k>p&&(S=oE(k*S/p/h)*h),CC(a)||(_=Math.pow(10,a),S=Math.ceil(S*_)/_),"ticks"===n?(x=Math.floor(f/S)*S,w=Math.ceil(m/S)*S):(x=f,w=m),g&&v&&s&&function(e,t){const i=Math.round(e);return i-t<=e&&i+t>=e}((r-o)/s,S/1e3)?(k=Math.round(Math.min((r-o)/S,c)),S=(r-o)/k,x=o,w=r):y?(x=g?o:x,w=v?r:w,k=l-1,S=(w-x)/k):(k=(w-x)/S,k=sE(k,Math.round(k),S/1e3)?Math.round(k):Math.ceil(k));const T=Math.max(dE(S),dE(x));_=Math.pow(10,CC(a)?T:a),x=Math.round(x*_)/_,w=Math.round(w*_)/_;let C=0;for(g&&(u&&x!==o?(i.push({value:o}),x<o&&C++,sE(Math.round((x+C*S)*_)/_,o,SD(o,b,e))&&C++):x<o&&C++);C<k;++C){const e=Math.round((x+C*S)*_)/_;if(v&&e>r)break;i.push({value:e})}return v&&u&&w!==r?i.length&&sE(i[i.length-1].value,r,SD(r,b,e))?i[i.length-1].value=r:i.push({value:r}):v&&w!==r||i.push({value:w}),i}({maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&aE(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const n=(i-t)/Math.max(e.length-1,1)/2;t-=n,i+=n}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return FE(e,this.chart.options.locale,this.options.ticks.format)}}class CD extends TD{static id="linear";static defaults={ticks:{callback:HE.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=IC(e)?e:0,this.max=IC(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=lE(this.options.ticks.minRotation),n=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/n))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const ED=e=>Math.floor(iE(e)),AD=(e,t)=>Math.pow(10,ED(e)+t);function ID(e){return 1==e/Math.pow(10,ED(e))}function MD(e,t,i){const n=Math.pow(10,i),s=Math.floor(e/n);return Math.ceil(t/n)-s}class OD extends PM{static id="logarithmic";static defaults={ticks:{callback:HE.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const i=TD.prototype.parse.apply(this,[e,t]);if(0!==i)return IC(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=IC(e)?Math.max(0,e):null,this.max=IC(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!IC(this._userMin)&&(this.min=e===AD(this.min,0)?AD(this.min,-1):AD(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let i=this.min,n=this.max;const s=t=>i=e?i:t,o=e=>n=t?n:e;i===n&&(i<=0?(s(1),o(10)):(s(AD(i,-1)),o(AD(n,1)))),i<=0&&s(AD(n,-1)),n<=0&&o(AD(i,1)),this.min=i,this.max=n}buildTicks(){const e=this.options,t=function(e,{min:t,max:i}){t=MC(e.min,t);const n=[],s=ED(t);let o=function(e,t){let i=ED(t-e);for(;MD(e,t,i)>10;)i++;for(;MD(e,t,i)<10;)i--;return Math.min(i,ED(e))}(t,i),r=o<0?Math.pow(10,Math.abs(o)):1;const a=Math.pow(10,o),l=s>o?Math.pow(10,s):0,c=Math.round((t-l)*r)/r,d=Math.floor((t-l)/a/10)*a*10;let u=Math.floor((c-d)/Math.pow(10,o)),h=MC(e.min,Math.round((l+d+u*Math.pow(10,o))*r)/r);for(;h<i;)n.push({value:h,major:ID(h),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(o++,u=2,r=o>=0?1:r),h=Math.round((l+d+u*Math.pow(10,o))*r)/r;const p=MC(e.max,h);return n.push({value:p,major:ID(p),significand:u}),n}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&aE(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":FE(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=iE(e),this._valueRange=iE(this.max)-iE(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(iE(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function DD(e){const t=e.ticks;if(t.display&&e.display){const e=vA(t.backdropPadding);return OC(t.font&&t.font.size,YE.font.size)+e.height}return 0}function PD(e,t,i,n,s){return e===n||e===s?{start:t-i/2,end:t+i/2}:e<n||e>s?{start:t-i,end:t}:{start:t,end:t+i}}function LD(e,t,i,n,s){const o=Math.abs(Math.sin(i)),r=Math.abs(Math.cos(i));let a=0,l=0;n.start<t.l?(a=(t.l-n.start)/o,e.l=Math.min(e.l,t.l-a)):n.end>t.r&&(a=(n.end-t.r)/o,e.r=Math.max(e.r,t.r+a)),s.start<t.t?(l=(t.t-s.start)/r,e.t=Math.min(e.t,t.t-l)):s.end>t.b&&(l=(s.end-t.b)/r,e.b=Math.max(e.b,t.b+l))}function jD(e,t,i){const n=e.drawingArea,{extra:s,additionalAngle:o,padding:r,size:a}=i,l=e.getPointPosition(t,n+s+r,o),c=Math.round(cE(fE(l.angle+JC))),d=function(e,t,i){return 90===i||270===i?e-=t/2:(i>270||i<90)&&(e-=t),e}(l.y,a.h,c),u=function(e){return 0===e||180===e?"center":e<180?"left":"right"}(c),h=(p=l.x,f=a.w,"right"===(m=u)?p-=f:"center"===m&&(p-=f/2),p);var p,f,m;return{visible:!0,x:l.x,y:d,textAlign:u,left:h,top:d,right:h+a.w,bottom:d+a.h}}function BD(e,t){if(!t)return!0;const{left:i,top:n,right:s,bottom:o}=e;return!(tA({x:i,y:n},t)||tA({x:i,y:o},t)||tA({x:s,y:n},t)||tA({x:s,y:o},t))}function RD(e,t,i){const{left:n,top:s,right:o,bottom:r}=i,{backdropColor:a}=t;if(!CC(a)){const i=gA(t.borderRadius),l=vA(t.backdropPadding);e.fillStyle=a;const c=n-l.left,d=s-l.top,u=o-n+l.width,h=r-s+l.height;Object.values(i).some((e=>0!==e))?(e.beginPath(),cA(e,{x:c,y:d,w:u,h,radius:i}),e.fill()):e.fillRect(c,d,u,h)}}function ND(e,t,i,n){const{ctx:s}=e;if(i)s.arc(e.xCenter,e.yCenter,t,0,XC);else{let i=e.getPointPosition(0,t);s.moveTo(i.x,i.y);for(let o=1;o<n;o++)i=e.getPointPosition(o,t),s.lineTo(i.x,i.y)}}class UD extends TD{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:HE.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=vA(DD(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=IC(e)&&!isNaN(e)?e:0,this.max=IC(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/DD(this.options))}generateTickLabels(e){TD.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const i=PC(this.options.pointLabels.callback,[e,t],this);return i||0===i?i:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?function(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},i=Object.assign({},t),n=[],s=[],o=e._pointLabels.length,r=e.options.pointLabels,a=r.centerPointLabels?YC/o:0;for(let u=0;u<o;u++){const o=r.setContext(e.getPointLabelContext(u));s[u]=o.padding;const h=e.getPointPosition(u,e.drawingArea+s[u],a),p=yA(o.font),f=(l=e.ctx,c=p,d=EC(d=e._pointLabels[u])?d:[d],{w:KE(l,c.string,d),h:d.length*c.lineHeight});n[u]=f;const m=fE(e.getIndexAngle(u)+a),g=Math.round(cE(m));LD(i,t,m,PD(g,h.x,f.w,0,180),PD(g,h.y,f.h,90,270))}var l,c,d;e.setCenterPoint(t.l-i.l,i.r-t.r,t.t-i.t,i.b-t.b),e._pointLabelItems=function(e,t,i){const n=[],s=e._pointLabels.length,o=e.options,{centerPointLabels:r,display:a}=o.pointLabels,l={extra:DD(o)/2,additionalAngle:r?YC/s:0};let c;for(let o=0;o<s;o++){l.padding=i[o],l.size=t[o];const s=jD(e,o,l);n.push(s),"auto"===a&&(s.visible=BD(s,c),s.visible&&(c=s))}return n}(e,n,s)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,n){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,n))}getIndexAngle(e){return fE(e*(XC/(this._pointLabels.length||1))+lE(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(CC(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(CC(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const i=t[e];return function(e,t,i){return _A(e,{label:i,index:t,type:"pointLabel"})}(this.getContext(),e,i)}}getPointPosition(e,t,i=0){const n=this.getIndexAngle(e)-JC+i;return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter,angle:n}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:i,right:n,bottom:s}=this._pointLabelItems[e];return{left:t,top:i,right:n,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),ND(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:i,grid:n,border:s}=t,o=this._pointLabels.length;let r,a,l;if(t.pointLabels.display&&function(e,t){const{ctx:i,options:{pointLabels:n}}=e;for(let s=t-1;s>=0;s--){const t=e._pointLabelItems[s];if(!t.visible)continue;const o=n.setContext(e.getPointLabelContext(s));RD(i,o,t);const r=yA(o.font),{x:a,y:l,textAlign:c}=t;lA(i,e._pointLabels[s],a,l+r.lineHeight/2,r,{color:o.color,textAlign:c,textBaseline:"middle"})}}(this,o),n.display&&this.ticks.forEach(((e,t)=>{if(0!==t){a=this.getDistanceFromCenterForValue(e.value);const i=this.getContext(t),r=n.setContext(i),l=s.setContext(i);!function(e,t,i,n,s){const o=e.ctx,r=t.circular,{color:a,lineWidth:l}=t;!r&&!n||!a||!l||i<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(s.dash),o.lineDashOffset=s.dashOffset,o.beginPath(),ND(e,i,r,n),o.closePath(),o.stroke(),o.restore())}(this,r,a,o,l)}})),i.display){for(e.save(),r=o-1;r>=0;r--){const n=i.setContext(this.getPointLabelContext(r)),{color:s,lineWidth:o}=n;o&&s&&(e.lineWidth=o,e.strokeStyle=s,e.setLineDash(n.borderDash),e.lineDashOffset=n.borderDashOffset,a=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),l=this.getPointPosition(r,a),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const n=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(n),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((n,r)=>{if(0===r&&!t.reverse)return;const a=i.setContext(this.getContext(r)),l=yA(a.font);if(s=this.getDistanceFromCenterForValue(this.ticks[r].value),a.showLabelBackdrop){e.font=l.string,o=e.measureText(n.label).width,e.fillStyle=a.backdropColor;const t=vA(a.backdropPadding);e.fillRect(-o/2-t.left,-s-l.size/2-t.top,o+t.width,l.size+t.height)}lA(e,n.label,0,-s,l,{color:a.color,strokeColor:a.textStrokeColor,strokeWidth:a.textStrokeWidth})})),e.restore()}drawTitle(){}}const FD={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},zD=Object.keys(FD);function HD(e,t){return e-t}function VD(e,t){if(CC(t))return null;const i=e._adapter,{parser:n,round:s,isoWeekday:o}=e._parseOpts;let r=t;return"function"==typeof n&&(r=n(r)),IC(r)||(r="string"==typeof n?i.parse(r,n):i.parse(r)),null===r?null:(s&&(r="week"!==s||!rE(o)&&!0!==o?i.startOf(r,s):i.startOf(r,"isoWeek",o)),+r)}function qD(e,t,i,n){const s=zD.length;for(let o=zD.indexOf(e);o<s-1;++o){const e=FD[zD[o]],s=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((i-t)/(s*e.size))<=n)return zD[o]}return zD[s-1]}function $D(e,t,i){if(i){if(i.length){const{lo:n,hi:s}=yE(i,t);e[i[n]>=t?i[n]:i[s]]=!0}}else e[t]=!0}function WD(e,t,i){const n=[],s={},o=t.length;let r,a;for(r=0;r<o;++r)a=t[r],s[a]=r,n.push({value:a,major:!1});return 0!==o&&i?function(e,t,i,n){const s=e._adapter,o=+s.startOf(t[0].value,n),r=t[t.length-1].value;let a,l;for(a=o;a<=r;a=+s.add(a,1,n))l=i[a],l>=0&&(t[l].major=!0);return t}(e,n,s,i):n}class GD extends PM{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),n=this._adapter=new HI(e.adapters.date);n.init(t),FC(i.displayFormats,n.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:VD(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:n,max:s,minDefined:o,maxDefined:r}=this.getUserBounds();function a(e){o||isNaN(e.min)||(n=Math.min(n,e.min)),r||isNaN(e.max)||(s=Math.max(s,e.max))}o&&r||(a(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||a(this.getMinMax(!1))),n=IC(n)&&!isNaN(n)?n:+t.startOf(Date.now(),i),s=IC(s)&&!isNaN(s)?s:+t.endOf(Date.now(),i)+1,this.min=Math.min(n,s-1),this.max=Math.max(n+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,n="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const s=this.min,o=function(e,t,i){let n=0,s=e.length;for(;n<s&&e[n]<t;)n++;for(;s>n&&e[s-1]>i;)s--;return n>0||s<e.length?e.slice(n,s):e}(n,s,this.max);return this._unit=t.unit||(i.autoSkip?qD(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):function(e,t,i,n,s){for(let o=zD.length-1;o>=zD.indexOf(i);o--){const i=zD[o];if(FD[i].common&&e._adapter.diff(s,n,i)>=t-1)return i}return zD[i?zD.indexOf(i):0]}(this,o.length,t.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function(e){for(let t=zD.indexOf(e)+1,i=zD.length;t<i;++t)if(FD[zD[t]].common)return zD[t]}(this._unit):void 0,this.initOffsets(n),e.reverse&&o.reverse(),WD(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(e=[]){let t,i,n=0,s=0;this.options.offset&&e.length&&(t=this.getDecimalForValue(e[0]),n=1===e.length?1-t:(this.getDecimalForValue(e[1])-t)/2,i=this.getDecimalForValue(e[e.length-1]),s=1===e.length?i:(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=gE(n,0,o),s=gE(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,t=this.min,i=this.max,n=this.options,s=n.time,o=s.unit||qD(s.minUnit,t,i,this._getLabelCapacity(t)),r=OC(n.ticks.stepSize,1),a="week"===o&&s.isoWeekday,l=rE(a)||!0===a,c={};let d,u,h=t;if(l&&(h=+e.startOf(h,"isoWeek",a)),h=+e.startOf(h,l?"day":o),e.diff(i,t,o)>1e5*r)throw new Error(t+" and "+i+" are too far apart with stepSize of "+r+" "+o);const p="data"===n.ticks.source&&this.getDataTimestamps();for(d=h,u=0;d<i;d=+e.add(d,r,o),u++)$D(c,d,p);return d!==i&&"ticks"!==n.bounds&&1!==u||$D(c,d,p),Object.keys(c).sort(HD).map((e=>+e))}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,n=this._unit,s=t||i[n];return this._adapter.format(e,s)}_tickFormatFunction(e,t,i,n){const s=this.options,o=s.ticks.callback;if(o)return PC(o,[e,t,i],this);const r=s.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&r[a],d=l&&r[l],u=i[t],h=l&&d&&u&&u.major;return this._adapter.format(e,n||(h?d:c))}generateTickLabels(e){let t,i,n;for(t=0,i=e.length;t<i;++t)n=e[t],n.label=this._tickFormatFunction(n.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,n=lE(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(n),o=Math.sin(n),r=this._resolveTickFontOptions(0).size;return{w:i*s+r*o,h:i*o+r*s}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,n=i[t.unit]||i.millisecond,s=this._tickFormatFunction(e,0,WD(this,[e],this._majorUnit),n),o=this._getLabelSize(s),r=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return r>0?r:1}getDataTimestamps(){let e,t,i=this._cache.data||[];if(i.length)return i;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(e=0,t=n.length;e<t;++e)i=i.concat(n[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const n=this.getLabels();for(t=0,i=n.length;t<i;++t)e.push(VD(this,n[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return kE(e.sort(HD))}}function YD(e,t,i){let n,s,o,r,a=0,l=e.length-1;i?(t>=e[a].pos&&t<=e[l].pos&&({lo:a,hi:l}=bE(e,"pos",t)),({pos:n,time:o}=e[a]),({pos:s,time:r}=e[l])):(t>=e[a].time&&t<=e[l].time&&({lo:a,hi:l}=bE(e,"time",t)),({time:n,pos:o}=e[a]),({time:s,pos:r}=e[l]));const c=s-n;return c?o+(r-o)*(t-n)/c:o}var XD=Object.freeze({__proto__:null,CategoryScale:class extends PM{static id="category";static defaults={ticks:{callback:kD}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:i,label:n}of t)e[i]===n&&e.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(CC(e))return null;const i=this.getLabels();return((e,t)=>null===e?null:gE(Math.round(e),0,t))(t=isFinite(t)&&i[t]===e?t:function(e,t,i,n){const s=e.indexOf(t);return-1===s?((e,t,i,n)=>("string"==typeof t?(i=e.push(t)-1,n.unshift({index:i,label:t})):isNaN(t)&&(i=null),i))(e,t,i,n):s!==e.lastIndexOf(t)?i:s}(i,e,OC(t,e),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:n}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(i=0),t||(n=this.getLabels().length-1)),this.min=i,this.max=n}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,n=[];let s=this.getLabels();s=0===e&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let i=e;i<=t;i++)n.push({value:i});return n}getLabelForValue(e){return kD.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}},LinearScale:CD,LogarithmicScale:OD,RadialLinearScale:UD,TimeScale:GD,TimeSeriesScale:class extends GD{static id="timeseries";static defaults=GD.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=YD(t,this.min),this._tableRange=YD(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,n=[],s=[];let o,r,a,l,c;for(o=0,r=e.length;o<r;++o)l=e[o],l>=t&&l<=i&&n.push(l);if(n.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(o=0,r=n.length;o<r;++o)c=n[o+1],a=n[o-1],l=n[o],Math.round((c+a)/2)!==l&&s.push({time:l,pos:o/(r-1)});return s}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return i.includes(e)&&i.length||i.splice(0,0,e),i.includes(t)&&1!==i.length||i.push(t),i.sort(((e,t)=>e-t))}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return e=t.length&&i.length?this.normalize(t.concat(i)):t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(YD(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return YD(this._table,i*this._tableRange+this._minPos,!0)}}});const KD=[UI,EO,wD,XD];cO.register(...KD);const QD=(0,t.aZ)({props:{bgColor:{type:String,default:"bg-primaryOrange"},textColor:{type:String,default:"text-darkGray"},customClass:{type:String,default:""},padding:{type:String,default:"py-2 px-4 "},data:{type:Array},data2:{type:Array}},name:"SofaBarChart",setup(e){const i=Math.random();return(0,t.bv)((()=>{if(e.data){const t=document.getElementById("barChart"+i),n=e.data.map((e=>e.date)),s=[];if(e.data){const t=e.data.map((e=>e.amount));s.push({data:t,borderColor:"rgb(131, 175, 155)",backgroundColor:"rgb(131, 175, 155)",borderWidth:2,borderRadius:Number.MAX_VALUE,borderSkipped:!1,barPercentage:.4})}if(e.data2){const t=e.data2.map((e=>e.amount));s.push({data:t,borderColor:"rgb(255, 200, 141)",backgroundColor:"rgb(255, 200, 141)",borderWidth:2,borderRadius:Number.MAX_VALUE,borderSkipped:!1,barPercentage:.4})}t&&new cO(t,{type:"bar",data:{labels:n,datasets:s},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,border:{display:!1}},x:{border:{display:!1},grid:{display:!1}}},plugins:{legend:{display:!1},tooltip:{backgroundColor:"whitesmoke",bodyColor:"#294940",titleColor:"#294940"}}}})}})),{randomIndex:i}}}),ZD=(0,d.Z)(QD,[["render",function(e,i,s,o,r,a){return(0,t.wg)(),(0,t.iD)("div",{class:(0,n.normalizeClass)(`${e.customClass} w-full `)},[(0,t._)("canvas",{id:`barChart${e.randomIndex}`,class:"w-full !h-[310px]"},null,8,GT)],2)}]]),JD={class:"w-full h-full absolute top-0 left-0 flex flex-row items-center justify-center"},eP=["id"];cO.register(...KD);const tP=(0,t.aZ)({components:{SofaHeaderText:M},props:{bgColor:{type:String,default:"bg-primaryOrange"},textStyle:{type:String,default:""},customClass:{type:String,default:""},padding:{type:String,default:"py-2 px-4 "},cutoutPercentage:{type:String,default:"85%"},data:{type:Array}},name:"SofaPieChart",setup(e){const i=Math.random(),n=(0,a.iH)(),s=(0,a.Vh)(e,"data");(0,t.bv)((()=>{const t=document.getElementById("pieChart"+i);if(t&&e.data){const i=(0,a.Xl)(new cO(t,{type:"doughnut",data:e.data,options:{responsive:!0,maintainAspectRatio:!1,cutout:e.cutoutPercentage,borderColor:"transparent",plugins:{legend:{display:!1},tooltip:{backgroundColor:"whitesmoke",bodyColor:"#294940",titleColor:"#294940"}}}}));n.value=i}}));const o=()=>{n.value?.update()};return(0,t.YP)(s,(()=>{o()})),{randomIndex:i,updateChart:o}}}),iP=(0,d.Z)(tP,[["render",function(e,i,s,o,r,a){const l=(0,t.up)("sofa-header-text");return(0,t.wg)(),(0,t.iD)("div",{class:(0,n.normalizeClass)(`${e.customClass} w-full h-[180px] relative `)},[(0,t._)("div",JD,[(0,t.Wm)(l,{size:"xl",customClass:e.textStyle},{default:(0,t.w5)((()=>[(0,t.WI)(e.$slots,"default")])),_:3},8,["customClass"])]),(0,t._)("canvas",{id:`pieChart${e.randomIndex}`,class:"w-full z-40 absolute h-full"},null,8,eP)],2)}]])})()})();